/**
@license
Copyright (c) 2016 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
function MakePromise(e) {
    function t(e) {
        if ("object" != typeof this || "function" != typeof e)
            throw new TypeError;
        this._state = null,
        this._value = null,
        this._deferreds = [],
        o(e, n.bind(this), r.bind(this))
    }
    function i(t) {
        var i = this;
        return null === this._state ? void this._deferreds.push(t) : void e(function() {
            var e = i._state ? t.onFulfilled : t.onRejected;
            if ("function" != typeof e)
                return void (i._state ? t.resolve : t.reject)(i._value);
            var n;
            try {
                n = e(i._value)
            } catch (r) {
                return void t.reject(r)
            }
            t.resolve(n)
        })
    }
    function n(e) {
        try {
            if (e === this)
                throw new TypeError;
            if (e && ("object" == typeof e || "function" == typeof e)) {
                var t = e.then;
                if ("function" == typeof t)
                    return void o(t.bind(e), n.bind(this), r.bind(this))
            }
            this._state = !0,
            this._value = e,
            s.call(this)
        } catch (i) {
            r.call(this, i)
        }
    }
    function r(e) {
        this._state = !1,
        this._value = e,
        s.call(this)
    }
    function s() {
        for (var e = 0, t = this._deferreds.length; e < t; e++)
            i.call(this, this._deferreds[e]);
        this._deferreds = null
    }
    function o(e, t, i) {
        var n = !1;
        try {
            e(function(e) {
                n || (n = !0,
                t(e))
            }, function(e) {
                n || (n = !0,
                i(e))
            })
        } catch (r) {
            if (n)
                return;
            n = !0,
            i(r)
        }
    }
    return t.prototype["catch"] = function(e) {
        return this.then(null, e)
    }
    ,
    t.prototype.then = function(e, n) {
        var r = this;
        return new t(function(t, s) {
            i.call(r, {
                onFulfilled: e,
                onRejected: n,
                resolve: t,
                reject: s
            })
        }
        )
    }
    ,
    t.resolve = function(e) {
        return e && "object" == typeof e && e.constructor === t ? e : new t(function(t) {
            t(e)
        }
        )
    }
    ,
    t.reject = function(e) {
        return new t(function(t, i) {
            i(e)
        }
        )
    }
    ,
    t
}
!function() {
    function e() {
        document.body.removeAttribute("unresolved")
    }
    window.WebComponents ? addEventListener("WebComponentsReady", e) : "interactive" === document.readyState || "complete" === document.readyState ? e() : addEventListener("DOMContentLoaded", e)
}(),
window.Polymer = {
    Settings: function() {
        var e = window.Polymer || {};
        if (!e.noUrlSettings)
            for (var t, i = location.search.slice(1).split("&"), n = 0; n < i.length && (t = i[n]); n++)
                t = t.split("="),
                t[0] && (e[t[0]] = t[1] || !0);
        return e.wantShadow = "shadow" === e.dom,
        e.hasShadow = Boolean(Element.prototype.createShadowRoot),
        e.nativeShadow = e.hasShadow && !window.ShadowDOMPolyfill,
        e.useShadow = e.wantShadow && e.hasShadow,
        e.hasNativeImports = Boolean("import"in document.createElement("link")),
        e.useNativeImports = e.hasNativeImports,
        e.useNativeCustomElements = !window.CustomElements || window.CustomElements.useNative,
        e.useNativeShadow = e.useShadow && e.nativeShadow,
        e.usePolyfillProto = !e.useNativeCustomElements && !Object.__proto__,
        e.hasNativeCSSProperties = !navigator.userAgent.match("AppleWebKit/601") && window.CSS && CSS.supports && CSS.supports("box-shadow", "0 0 0 var(--foo)"),
        e.useNativeCSSProperties = e.hasNativeCSSProperties && e.lazyRegister && e.useNativeCSSProperties,
        e
    }()
},
function() {
    var e = window.Polymer;
    window.Polymer = function(e) {
        "function" == typeof e && (e = e.prototype),
        e || (e = {});
        var i = t(e);
        e = i.prototype;
        var n = {
            prototype: e
        };
        return e["extends"] && (n["extends"] = e["extends"]),
        Polymer.telemetry._registrate(e),
        document.registerElement(e.is, n),
        i
    }
    ;
    var t = function(e) {
        var t = Polymer.Base;
        return e["extends"] && (t = Polymer.Base._getExtendedPrototype(e["extends"])),
        e = Polymer.Base.chainObject(e, t),
        e.registerCallback(),
        e.constructor
    };
    if (e)
        for (var i in e)
            Polymer[i] = e[i];
    Polymer.Class = t
}(),
Polymer.telemetry = {
    registrations: [],
    _regLog: function(e) {
        console.log("[" + e.is + "]: registered")
    },
    _registrate: function(e) {
        this.registrations.push(e),
        Polymer.log && this._regLog(e)
    },
    dumpRegistrations: function() {
        this.registrations.forEach(this._regLog)
    }
},
Object.defineProperty(window, "currentImport", {
    enumerable: !0,
    configurable: !0,
    get: function() {
        return (document._currentScript || document.currentScript).ownerDocument
    }
}),
Polymer.RenderStatus = {
    _ready: !1,
    _callbacks: [],
    whenReady: function(e) {
        this._ready ? e() : this._callbacks.push(e)
    },
    _makeReady: function() {
        this._ready = !0;
        for (var e = 0; e < this._callbacks.length; e++)
            this._callbacks[e]();
        this._callbacks = []
    },
    _catchFirstRender: function() {
        requestAnimationFrame(function() {
            Polymer.RenderStatus._makeReady()
        })
    },
    _afterNextRenderQueue: [],
    _waitingNextRender: !1,
    afterNextRender: function(e, t, i) {
        this._watchNextRender(),
        this._afterNextRenderQueue.push([e, t, i])
    },
    hasRendered: function() {
        return this._ready
    },
    _watchNextRender: function() {
        if (!this._waitingNextRender) {
            this._waitingNextRender = !0;
            var e = function() {
                Polymer.RenderStatus._flushNextRender()
            };
            this._ready ? requestAnimationFrame(e) : this.whenReady(e)
        }
    },
    _flushNextRender: function() {
        var e = this;
        setTimeout(function() {
            e._flushRenderCallbacks(e._afterNextRenderQueue),
            e._afterNextRenderQueue = [],
            e._waitingNextRender = !1
        })
    },
    _flushRenderCallbacks: function(e) {
        for (var t, i = 0; i < e.length; i++)
            t = e[i],
            t[1].apply(t[0], t[2] || Polymer.nar)
    }
},
window.HTMLImports ? HTMLImports.whenReady(function() {
    Polymer.RenderStatus._catchFirstRender()
}) : Polymer.RenderStatus._catchFirstRender(),
Polymer.ImportStatus = Polymer.RenderStatus,
Polymer.ImportStatus.whenLoaded = Polymer.ImportStatus.whenReady,
function() {
    "use strict";
    var e = Polymer.Settings;
    Polymer.Base = {
        __isPolymerInstance__: !0,
        _addFeature: function(e) {
            this.extend(this, e)
        },
        registerCallback: function() {
            "max" === e.lazyRegister ? this.beforeRegister && this.beforeRegister() : (this._desugarBehaviors(),
            this._doBehavior("beforeRegister")),
            this._registerFeatures(),
            e.lazyRegister || this.ensureRegisterFinished()
        },
        createdCallback: function() {
            this.__hasRegisterFinished || this._ensureRegisterFinished(this.__proto__),
            Polymer.telemetry.instanceCount++,
            this.root = this,
            this._doBehavior("created"),
            this._initFeatures()
        },
        ensureRegisterFinished: function() {
            this._ensureRegisterFinished(this)
        },
        _ensureRegisterFinished: function(t) {
            t.__hasRegisterFinished === t.is && t.is || ("max" === e.lazyRegister && (t._desugarBehaviors(),
            t._doBehaviorOnly("beforeRegister")),
            t.__hasRegisterFinished = t.is,
            t._finishRegisterFeatures && t._finishRegisterFeatures(),
            t._doBehavior("registered"),
            e.usePolyfillProto && t !== this && t.extend(this, t))
        },
        attachedCallback: function() {
            var e = this;
            Polymer.RenderStatus.whenReady(function() {
                e.isAttached = !0,
                e._doBehavior("attached")
            })
        },
        detachedCallback: function() {
            var e = this;
            Polymer.RenderStatus.whenReady(function() {
                e.isAttached = !1,
                e._doBehavior("detached")
            })
        },
        attributeChangedCallback: function(e, t, i) {
            this._attributeChangedImpl(e),
            this._doBehavior("attributeChanged", [e, t, i])
        },
        _attributeChangedImpl: function(e) {
            this._setAttributeToProperty(this, e)
        },
        extend: function(e, t) {
            if (e && t)
                for (var i, n = Object.getOwnPropertyNames(t), r = 0; r < n.length && (i = n[r]); r++)
                    this.copyOwnProperty(i, t, e);
            return e || t
        },
        mixin: function(e, t) {
            for (var i in t)
                e[i] = t[i];
            return e
        },
        copyOwnProperty: function(e, t, i) {
            var n = Object.getOwnPropertyDescriptor(t, e);
            n && Object.defineProperty(i, e, n)
        },
        _logger: function(e, t) {
            switch (1 === t.length && Array.isArray(t[0]) && (t = t[0]),
            e) {
            case "log":
            case "warn":
            case "error":
                console[e].apply(console, t)
            }
        },
        _log: function() {
            var e = Array.prototype.slice.call(arguments, 0);
            this._logger("log", e)
        },
        _warn: function() {
            var e = Array.prototype.slice.call(arguments, 0);
            this._logger("warn", e)
        },
        _error: function() {
            var e = Array.prototype.slice.call(arguments, 0);
            this._logger("error", e)
        },
        _logf: function() {
            return this._logPrefix.concat(this.is).concat(Array.prototype.slice.call(arguments, 0))
        }
    },
    Polymer.Base._logPrefix = function() {
        var e = window.chrome && !/edge/i.test(navigator.userAgent) || /firefox/i.test(navigator.userAgent);
        return e ? ["%c[%s::%s]:", "font-weight: bold; background-color:#EEEE00;"] : ["[%s::%s]:"]
    }(),
    Polymer.Base.chainObject = function(e, t) {
        return e && t && e !== t && (Object.__proto__ || (e = Polymer.Base.extend(Object.create(t), e)),
        e.__proto__ = t),
        e
    }
    ,
    Polymer.Base = Polymer.Base.chainObject(Polymer.Base, HTMLElement.prototype),
    window.CustomElements ? Polymer["instanceof"] = CustomElements["instanceof"] : Polymer["instanceof"] = function(e, t) {
        return e instanceof t
    }
    ,
    Polymer.isInstance = function(e) {
        return Boolean(e && e.__isPolymerInstance__)
    }
    ,
    Polymer.telemetry.instanceCount = 0
}(),
function() {
    function e() {
        if (s)
            for (var e, t = document._currentScript || document.currentScript, i = t && t.ownerDocument || document, n = i.querySelectorAll("dom-module"), r = n.length - 1; r >= 0 && (e = n[r]); r--) {
                if (e.__upgraded__)
                    return;
                CustomElements.upgrade(e)
            }
    }
    var t = {}
      , i = {}
      , n = function(e) {
        return t[e] || i[e.toLowerCase()]
    }
      , r = function() {
        return document.createElement("dom-module")
    };
    r.prototype = Object.create(HTMLElement.prototype),
    Polymer.Base.extend(r.prototype, {
        constructor: r,
        createdCallback: function() {
            this.register()
        },
        register: function(e) {
            e = e || this.id || this.getAttribute("name") || this.getAttribute("is"),
            e && (this.id = e,
            t[e] = this,
            i[e.toLowerCase()] = this)
        },
        "import": function(t, i) {
            if (t) {
                var r = n(t);
                return r || (e(),
                r = n(t)),
                r && i && (r = r.querySelector(i)),
                r
            }
        }
    });
    var s = window.CustomElements && !CustomElements.useNative;
    document.registerElement("dom-module", r)
}(),
Polymer.Base._addFeature({
    _prepIs: function() {
        if (!this.is) {
            var e = (document._currentScript || document.currentScript).parentNode;
            if ("dom-module" === e.localName) {
                var t = e.id || e.getAttribute("name") || e.getAttribute("is");
                this.is = t
            }
        }
        this.is && (this.is = this.is.toLowerCase())
    }
}),
Polymer.Base._addFeature({
    behaviors: [],
    _desugarBehaviors: function() {
        this.behaviors.length && (this.behaviors = this._desugarSomeBehaviors(this.behaviors))
    },
    _desugarSomeBehaviors: function(e) {
        var t = [];
        e = this._flattenBehaviorsList(e);
        for (var i = e.length - 1; i >= 0; i--) {
            var n = e[i];
            t.indexOf(n) === -1 && (this._mixinBehavior(n),
            t.unshift(n))
        }
        return t
    },
    _flattenBehaviorsList: function(e) {
        for (var t = [], i = 0; i < e.length; i++) {
            var n = e[i];
            n instanceof Array ? t = t.concat(this._flattenBehaviorsList(n)) : n ? t.push(n) : this._warn(this._logf("_flattenBehaviorsList", "behavior is null, check for missing or 404 import"))
        }
        return t
    },
    _mixinBehavior: function(e) {
        for (var t, i = Object.getOwnPropertyNames(e), n = 0; n < i.length && (t = i[n]); n++)
            Polymer.Base._behaviorProperties[t] || this.hasOwnProperty(t) || this.copyOwnProperty(t, e, this)
    },
    _prepBehaviors: function() {
        this._prepFlattenedBehaviors(this.behaviors)
    },
    _prepFlattenedBehaviors: function(e) {
        for (var t = 0, i = e.length; t < i; t++)
            this._prepBehavior(e[t]);
        this._prepBehavior(this)
    },
    _doBehavior: function(e, t) {
        for (var i = 0; i < this.behaviors.length; i++)
            this._invokeBehavior(this.behaviors[i], e, t);
        this._invokeBehavior(this, e, t)
    },
    _doBehaviorOnly: function(e, t) {
        for (var i = 0; i < this.behaviors.length; i++)
            this._invokeBehavior(this.behaviors[i], e, t)
    },
    _invokeBehavior: function(e, t, i) {
        var n = e[t];
        n && n.apply(this, i || Polymer.nar)
    },
    _marshalBehaviors: function() {
        for (var e = 0; e < this.behaviors.length; e++)
            this._marshalBehavior(this.behaviors[e]);
        this._marshalBehavior(this)
    }
}),
Polymer.Base._behaviorProperties = {
    hostAttributes: !0,
    beforeRegister: !0,
    registered: !0,
    properties: !0,
    observers: !0,
    listeners: !0,
    created: !0,
    attached: !0,
    detached: !0,
    attributeChanged: !0,
    ready: !0
},
Polymer.Base._addFeature({
    _getExtendedPrototype: function(e) {
        return this._getExtendedNativePrototype(e)
    },
    _nativePrototypes: {},
    _getExtendedNativePrototype: function(e) {
        var t = this._nativePrototypes[e];
        if (!t) {
            var i = this.getNativePrototype(e);
            t = this.extend(Object.create(i), Polymer.Base),
            this._nativePrototypes[e] = t
        }
        return t
    },
    getNativePrototype: function(e) {
        return Object.getPrototypeOf(document.createElement(e))
    }
}),
Polymer.Base._addFeature({
    _prepConstructor: function() {
        this._factoryArgs = this["extends"] ? [this["extends"], this.is] : [this.is];
        var e = function() {
            return this._factory(arguments)
        };
        this.hasOwnProperty("extends") && (e["extends"] = this["extends"]),
        Object.defineProperty(this, "constructor", {
            value: e,
            writable: !0,
            configurable: !0
        }),
        e.prototype = this
    },
    _factory: function(e) {
        var t = document.createElement.apply(document, this._factoryArgs);
        return this.factoryImpl && this.factoryImpl.apply(t, e),
        t
    }
}),
Polymer.nob = Object.create(null),
Polymer.Base._addFeature({
    properties: {},
    getPropertyInfo: function(e) {
        var t = this._getPropertyInfo(e, this.properties);
        if (!t)
            for (var i = 0; i < this.behaviors.length; i++)
                if (t = this._getPropertyInfo(e, this.behaviors[i].properties))
                    return t;
        return t || Polymer.nob
    },
    _getPropertyInfo: function(e, t) {
        var i = t && t[e];
        return "function" == typeof i && (i = t[e] = {
            type: i
        }),
        i && (i.defined = !0),
        i
    },
    _prepPropertyInfo: function() {
        this._propertyInfo = {};
        for (var e = 0; e < this.behaviors.length; e++)
            this._addPropertyInfo(this._propertyInfo, this.behaviors[e].properties);
        this._addPropertyInfo(this._propertyInfo, this.properties),
        this._addPropertyInfo(this._propertyInfo, this._propertyEffects)
    },
    _addPropertyInfo: function(e, t) {
        if (t) {
            var i, n;
            for (var r in t)
                i = e[r],
                n = t[r],
                ("_" !== r[0] || n.readOnly) && (e[r] ? (i.type || (i.type = n.type),
                i.readOnly || (i.readOnly = n.readOnly)) : e[r] = {
                    type: "function" == typeof n ? n : n.type,
                    readOnly: n.readOnly,
                    attribute: Polymer.CaseMap.camelToDashCase(r)
                })
        }
    }
}),
Polymer.CaseMap = {
    _caseMap: {},
    _rx: {
        dashToCamel: /-[a-z]/g,
        camelToDash: /([A-Z])/g
    },
    dashToCamelCase: function(e) {
        return this._caseMap[e] || (this._caseMap[e] = e.indexOf("-") < 0 ? e : e.replace(this._rx.dashToCamel, function(e) {
            return e[1].toUpperCase()
        }))
    },
    camelToDashCase: function(e) {
        return this._caseMap[e] || (this._caseMap[e] = e.replace(this._rx.camelToDash, "-$1").toLowerCase())
    }
},
Polymer.Base._addFeature({
    _addHostAttributes: function(e) {
        this._aggregatedAttributes || (this._aggregatedAttributes = {}),
        e && this.mixin(this._aggregatedAttributes, e)
    },
    _marshalHostAttributes: function() {
        this._aggregatedAttributes && this._applyAttributes(this, this._aggregatedAttributes)
    },
    _applyAttributes: function(e, t) {
        for (var i in t)
            if (!this.hasAttribute(i) && "class" !== i) {
                var n = t[i];
                this.serializeValueToAttribute(n, i, this)
            }
    },
    _marshalAttributes: function() {
        this._takeAttributesToModel(this)
    },
    _takeAttributesToModel: function(e) {
        if (this.hasAttributes())
            for (var t in this._propertyInfo) {
                var i = this._propertyInfo[t];
                this.hasAttribute(i.attribute) && this._setAttributeToProperty(e, i.attribute, t, i)
            }
    },
    _setAttributeToProperty: function(e, t, i, n) {
        if (!this._serializing && (i = i || Polymer.CaseMap.dashToCamelCase(t),
        n = n || this._propertyInfo && this._propertyInfo[i],
        n && !n.readOnly)) {
            var r = this.getAttribute(t);
            e[i] = this.deserialize(r, n.type)
        }
    },
    _serializing: !1,
    reflectPropertyToAttribute: function(e, t, i) {
        this._serializing = !0,
        i = void 0 === i ? this[e] : i,
        this.serializeValueToAttribute(i, t || Polymer.CaseMap.camelToDashCase(e)),
        this._serializing = !1
    },
    serializeValueToAttribute: function(e, t, i) {
        var n = this.serialize(e);
        i = i || this,
        void 0 === n ? i.removeAttribute(t) : i.setAttribute(t, n)
    },
    deserialize: function(e, t) {
        switch (t) {
        case Number:
            e = Number(e);
            break;
        case Boolean:
            e = null != e;
            break;
        case Object:
            try {
                e = JSON.parse(e)
            } catch (i) {}
            break;
        case Array:
            try {
                e = JSON.parse(e)
            } catch (i) {
                e = null,
                console.warn("Polymer::Attributes: couldn`t decode Array as JSON")
            }
            break;
        case Date:
            e = new Date(e);
            break;
        case String:
        }
        return e
    },
    serialize: function(e) {
        switch (typeof e) {
        case "boolean":
            return e ? "" : void 0;
        case "object":
            if (e instanceof Date)
                return e.toString();
            if (e)
                try {
                    return JSON.stringify(e)
                } catch (t) {
                    return ""
                }
        default:
            return null != e ? e : void 0
        }
    }
}),
Polymer.version = "1.7.0",
Polymer.Base._addFeature({
    _registerFeatures: function() {
        this._prepIs(),
        this._prepBehaviors(),
        this._prepConstructor(),
        this._prepPropertyInfo()
    },
    _prepBehavior: function(e) {
        this._addHostAttributes(e.hostAttributes)
    },
    _marshalBehavior: function(e) {},
    _initFeatures: function() {
        this._marshalHostAttributes(),
        this._marshalBehaviors()
    }
}),
Polymer.Base._addFeature({
    _prepTemplate: function() {
        void 0 === this._template && (this._template = Polymer.DomModule["import"](this.is, "template")),
        this._template && this._template.hasAttribute("is") && this._warn(this._logf("_prepTemplate", "top-level Polymer template must not be a type-extension, found", this._template, "Move inside simple <template>.")),
        this._template && !this._template.content && window.HTMLTemplateElement && HTMLTemplateElement.decorate && HTMLTemplateElement.decorate(this._template)
    },
    _stampTemplate: function() {
        this._template && (this.root = this.instanceTemplate(this._template))
    },
    instanceTemplate: function(e) {
        var t = document.importNode(e._content || e.content, !0);
        return t
    }
}),
function() {
    var e = Polymer.Base.attachedCallback;
    Polymer.Base._addFeature({
        _hostStack: [],
        ready: function() {},
        _registerHost: function(e) {
            this.dataHost = e = e || Polymer.Base._hostStack[Polymer.Base._hostStack.length - 1],
            e && e._clients && e._clients.push(this),
            this._clients = null,
            this._clientsReadied = !1
        },
        _beginHosting: function() {
            Polymer.Base._hostStack.push(this),
            this._clients || (this._clients = [])
        },
        _endHosting: function() {
            Polymer.Base._hostStack.pop()
        },
        _tryReady: function() {
            this._readied = !1,
            this._canReady() && this._ready()
        },
        _canReady: function() {
            return !this.dataHost || this.dataHost._clientsReadied
        },
        _ready: function() {
            this._beforeClientsReady(),
            this._template && (this._setupRoot(),
            this._readyClients()),
            this._clientsReadied = !0,
            this._clients = null,
            this._afterClientsReady(),
            this._readySelf()
        },
        _readyClients: function() {
            this._beginDistribute();
            var e = this._clients;
            if (e)
                for (var t, i = 0, n = e.length; i < n && (t = e[i]); i++)
                    t._ready();
            this._finishDistribute()
        },
        _readySelf: function() {
            this._doBehavior("ready"),
            this._readied = !0,
            this._attachedPending && (this._attachedPending = !1,
            this.attachedCallback())
        },
        _beforeClientsReady: function() {},
        _afterClientsReady: function() {},
        _beforeAttached: function() {},
        attachedCallback: function() {
            this._readied ? (this._beforeAttached(),
            e.call(this)) : this._attachedPending = !0
        }
    })
}(),
Polymer.ArraySplice = function() {
    function e(e, t, i) {
        return {
            index: e,
            removed: t,
            addedCount: i
        }
    }
    function t() {}
    var i = 0
      , n = 1
      , r = 2
      , s = 3;
    return t.prototype = {
        calcEditDistances: function(e, t, i, n, r, s) {
            for (var o = s - r + 1, a = i - t + 1, c = new Array(o), l = 0; l < o; l++)
                c[l] = new Array(a),
                c[l][0] = l;
            for (var h = 0; h < a; h++)
                c[0][h] = h;
            for (l = 1; l < o; l++)
                for (h = 1; h < a; h++)
                    if (this.equals(e[t + h - 1], n[r + l - 1]))
                        c[l][h] = c[l - 1][h - 1];
                    else {
                        var u = c[l - 1][h] + 1
                          , d = c[l][h - 1] + 1;
                        c[l][h] = u < d ? u : d
                    }
            return c
        },
        spliceOperationsFromEditDistances: function(e) {
            for (var t = e.length - 1, o = e[0].length - 1, a = e[t][o], c = []; t > 0 || o > 0; )
                if (0 != t)
                    if (0 != o) {
                        var l, h = e[t - 1][o - 1], u = e[t - 1][o], d = e[t][o - 1];
                        l = u < d ? u < h ? u : h : d < h ? d : h,
                        l == h ? (h == a ? c.push(i) : (c.push(n),
                        a = h),
                        t--,
                        o--) : l == u ? (c.push(s),
                        t--,
                        a = u) : (c.push(r),
                        o--,
                        a = d)
                    } else
                        c.push(s),
                        t--;
                else
                    c.push(r),
                    o--;
            return c.reverse(),
            c
        },
        calcSplices: function(t, o, a, c, l, h) {
            var u = 0
              , d = 0
              , f = Math.min(a - o, h - l);
            if (0 == o && 0 == l && (u = this.sharedPrefix(t, c, f)),
            a == t.length && h == c.length && (d = this.sharedSuffix(t, c, f - u)),
            o += u,
            l += u,
            a -= d,
            h -= d,
            a - o == 0 && h - l == 0)
                return [];
            if (o == a) {
                for (var p = e(o, [], 0); l < h; )
                    p.removed.push(c[l++]);
                return [p]
            }
            if (l == h)
                return [e(o, [], a - o)];
            var m = this.spliceOperationsFromEditDistances(this.calcEditDistances(t, o, a, c, l, h));
            p = void 0;
            for (var g = [], y = o, v = l, _ = 0; _ < m.length; _++)
                switch (m[_]) {
                case i:
                    p && (g.push(p),
                    p = void 0),
                    y++,
                    v++;
                    break;
                case n:
                    p || (p = e(y, [], 0)),
                    p.addedCount++,
                    y++,
                    p.removed.push(c[v]),
                    v++;
                    break;
                case r:
                    p || (p = e(y, [], 0)),
                    p.addedCount++,
                    y++;
                    break;
                case s:
                    p || (p = e(y, [], 0)),
                    p.removed.push(c[v]),
                    v++
                }
            return p && g.push(p),
            g
        },
        sharedPrefix: function(e, t, i) {
            for (var n = 0; n < i; n++)
                if (!this.equals(e[n], t[n]))
                    return n;
            return i
        },
        sharedSuffix: function(e, t, i) {
            for (var n = e.length, r = t.length, s = 0; s < i && this.equals(e[--n], t[--r]); )
                s++;
            return s
        },
        calculateSplices: function(e, t) {
            return this.calcSplices(e, 0, e.length, t, 0, t.length)
        },
        equals: function(e, t) {
            return e === t
        }
    },
    new t
}(),
Polymer.domInnerHTML = function() {
    function e(e) {
        switch (e) {
        case "&":
            return "&amp;";
        case "<":
            return "&lt;";
        case ">":
            return "&gt;";
        case '"':
            return "&quot;";
        case " ":
            return "&nbsp;"
        }
    }
    function t(t) {
        return t.replace(o, e)
    }
    function i(t) {
        return t.replace(a, e)
    }
    function n(e) {
        for (var t = {}, i = 0; i < e.length; i++)
            t[e[i]] = !0;
        return t
    }
    function r(e, n, r) {
        switch (e.nodeType) {
        case Node.ELEMENT_NODE:
            for (var o, a = e.localName, h = "<" + a, u = e.attributes, d = 0; o = u[d]; d++)
                h += " " + o.name + '="' + t(o.value) + '"';
            return h += ">",
            c[a] ? h : h + s(e, r) + "</" + a + ">";
        case Node.TEXT_NODE:
            var f = e.data;
            return n && l[n.localName] ? f : i(f);
        case Node.COMMENT_NODE:
            return "<!--" + e.data + "-->";
        default:
            throw console.error(e),
            new Error("not implemented")
        }
    }
    function s(e, t) {
        e instanceof HTMLTemplateElement && (e = e.content);
        for (var i, n = "", s = Polymer.dom(e).childNodes, o = 0, a = s.length; o < a && (i = s[o]); o++)
            n += r(i, e, t);
        return n
    }
    var o = /[&\u00A0"]/g
      , a = /[&\u00A0<>]/g
      , c = n(["area", "base", "br", "col", "command", "embed", "hr", "img", "input", "keygen", "link", "meta", "param", "source", "track", "wbr"])
      , l = n(["style", "script", "xmp", "iframe", "noembed", "noframes", "plaintext", "noscript"]);
    return {
        getInnerHTML: s
    }
}(),
function() {
    "use strict";
    var e = Element.prototype.insertBefore
      , t = Element.prototype.appendChild
      , i = Element.prototype.removeChild;
    Polymer.TreeApi = {
        arrayCopyChildNodes: function(e) {
            for (var t = [], i = 0, n = e.firstChild; n; n = n.nextSibling)
                t[i++] = n;
            return t
        },
        arrayCopyChildren: function(e) {
            for (var t = [], i = 0, n = e.firstElementChild; n; n = n.nextElementSibling)
                t[i++] = n;
            return t
        },
        arrayCopy: function(e) {
            for (var t = e.length, i = new Array(t), n = 0; n < t; n++)
                i[n] = e[n];
            return i
        }
    },
    Polymer.TreeApi.Logical = {
        hasParentNode: function(e) {
            return Boolean(e.__dom && e.__dom.parentNode)
        },
        hasChildNodes: function(e) {
            return Boolean(e.__dom && void 0 !== e.__dom.childNodes)
        },
        getChildNodes: function(e) {
            return this.hasChildNodes(e) ? this._getChildNodes(e) : e.childNodes
        },
        _getChildNodes: function(e) {
            if (!e.__dom.childNodes) {
                e.__dom.childNodes = [];
                for (var t = e.__dom.firstChild; t; t = t.__dom.nextSibling)
                    e.__dom.childNodes.push(t)
            }
            return e.__dom.childNodes
        },
        getParentNode: function(e) {
            return e.__dom && void 0 !== e.__dom.parentNode ? e.__dom.parentNode : e.parentNode
        },
        getFirstChild: function(e) {
            return e.__dom && void 0 !== e.__dom.firstChild ? e.__dom.firstChild : e.firstChild
        },
        getLastChild: function(e) {
            return e.__dom && void 0 !== e.__dom.lastChild ? e.__dom.lastChild : e.lastChild
        },
        getNextSibling: function(e) {
            return e.__dom && void 0 !== e.__dom.nextSibling ? e.__dom.nextSibling : e.nextSibling
        },
        getPreviousSibling: function(e) {
            return e.__dom && void 0 !== e.__dom.previousSibling ? e.__dom.previousSibling : e.previousSibling
        },
        getFirstElementChild: function(e) {
            return e.__dom && void 0 !== e.__dom.firstChild ? this._getFirstElementChild(e) : e.firstElementChild
        },
        _getFirstElementChild: function(e) {
            for (var t = e.__dom.firstChild; t && t.nodeType !== Node.ELEMENT_NODE; )
                t = t.__dom.nextSibling;
            return t
        },
        getLastElementChild: function(e) {
            return e.__dom && void 0 !== e.__dom.lastChild ? this._getLastElementChild(e) : e.lastElementChild
        },
        _getLastElementChild: function(e) {
            for (var t = e.__dom.lastChild; t && t.nodeType !== Node.ELEMENT_NODE; )
                t = t.__dom.previousSibling;
            return t
        },
        getNextElementSibling: function(e) {
            return e.__dom && void 0 !== e.__dom.nextSibling ? this._getNextElementSibling(e) : e.nextElementSibling
        },
        _getNextElementSibling: function(e) {
            for (var t = e.__dom.nextSibling; t && t.nodeType !== Node.ELEMENT_NODE; )
                t = t.__dom.nextSibling;
            return t
        },
        getPreviousElementSibling: function(e) {
            return e.__dom && void 0 !== e.__dom.previousSibling ? this._getPreviousElementSibling(e) : e.previousElementSibling
        },
        _getPreviousElementSibling: function(e) {
            for (var t = e.__dom.previousSibling; t && t.nodeType !== Node.ELEMENT_NODE; )
                t = t.__dom.previousSibling;
            return t
        },
        saveChildNodes: function(e) {
            if (!this.hasChildNodes(e)) {
                e.__dom = e.__dom || {},
                e.__dom.firstChild = e.firstChild,
                e.__dom.lastChild = e.lastChild,
                e.__dom.childNodes = [];
                for (var t = e.firstChild; t; t = t.nextSibling)
                    t.__dom = t.__dom || {},
                    t.__dom.parentNode = e,
                    e.__dom.childNodes.push(t),
                    t.__dom.nextSibling = t.nextSibling,
                    t.__dom.previousSibling = t.previousSibling
            }
        },
        recordInsertBefore: function(e, t, i) {
            if (t.__dom.childNodes = null,
            e.nodeType === Node.DOCUMENT_FRAGMENT_NODE)
                for (var n = e.firstChild; n; n = n.nextSibling)
                    this._linkNode(n, t, i);
            else
                this._linkNode(e, t, i)
        },
        _linkNode: function(e, t, i) {
            e.__dom = e.__dom || {},
            t.__dom = t.__dom || {},
            i && (i.__dom = i.__dom || {}),
            e.__dom.previousSibling = i ? i.__dom.previousSibling : t.__dom.lastChild,
            e.__dom.previousSibling && (e.__dom.previousSibling.__dom.nextSibling = e),
            e.__dom.nextSibling = i || null,
            e.__dom.nextSibling && (e.__dom.nextSibling.__dom.previousSibling = e),
            e.__dom.parentNode = t,
            i ? i === t.__dom.firstChild && (t.__dom.firstChild = e) : (t.__dom.lastChild = e,
            t.__dom.firstChild || (t.__dom.firstChild = e)),
            t.__dom.childNodes = null
        },
        recordRemoveChild: function(e, t) {
            e.__dom = e.__dom || {},
            t.__dom = t.__dom || {},
            e === t.__dom.firstChild && (t.__dom.firstChild = e.__dom.nextSibling),
            e === t.__dom.lastChild && (t.__dom.lastChild = e.__dom.previousSibling);
            var i = e.__dom.previousSibling
              , n = e.__dom.nextSibling;
            i && (i.__dom.nextSibling = n),
            n && (n.__dom.previousSibling = i),
            e.__dom.parentNode = e.__dom.previousSibling = e.__dom.nextSibling = void 0,
            t.__dom.childNodes = null
        }
    },
    Polymer.TreeApi.Composed = {
        getChildNodes: function(e) {
            return Polymer.TreeApi.arrayCopyChildNodes(e)
        },
        getParentNode: function(e) {
            return e.parentNode
        },
        clearChildNodes: function(e) {
            e.textContent = ""
        },
        insertBefore: function(t, i, n) {
            return e.call(t, i, n || null)
        },
        appendChild: function(e, i) {
            return t.call(e, i)
        },
        removeChild: function(e, t) {
            return i.call(e, t)
        }
    }
}(),
Polymer.DomApi = function() {
    "use strict";
    var e = Polymer.Settings
      , t = Polymer.TreeApi
      , i = function(e) {
        this.node = n ? i.wrap(e) : e
    }
      , n = e.hasShadow && !e.nativeShadow;
    i.wrap = window.wrap ? window.wrap : function(e) {
        return e
    }
    ,
    i.prototype = {
        flush: function() {
            Polymer.dom.flush()
        },
        deepContains: function(e) {
            if (this.node.contains(e))
                return !0;
            for (var t = e, i = e.ownerDocument; t && t !== i && t !== this.node; )
                t = Polymer.dom(t).parentNode || t.host;
            return t === this.node
        },
        queryDistributedElements: function(e) {
            for (var t, n = this.getEffectiveChildNodes(), r = [], s = 0, o = n.length; s < o && (t = n[s]); s++)
                t.nodeType === Node.ELEMENT_NODE && i.matchesSelector.call(t, e) && r.push(t);
            return r
        },
        getEffectiveChildNodes: function() {
            for (var e, t = [], i = this.childNodes, n = 0, o = i.length; n < o && (e = i[n]); n++)
                if (e.localName === r)
                    for (var a = s(e).getDistributedNodes(), c = 0; c < a.length; c++)
                        t.push(a[c]);
                else
                    t.push(e);
            return t
        },
        observeNodes: function(e) {
            if (e)
                return this.observer || (this.observer = this.node.localName === r ? new i.DistributedNodesObserver(this) : new i.EffectiveNodesObserver(this)),
                this.observer.addListener(e)
        },
        unobserveNodes: function(e) {
            this.observer && this.observer.removeListener(e)
        },
        notifyObserver: function() {
            this.observer && this.observer.notify()
        },
        _query: function(e, i, n) {
            i = i || this.node;
            var r = [];
            return this._queryElements(t.Logical.getChildNodes(i), e, n, r),
            r
        },
        _queryElements: function(e, t, i, n) {
            for (var r, s = 0, o = e.length; s < o && (r = e[s]); s++)
                if (r.nodeType === Node.ELEMENT_NODE && this._queryElement(r, t, i, n))
                    return !0
        },
        _queryElement: function(e, i, n, r) {
            var s = i(e);
            return s && r.push(e),
            n && n(s) ? s : void this._queryElements(t.Logical.getChildNodes(e), i, n, r)
        }
    };
    var r = i.CONTENT = "content"
      , s = i.factory = function(e) {
        return e = e || document,
        e.__domApi || (e.__domApi = new i.ctor(e)),
        e.__domApi
    }
    ;
    i.hasApi = function(e) {
        return Boolean(e.__domApi)
    }
    ,
    i.ctor = i,
    Polymer.dom = function(e, t) {
        return e instanceof Event ? Polymer.EventApi.factory(e) : i.factory(e, t)
    }
    ;
    var o = Element.prototype;
    return i.matchesSelector = o.matches || o.matchesSelector || o.mozMatchesSelector || o.msMatchesSelector || o.oMatchesSelector || o.webkitMatchesSelector,
    i
}(),
function() {
    "use strict";
    var e = Polymer.Settings
      , t = Polymer.DomApi
      , i = t.factory
      , n = Polymer.TreeApi
      , r = Polymer.domInnerHTML.getInnerHTML
      , s = t.CONTENT;
    if (!e.useShadow) {
        var o = Element.prototype.cloneNode
          , a = Document.prototype.importNode;
        Polymer.Base.extend(t.prototype, {
            _lazyDistribute: function(e) {
                e.shadyRoot && e.shadyRoot._distributionClean && (e.shadyRoot._distributionClean = !1,
                Polymer.dom.addDebouncer(e.debounce("_distribute", e._distributeContent)))
            },
            appendChild: function(e) {
                return this.insertBefore(e)
            },
            insertBefore: function(e, r) {
                if (r && n.Logical.getParentNode(r) !== this.node)
                    throw Error("The ref_node to be inserted before is not a child of this node");
                if (e.nodeType !== Node.DOCUMENT_FRAGMENT_NODE) {
                    var o = n.Logical.getParentNode(e);
                    o ? (t.hasApi(o) && i(o).notifyObserver(),
                    this._removeNode(e)) : this._removeOwnerShadyRoot(e)
                }
                if (!this._addNode(e, r)) {
                    r && (r = r.localName === s ? this._firstComposedNode(r) : r);
                    var a = this.node._isShadyRoot ? this.node.host : this.node;
                    r ? n.Composed.insertBefore(a, e, r) : n.Composed.appendChild(a, e)
                }
                return this.notifyObserver(),
                e
            },
            _addNode: function(e, t) {
                var i = this.getOwnerRoot();
                if (i) {
                    var r = this._maybeAddInsertionPoint(e, this.node);
                    i._invalidInsertionPoints || (i._invalidInsertionPoints = r),
                    this._addNodeToHost(i.host, e)
                }
                n.Logical.hasChildNodes(this.node) && n.Logical.recordInsertBefore(e, this.node, t);
                var s = this._maybeDistribute(e) || this.node.shadyRoot;
                if (s)
                    if (e.nodeType === Node.DOCUMENT_FRAGMENT_NODE)
                        for (; e.firstChild; )
                            n.Composed.removeChild(e, e.firstChild);
                    else {
                        var o = n.Composed.getParentNode(e);
                        o && n.Composed.removeChild(o, e)
                    }
                return s
            },
            removeChild: function(e) {
                if (n.Logical.getParentNode(e) !== this.node)
                    throw Error("The node to be removed is not a child of this node: " + e);
                if (!this._removeNode(e)) {
                    var t = this.node._isShadyRoot ? this.node.host : this.node
                      , i = n.Composed.getParentNode(e);
                    t === i && n.Composed.removeChild(t, e)
                }
                return this.notifyObserver(),
                e
            },
            _removeNode: function(e) {
                var t, r = n.Logical.hasParentNode(e) && n.Logical.getParentNode(e), s = this._ownerShadyRootForNode(e);
                return r && (t = i(e)._maybeDistributeParent(),
                n.Logical.recordRemoveChild(e, r),
                s && this._removeDistributedChildren(s, e) && (s._invalidInsertionPoints = !0,
                this._lazyDistribute(s.host))),
                this._removeOwnerShadyRoot(e),
                s && this._removeNodeFromHost(s.host, e),
                t
            },
            replaceChild: function(e, t) {
                return this.insertBefore(e, t),
                this.removeChild(t),
                e
            },
            _hasCachedOwnerRoot: function(e) {
                return Boolean(void 0 !== e._ownerShadyRoot)
            },
            getOwnerRoot: function() {
                return this._ownerShadyRootForNode(this.node)
            },
            _ownerShadyRootForNode: function(e) {
                if (e) {
                    var t = e._ownerShadyRoot;
                    if (void 0 === t) {
                        if (e._isShadyRoot)
                            t = e;
                        else {
                            var i = n.Logical.getParentNode(e);
                            t = i ? i._isShadyRoot ? i : this._ownerShadyRootForNode(i) : null
                        }
                        (t || document.documentElement.contains(e)) && (e._ownerShadyRoot = t)
                    }
                    return t
                }
            },
            _maybeDistribute: function(e) {
                var t = e.nodeType === Node.DOCUMENT_FRAGMENT_NODE && !e.__noContent && i(e).querySelector(s)
                  , r = t && n.Logical.getParentNode(t).nodeType !== Node.DOCUMENT_FRAGMENT_NODE
                  , o = t || e.localName === s;
                if (o) {
                    var a = this.getOwnerRoot();
                    a && this._lazyDistribute(a.host)
                }
                var c = this._nodeNeedsDistribution(this.node);
                return c && this._lazyDistribute(this.node),
                c || o && !r
            },
            _maybeAddInsertionPoint: function(e, t) {
                var r;
                if (e.nodeType !== Node.DOCUMENT_FRAGMENT_NODE || e.__noContent)
                    e.localName === s && (n.Logical.saveChildNodes(t),
                    n.Logical.saveChildNodes(e),
                    r = !0);
                else
                    for (var o, a, c, l = i(e).querySelectorAll(s), h = 0; h < l.length && (o = l[h]); h++)
                        a = n.Logical.getParentNode(o),
                        a === e && (a = t),
                        c = this._maybeAddInsertionPoint(o, a),
                        r = r || c;
                return r
            },
            _updateInsertionPoints: function(e) {
                for (var t, r = e.shadyRoot._insertionPoints = i(e.shadyRoot).querySelectorAll(s), o = 0; o < r.length; o++)
                    t = r[o],
                    n.Logical.saveChildNodes(t),
                    n.Logical.saveChildNodes(n.Logical.getParentNode(t))
            },
            _nodeNeedsDistribution: function(e) {
                return e && e.shadyRoot && t.hasInsertionPoint(e.shadyRoot)
            },
            _addNodeToHost: function(e, t) {
                e._elementAdd && e._elementAdd(t)
            },
            _removeNodeFromHost: function(e, t) {
                e._elementRemove && e._elementRemove(t)
            },
            _removeDistributedChildren: function(e, t) {
                for (var r, s = e._insertionPoints, o = 0; o < s.length; o++) {
                    var a = s[o];
                    if (this._contains(t, a))
                        for (var c = i(a).getDistributedNodes(), l = 0; l < c.length; l++) {
                            r = !0;
                            var h = c[l]
                              , u = n.Composed.getParentNode(h);
                            u && n.Composed.removeChild(u, h)
                        }
                }
                return r
            },
            _contains: function(e, t) {
                for (; t; ) {
                    if (t == e)
                        return !0;
                    t = n.Logical.getParentNode(t)
                }
            },
            _removeOwnerShadyRoot: function(e) {
                if (this._hasCachedOwnerRoot(e))
                    for (var t, i = n.Logical.getChildNodes(e), r = 0, s = i.length; r < s && (t = i[r]); r++)
                        this._removeOwnerShadyRoot(t);
                e._ownerShadyRoot = void 0
            },
            _firstComposedNode: function(e) {
                for (var t, n, r = i(e).getDistributedNodes(), s = 0, o = r.length; s < o && (t = r[s]); s++)
                    if (n = i(t).getDestinationInsertionPoints(),
                    n[n.length - 1] === e)
                        return t
            },
            querySelector: function(e) {
                var i = this._query(function(i) {
                    return t.matchesSelector.call(i, e)
                }, this.node, function(e) {
                    return Boolean(e)
                })[0];
                return i || null
            },
            querySelectorAll: function(e) {
                return this._query(function(i) {
                    return t.matchesSelector.call(i, e)
                }, this.node)
            },
            getDestinationInsertionPoints: function() {
                return this.node._destinationInsertionPoints || []
            },
            getDistributedNodes: function() {
                return this.node._distributedNodes || []
            },
            _clear: function() {
                for (; this.childNodes.length; )
                    this.removeChild(this.childNodes[0])
            },
            setAttribute: function(e, t) {
                this.node.setAttribute(e, t),
                this._maybeDistributeParent()
            },
            removeAttribute: function(e) {
                this.node.removeAttribute(e),
                this._maybeDistributeParent()
            },
            _maybeDistributeParent: function() {
                if (this._nodeNeedsDistribution(this.parentNode))
                    return this._lazyDistribute(this.parentNode),
                    !0
            },
            cloneNode: function(e) {
                var t = o.call(this.node, !1);
                if (e)
                    for (var n, r = this.childNodes, s = i(t), a = 0; a < r.length; a++)
                        n = i(r[a]).cloneNode(!0),
                        s.appendChild(n);
                return t
            },
            importNode: function(e, t) {
                var r = this.node instanceof Document ? this.node : this.node.ownerDocument
                  , s = a.call(r, e, !1);
                if (t)
                    for (var o, c = n.Logical.getChildNodes(e), l = i(s), h = 0; h < c.length; h++)
                        o = i(r).importNode(c[h], !0),
                        l.appendChild(o);
                return s
            },
            _getComposedInnerHTML: function() {
                return r(this.node, !0)
            }
        }),
        Object.defineProperties(t.prototype, {
            activeElement: {
                get: function() {
                    var e = document.activeElement;
                    if (!e)
                        return null;
                    var t = !!this.node._isShadyRoot;
                    if (this.node !== document) {
                        if (!t)
                            return null;
                        if (this.node.host === e || !this.node.host.contains(e))
                            return null
                    }
                    for (var n = i(e).getOwnerRoot(); n && n !== this.node; )
                        e = n.host,
                        n = i(e).getOwnerRoot();
                    return this.node === document ? n ? null : e : n === this.node ? e : null;
                },
                configurable: !0
            },
            childNodes: {
                get: function() {
                    var e = n.Logical.getChildNodes(this.node);
                    return Array.isArray(e) ? e : n.arrayCopyChildNodes(this.node)
                },
                configurable: !0
            },
            children: {
                get: function() {
                    return n.Logical.hasChildNodes(this.node) ? Array.prototype.filter.call(this.childNodes, function(e) {
                        return e.nodeType === Node.ELEMENT_NODE
                    }) : n.arrayCopyChildren(this.node)
                },
                configurable: !0
            },
            parentNode: {
                get: function() {
                    return n.Logical.getParentNode(this.node)
                },
                configurable: !0
            },
            firstChild: {
                get: function() {
                    return n.Logical.getFirstChild(this.node)
                },
                configurable: !0
            },
            lastChild: {
                get: function() {
                    return n.Logical.getLastChild(this.node)
                },
                configurable: !0
            },
            nextSibling: {
                get: function() {
                    return n.Logical.getNextSibling(this.node)
                },
                configurable: !0
            },
            previousSibling: {
                get: function() {
                    return n.Logical.getPreviousSibling(this.node)
                },
                configurable: !0
            },
            firstElementChild: {
                get: function() {
                    return n.Logical.getFirstElementChild(this.node)
                },
                configurable: !0
            },
            lastElementChild: {
                get: function() {
                    return n.Logical.getLastElementChild(this.node)
                },
                configurable: !0
            },
            nextElementSibling: {
                get: function() {
                    return n.Logical.getNextElementSibling(this.node)
                },
                configurable: !0
            },
            previousElementSibling: {
                get: function() {
                    return n.Logical.getPreviousElementSibling(this.node)
                },
                configurable: !0
            },
            textContent: {
                get: function() {
                    var e = this.node.nodeType;
                    if (e === Node.TEXT_NODE || e === Node.COMMENT_NODE)
                        return this.node.textContent;
                    for (var t, i = [], n = 0, r = this.childNodes; t = r[n]; n++)
                        t.nodeType !== Node.COMMENT_NODE && i.push(t.textContent);
                    return i.join("")
                },
                set: function(e) {
                    var t = this.node.nodeType;
                    t === Node.TEXT_NODE || t === Node.COMMENT_NODE ? this.node.textContent = e : (this._clear(),
                    e && this.appendChild(document.createTextNode(e)))
                },
                configurable: !0
            },
            innerHTML: {
                get: function() {
                    var e = this.node.nodeType;
                    return e === Node.TEXT_NODE || e === Node.COMMENT_NODE ? null : r(this.node)
                },
                set: function(e) {
                    var t = this.node.nodeType;
                    if (t !== Node.TEXT_NODE || t !== Node.COMMENT_NODE) {
                        this._clear();
                        var i = document.createElement("div");
                        i.innerHTML = e;
                        for (var r = n.arrayCopyChildNodes(i), s = 0; s < r.length; s++)
                            this.appendChild(r[s])
                    }
                },
                configurable: !0
            }
        }),
        t.hasInsertionPoint = function(e) {
            return Boolean(e && e._insertionPoints.length)
        }
    }
}(),
function() {
    "use strict";
    var e = Polymer.Settings
      , t = Polymer.TreeApi
      , i = Polymer.DomApi;
    if (e.useShadow) {
        Polymer.Base.extend(i.prototype, {
            querySelectorAll: function(e) {
                return t.arrayCopy(this.node.querySelectorAll(e))
            },
            getOwnerRoot: function() {
                for (var e = this.node; e; ) {
                    if (e.nodeType === Node.DOCUMENT_FRAGMENT_NODE && e.host)
                        return e;
                    e = e.parentNode
                }
            },
            importNode: function(e, t) {
                var i = this.node instanceof Document ? this.node : this.node.ownerDocument;
                return i.importNode(e, t)
            },
            getDestinationInsertionPoints: function() {
                var e = this.node.getDestinationInsertionPoints && this.node.getDestinationInsertionPoints();
                return e ? t.arrayCopy(e) : []
            },
            getDistributedNodes: function() {
                var e = this.node.getDistributedNodes && this.node.getDistributedNodes();
                return e ? t.arrayCopy(e) : []
            }
        }),
        Object.defineProperties(i.prototype, {
            activeElement: {
                get: function() {
                    var e = i.wrap(this.node)
                      , t = e.activeElement;
                    return e.contains(t) ? t : null
                },
                configurable: !0
            },
            childNodes: {
                get: function() {
                    return t.arrayCopyChildNodes(this.node)
                },
                configurable: !0
            },
            children: {
                get: function() {
                    return t.arrayCopyChildren(this.node)
                },
                configurable: !0
            },
            textContent: {
                get: function() {
                    return this.node.textContent
                },
                set: function(e) {
                    return this.node.textContent = e
                },
                configurable: !0
            },
            innerHTML: {
                get: function() {
                    return this.node.innerHTML
                },
                set: function(e) {
                    return this.node.innerHTML = e
                },
                configurable: !0
            }
        });
        var n = function(e) {
            for (var t = 0; t < e.length; t++)
                r(e[t])
        }
          , r = function(e) {
            i.prototype[e] = function() {
                return this.node[e].apply(this.node, arguments)
            }
        };
        n(["cloneNode", "appendChild", "insertBefore", "removeChild", "replaceChild", "setAttribute", "removeAttribute", "querySelector"]);
        var s = function(e) {
            for (var t = 0; t < e.length; t++)
                o(e[t])
        }
          , o = function(e) {
            Object.defineProperty(i.prototype, e, {
                get: function() {
                    return this.node[e]
                },
                configurable: !0
            })
        };
        s(["parentNode", "firstChild", "lastChild", "nextSibling", "previousSibling", "firstElementChild", "lastElementChild", "nextElementSibling", "previousElementSibling"])
    }
}(),
Polymer.Base.extend(Polymer.dom, {
    _flushGuard: 0,
    _FLUSH_MAX: 100,
    _needsTakeRecords: !Polymer.Settings.useNativeCustomElements,
    _debouncers: [],
    _staticFlushList: [],
    _finishDebouncer: null,
    flush: function() {
        for (this._flushGuard = 0,
        this._prepareFlush(); this._debouncers.length && this._flushGuard < this._FLUSH_MAX; ) {
            for (; this._debouncers.length; )
                this._debouncers.shift().complete();
            this._finishDebouncer && this._finishDebouncer.complete(),
            this._prepareFlush(),
            this._flushGuard++
        }
        this._flushGuard >= this._FLUSH_MAX && console.warn("Polymer.dom.flush aborted. Flush may not be complete.")
    },
    _prepareFlush: function() {
        this._needsTakeRecords && CustomElements.takeRecords();
        for (var e = 0; e < this._staticFlushList.length; e++)
            this._staticFlushList[e]()
    },
    addStaticFlush: function(e) {
        this._staticFlushList.push(e)
    },
    removeStaticFlush: function(e) {
        var t = this._staticFlushList.indexOf(e);
        t >= 0 && this._staticFlushList.splice(t, 1)
    },
    addDebouncer: function(e) {
        this._debouncers.push(e),
        this._finishDebouncer = Polymer.Debounce(this._finishDebouncer, this._finishFlush)
    },
    _finishFlush: function() {
        Polymer.dom._debouncers = []
    }
}),
Polymer.EventApi = function() {
    "use strict";
    var e = Polymer.DomApi.ctor
      , t = Polymer.Settings;
    e.Event = function(e) {
        this.event = e
    }
    ,
    t.useShadow ? e.Event.prototype = {
        get rootTarget() {
            return this.event.path[0]
        },
        get localTarget() {
            return this.event.target
        },
        get path() {
            var e = this.event.path;
            return Array.isArray(e) || (e = Array.prototype.slice.call(e)),
            e
        }
    } : e.Event.prototype = {
        get rootTarget() {
            return this.event.target
        },
        get localTarget() {
            for (var e = this.event.currentTarget, t = e && Polymer.dom(e).getOwnerRoot(), i = this.path, n = 0; n < i.length; n++)
                if (Polymer.dom(i[n]).getOwnerRoot() === t)
                    return i[n]
        },
        get path() {
            if (!this.event._path) {
                for (var e = [], t = this.rootTarget; t; ) {
                    e.push(t);
                    var i = Polymer.dom(t).getDestinationInsertionPoints();
                    if (i.length) {
                        for (var n = 0; n < i.length - 1; n++)
                            e.push(i[n]);
                        t = i[i.length - 1]
                    } else
                        t = Polymer.dom(t).parentNode || t.host
                }
                e.push(window),
                this.event._path = e
            }
            return this.event._path
        }
    };
    var i = function(t) {
        return t.__eventApi || (t.__eventApi = new e.Event(t)),
        t.__eventApi
    };
    return {
        factory: i
    }
}(),
function() {
    "use strict";
    var e = Polymer.DomApi.ctor
      , t = Polymer.Settings.useShadow;
    Object.defineProperty(e.prototype, "classList", {
        get: function() {
            return this._classList || (this._classList = new e.ClassList(this)),
            this._classList
        },
        configurable: !0
    }),
    e.ClassList = function(e) {
        this.domApi = e,
        this.node = e.node
    }
    ,
    e.ClassList.prototype = {
        add: function() {
            this.node.classList.add.apply(this.node.classList, arguments),
            this._distributeParent()
        },
        remove: function() {
            this.node.classList.remove.apply(this.node.classList, arguments),
            this._distributeParent()
        },
        toggle: function() {
            this.node.classList.toggle.apply(this.node.classList, arguments),
            this._distributeParent()
        },
        _distributeParent: function() {
            t || this.domApi._maybeDistributeParent()
        },
        contains: function() {
            return this.node.classList.contains.apply(this.node.classList, arguments)
        }
    }
}(),
function() {
    "use strict";
    var e = Polymer.DomApi.ctor
      , t = Polymer.Settings;
    if (e.EffectiveNodesObserver = function(e) {
        this.domApi = e,
        this.node = this.domApi.node,
        this._listeners = []
    }
    ,
    e.EffectiveNodesObserver.prototype = {
        addListener: function(e) {
            this._isSetup || (this._setup(),
            this._isSetup = !0);
            var t = {
                fn: e,
                _nodes: []
            };
            return this._listeners.push(t),
            this._scheduleNotify(),
            t
        },
        removeListener: function(e) {
            var t = this._listeners.indexOf(e);
            t >= 0 && (this._listeners.splice(t, 1),
            e._nodes = []),
            this._hasListeners() || (this._cleanup(),
            this._isSetup = !1)
        },
        _setup: function() {
            this._observeContentElements(this.domApi.childNodes)
        },
        _cleanup: function() {
            this._unobserveContentElements(this.domApi.childNodes)
        },
        _hasListeners: function() {
            return Boolean(this._listeners.length)
        },
        _scheduleNotify: function() {
            this._debouncer && this._debouncer.stop(),
            this._debouncer = Polymer.Debounce(this._debouncer, this._notify),
            this._debouncer.context = this,
            Polymer.dom.addDebouncer(this._debouncer)
        },
        notify: function() {
            this._hasListeners() && this._scheduleNotify()
        },
        _notify: function() {
            this._beforeCallListeners(),
            this._callListeners()
        },
        _beforeCallListeners: function() {
            this._updateContentElements()
        },
        _updateContentElements: function() {
            this._observeContentElements(this.domApi.childNodes)
        },
        _observeContentElements: function(e) {
            for (var t, i = 0; i < e.length && (t = e[i]); i++)
                this._isContent(t) && (t.__observeNodesMap = t.__observeNodesMap || new WeakMap,
                t.__observeNodesMap.has(this) || t.__observeNodesMap.set(this, this._observeContent(t)))
        },
        _observeContent: function(e) {
            var t = this
              , i = Polymer.dom(e).observeNodes(function() {
                t._scheduleNotify()
            });
            return i._avoidChangeCalculation = !0,
            i
        },
        _unobserveContentElements: function(e) {
            for (var t, i, n = 0; n < e.length && (t = e[n]); n++)
                this._isContent(t) && (i = t.__observeNodesMap.get(this),
                i && (Polymer.dom(t).unobserveNodes(i),
                t.__observeNodesMap["delete"](this)))
        },
        _isContent: function(e) {
            return "content" === e.localName
        },
        _callListeners: function() {
            for (var e, t = this._listeners, i = this._getEffectiveNodes(), n = 0; n < t.length && (e = t[n]); n++) {
                var r = this._generateListenerInfo(e, i);
                (r || e._alwaysNotify) && this._callListener(e, r)
            }
        },
        _getEffectiveNodes: function() {
            return this.domApi.getEffectiveChildNodes()
        },
        _generateListenerInfo: function(e, t) {
            if (e._avoidChangeCalculation)
                return !0;
            for (var i, n = e._nodes, r = {
                target: this.node,
                addedNodes: [],
                removedNodes: []
            }, s = Polymer.ArraySplice.calculateSplices(t, n), o = 0; o < s.length && (i = s[o]); o++)
                for (var a, c = 0; c < i.removed.length && (a = i.removed[c]); c++)
                    r.removedNodes.push(a);
            for (o = 0,
            i; o < s.length && (i = s[o]); o++)
                for (c = i.index; c < i.index + i.addedCount; c++)
                    r.addedNodes.push(t[c]);
            return e._nodes = t,
            r.addedNodes.length || r.removedNodes.length ? r : void 0
        },
        _callListener: function(e, t) {
            return e.fn.call(this.node, t)
        },
        enableShadowAttributeTracking: function() {}
    },
    t.useShadow) {
        var i = e.EffectiveNodesObserver.prototype._setup
          , n = e.EffectiveNodesObserver.prototype._cleanup;
        Polymer.Base.extend(e.EffectiveNodesObserver.prototype, {
            _setup: function() {
                if (!this._observer) {
                    var e = this;
                    this._mutationHandler = function(t) {
                        t && t.length && e._scheduleNotify()
                    }
                    ,
                    this._observer = new MutationObserver(this._mutationHandler),
                    this._boundFlush = function() {
                        e._flush()
                    }
                    ,
                    Polymer.dom.addStaticFlush(this._boundFlush),
                    this._observer.observe(this.node, {
                        childList: !0
                    })
                }
                i.call(this)
            },
            _cleanup: function() {
                this._observer.disconnect(),
                this._observer = null,
                this._mutationHandler = null,
                Polymer.dom.removeStaticFlush(this._boundFlush),
                n.call(this)
            },
            _flush: function() {
                this._observer && this._mutationHandler(this._observer.takeRecords())
            },
            enableShadowAttributeTracking: function() {
                if (this._observer) {
                    this._makeContentListenersAlwaysNotify(),
                    this._observer.disconnect(),
                    this._observer.observe(this.node, {
                        childList: !0,
                        attributes: !0,
                        subtree: !0
                    });
                    var e = this.domApi.getOwnerRoot()
                      , t = e && e.host;
                    t && Polymer.dom(t).observer && Polymer.dom(t).observer.enableShadowAttributeTracking()
                }
            },
            _makeContentListenersAlwaysNotify: function() {
                for (var e, t = 0; t < this._listeners.length; t++)
                    e = this._listeners[t],
                    e._alwaysNotify = e._isContentListener
            }
        })
    }
}(),
function() {
    "use strict";
    var e = Polymer.DomApi.ctor
      , t = Polymer.Settings;
    e.DistributedNodesObserver = function(t) {
        e.EffectiveNodesObserver.call(this, t)
    }
    ,
    e.DistributedNodesObserver.prototype = Object.create(e.EffectiveNodesObserver.prototype),
    Polymer.Base.extend(e.DistributedNodesObserver.prototype, {
        _setup: function() {},
        _cleanup: function() {},
        _beforeCallListeners: function() {},
        _getEffectiveNodes: function() {
            return this.domApi.getDistributedNodes()
        }
    }),
    t.useShadow && Polymer.Base.extend(e.DistributedNodesObserver.prototype, {
        _setup: function() {
            if (!this._observer) {
                var e = this.domApi.getOwnerRoot()
                  , t = e && e.host;
                if (t) {
                    var i = this;
                    this._observer = Polymer.dom(t).observeNodes(function() {
                        i._scheduleNotify()
                    }),
                    this._observer._isContentListener = !0,
                    this._hasAttrSelect() && Polymer.dom(t).observer.enableShadowAttributeTracking()
                }
            }
        },
        _hasAttrSelect: function() {
            var e = this.node.getAttribute("select");
            return e && e.match(/[[.]+/)
        },
        _cleanup: function() {
            var e = this.domApi.getOwnerRoot()
              , t = e && e.host;
            t && Polymer.dom(t).unobserveNodes(this._observer),
            this._observer = null
        }
    })
}(),
function() {
    function e(e, t) {
        t._distributedNodes.push(e);
        var i = e._destinationInsertionPoints;
        i ? i.push(t) : e._destinationInsertionPoints = [t]
    }
    function t(e) {
        var t = e._distributedNodes;
        if (t)
            for (var i = 0; i < t.length; i++) {
                var n = t[i]._destinationInsertionPoints;
                n && n.splice(n.indexOf(e) + 1, n.length)
            }
    }
    function i(e, t) {
        var i = u.Logical.getParentNode(e);
        i && i.shadyRoot && h.hasInsertionPoint(i.shadyRoot) && i.shadyRoot._distributionClean && (i.shadyRoot._distributionClean = !1,
        t.shadyRoot._dirtyRoots.push(i))
    }
    function n(e, t) {
        var i = t._destinationInsertionPoints;
        return i && i[i.length - 1] === e
    }
    function r(e) {
        return "content" == e.localName
    }
    function s(e) {
        for (; e && o(e); )
            e = e.domHost;
        return e
    }
    function o(e) {
        for (var t, i = u.Logical.getChildNodes(e), n = 0; n < i.length; n++)
            if (t = i[n],
            t.localName && "content" === t.localName)
                return e.domHost
    }
    function a(e) {
        for (var t, i = 0; i < e._insertionPoints.length; i++)
            t = e._insertionPoints[i],
            h.hasApi(t) && Polymer.dom(t).notifyObserver()
    }
    function c(e) {
        h.hasApi(e) && Polymer.dom(e).notifyObserver()
    }
    function l(e) {
        if (d && e)
            for (var t = 0; t < e.length; t++)
                CustomElements.upgrade(e[t])
    }
    var h = Polymer.DomApi
      , u = Polymer.TreeApi;
    Polymer.Base._addFeature({
        _prepShady: function() {
            this._useContent = this._useContent || Boolean(this._template)
        },
        _setupShady: function() {
            this.shadyRoot = null,
            this.__domApi || (this.__domApi = null),
            this.__dom || (this.__dom = null),
            this._ownerShadyRoot || (this._ownerShadyRoot = void 0)
        },
        _poolContent: function() {
            this._useContent && u.Logical.saveChildNodes(this)
        },
        _setupRoot: function() {
            this._useContent && (this._createLocalRoot(),
            this.dataHost || l(u.Logical.getChildNodes(this)))
        },
        _createLocalRoot: function() {
            this.shadyRoot = this.root,
            this.shadyRoot._distributionClean = !1,
            this.shadyRoot._hasDistributed = !1,
            this.shadyRoot._isShadyRoot = !0,
            this.shadyRoot._dirtyRoots = [];
            var e = this.shadyRoot._insertionPoints = !this._notes || this._notes._hasContent ? this.shadyRoot.querySelectorAll("content") : [];
            u.Logical.saveChildNodes(this.shadyRoot);
            for (var t, i = 0; i < e.length; i++)
                t = e[i],
                u.Logical.saveChildNodes(t),
                u.Logical.saveChildNodes(t.parentNode);
            this.shadyRoot.host = this
        },
        get domHost() {
            var e = Polymer.dom(this).getOwnerRoot();
            return e && e.host
        },
        distributeContent: function(e) {
            if (this.shadyRoot) {
                this.shadyRoot._invalidInsertionPoints = this.shadyRoot._invalidInsertionPoints || e;
                var t = s(this);
                Polymer.dom(this)._lazyDistribute(t)
            }
        },
        _distributeContent: function() {
            this._useContent && !this.shadyRoot._distributionClean && (this.shadyRoot._invalidInsertionPoints && (Polymer.dom(this)._updateInsertionPoints(this),
            this.shadyRoot._invalidInsertionPoints = !1),
            this._beginDistribute(),
            this._distributeDirtyRoots(),
            this._finishDistribute())
        },
        _beginDistribute: function() {
            this._useContent && h.hasInsertionPoint(this.shadyRoot) && (this._resetDistribution(),
            this._distributePool(this.shadyRoot, this._collectPool()))
        },
        _distributeDirtyRoots: function() {
            for (var e, t = this.shadyRoot._dirtyRoots, i = 0, n = t.length; i < n && (e = t[i]); i++)
                e._distributeContent();
            this.shadyRoot._dirtyRoots = []
        },
        _finishDistribute: function() {
            if (this._useContent) {
                if (this.shadyRoot._distributionClean = !0,
                h.hasInsertionPoint(this.shadyRoot))
                    this._composeTree(),
                    a(this.shadyRoot);
                else if (this.shadyRoot._hasDistributed) {
                    var e = this._composeNode(this);
                    this._updateChildNodes(this, e)
                } else
                    u.Composed.clearChildNodes(this),
                    this.appendChild(this.shadyRoot);
                this.shadyRoot._hasDistributed || c(this),
                this.shadyRoot._hasDistributed = !0
            }
        },
        elementMatches: function(e, t) {
            return t = t || this,
            h.matchesSelector.call(t, e)
        },
        _resetDistribution: function() {
            for (var e = u.Logical.getChildNodes(this), i = 0; i < e.length; i++) {
                var n = e[i];
                n._destinationInsertionPoints && (n._destinationInsertionPoints = void 0),
                r(n) && t(n)
            }
            for (var s = this.shadyRoot, o = s._insertionPoints, a = 0; a < o.length; a++)
                o[a]._distributedNodes = []
        },
        _collectPool: function() {
            for (var e = [], t = u.Logical.getChildNodes(this), i = 0; i < t.length; i++) {
                var n = t[i];
                r(n) ? e.push.apply(e, n._distributedNodes) : e.push(n)
            }
            return e
        },
        _distributePool: function(e, t) {
            for (var n, r = e._insertionPoints, s = 0, o = r.length; s < o && (n = r[s]); s++)
                this._distributeInsertionPoint(n, t),
                i(n, this)
        },
        _distributeInsertionPoint: function(t, i) {
            for (var n, r = !1, s = 0, o = i.length; s < o; s++)
                n = i[s],
                n && this._matchesContentSelect(n, t) && (e(n, t),
                i[s] = void 0,
                r = !0);
            if (!r)
                for (var a = u.Logical.getChildNodes(t), c = 0; c < a.length; c++)
                    e(a[c], t)
        },
        _composeTree: function() {
            this._updateChildNodes(this, this._composeNode(this));
            for (var e, t, i = this.shadyRoot._insertionPoints, n = 0, r = i.length; n < r && (e = i[n]); n++)
                t = u.Logical.getParentNode(e),
                t._useContent || t === this || t === this.shadyRoot || this._updateChildNodes(t, this._composeNode(t))
        },
        _composeNode: function(e) {
            for (var t = [], i = u.Logical.getChildNodes(e.shadyRoot || e), s = 0; s < i.length; s++) {
                var o = i[s];
                if (r(o))
                    for (var a = o._distributedNodes, c = 0; c < a.length; c++) {
                        var l = a[c];
                        n(o, l) && t.push(l)
                    }
                else
                    t.push(o)
            }
            return t
        },
        _updateChildNodes: function(e, t) {
            for (var i, n = u.Composed.getChildNodes(e), r = Polymer.ArraySplice.calculateSplices(t, n), s = 0, o = 0; s < r.length && (i = r[s]); s++) {
                for (var a, c = 0; c < i.removed.length && (a = i.removed[c]); c++)
                    u.Composed.getParentNode(a) === e && u.Composed.removeChild(e, a),
                    n.splice(i.index + o, 1);
                o -= i.addedCount
            }
            for (var i, l, s = 0; s < r.length && (i = r[s]); s++)
                for (l = n[i.index],
                c = i.index,
                a; c < i.index + i.addedCount; c++)
                    a = t[c],
                    u.Composed.insertBefore(e, a, l),
                    n.splice(c, 0, a)
        },
        _matchesContentSelect: function(e, t) {
            var i = t.getAttribute("select");
            if (!i)
                return !0;
            if (i = i.trim(),
            !i)
                return !0;
            if (!(e instanceof Element))
                return !1;
            var n = /^(:not\()?[*.#[a-zA-Z_|]/;
            return !!n.test(i) && this.elementMatches(i, e)
        },
        _elementAdd: function() {},
        _elementRemove: function() {}
    });
    var d = window.CustomElements && !CustomElements.useNative
}(),
Polymer.Settings.useShadow && Polymer.Base._addFeature({
    _poolContent: function() {},
    _beginDistribute: function() {},
    distributeContent: function() {},
    _distributeContent: function() {},
    _finishDistribute: function() {},
    _createLocalRoot: function() {
        this.createShadowRoot(),
        this.shadowRoot.appendChild(this.root),
        this.root = this.shadowRoot
    }
}),
Polymer.Async = {
    _currVal: 0,
    _lastVal: 0,
    _callbacks: [],
    _twiddleContent: 0,
    _twiddle: document.createTextNode(""),
    run: function(e, t) {
        return t > 0 ? ~setTimeout(e, t) : (this._twiddle.textContent = this._twiddleContent++,
        this._callbacks.push(e),
        this._currVal++)
    },
    cancel: function(e) {
        if (e < 0)
            clearTimeout(~e);
        else {
            var t = e - this._lastVal;
            if (t >= 0) {
                if (!this._callbacks[t])
                    throw "invalid async handle: " + e;
                this._callbacks[t] = null
            }
        }
    },
    _atEndOfMicrotask: function() {
        for (var e = this._callbacks.length, t = 0; t < e; t++) {
            var i = this._callbacks[t];
            if (i)
                try {
                    i()
                } catch (n) {
                    throw t++,
                    this._callbacks.splice(0, t),
                    this._lastVal += t,
                    this._twiddle.textContent = this._twiddleContent++,
                    n
                }
        }
        this._callbacks.splice(0, e),
        this._lastVal += e
    }
},
new window.MutationObserver(function() {
    Polymer.Async._atEndOfMicrotask()
}
).observe(Polymer.Async._twiddle, {
    characterData: !0
}),
Polymer.Debounce = function() {
    function e(e, t, n) {
        return e ? e.stop() : e = new i(this),
        e.go(t, n),
        e
    }
    var t = Polymer.Async
      , i = function(e) {
        this.context = e;
        var t = this;
        this.boundComplete = function() {
            t.complete()
        }
    };
    return i.prototype = {
        go: function(e, i) {
            var n;
            this.finish = function() {
                t.cancel(n)
            }
            ,
            n = t.run(this.boundComplete, i),
            this.callback = e
        },
        stop: function() {
            this.finish && (this.finish(),
            this.finish = null,
            this.callback = null)
        },
        complete: function() {
            if (this.finish) {
                var e = this.callback;
                this.stop(),
                e.call(this.context)
            }
        }
    },
    e
}(),
Polymer.Base._addFeature({
    _setupDebouncers: function() {
        this._debouncers = {}
    },
    debounce: function(e, t, i) {
        return this._debouncers[e] = Polymer.Debounce.call(this, this._debouncers[e], t, i)
    },
    isDebouncerActive: function(e) {
        var t = this._debouncers[e];
        return !(!t || !t.finish)
    },
    flushDebouncer: function(e) {
        var t = this._debouncers[e];
        t && t.complete()
    },
    cancelDebouncer: function(e) {
        var t = this._debouncers[e];
        t && t.stop()
    }
}),
Polymer.DomModule = document.createElement("dom-module"),
Polymer.Base._addFeature({
    _registerFeatures: function() {
        this._prepIs(),
        this._prepBehaviors(),
        this._prepConstructor(),
        this._prepTemplate(),
        this._prepShady(),
        this._prepPropertyInfo()
    },
    _prepBehavior: function(e) {
        this._addHostAttributes(e.hostAttributes)
    },
    _initFeatures: function() {
        this._registerHost(),
        this._template && (this._poolContent(),
        this._beginHosting(),
        this._stampTemplate(),
        this._endHosting()),
        this._marshalHostAttributes(),
        this._setupDebouncers(),
        this._marshalBehaviors(),
        this._tryReady()
    },
    _marshalBehavior: function(e) {}
}),
Polymer.nar = [],
Polymer.Annotations = {
    parseAnnotations: function(e) {
        var t = []
          , i = e._content || e.content;
        return this._parseNodeAnnotations(i, t, e.hasAttribute("strip-whitespace")),
        t
    },
    _parseNodeAnnotations: function(e, t, i) {
        return e.nodeType === Node.TEXT_NODE ? this._parseTextNodeAnnotation(e, t) : this._parseElementAnnotations(e, t, i)
    },
    _bindingRegex: function() {
        var e = "(?:[a-zA-Z_$][\\w.:$\\-*]*)"
          , t = "(?:[-+]?[0-9]*\\.?[0-9]+(?:[eE][-+]?[0-9]+)?)"
          , i = "(?:'(?:[^'\\\\]|\\\\.)*')"
          , n = '(?:"(?:[^"\\\\]|\\\\.)*")'
          , r = "(?:" + i + "|" + n + ")"
          , s = "(?:" + e + "|" + t + "|" + r + "\\s*)"
          , o = "(?:" + s + "(?:,\\s*" + s + ")*)"
          , a = "(?:\\(\\s*(?:" + o + "?)\\)\\s*)"
          , c = "(" + e + "\\s*" + a + "?)"
          , l = "(\\[\\[|{{)\\s*"
          , h = "(?:]]|}})"
          , u = "(?:(!)\\s*)?"
          , d = l + u + c + h;
        return new RegExp(d,"g")
    }(),
    _parseBindings: function(e) {
        for (var t, i = this._bindingRegex, n = [], r = 0; null !== (t = i.exec(e)); ) {
            t.index > r && n.push({
                literal: e.slice(r, t.index)
            });
            var s, o, a, c = t[1][0], l = Boolean(t[2]), h = t[3].trim();
            "{" == c && (a = h.indexOf("::")) > 0 && (o = h.substring(a + 2),
            h = h.substring(0, a),
            s = !0),
            n.push({
                compoundIndex: n.length,
                value: h,
                mode: c,
                negate: l,
                event: o,
                customEvent: s
            }),
            r = i.lastIndex
        }
        if (r && r < e.length) {
            var u = e.substring(r);
            u && n.push({
                literal: u
            })
        }
        if (n.length)
            return n
    },
    _literalFromParts: function(e) {
        for (var t = "", i = 0; i < e.length; i++) {
            var n = e[i].literal;
            t += n || ""
        }
        return t
    },
    _parseTextNodeAnnotation: function(e, t) {
        var i = this._parseBindings(e.textContent);
        if (i) {
            e.textContent = this._literalFromParts(i) || " ";
            var n = {
                bindings: [{
                    kind: "text",
                    name: "textContent",
                    parts: i,
                    isCompound: 1 !== i.length
                }]
            };
            return t.push(n),
            n
        }
    },
    _parseElementAnnotations: function(e, t, i) {
        var n = {
            bindings: [],
            events: []
        };
        return "content" === e.localName && (t._hasContent = !0),
        this._parseChildNodesAnnotations(e, n, t, i),
        e.attributes && (this._parseNodeAttributeAnnotations(e, n, t),
        this.prepElement && this.prepElement(e)),
        (n.bindings.length || n.events.length || n.id) && t.push(n),
        n
    },
    _parseChildNodesAnnotations: function(e, t, i, n) {
        if (e.firstChild)
            for (var r = e.firstChild, s = 0; r; ) {
                var o = r.nextSibling;
                if ("template" !== r.localName || r.hasAttribute("preserve-content") || this._parseTemplate(r, s, i, t),
                "slot" == r.localName && (r = this._replaceSlotWithContent(r)),
                r.nodeType === Node.TEXT_NODE) {
                    for (var a = o; a && a.nodeType === Node.TEXT_NODE; )
                        r.textContent += a.textContent,
                        o = a.nextSibling,
                        e.removeChild(a),
                        a = o;
                    n && !r.textContent.trim() && (e.removeChild(r),
                    s--)
                }
                if (r.parentNode) {
                    var c = this._parseNodeAnnotations(r, i, n);
                    c && (c.parent = t,
                    c.index = s)
                }
                r = o,
                s++
            }
    },
    _replaceSlotWithContent: function(e) {
        for (var t = e.ownerDocument.createElement("content"); e.firstChild; )
            t.appendChild(e.firstChild);
        for (var i = e.attributes, n = 0; n < i.length; n++) {
            var r = i[n];
            t.setAttribute(r.name, r.value)
        }
        var s = e.getAttribute("name")
          , o = s ? "[slot='" + s + "']" : ":not([slot])";
        return t.setAttribute("select", o),
        e.parentNode.replaceChild(t, e),
        t
    },
    _parseTemplate: function(e, t, i, n) {
        var r = document.createDocumentFragment();
        r._notes = this.parseAnnotations(e),
        r.appendChild(e.content),
        i.push({
            bindings: Polymer.nar,
            events: Polymer.nar,
            templateContent: r,
            parent: n,
            index: t
        })
    },
    _parseNodeAttributeAnnotations: function(e, t) {
        for (var i, n = Array.prototype.slice.call(e.attributes), r = n.length - 1; i = n[r]; r--) {
            var s, o = i.name, a = i.value;
            "on-" === o.slice(0, 3) ? (e.removeAttribute(o),
            t.events.push({
                name: o.slice(3),
                value: a
            })) : (s = this._parseNodeAttributeAnnotation(e, o, a)) ? t.bindings.push(s) : "id" === o && (t.id = a)
        }
    },
    _parseNodeAttributeAnnotation: function(e, t, i) {
        var n = this._parseBindings(i);
        if (n) {
            var r = t
              , s = "property";
            "$" == t[t.length - 1] && (t = t.slice(0, -1),
            s = "attribute");
            var o = this._literalFromParts(n);
            o && "attribute" == s && e.setAttribute(t, o),
            "input" === e.localName && "value" === r && e.setAttribute(r, ""),
            e.removeAttribute(r);
            var a = Polymer.CaseMap.dashToCamelCase(t);
            return "property" === s && (t = a),
            {
                kind: s,
                name: t,
                propertyName: a,
                parts: n,
                literal: o,
                isCompound: 1 !== n.length
            }
        }
    },
    findAnnotatedNode: function(e, t) {
        var i = t.parent && Polymer.Annotations.findAnnotatedNode(e, t.parent);
        if (!i)
            return e;
        for (var n = i.firstChild, r = 0; n; n = n.nextSibling)
            if (t.index === r++)
                return n
    }
},
function() {
    function e(e, t) {
        return e.replace(a, function(e, n, r, s) {
            return n + "'" + i(r.replace(/["']/g, ""), t) + "'" + s
        })
    }
    function t(t, n) {
        for (var r in c)
            for (var s, o, a, l = c[r], u = 0, d = l.length; u < d && (s = l[u]); u++)
                "*" !== r && t.localName !== r || (o = t.attributes[s],
                a = o && o.value,
                a && a.search(h) < 0 && (o.value = "style" === s ? e(a, n) : i(a, n)))
    }
    function i(e, t) {
        if (e && l.test(e))
            return e;
        var i = r(t);
        return i.href = e,
        i.href || e
    }
    function n(e, t) {
        return s || (s = document.implementation.createHTMLDocument("temp"),
        o = s.createElement("base"),
        s.head.appendChild(o)),
        o.href = t,
        i(e, s)
    }
    function r(e) {
        return e.__urlResolver || (e.__urlResolver = e.createElement("a"))
    }
    var s, o, a = /(url\()([^)]*)(\))/g, c = {
        "*": ["href", "src", "style", "url"],
        form: ["action"]
    }, l = /(^\/)|(^#)|(^[\w-\d]*:)/, h = /\{\{|\[\[/;
    Polymer.ResolveUrl = {
        resolveCss: e,
        resolveAttrs: t,
        resolveUrl: n
    }
}(),
Polymer.Path = {
    root: function(e) {
        var t = e.indexOf(".");
        return t === -1 ? e : e.slice(0, t)
    },
    isDeep: function(e) {
        return e.indexOf(".") !== -1
    },
    isAncestor: function(e, t) {
        return 0 === e.indexOf(t + ".")
    },
    isDescendant: function(e, t) {
        return 0 === t.indexOf(e + ".")
    },
    translate: function(e, t, i) {
        return t + i.slice(e.length)
    },
    matches: function(e, t, i) {
        return e === i || this.isAncestor(e, i) || Boolean(t) && this.isDescendant(e, i)
    }
},
Polymer.Base._addFeature({
    _prepAnnotations: function() {
        if (this._template) {
            var e = this;
            Polymer.Annotations.prepElement = function(t) {
                e._prepElement(t)
            }
            ,
            this._template._content && this._template._content._notes ? this._notes = this._template._content._notes : (this._notes = Polymer.Annotations.parseAnnotations(this._template),
            this._processAnnotations(this._notes)),
            Polymer.Annotations.prepElement = null
        } else
            this._notes = []
    },
    _processAnnotations: function(e) {
        for (var t = 0; t < e.length; t++) {
            for (var i = e[t], n = 0; n < i.bindings.length; n++)
                for (var r = i.bindings[n], s = 0; s < r.parts.length; s++) {
                    var o = r.parts[s];
                    if (!o.literal) {
                        var a = this._parseMethod(o.value);
                        a ? o.signature = a : o.model = Polymer.Path.root(o.value)
                    }
                }
            if (i.templateContent) {
                this._processAnnotations(i.templateContent._notes);
                var c = i.templateContent._parentProps = this._discoverTemplateParentProps(i.templateContent._notes)
                  , l = [];
                for (var h in c) {
                    var u = "_parent_" + h;
                    l.push({
                        index: i.index,
                        kind: "property",
                        name: u,
                        propertyName: u,
                        parts: [{
                            mode: "{",
                            model: h,
                            value: h
                        }]
                    })
                }
                i.bindings = i.bindings.concat(l)
            }
        }
    },
    _discoverTemplateParentProps: function(e) {
        for (var t, i = {}, n = 0; n < e.length && (t = e[n]); n++) {
            for (var r, s = 0, o = t.bindings; s < o.length && (r = o[s]); s++)
                for (var a, c = 0, l = r.parts; c < l.length && (a = l[c]); c++)
                    if (a.signature) {
                        for (var h = a.signature.args, u = 0; u < h.length; u++) {
                            var d = h[u].model;
                            d && (i[d] = !0)
                        }
                        a.signature.dynamicFn && (i[a.signature.method] = !0)
                    } else
                        a.model && (i[a.model] = !0);
            if (t.templateContent) {
                var f = t.templateContent._parentProps;
                Polymer.Base.mixin(i, f)
            }
        }
        return i
    },
    _prepElement: function(e) {
        Polymer.ResolveUrl.resolveAttrs(e, this._template.ownerDocument)
    },
    _findAnnotatedNode: Polymer.Annotations.findAnnotatedNode,
    _marshalAnnotationReferences: function() {
        this._template && (this._marshalIdNodes(),
        this._marshalAnnotatedNodes(),
        this._marshalAnnotatedListeners())
    },
    _configureAnnotationReferences: function() {
        for (var e = this._notes, t = this._nodes, i = 0; i < e.length; i++) {
            var n = e[i]
              , r = t[i];
            this._configureTemplateContent(n, r),
            this._configureCompoundBindings(n, r)
        }
    },
    _configureTemplateContent: function(e, t) {
        e.templateContent && (t._content = e.templateContent)
    },
    _configureCompoundBindings: function(e, t) {
        for (var i = e.bindings, n = 0; n < i.length; n++) {
            var r = i[n];
            if (r.isCompound) {
                for (var s = t.__compoundStorage__ || (t.__compoundStorage__ = {}), o = r.parts, a = new Array(o.length), c = 0; c < o.length; c++)
                    a[c] = o[c].literal;
                var l = r.name;
                s[l] = a,
                r.literal && "property" == r.kind && (t._configValue ? t._configValue(l, r.literal) : t[l] = r.literal)
            }
        }
    },
    _marshalIdNodes: function() {
        this.$ = {};
        for (var e, t = 0, i = this._notes.length; t < i && (e = this._notes[t]); t++)
            e.id && (this.$[e.id] = this._findAnnotatedNode(this.root, e))
    },
    _marshalAnnotatedNodes: function() {
        if (this._notes && this._notes.length) {
            for (var e = new Array(this._notes.length), t = 0; t < this._notes.length; t++)
                e[t] = this._findAnnotatedNode(this.root, this._notes[t]);
            this._nodes = e
        }
    },
    _marshalAnnotatedListeners: function() {
        for (var e, t = 0, i = this._notes.length; t < i && (e = this._notes[t]); t++)
            if (e.events && e.events.length)
                for (var n, r = this._findAnnotatedNode(this.root, e), s = 0, o = e.events; s < o.length && (n = o[s]); s++)
                    this.listen(r, n.name, n.value)
    }
}),
Polymer.Base._addFeature({
    listeners: {},
    _listenListeners: function(e) {
        var t, i, n;
        for (n in e)
            n.indexOf(".") < 0 ? (t = this,
            i = n) : (i = n.split("."),
            t = this.$[i[0]],
            i = i[1]),
            this.listen(t, i, e[n])
    },
    listen: function(e, t, i) {
        var n = this._recallEventHandler(this, t, e, i);
        n || (n = this._createEventHandler(e, t, i)),
        n._listening || (this._listen(e, t, n),
        n._listening = !0)
    },
    _boundListenerKey: function(e, t) {
        return e + ":" + t
    },
    _recordEventHandler: function(e, t, i, n, r) {
        var s = e.__boundListeners;
        s || (s = e.__boundListeners = new WeakMap);
        var o = s.get(i);
        o || (o = {},
        s.set(i, o));
        var a = this._boundListenerKey(t, n);
        o[a] = r
    },
    _recallEventHandler: function(e, t, i, n) {
        var r = e.__boundListeners;
        if (r) {
            var s = r.get(i);
            if (s) {
                var o = this._boundListenerKey(t, n);
                return s[o]
            }
        }
    },
    _createEventHandler: function(e, t, i) {
        var n = this
          , r = function(e) {
            n[i] ? n[i](e, e.detail) : n._warn(n._logf("_createEventHandler", "listener method `" + i + "` not defined"))
        };
        return r._listening = !1,
        this._recordEventHandler(n, t, e, i, r),
        r
    },
    unlisten: function(e, t, i) {
        var n = this._recallEventHandler(this, t, e, i);
        n && (this._unlisten(e, t, n),
        n._listening = !1)
    },
    _listen: function(e, t, i) {
        e.addEventListener(t, i)
    },
    _unlisten: function(e, t, i) {
        e.removeEventListener(t, i)
    }
}),
function() {
    "use strict";
    function e(e) {
        for (var t, i = _ ? ["click"] : g, n = 0; n < i.length; n++)
            t = i[n],
            e ? document.addEventListener(t, b, !0) : document.removeEventListener(t, b, !0)
    }
    function t() {
        S.mouse.mouseIgnoreJob || e(!0);
        var t = function() {
            e(),
            S.mouse.target = null,
            S.mouse.mouseIgnoreJob = null
        };
        S.mouse.mouseIgnoreJob = Polymer.Debounce(S.mouse.mouseIgnoreJob, t, m)
    }
    function i(e) {
        var t = e.type;
        if (g.indexOf(t) === -1)
            return !1;
        if ("mousemove" === t) {
            var i = void 0 === e.buttons ? 1 : e.buttons;
            return e instanceof window.MouseEvent && !v && (i = y[e.which] || 0),
            Boolean(1 & i)
        }
        var n = void 0 === e.button ? 0 : e.button;
        return 0 === n
    }
    function n(e) {
        if ("click" === e.type) {
            if (0 === e.detail)
                return !0;
            var t = E.findOriginalTarget(e)
              , i = t.getBoundingClientRect()
              , n = e.pageX
              , r = e.pageY;
            return !(n >= i.left && n <= i.right && r >= i.top && r <= i.bottom)
        }
        return !1
    }
    function r(e) {
        for (var t, i = Polymer.dom(e).path, n = "auto", r = 0; r < i.length; r++)
            if (t = i[r],
            t[u]) {
                n = t[u];
                break
            }
        return n
    }
    function s(e, t, i) {
        e.movefn = t,
        e.upfn = i,
        document.addEventListener("mousemove", t),
        document.addEventListener("mouseup", i)
    }
    function o(e) {
        document.removeEventListener("mousemove", e.movefn),
        document.removeEventListener("mouseup", e.upfn),
        e.movefn = null,
        e.upfn = null
    }
    var a = Polymer.DomApi.wrap
      , c = "string" == typeof document.head.style.touchAction
      , l = "__polymerGestures"
      , h = "__polymerGesturesHandled"
      , u = "__polymerGesturesTouchAction"
      , d = 25
      , f = 5
      , p = 2
      , m = 2500
      , g = ["mousedown", "mousemove", "mouseup", "click"]
      , y = [0, 1, 4, 2]
      , v = function() {
        try {
            return 1 === new MouseEvent("test",{
                buttons: 1
            }).buttons
        } catch (e) {
            return !1
        }
    }()
      , _ = navigator.userAgent.match(/iP(?:[oa]d|hone)|Android/)
      , b = function(e) {
        var t = e.sourceCapabilities;
        if ((!t || t.firesTouchEvents) && (e[h] = {
            skip: !0
        },
        "click" === e.type)) {
            for (var i = Polymer.dom(e).path, n = 0; n < i.length; n++)
                if (i[n] === S.mouse.target)
                    return;
            e.preventDefault(),
            e.stopPropagation()
        }
    }
      , S = {
        mouse: {
            target: null,
            mouseIgnoreJob: null
        },
        touch: {
            x: 0,
            y: 0,
            id: -1,
            scrollDecided: !1
        }
    }
      , E = {
        gestures: {},
        recognizers: [],
        deepTargetFind: function(e, t) {
            for (var i = document.elementFromPoint(e, t), n = i; n && n.shadowRoot; )
                n = n.shadowRoot.elementFromPoint(e, t),
                n && (i = n);
            return i
        },
        findOriginalTarget: function(e) {
            return e.path ? e.path[0] : e.target
        },
        handleNative: function(e) {
            var i, n = e.type, r = a(e.currentTarget), s = r[l];
            if (s) {
                var o = s[n];
                if (o) {
                    if (!e[h] && (e[h] = {},
                    "touch" === n.slice(0, 5))) {
                        var u = e.changedTouches[0];
                        if ("touchstart" === n && 1 === e.touches.length && (S.touch.id = u.identifier),
                        S.touch.id !== u.identifier)
                            return;
                        c || "touchstart" !== n && "touchmove" !== n || E.handleTouchAction(e),
                        "touchend" === n && (S.mouse.target = Polymer.dom(e).rootTarget,
                        t())
                    }
                    if (i = e[h],
                    !i.skip) {
                        for (var d, f = E.recognizers, p = 0; p < f.length; p++)
                            d = f[p],
                            o[d.name] && !i[d.name] && d.flow && d.flow.start.indexOf(e.type) > -1 && d.reset && d.reset();
                        for (p = 0,
                        d; p < f.length; p++)
                            d = f[p],
                            o[d.name] && !i[d.name] && (i[d.name] = !0,
                            d[n](e))
                    }
                }
            }
        },
        handleTouchAction: function(e) {
            var t = e.changedTouches[0]
              , i = e.type;
            if ("touchstart" === i)
                S.touch.x = t.clientX,
                S.touch.y = t.clientY,
                S.touch.scrollDecided = !1;
            else if ("touchmove" === i) {
                if (S.touch.scrollDecided)
                    return;
                S.touch.scrollDecided = !0;
                var n = r(e)
                  , s = !1
                  , o = Math.abs(S.touch.x - t.clientX)
                  , a = Math.abs(S.touch.y - t.clientY);
                e.cancelable && ("none" === n ? s = !0 : "pan-x" === n ? s = a > o : "pan-y" === n && (s = o > a)),
                s ? e.preventDefault() : E.prevent("track")
            }
        },
        add: function(e, t, i) {
            e = a(e);
            var n = this.gestures[t]
              , r = n.deps
              , s = n.name
              , o = e[l];
            o || (e[l] = o = {});
            for (var c, h, u = 0; u < r.length; u++)
                c = r[u],
                _ && g.indexOf(c) > -1 && "click" !== c || (h = o[c],
                h || (o[c] = h = {
                    _count: 0
                }),
                0 === h._count && e.addEventListener(c, this.handleNative),
                h[s] = (h[s] || 0) + 1,
                h._count = (h._count || 0) + 1);
            e.addEventListener(t, i),
            n.touchAction && this.setTouchAction(e, n.touchAction)
        },
        remove: function(e, t, i) {
            e = a(e);
            var n = this.gestures[t]
              , r = n.deps
              , s = n.name
              , o = e[l];
            if (o)
                for (var c, h, u = 0; u < r.length; u++)
                    c = r[u],
                    h = o[c],
                    h && h[s] && (h[s] = (h[s] || 1) - 1,
                    h._count = (h._count || 1) - 1,
                    0 === h._count && e.removeEventListener(c, this.handleNative));
            e.removeEventListener(t, i)
        },
        register: function(e) {
            this.recognizers.push(e);
            for (var t = 0; t < e.emits.length; t++)
                this.gestures[e.emits[t]] = e
        },
        findRecognizerByEvent: function(e) {
            for (var t, i = 0; i < this.recognizers.length; i++) {
                t = this.recognizers[i];
                for (var n, r = 0; r < t.emits.length; r++)
                    if (n = t.emits[r],
                    n === e)
                        return t
            }
            return null
        },
        setTouchAction: function(e, t) {
            c && (e.style.touchAction = t),
            e[u] = t
        },
        fire: function(e, t, i) {
            var n = Polymer.Base.fire(t, i, {
                node: e,
                bubbles: !0,
                cancelable: !0
            });
            if (n.defaultPrevented) {
                var r = i.preventer || i.sourceEvent;
                r && r.preventDefault && r.preventDefault()
            }
        },
        prevent: function(e) {
            var t = this.findRecognizerByEvent(e);
            t.info && (t.info.prevent = !0)
        },
        resetMouseCanceller: function() {
            S.mouse.mouseIgnoreJob && S.mouse.mouseIgnoreJob.complete()
        }
    };
    E.register({
        name: "downup",
        deps: ["mousedown", "touchstart", "touchend"],
        flow: {
            start: ["mousedown", "touchstart"],
            end: ["mouseup", "touchend"]
        },
        emits: ["down", "up"],
        info: {
            movefn: null,
            upfn: null
        },
        reset: function() {
            o(this.info)
        },
        mousedown: function(e) {
            if (i(e)) {
                var t = E.findOriginalTarget(e)
                  , n = this
                  , r = function(e) {
                    i(e) || (n.fire("up", t, e),
                    o(n.info))
                }
                  , a = function(e) {
                    i(e) && n.fire("up", t, e),
                    o(n.info)
                };
                s(this.info, r, a),
                this.fire("down", t, e)
            }
        },
        touchstart: function(e) {
            this.fire("down", E.findOriginalTarget(e), e.changedTouches[0], e)
        },
        touchend: function(e) {
            this.fire("up", E.findOriginalTarget(e), e.changedTouches[0], e)
        },
        fire: function(e, t, i, n) {
            E.fire(t, e, {
                x: i.clientX,
                y: i.clientY,
                sourceEvent: i,
                preventer: n,
                prevent: function(e) {
                    return E.prevent(e)
                }
            })
        }
    }),
    E.register({
        name: "track",
        touchAction: "none",
        deps: ["mousedown", "touchstart", "touchmove", "touchend"],
        flow: {
            start: ["mousedown", "touchstart"],
            end: ["mouseup", "touchend"]
        },
        emits: ["track"],
        info: {
            x: 0,
            y: 0,
            state: "start",
            started: !1,
            moves: [],
            addMove: function(e) {
                this.moves.length > p && this.moves.shift(),
                this.moves.push(e)
            },
            movefn: null,
            upfn: null,
            prevent: !1
        },
        reset: function() {
            this.info.state = "start",
            this.info.started = !1,
            this.info.moves = [],
            this.info.x = 0,
            this.info.y = 0,
            this.info.prevent = !1,
            o(this.info)
        },
        hasMovedEnough: function(e, t) {
            if (this.info.prevent)
                return !1;
            if (this.info.started)
                return !0;
            var i = Math.abs(this.info.x - e)
              , n = Math.abs(this.info.y - t);
            return i >= f || n >= f
        },
        mousedown: function(e) {
            if (i(e)) {
                var t = E.findOriginalTarget(e)
                  , n = this
                  , r = function(e) {
                    var r = e.clientX
                      , s = e.clientY;
                    n.hasMovedEnough(r, s) && (n.info.state = n.info.started ? "mouseup" === e.type ? "end" : "track" : "start",
                    "start" === n.info.state && E.prevent("tap"),
                    n.info.addMove({
                        x: r,
                        y: s
                    }),
                    i(e) || (n.info.state = "end",
                    o(n.info)),
                    n.fire(t, e),
                    n.info.started = !0)
                }
                  , a = function(e) {
                    n.info.started && r(e),
                    o(n.info)
                };
                s(this.info, r, a),
                this.info.x = e.clientX,
                this.info.y = e.clientY
            }
        },
        touchstart: function(e) {
            var t = e.changedTouches[0];
            this.info.x = t.clientX,
            this.info.y = t.clientY
        },
        touchmove: function(e) {
            var t = E.findOriginalTarget(e)
              , i = e.changedTouches[0]
              , n = i.clientX
              , r = i.clientY;
            this.hasMovedEnough(n, r) && ("start" === this.info.state && E.prevent("tap"),
            this.info.addMove({
                x: n,
                y: r
            }),
            this.fire(t, i),
            this.info.state = "track",
            this.info.started = !0)
        },
        touchend: function(e) {
            var t = E.findOriginalTarget(e)
              , i = e.changedTouches[0];
            this.info.started && (this.info.state = "end",
            this.info.addMove({
                x: i.clientX,
                y: i.clientY
            }),
            this.fire(t, i, e))
        },
        fire: function(e, t, i) {
            var n, r = this.info.moves[this.info.moves.length - 2], s = this.info.moves[this.info.moves.length - 1], o = s.x - this.info.x, a = s.y - this.info.y, c = 0;
            return r && (n = s.x - r.x,
            c = s.y - r.y),
            E.fire(e, "track", {
                state: this.info.state,
                x: t.clientX,
                y: t.clientY,
                dx: o,
                dy: a,
                ddx: n,
                ddy: c,
                sourceEvent: t,
                preventer: i,
                hover: function() {
                    return E.deepTargetFind(t.clientX, t.clientY)
                }
            })
        }
    }),
    E.register({
        name: "tap",
        deps: ["mousedown", "click", "touchstart", "touchend"],
        flow: {
            start: ["mousedown", "touchstart"],
            end: ["click", "touchend"]
        },
        emits: ["tap"],
        info: {
            x: NaN,
            y: NaN,
            prevent: !1
        },
        reset: function() {
            this.info.x = NaN,
            this.info.y = NaN,
            this.info.prevent = !1
        },
        save: function(e) {
            this.info.x = e.clientX,
            this.info.y = e.clientY
        },
        mousedown: function(e) {
            i(e) && this.save(e)
        },
        click: function(e) {
            i(e) && this.forward(e)
        },
        touchstart: function(e) {
            this.save(e.changedTouches[0], e)
        },
        touchend: function(e) {
            this.forward(e.changedTouches[0], e)
        },
        forward: function(e, t) {
            var i = Math.abs(e.clientX - this.info.x)
              , r = Math.abs(e.clientY - this.info.y)
              , s = E.findOriginalTarget(e);
            (isNaN(i) || isNaN(r) || i <= d && r <= d || n(e)) && (this.info.prevent || E.fire(s, "tap", {
                x: e.clientX,
                y: e.clientY,
                sourceEvent: e,
                preventer: t
            }))
        }
    });
    var P = {
        x: "pan-x",
        y: "pan-y",
        none: "none",
        all: "auto"
    };
    Polymer.Base._addFeature({
        _setupGestures: function() {
            this.__polymerGestures = null
        },
        _listen: function(e, t, i) {
            E.gestures[t] ? E.add(e, t, i) : e.addEventListener(t, i)
        },
        _unlisten: function(e, t, i) {
            E.gestures[t] ? E.remove(e, t, i) : e.removeEventListener(t, i)
        },
        setScrollDirection: function(e, t) {
            t = t || this,
            E.setTouchAction(t, P[e] || "auto")
        }
    }),
    Polymer.Gestures = E
}(),
function() {
    "use strict";
    if (Polymer.Base._addFeature({
        $$: function(e) {
            return Polymer.dom(this.root).querySelector(e)
        },
        toggleClass: function(e, t, i) {
            i = i || this,
            1 == arguments.length && (t = !i.classList.contains(e)),
            t ? Polymer.dom(i).classList.add(e) : Polymer.dom(i).classList.remove(e)
        },
        toggleAttribute: function(e, t, i) {
            i = i || this,
            1 == arguments.length && (t = !i.hasAttribute(e)),
            t ? Polymer.dom(i).setAttribute(e, "") : Polymer.dom(i).removeAttribute(e)
        },
        classFollows: function(e, t, i) {
            i && Polymer.dom(i).classList.remove(e),
            t && Polymer.dom(t).classList.add(e)
        },
        attributeFollows: function(e, t, i) {
            i && Polymer.dom(i).removeAttribute(e),
            t && Polymer.dom(t).setAttribute(e, "")
        },
        getEffectiveChildNodes: function() {
            return Polymer.dom(this).getEffectiveChildNodes()
        },
        getEffectiveChildren: function() {
            var e = Polymer.dom(this).getEffectiveChildNodes();
            return e.filter(function(e) {
                return e.nodeType === Node.ELEMENT_NODE
            })
        },
        getEffectiveTextContent: function() {
            for (var e, t = this.getEffectiveChildNodes(), i = [], n = 0; e = t[n]; n++)
                e.nodeType !== Node.COMMENT_NODE && i.push(Polymer.dom(e).textContent);
            return i.join("")
        },
        queryEffectiveChildren: function(e) {
            var t = Polymer.dom(this).queryDistributedElements(e);
            return t && t[0]
        },
        queryAllEffectiveChildren: function(e) {
            return Polymer.dom(this).queryDistributedElements(e)
        },
        getContentChildNodes: function(e) {
            var t = Polymer.dom(this.root).querySelector(e || "content");
            return t ? Polymer.dom(t).getDistributedNodes() : []
        },
        getContentChildren: function(e) {
            return this.getContentChildNodes(e).filter(function(e) {
                return e.nodeType === Node.ELEMENT_NODE
            })
        },
        fire: function(e, t, i) {
            i = i || Polymer.nob;
            var n = i.node || this;
            t = null === t || void 0 === t ? {} : t;
            var r = void 0 === i.bubbles || i.bubbles
              , s = Boolean(i.cancelable)
              , o = i._useCache
              , a = this._getEvent(e, r, s, o);
            return a.detail = t,
            o && (this.__eventCache[e] = null),
            n.dispatchEvent(a),
            o && (this.__eventCache[e] = a),
            a
        },
        __eventCache: {},
        _getEvent: function(e, t, i, n) {
            var r = n && this.__eventCache[e];
            return r && r.bubbles == t && r.cancelable == i || (r = new Event(e,{
                bubbles: Boolean(t),
                cancelable: i
            })),
            r
        },
        async: function(e, t) {
            var i = this;
            return Polymer.Async.run(function() {
                e.call(i)
            }, t)
        },
        cancelAsync: function(e) {
            Polymer.Async.cancel(e)
        },
        arrayDelete: function(e, t) {
            var i;
            if (Array.isArray(e)) {
                if (i = e.indexOf(t),
                i >= 0)
                    return e.splice(i, 1)
            } else {
                var n = this._get(e);
                if (i = n.indexOf(t),
                i >= 0)
                    return this.splice(e, i, 1)
            }
        },
        transform: function(e, t) {
            t = t || this,
            t.style.webkitTransform = e,
            t.style.transform = e
        },
        translate3d: function(e, t, i, n) {
            n = n || this,
            this.transform("translate3d(" + e + "," + t + "," + i + ")", n)
        },
        importHref: function(e, t, i, n) {
            var r = document.createElement("link");
            r.rel = "import",
            r.href = e;
            var s = Polymer.Base.importHref.imported = Polymer.Base.importHref.imported || {}
              , o = s[r.href]
              , a = o || r
              , c = this;
            if (t) {
                var l = function(e) {
                    return e.target.__firedLoad = !0,
                    e.target.removeEventListener("load", l),
                    t.call(c, e)
                };
                a.addEventListener("load", l)
            }
            if (i) {
                var h = function(e) {
                    return e.target.__firedError = !0,
                    e.target.removeEventListener("error", h),
                    i.call(c, e)
                };
                a.addEventListener("error", h)
            }
            return o ? (o.__firedLoad && o.dispatchEvent(new Event("load")),
            o.__firedError && o.dispatchEvent(new Event("error"))) : (s[r.href] = r,
            n = Boolean(n),
            n && r.setAttribute("async", ""),
            document.head.appendChild(r)),
            a
        },
        create: function(e, t) {
            var i = document.createElement(e);
            if (t)
                for (var n in t)
                    i[n] = t[n];
            return i
        },
        isLightDescendant: function(e) {
            return this !== e && this.contains(e) && Polymer.dom(this).getOwnerRoot() === Polymer.dom(e).getOwnerRoot()
        },
        isLocalDescendant: function(e) {
            return this.root === Polymer.dom(e).getOwnerRoot()
        }
    }),
    !Polymer.Settings.useNativeCustomElements) {
        var e = Polymer.Base.importHref;
        Polymer.Base.importHref = function(t, i, n, r) {
            CustomElements.ready = !1;
            var s = function(e) {
                if (CustomElements.upgradeDocumentTree(document),
                CustomElements.ready = !0,
                i)
                    return i.call(this, e)
            };
            return e.call(this, t, s, n, r)
        }
    }
}(),
Polymer.Bind = {
    prepareModel: function(e) {
        Polymer.Base.mixin(e, this._modelApi)
    },
    _modelApi: {
        _notifyChange: function(e, t, i) {
            i = void 0 === i ? this[e] : i,
            t = t || Polymer.CaseMap.camelToDashCase(e) + "-changed",
            this.fire(t, {
                value: i
            }, {
                bubbles: !1,
                cancelable: !1,
                _useCache: !0
            })
        },
        _propertySetter: function(e, t, i, n) {
            var r = this.__data__[e];
            return r === t || r !== r && t !== t || (this.__data__[e] = t,
            "object" == typeof t && this._clearPath(e),
            this._propertyChanged && this._propertyChanged(e, t, r),
            i && this._effectEffects(e, t, i, r, n)),
            r
        },
        __setProperty: function(e, t, i, n) {
            n = n || this;
            var r = n._propertyEffects && n._propertyEffects[e];
            r ? n._propertySetter(e, t, r, i) : n[e] !== t && (n[e] = t)
        },
        _effectEffects: function(e, t, i, n, r) {
            for (var s, o = 0, a = i.length; o < a && (s = i[o]); o++)
                s.fn.call(this, e, this[e], s.effect, n, r)
        },
        _clearPath: function(e) {
            for (var t in this.__data__)
                Polymer.Path.isDescendant(e, t) && (this.__data__[t] = void 0)
        }
    },
    ensurePropertyEffects: function(e, t) {
        e._propertyEffects || (e._propertyEffects = {});
        var i = e._propertyEffects[t];
        return i || (i = e._propertyEffects[t] = []),
        i
    },
    addPropertyEffect: function(e, t, i, n) {
        var r = this.ensurePropertyEffects(e, t)
          , s = {
            kind: i,
            effect: n,
            fn: Polymer.Bind["_" + i + "Effect"]
        };
        return r.push(s),
        s
    },
    createBindings: function(e) {
        var t = e._propertyEffects;
        if (t)
            for (var i in t) {
                var n = t[i];
                n.sort(this._sortPropertyEffects),
                this._createAccessors(e, i, n)
            }
    },
    _sortPropertyEffects: function() {
        var e = {
            compute: 0,
            annotation: 1,
            annotatedComputation: 2,
            reflect: 3,
            notify: 4,
            observer: 5,
            complexObserver: 6,
            "function": 7
        };
        return function(t, i) {
            return e[t.kind] - e[i.kind]
        }
    }(),
    _createAccessors: function(e, t, i) {
        var n = {
            get: function() {
                return this.__data__[t]
            }
        }
          , r = function(e) {
            this._propertySetter(t, e, i)
        }
          , s = e.getPropertyInfo && e.getPropertyInfo(t);
        s && s.readOnly ? s.computed || (e["_set" + this.upper(t)] = r) : n.set = r,
        Object.defineProperty(e, t, n)
    },
    upper: function(e) {
        return e[0].toUpperCase() + e.substring(1)
    },
    _addAnnotatedListener: function(e, t, i, n, r, s) {
        e._bindListeners || (e._bindListeners = []);
        var o = this._notedListenerFactory(i, n, Polymer.Path.isDeep(n), s)
          , a = r || Polymer.CaseMap.camelToDashCase(i) + "-changed";
        e._bindListeners.push({
            index: t,
            property: i,
            path: n,
            changedFn: o,
            event: a
        })
    },
    _isEventBogus: function(e, t) {
        return e.path && e.path[0] !== t
    },
    _notedListenerFactory: function(e, t, i, n) {
        return function(r, s, o) {
            if (o) {
                var a = Polymer.Path.translate(e, t, o);
                this._notifyPath(a, s)
            } else
                s = r[e],
                n && (s = !s),
                i ? this.__data__[t] != s && this.set(t, s) : this[t] = s
        }
    },
    prepareInstance: function(e) {
        e.__data__ = Object.create(null)
    },
    setupBindListeners: function(e) {
        for (var t, i = e._bindListeners, n = 0, r = i.length; n < r && (t = i[n]); n++) {
            var s = e._nodes[t.index];
            this._addNotifyListener(s, e, t.event, t.changedFn)
        }
    },
    _addNotifyListener: function(e, t, i, n) {
        e.addEventListener(i, function(e) {
            return t._notifyListener(n, e)
        })
    }
},
Polymer.Base.extend(Polymer.Bind, {
    _shouldAddListener: function(e) {
        return e.name && "attribute" != e.kind && "text" != e.kind && !e.isCompound && "{" === e.parts[0].mode
    },
    _annotationEffect: function(e, t, i) {
        e != i.value && (t = this._get(i.value),
        this.__data__[i.value] = t),
        this._applyEffectValue(i, t)
    },
    _reflectEffect: function(e, t, i) {
        this.reflectPropertyToAttribute(e, i.attribute, t)
    },
    _notifyEffect: function(e, t, i, n, r) {
        r || this._notifyChange(e, i.event, t)
    },
    _functionEffect: function(e, t, i, n, r) {
        i.call(this, e, t, n, r)
    },
    _observerEffect: function(e, t, i, n) {
        var r = this[i.method];
        r ? r.call(this, t, n) : this._warn(this._logf("_observerEffect", "observer method `" + i.method + "` not defined"))
    },
    _complexObserverEffect: function(e, t, i) {
        var n = this[i.method];
        if (n) {
            var r = Polymer.Bind._marshalArgs(this.__data__, i, e, t);
            r && n.apply(this, r)
        } else
            i.dynamicFn || this._warn(this._logf("_complexObserverEffect", "observer method `" + i.method + "` not defined"))
    },
    _computeEffect: function(e, t, i) {
        var n = this[i.method];
        if (n) {
            var r = Polymer.Bind._marshalArgs(this.__data__, i, e, t);
            if (r) {
                var s = n.apply(this, r);
                this.__setProperty(i.name, s)
            }
        } else
            i.dynamicFn || this._warn(this._logf("_computeEffect", "compute method `" + i.method + "` not defined"))
    },
    _annotatedComputationEffect: function(e, t, i) {
        var n = this._rootDataHost || this
          , r = n[i.method];
        if (r) {
            var s = Polymer.Bind._marshalArgs(this.__data__, i, e, t);
            if (s) {
                var o = r.apply(n, s);
                this._applyEffectValue(i, o)
            }
        } else
            i.dynamicFn || n._warn(n._logf("_annotatedComputationEffect", "compute method `" + i.method + "` not defined"))
    },
    _marshalArgs: function(e, t, i, n) {
        for (var r = [], s = t.args, o = s.length > 1 || t.dynamicFn, a = 0, c = s.length; a < c; a++) {
            var l, h = s[a], u = h.name;
            if (h.literal ? l = h.value : i === u ? l = n : (l = e[u],
            void 0 === l && h.structured && (l = Polymer.Base._get(u, e))),
            o && void 0 === l)
                return;
            if (h.wildcard) {
                var d = Polymer.Path.isAncestor(i, u);
                r[a] = {
                    path: d ? i : u,
                    value: d ? n : l,
                    base: l
                }
            } else
                r[a] = l
        }
        return r
    }
}),
Polymer.Base._addFeature({
    _addPropertyEffect: function(e, t, i) {
        var n = Polymer.Bind.addPropertyEffect(this, e, t, i);
        n.pathFn = this["_" + n.kind + "PathEffect"]
    },
    _prepEffects: function() {
        Polymer.Bind.prepareModel(this),
        this._addAnnotationEffects(this._notes)
    },
    _prepBindings: function() {
        Polymer.Bind.createBindings(this)
    },
    _addPropertyEffects: function(e) {
        if (e)
            for (var t in e) {
                var i = e[t];
                if (i.observer && this._addObserverEffect(t, i.observer),
                i.computed && (i.readOnly = !0,
                this._addComputedEffect(t, i.computed)),
                i.notify && this._addPropertyEffect(t, "notify", {
                    event: Polymer.CaseMap.camelToDashCase(t) + "-changed"
                }),
                i.reflectToAttribute) {
                    var n = Polymer.CaseMap.camelToDashCase(t);
                    "-" === n[0] ? this._warn(this._logf("_addPropertyEffects", "Property " + t + " cannot be reflected to attribute " + n + ' because "-" is not a valid starting attribute name. Use a lowercase first letter for the property instead.')) : this._addPropertyEffect(t, "reflect", {
                        attribute: n
                    })
                }
                i.readOnly && Polymer.Bind.ensurePropertyEffects(this, t)
            }
    },
    _addComputedEffect: function(e, t) {
        for (var i, n = this._parseMethod(t), r = n.dynamicFn, s = 0; s < n.args.length && (i = n.args[s]); s++)
            this._addPropertyEffect(i.model, "compute", {
                method: n.method,
                args: n.args,
                trigger: i,
                name: e,
                dynamicFn: r
            });
        r && this._addPropertyEffect(n.method, "compute", {
            method: n.method,
            args: n.args,
            trigger: null,
            name: e,
            dynamicFn: r
        })
    },
    _addObserverEffect: function(e, t) {
        this._addPropertyEffect(e, "observer", {
            method: t,
            property: e
        })
    },
    _addComplexObserverEffects: function(e) {
        if (e)
            for (var t, i = 0; i < e.length && (t = e[i]); i++)
                this._addComplexObserverEffect(t)
    },
    _addComplexObserverEffect: function(e) {
        var t = this._parseMethod(e);
        if (!t)
            throw new Error("Malformed observer expression '" + e + "'");
        for (var i, n = t.dynamicFn, r = 0; r < t.args.length && (i = t.args[r]); r++)
            this._addPropertyEffect(i.model, "complexObserver", {
                method: t.method,
                args: t.args,
                trigger: i,
                dynamicFn: n
            });
        n && this._addPropertyEffect(t.method, "complexObserver", {
            method: t.method,
            args: t.args,
            trigger: null,
            dynamicFn: n
        })
    },
    _addAnnotationEffects: function(e) {
        for (var t, i = 0; i < e.length && (t = e[i]); i++)
            for (var n, r = t.bindings, s = 0; s < r.length && (n = r[s]); s++)
                this._addAnnotationEffect(n, i)
    },
    _addAnnotationEffect: function(e, t) {
        Polymer.Bind._shouldAddListener(e) && Polymer.Bind._addAnnotatedListener(this, t, e.name, e.parts[0].value, e.parts[0].event, e.parts[0].negate);
        for (var i = 0; i < e.parts.length; i++) {
            var n = e.parts[i];
            n.signature ? this._addAnnotatedComputationEffect(e, n, t) : n.literal || ("attribute" === e.kind && "-" === e.name[0] ? this._warn(this._logf("_addAnnotationEffect", "Cannot set attribute " + e.name + ' because "-" is not a valid attribute starting character')) : this._addPropertyEffect(n.model, "annotation", {
                kind: e.kind,
                index: t,
                name: e.name,
                propertyName: e.propertyName,
                value: n.value,
                isCompound: e.isCompound,
                compoundIndex: n.compoundIndex,
                event: n.event,
                customEvent: n.customEvent,
                negate: n.negate
            }))
        }
    },
    _addAnnotatedComputationEffect: function(e, t, i) {
        var n = t.signature;
        if (n["static"])
            this.__addAnnotatedComputationEffect("__static__", i, e, t, null);
        else {
            for (var r, s = 0; s < n.args.length && (r = n.args[s]); s++)
                r.literal || this.__addAnnotatedComputationEffect(r.model, i, e, t, r);
            n.dynamicFn && this.__addAnnotatedComputationEffect(n.method, i, e, t, null)
        }
    },
    __addAnnotatedComputationEffect: function(e, t, i, n, r) {
        this._addPropertyEffect(e, "annotatedComputation", {
            index: t,
            isCompound: i.isCompound,
            compoundIndex: n.compoundIndex,
            kind: i.kind,
            name: i.name,
            negate: n.negate,
            method: n.signature.method,
            args: n.signature.args,
            trigger: r,
            dynamicFn: n.signature.dynamicFn
        })
    },
    _parseMethod: function(e) {
        var t = e.match(/([^\s]+?)\(([\s\S]*)\)/);
        if (t) {
            var i = {
                method: t[1],
                "static": !0
            };
            if (this.getPropertyInfo(i.method) !== Polymer.nob && (i["static"] = !1,
            i.dynamicFn = !0),
            t[2].trim()) {
                var n = t[2].replace(/\\,/g, "&comma;").split(",");
                return this._parseArgs(n, i)
            }
            return i.args = Polymer.nar,
            i
        }
    },
    _parseArgs: function(e, t) {
        return t.args = e.map(function(e) {
            var i = this._parseArg(e);
            return i.literal || (t["static"] = !1),
            i
        }, this),
        t
    },
    _parseArg: function(e) {
        var t = e.trim().replace(/&comma;/g, ",").replace(/\\(.)/g, "$1")
          , i = {
            name: t
        }
          , n = t[0];
        switch ("-" === n && (n = t[1]),
        n >= "0" && n <= "9" && (n = "#"),
        n) {
        case "'":
        case '"':
            i.value = t.slice(1, -1),
            i.literal = !0;
            break;
        case "#":
            i.value = Number(t),
            i.literal = !0
        }
        return i.literal || (i.model = Polymer.Path.root(t),
        i.structured = Polymer.Path.isDeep(t),
        i.structured && (i.wildcard = ".*" == t.slice(-2),
        i.wildcard && (i.name = t.slice(0, -2)))),
        i
    },
    _marshalInstanceEffects: function() {
        Polymer.Bind.prepareInstance(this),
        this._bindListeners && Polymer.Bind.setupBindListeners(this)
    },
    _applyEffectValue: function(e, t) {
        var i = this._nodes[e.index]
          , n = e.name;
        if (t = this._computeFinalAnnotationValue(i, n, t, e),
        "attribute" == e.kind)
            this.serializeValueToAttribute(t, n, i);
        else {
            var r = i._propertyInfo && i._propertyInfo[n];
            if (r && r.readOnly)
                return;
            this.__setProperty(n, t, !1, i)
        }
    },
    _computeFinalAnnotationValue: function(e, t, i, n) {
        if (n.negate && (i = !i),
        n.isCompound) {
            var r = e.__compoundStorage__[t];
            r[n.compoundIndex] = i,
            i = r.join("")
        }
        return "attribute" !== n.kind && ("className" === t && (i = this._scopeElementClass(e, i)),
        ("textContent" === t || "input" == e.localName && "value" == t) && (i = void 0 == i ? "" : i)),
        i
    },
    _executeStaticEffects: function() {
        this._propertyEffects && this._propertyEffects.__static__ && this._effectEffects("__static__", null, this._propertyEffects.__static__)
    }
}),
function() {
    var e = Polymer.Settings.usePolyfillProto;
    Polymer.Base._addFeature({
        _setupConfigure: function(e) {
            if (this._config = {},
            this._handlers = [],
            this._aboveConfig = null,
            e)
                for (var t in e)
                    void 0 !== e[t] && (this._config[t] = e[t])
        },
        _marshalAttributes: function() {
            this._takeAttributesToModel(this._config)
        },
        _attributeChangedImpl: function(e) {
            var t = this._clientsReadied ? this : this._config;
            this._setAttributeToProperty(t, e)
        },
        _configValue: function(e, t) {
            var i = this._propertyInfo[e];
            i && i.readOnly || (this._config[e] = t)
        },
        _beforeClientsReady: function() {
            this._configure()
        },
        _configure: function() {
            this._configureAnnotationReferences(),
            this._configureInstanceProperties(),
            this._aboveConfig = this.mixin({}, this._config);
            for (var e = {}, t = 0; t < this.behaviors.length; t++)
                this._configureProperties(this.behaviors[t].properties, e);
            this._configureProperties(this.properties, e),
            this.mixin(e, this._aboveConfig),
            this._config = e,
            this._clients && this._clients.length && this._distributeConfig(this._config)
        },
        _configureInstanceProperties: function() {
            for (var t in this._propertyEffects)
                !e && this.hasOwnProperty(t) && (this._configValue(t, this[t]),
                delete this[t])
        },
        _configureProperties: function(e, t) {
            for (var i in e) {
                var n = e[i];
                if (void 0 !== n.value) {
                    var r = n.value;
                    "function" == typeof r && (r = r.call(this, this._config)),
                    t[i] = r
                }
            }
        },
        _distributeConfig: function(e) {
            var t = this._propertyEffects;
            if (t)
                for (var i in e) {
                    var n = t[i];
                    if (n)
                        for (var r, s = 0, o = n.length; s < o && (r = n[s]); s++)
                            if ("annotation" === r.kind) {
                                var a = this._nodes[r.effect.index]
                                  , c = r.effect.propertyName
                                  , l = "attribute" == r.effect.kind
                                  , h = a._propertyEffects && a._propertyEffects[c];
                                if (a._configValue && (h || !l)) {
                                    var u = i === r.effect.value ? e[i] : this._get(r.effect.value, e);
                                    u = this._computeFinalAnnotationValue(a, c, u, r.effect),
                                    l && (u = a.deserialize(this.serialize(u), a._propertyInfo[c].type)),
                                    a._configValue(c, u)
                                }
                            }
                }
        },
        _afterClientsReady: function() {
            this._executeStaticEffects(),
            this._applyConfig(this._config, this._aboveConfig),
            this._flushHandlers()
        },
        _applyConfig: function(e, t) {
            for (var i in e)
                void 0 === this[i] && this.__setProperty(i, e[i], i in t)
        },
        _notifyListener: function(e, t) {
            if (!Polymer.Bind._isEventBogus(t, t.target)) {
                var i, n;
                if (t.detail && (i = t.detail.value,
                n = t.detail.path),
                this._clientsReadied)
                    return e.call(this, t.target, i, n);
                this._queueHandler([e, t.target, i, n])
            }
        },
        _queueHandler: function(e) {
            this._handlers.push(e)
        },
        _flushHandlers: function() {
            for (var e, t = this._handlers, i = 0, n = t.length; i < n && (e = t[i]); i++)
                e[0].call(this, e[1], e[2], e[3]);
            this._handlers = []
        }
    })
}(),
function() {
    "use strict";
    var e = Polymer.Path;
    Polymer.Base._addFeature({
        notifyPath: function(e, t, i) {
            var n = {}
              , r = this._get(e, this, n);
            1 === arguments.length && (t = r),
            n.path && this._notifyPath(n.path, t, i)
        },
        _notifyPath: function(e, t, i) {
            var n = this._propertySetter(e, t);
            if (n !== t && (n === n || t === t))
                return this._pathEffector(e, t),
                i || this._notifyPathUp(e, t),
                !0
        },
        _getPathParts: function(e) {
            if (Array.isArray(e)) {
                for (var t = [], i = 0; i < e.length; i++)
                    for (var n = e[i].toString().split("."), r = 0; r < n.length; r++)
                        t.push(n[r]);
                return t
            }
            return e.toString().split(".")
        },
        set: function(e, t, i) {
            var n, r = i || this, s = this._getPathParts(e), o = s[s.length - 1];
            if (s.length > 1) {
                for (var a = 0; a < s.length - 1; a++) {
                    var c = s[a];
                    if (n && "#" == c[0] ? r = Polymer.Collection.get(n).getItem(c) : (r = r[c],
                    n && parseInt(c, 10) == c && (s[a] = Polymer.Collection.get(n).getKey(r))),
                    !r)
                        return;
                    n = Array.isArray(r) ? r : null
                }
                if (n) {
                    var l, h, u = Polymer.Collection.get(n);
                    "#" == o[0] ? (h = o,
                    l = u.getItem(h),
                    o = n.indexOf(l),
                    u.setItem(h, t)) : parseInt(o, 10) == o && (l = r[o],
                    h = u.getKey(l),
                    s[a] = h,
                    u.setItem(h, t))
                }
                r[o] = t,
                i || this._notifyPath(s.join("."), t)
            } else
                r[e] = t
        },
        get: function(e, t) {
            return this._get(e, t)
        },
        _get: function(e, t, i) {
            for (var n, r = t || this, s = this._getPathParts(e), o = 0; o < s.length; o++) {
                if (!r)
                    return;
                var a = s[o];
                n && "#" == a[0] ? r = Polymer.Collection.get(n).getItem(a) : (r = r[a],
                i && n && parseInt(a, 10) == a && (s[o] = Polymer.Collection.get(n).getKey(r))),
                n = Array.isArray(r) ? r : null
            }
            return i && (i.path = s.join(".")),
            r
        },
        _pathEffector: function(t, i) {
            var n = e.root(t)
              , r = this._propertyEffects && this._propertyEffects[n];
            if (r)
                for (var s, o = 0; o < r.length && (s = r[o]); o++) {
                    var a = s.pathFn;
                    a && a.call(this, t, i, s.effect)
                }
            this._boundPaths && this._notifyBoundPaths(t, i)
        },
        _annotationPathEffect: function(t, i, n) {
            if (e.matches(n.value, !1, t))
                Polymer.Bind._annotationEffect.call(this, t, i, n);
            else if (!n.negate && e.isDescendant(n.value, t)) {
                var r = this._nodes[n.index];
                if (r && r._notifyPath) {
                    var s = e.translate(n.value, n.name, t);
                    r._notifyPath(s, i, !0)
                }
            }
        },
        _complexObserverPathEffect: function(t, i, n) {
            e.matches(n.trigger.name, n.trigger.wildcard, t) && Polymer.Bind._complexObserverEffect.call(this, t, i, n)
        },
        _computePathEffect: function(t, i, n) {
            e.matches(n.trigger.name, n.trigger.wildcard, t) && Polymer.Bind._computeEffect.call(this, t, i, n)
        },
        _annotatedComputationPathEffect: function(t, i, n) {
            e.matches(n.trigger.name, n.trigger.wildcard, t) && Polymer.Bind._annotatedComputationEffect.call(this, t, i, n)
        },
        linkPaths: function(e, t) {
            this._boundPaths = this._boundPaths || {},
            t ? this._boundPaths[e] = t : this.unlinkPaths(e)
        },
        unlinkPaths: function(e) {
            this._boundPaths && delete this._boundPaths[e]
        },
        _notifyBoundPaths: function(t, i) {
            for (var n in this._boundPaths) {
                var r = this._boundPaths[n];
                e.isDescendant(n, t) ? this._notifyPath(e.translate(n, r, t), i) : e.isDescendant(r, t) && this._notifyPath(e.translate(r, n, t), i)
            }
        },
        _notifyPathUp: function(t, i) {
            var n = e.root(t)
              , r = Polymer.CaseMap.camelToDashCase(n)
              , s = r + this._EVENT_CHANGED;
            this.fire(s, {
                path: t,
                value: i
            }, {
                bubbles: !1,
                _useCache: !0
            })
        },
        _EVENT_CHANGED: "-changed",
        notifySplices: function(e, t) {
            var i = {}
              , n = this._get(e, this, i);
            this._notifySplices(n, i.path, t)
        },
        _notifySplices: function(e, t, i) {
            var n = {
                keySplices: Polymer.Collection.applySplices(e, i),
                indexSplices: i
            }
              , r = t + ".splices";
            this._notifyPath(r, n),
            this._notifyPath(t + ".length", e.length),
            this.__data__[r] = {
                keySplices: null,
                indexSplices: null
            }
        },
        _notifySplice: function(e, t, i, n, r) {
            this._notifySplices(e, t, [{
                index: i,
                addedCount: n,
                removed: r,
                object: e,
                type: "splice"
            }])
        },
        push: function(e) {
            var t = {}
              , i = this._get(e, this, t)
              , n = Array.prototype.slice.call(arguments, 1)
              , r = i.length
              , s = i.push.apply(i, n);
            return n.length && this._notifySplice(i, t.path, r, n.length, []),
            s
        },
        pop: function(e) {
            var t = {}
              , i = this._get(e, this, t)
              , n = Boolean(i.length)
              , r = Array.prototype.slice.call(arguments, 1)
              , s = i.pop.apply(i, r);
            return n && this._notifySplice(i, t.path, i.length, 0, [s]),
            s
        },
        splice: function(e, t) {
            var i = {}
              , n = this._get(e, this, i);
            t = t < 0 ? n.length - Math.floor(-t) : Math.floor(t),
            t || (t = 0);
            var r = Array.prototype.slice.call(arguments, 1)
              , s = n.splice.apply(n, r)
              , o = Math.max(r.length - 2, 0);
            return (o || s.length) && this._notifySplice(n, i.path, t, o, s),
            s
        },
        shift: function(e) {
            var t = {}
              , i = this._get(e, this, t)
              , n = Boolean(i.length)
              , r = Array.prototype.slice.call(arguments, 1)
              , s = i.shift.apply(i, r);
            return n && this._notifySplice(i, t.path, 0, 0, [s]),
            s
        },
        unshift: function(e) {
            var t = {}
              , i = this._get(e, this, t)
              , n = Array.prototype.slice.call(arguments, 1)
              , r = i.unshift.apply(i, n);
            return n.length && this._notifySplice(i, t.path, 0, n.length, []),
            r
        },
        prepareModelNotifyPath: function(e) {
            this.mixin(e, {
                fire: Polymer.Base.fire,
                _getEvent: Polymer.Base._getEvent,
                __eventCache: Polymer.Base.__eventCache,
                notifyPath: Polymer.Base.notifyPath,
                _get: Polymer.Base._get,
                _EVENT_CHANGED: Polymer.Base._EVENT_CHANGED,
                _notifyPath: Polymer.Base._notifyPath,
                _notifyPathUp: Polymer.Base._notifyPathUp,
                _pathEffector: Polymer.Base._pathEffector,
                _annotationPathEffect: Polymer.Base._annotationPathEffect,
                _complexObserverPathEffect: Polymer.Base._complexObserverPathEffect,
                _annotatedComputationPathEffect: Polymer.Base._annotatedComputationPathEffect,
                _computePathEffect: Polymer.Base._computePathEffect,
                _notifyBoundPaths: Polymer.Base._notifyBoundPaths,
                _getPathParts: Polymer.Base._getPathParts
            })
        }
    })
}(),
Polymer.Base._addFeature({
    resolveUrl: function(e) {
        var t = Polymer.DomModule["import"](this.is)
          , i = "";
        if (t) {
            var n = t.getAttribute("assetpath") || "";
            i = Polymer.ResolveUrl.resolveUrl(n, t.ownerDocument.baseURI)
        }
        return Polymer.ResolveUrl.resolveUrl(e, i)
    }
}),
Polymer.CssParse = function() {
    return {
        parse: function(e) {
            return e = this._clean(e),
            this._parseCss(this._lex(e), e)
        },
        _clean: function(e) {
            return e.replace(this._rx.comments, "").replace(this._rx.port, "")
        },
        _lex: function(e) {
            for (var t = {
                start: 0,
                end: e.length
            }, i = t, n = 0, r = e.length; n < r; n++)
                switch (e[n]) {
                case this.OPEN_BRACE:
                    i.rules || (i.rules = []);
                    var s = i
                      , o = s.rules[s.rules.length - 1];
                    i = {
                        start: n + 1,
                        parent: s,
                        previous: o
                    },
                    s.rules.push(i);
                    break;
                case this.CLOSE_BRACE:
                    i.end = n + 1,
                    i = i.parent || t
                }
            return t
        },
        _parseCss: function(e, t) {
            var i = t.substring(e.start, e.end - 1);
            if (e.parsedCssText = e.cssText = i.trim(),
            e.parent) {
                var n = e.previous ? e.previous.end : e.parent.start;
                i = t.substring(n, e.start - 1),
                i = this._expandUnicodeEscapes(i),
                i = i.replace(this._rx.multipleSpaces, " "),
                i = i.substring(i.lastIndexOf(";") + 1);
                var r = e.parsedSelector = e.selector = i.trim();
                e.atRule = 0 === r.indexOf(this.AT_START),
                e.atRule ? 0 === r.indexOf(this.MEDIA_START) ? e.type = this.types.MEDIA_RULE : r.match(this._rx.keyframesRule) && (e.type = this.types.KEYFRAMES_RULE,
                e.keyframesName = e.selector.split(this._rx.multipleSpaces).pop()) : 0 === r.indexOf(this.VAR_START) ? e.type = this.types.MIXIN_RULE : e.type = this.types.STYLE_RULE
            }
            var s = e.rules;
            if (s)
                for (var o, a = 0, c = s.length; a < c && (o = s[a]); a++)
                    this._parseCss(o, t);
            return e
        },
        _expandUnicodeEscapes: function(e) {
            return e.replace(/\\([0-9a-f]{1,6})\s/gi, function() {
                for (var e = arguments[1], t = 6 - e.length; t--; )
                    e = "0" + e;
                return "\\" + e
            })
        },
        stringify: function(e, t, i) {
            i = i || "";
            var n = "";
            if (e.cssText || e.rules) {
                var r = e.rules;
                if (r && !this._hasMixinRules(r))
                    for (var s, o = 0, a = r.length; o < a && (s = r[o]); o++)
                        n = this.stringify(s, t, n);
                else
                    n = t ? e.cssText : this.removeCustomProps(e.cssText),
                    n = n.trim(),
                    n && (n = "  " + n + "\n")
            }
            return n && (e.selector && (i += e.selector + " " + this.OPEN_BRACE + "\n"),
            i += n,
            e.selector && (i += this.CLOSE_BRACE + "\n\n")),
            i
        },
        _hasMixinRules: function(e) {
            return 0 === e[0].selector.indexOf(this.VAR_START)
        },
        removeCustomProps: function(e) {
            return e = this.removeCustomPropAssignment(e),
            this.removeCustomPropApply(e)
        },
        removeCustomPropAssignment: function(e) {
            return e.replace(this._rx.customProp, "").replace(this._rx.mixinProp, "")
        },
        removeCustomPropApply: function(e) {
            return e.replace(this._rx.mixinApply, "").replace(this._rx.varApply, "")
        },
        types: {
            STYLE_RULE: 1,
            KEYFRAMES_RULE: 7,
            MEDIA_RULE: 4,
            MIXIN_RULE: 1e3
        },
        OPEN_BRACE: "{",
        CLOSE_BRACE: "}",
        _rx: {
            comments: /\/\*[^*]*\*+([^\/*][^*]*\*+)*\//gim,
            port: /@import[^;]*;/gim,
            customProp: /(?:^[^;\-\s}]+)?--[^;{}]*?:[^{};]*?(?:[;\n]|$)/gim,
            mixinProp: /(?:^[^;\-\s}]+)?--[^;{}]*?:[^{};]*?{[^}]*?}(?:[;\n]|$)?/gim,
            mixinApply: /@apply\s*\(?[^);]*\)?\s*(?:[;\n]|$)?/gim,
            varApply: /[^;:]*?:[^;]*?var\([^;]*\)(?:[;\n]|$)?/gim,
            keyframesRule: /^@[^\s]*keyframes/,
            multipleSpaces: /\s+/g
        },
        VAR_START: "--",
        MEDIA_START: "@media",
        AT_START: "@"
    }
}(),
Polymer.StyleUtil = function() {
    var e = Polymer.Settings;
    return {
        NATIVE_VARIABLES: Polymer.Settings.useNativeCSSProperties,
        MODULE_STYLES_SELECTOR: "style, link[rel=import][type~=css], template",
        INCLUDE_ATTR: "include",
        toCssText: function(e, t) {
            return "string" == typeof e && (e = this.parser.parse(e)),
            t && this.forEachRule(e, t),
            this.parser.stringify(e, this.NATIVE_VARIABLES)
        },
        forRulesInStyles: function(e, t, i) {
            if (e)
                for (var n, r = 0, s = e.length; r < s && (n = e[r]); r++)
                    this.forEachRuleInStyle(n, t, i)
        },
        forActiveRulesInStyles: function(e, t, i) {
            if (e)
                for (var n, r = 0, s = e.length; r < s && (n = e[r]); r++)
                    this.forEachRuleInStyle(n, t, i, !0)
        },
        rulesForStyle: function(e) {
            return !e.__cssRules && e.textContent && (e.__cssRules = this.parser.parse(e.textContent)),
            e.__cssRules
        },
        isKeyframesSelector: function(e) {
            return e.parent && e.parent.type === this.ruleTypes.KEYFRAMES_RULE
        },
        forEachRuleInStyle: function(e, t, i, n) {
            var r, s, o = this.rulesForStyle(e);
            t && (r = function(i) {
                t(i, e)
            }
            ),
            i && (s = function(t) {
                i(t, e)
            }
            ),
            this.forEachRule(o, r, s, n)
        },
        forEachRule: function(e, t, i, n) {
            if (e) {
                var r = !1;
                if (n && e.type === this.ruleTypes.MEDIA_RULE) {
                    var s = e.selector.match(this.rx.MEDIA_MATCH);
                    s && (window.matchMedia(s[1]).matches || (r = !0))
                }
                e.type === this.ruleTypes.STYLE_RULE ? t(e) : i && e.type === this.ruleTypes.KEYFRAMES_RULE ? i(e) : e.type === this.ruleTypes.MIXIN_RULE && (r = !0);
                var o = e.rules;
                if (o && !r)
                    for (var a, c = 0, l = o.length; c < l && (a = o[c]); c++)
                        this.forEachRule(a, t, i, n)
            }
        },
        applyCss: function(e, t, i, n) {
            var r = this.createScopeStyle(e, t);
            return this.applyStyle(r, i, n)
        },
        applyStyle: function(e, t, i) {
            t = t || document.head;
            var n = i && i.nextSibling || t.firstChild;
            return this.__lastHeadApplyNode = e,
            t.insertBefore(e, n)
        },
        createScopeStyle: function(e, t) {
            var i = document.createElement("style");
            return t && i.setAttribute("scope", t),
            i.textContent = e,
            i
        },
        __lastHeadApplyNode: null,
        applyStylePlaceHolder: function(e) {
            var t = document.createComment(" Shady DOM styles for " + e + " ")
              , i = this.__lastHeadApplyNode ? this.__lastHeadApplyNode.nextSibling : null
              , n = document.head;
            return n.insertBefore(t, i || n.firstChild),
            this.__lastHeadApplyNode = t,
            t
        },
        cssFromModules: function(e, t) {
            for (var i = e.trim().split(" "), n = "", r = 0; r < i.length; r++)
                n += this.cssFromModule(i[r], t);
            return n
        },
        cssFromModule: function(e, t) {
            var i = Polymer.DomModule["import"](e);
            return i && !i._cssText && (i._cssText = this.cssFromElement(i)),
            !i && t && console.warn("Could not find style data in module named", e),
            i && i._cssText || ""
        },
        cssFromElement: function(e) {
            for (var t, i = "", n = e.content || e, r = Polymer.TreeApi.arrayCopy(n.querySelectorAll(this.MODULE_STYLES_SELECTOR)), s = 0; s < r.length; s++)
                if (t = r[s],
                "template" === t.localName)
                    t.hasAttribute("preserve-content") || (i += this.cssFromElement(t));
                else if ("style" === t.localName) {
                    var o = t.getAttribute(this.INCLUDE_ATTR);
                    o && (i += this.cssFromModules(o, !0)),
                    t = t.__appliedElement || t,
                    t.parentNode.removeChild(t),
                    i += this.resolveCss(t.textContent, e.ownerDocument)
                } else
                    t["import"] && t["import"].body && (i += this.resolveCss(t["import"].body.textContent, t["import"]));
            return i
        },
        isTargetedBuild: function(t) {
            return e.useNativeShadow ? "shadow" === t : "shady" === t
        },
        cssBuildTypeForModule: function(e) {
            var t = Polymer.DomModule["import"](e);
            if (t)
                return this.getCssBuildType(t)
        },
        getCssBuildType: function(e) {
            return e.getAttribute("css-build")
        },
        _findMatchingParen: function(e, t) {
            for (var i = 0, n = t, r = e.length; n < r; n++)
                switch (e[n]) {
                case "(":
                    i++;
                    break;
                case ")":
                    if (0 === --i)
                        return n
                }
            return -1
        },
        processVariableAndFallback: function(e, t) {
            var i = e.indexOf("var(");
            if (i === -1)
                return t(e, "", "", "");
            var n = this._findMatchingParen(e, i + 3)
              , r = e.substring(i + 4, n)
              , s = e.substring(0, i)
              , o = this.processVariableAndFallback(e.substring(n + 1), t)
              , a = r.indexOf(",");
            if (a === -1)
                return t(s, r.trim(), "", o);
            var c = r.substring(0, a).trim()
              , l = r.substring(a + 1).trim();
            return t(s, c, l, o)
        },
        rx: {
            VAR_ASSIGN: /(?:^|[;\s{]\s*)(--[\w-]*?)\s*:\s*(?:([^;{]*)|{([^}]*)})(?:(?=[;\s}])|$)/gi,
            MIXIN_MATCH: /(?:^|\W+)@apply\s*\(?([^);\n]*)\)?/gi,
            VAR_CONSUMED: /(--[\w-]+)\s*([:,;)]|$)/gi,
            ANIMATION_MATCH: /(animation\s*:)|(animation-name\s*:)/,
            MEDIA_MATCH: /@media[^(]*(\([^)]*\))/,
            IS_VAR: /^--/,
            BRACKETED: /\{[^}]*\}/g,
            HOST_PREFIX: "(?:^|[^.#[:])",
            HOST_SUFFIX: "($|[.:[\\s>+~])"
        },
        resolveCss: Polymer.ResolveUrl.resolveCss,
        parser: Polymer.CssParse,
        ruleTypes: Polymer.CssParse.types
    }
}(),
Polymer.StyleTransformer = function() {
    var e = Polymer.StyleUtil
      , t = Polymer.Settings
      , i = {
        dom: function(e, t, i, n) {
            this._transformDom(e, t || "", i, n)
        },
        _transformDom: function(e, t, i, n) {
            e.setAttribute && this.element(e, t, i, n);
            for (var r = Polymer.dom(e).childNodes, s = 0; s < r.length; s++)
                this._transformDom(r[s], t, i, n)
        },
        element: function(e, t, i, r) {
            if (i)
                r ? e.removeAttribute(n) : e.setAttribute(n, t);
            else if (t)
                if (e.classList)
                    r ? (e.classList.remove(n),
                    e.classList.remove(t)) : (e.classList.add(n),
                    e.classList.add(t));
                else if (e.getAttribute) {
                    var s = e.getAttribute(_);
                    r ? s && e.setAttribute(_, s.replace(n, "").replace(t, "")) : e.setAttribute(_, (s ? s + " " : "") + n + " " + t)
                }
        },
        elementStyles: function(i, n) {
            var r, s = i._styles, o = "", a = i.__cssBuild, c = t.useNativeShadow || "shady" === a;
            if (c) {
                var h = this;
                r = function(e) {
                    e.selector = h._slottedToContent(e.selector),
                    e.selector = e.selector.replace(l, ":host > *"),
                    n && n(e)
                }
            }
            for (var u, d = 0, f = s.length; d < f && (u = s[d]); d++) {
                var p = e.rulesForStyle(u);
                o += c ? e.toCssText(p, r) : this.css(p, i.is, i["extends"], n, i._scopeCssViaAttr) + "\n\n"
            }
            return o.trim()
        },
        css: function(t, i, n, r, s) {
            var o = this._calcHostScope(i, n);
            i = this._calcElementScope(i, s);
            var a = this;
            return e.toCssText(t, function(e) {
                e.isScoped || (a.rule(e, i, o),
                e.isScoped = !0),
                r && r(e, i, o)
            })
        },
        _calcElementScope: function(e, t) {
            return e ? t ? g + e + y : m + e : ""
        },
        _calcHostScope: function(e, t) {
            return t ? "[is=" + e + "]" : e
        },
        rule: function(e, t, i) {
            this._transformRule(e, this._transformComplexSelector, t, i)
        },
        _transformRule: function(e, t, i, n) {
            e.selector = e.transformedSelector = this._transformRuleCss(e, t, i, n)
        },
        _transformRuleCss: function(t, i, n, r) {
            var o = t.selector.split(s);
            if (!e.isKeyframesSelector(t))
                for (var a, c = 0, l = o.length; c < l && (a = o[c]); c++)
                    o[c] = i.call(this, a, n, r);
            return o.join(s)
        },
        _transformComplexSelector: function(e, t, i) {
            var n = !1
              , r = !1
              , a = this;
            return e = e.trim(),
            e = this._slottedToContent(e),
            e = e.replace(l, ":host > *"),
            e = e.replace(b, c + " $1"),
            e = e.replace(o, function(e, s, o) {
                if (n)
                    o = o.replace(p, " ");
                else {
                    var c = a._transformCompoundSelector(o, s, t, i);
                    n = n || c.stop,
                    r = r || c.hostContext,
                    s = c.combinator,
                    o = c.value
                }
                return s + o
            }),
            r && (e = e.replace(d, function(e, t, n, r) {
                return t + n + " " + i + r + s + " " + t + i + n + r
            })),
            e
        },
        _transformCompoundSelector: function(e, t, i, n) {
            var r = e.search(p)
              , s = !1;
            e.indexOf(u) >= 0 ? s = !0 : e.indexOf(c) >= 0 ? e = this._transformHostSelector(e, n) : 0 !== r && (e = i ? this._transformSimpleSelector(e, i) : e),
            e.indexOf(f) >= 0 && (t = "");
            var o;
            return r >= 0 && (e = e.replace(p, " "),
            o = !0),
            {
                value: e,
                combinator: t,
                stop: o,
                hostContext: s
            }
        },
        _transformSimpleSelector: function(e, t) {
            var i = e.split(v);
            return i[0] += t,
            i.join(v)
        },
        _transformHostSelector: function(e, t) {
            var i = e.match(h)
              , n = i && i[2].trim() || "";
            if (n) {
                if (n[0].match(a))
                    return e.replace(h, function(e, i, n) {
                        return t + n
                    });
                var r = n.split(a)[0];
                return r === t ? n : S
            }
            return e.replace(c, t)
        },
        documentRule: function(e) {
            e.selector = e.parsedSelector,
            this.normalizeRootSelector(e),
            t.useNativeShadow || this._transformRule(e, this._transformDocumentSelector)
        },
        normalizeRootSelector: function(e) {
            e.selector = e.selector.replace(l, "html")
        },
        _transformDocumentSelector: function(e) {
            return e.match(p) ? this._transformComplexSelector(e, r) : this._transformSimpleSelector(e.trim(), r)
        },
        _slottedToContent: function(e) {
            return e.replace(E, f + "> $1")
        },
        SCOPE_NAME: "style-scope"
    }
      , n = i.SCOPE_NAME
      , r = ":not([" + n + "]):not(." + n + ")"
      , s = ","
      , o = /(^|[\s>+~]+)((?:\[.+?\]|[^\s>+~=\[])+)/g
      , a = /[[.:#*]/
      , c = ":host"
      , l = ":root"
      , h = /(:host)(?:\(((?:\([^)(]*\)|[^)(]*)+?)\))/
      , u = ":host-context"
      , d = /(.*)(?::host-context)(?:\(((?:\([^)(]*\)|[^)(]*)+?)\))(.*)/
      , f = "::content"
      , p = /::content|::shadow|\/deep\//
      , m = "."
      , g = "[" + n + "~="
      , y = "]"
      , v = ":"
      , _ = "class"
      , b = new RegExp("^(" + f + ")")
      , S = "should_not_match"
      , E = /(?:::slotted)(?:\(((?:\([^)(]*\)|[^)(]*)+?)\))/g;
    return i
}(),
Polymer.StyleExtends = function() {
    var e = Polymer.StyleUtil;
    return {
        hasExtends: function(e) {
            return Boolean(e.match(this.rx.EXTEND))
        },
        transform: function(t) {
            var i = e.rulesForStyle(t)
              , n = this;
            return e.forEachRule(i, function(e) {
                if (n._mapRuleOntoParent(e),
                e.parent)
                    for (var t; t = n.rx.EXTEND.exec(e.cssText); ) {
                        var i = t[1]
                          , r = n._findExtendor(i, e);
                        r && n._extendRule(e, r)
                    }
                e.cssText = e.cssText.replace(n.rx.EXTEND, "")
            }),
            e.toCssText(i, function(e) {
                e.selector.match(n.rx.STRIP) && (e.cssText = "")
            }, !0)
        },
        _mapRuleOntoParent: function(e) {
            if (e.parent) {
                for (var t, i = e.parent.map || (e.parent.map = {}), n = e.selector.split(","), r = 0; r < n.length; r++)
                    t = n[r],
                    i[t.trim()] = e;
                return i
            }
        },
        _findExtendor: function(e, t) {
            return t.parent && t.parent.map && t.parent.map[e] || this._findExtendor(e, t.parent)
        },
        _extendRule: function(e, t) {
            e.parent !== t.parent && this._cloneAndAddRuleToParent(t, e.parent),
            e["extends"] = e["extends"] || [],
            e["extends"].push(t),
            t.selector = t.selector.replace(this.rx.STRIP, ""),
            t.selector = (t.selector && t.selector + ",\n") + e.selector,
            t["extends"] && t["extends"].forEach(function(t) {
                this._extendRule(e, t)
            }, this)
        },
        _cloneAndAddRuleToParent: function(e, t) {
            e = Object.create(e),
            e.parent = t,
            e["extends"] && (e["extends"] = e["extends"].slice()),
            t.rules.push(e)
        },
        rx: {
            EXTEND: /@extends\(([^)]*)\)\s*?;/gim,
            STRIP: /%[^,]*$/
        }
    }
}(),
Polymer.ApplyShim = function() {
    "use strict";
    function e(e, t) {
        e = e.trim(),
        g[e] = {
            properties: t,
            dependants: {}
        }
    }
    function t(e) {
        return e = e.trim(),
        g[e]
    }
    function i(e, t) {
        var i = p.exec(t);
        return i && (t = i[1] ? y._getInitialValueForProperty(e) : "apply-shim-inherit"),
        t
    }
    function n(e) {
        for (var t, n, r, s, o = e.split(";"), a = {}, c = 0; c < o.length; c++)
            r = o[c],
            r && (s = r.split(":"),
            s.length > 1 && (t = s[0].trim(),
            n = i(t, s.slice(1).join(":")),
            a[t] = n));
        return a
    }
    function r(e) {
        var t = y.__currentElementProto
          , i = t && t.is;
        for (var n in e.dependants)
            n !== i && (e.dependants[n].__applyShimInvalid = !0)
    }
    function s(i, s, o, a) {
        if (o && l.processVariableAndFallback(o, function(e, i) {
            i && t(i) && (a = "@apply " + i + ";")
        }),
        !a)
            return i;
        var h = c(a)
          , u = i.slice(0, i.indexOf("--"))
          , d = n(h)
          , f = d
          , p = t(s)
          , g = p && p.properties;
        g ? (f = Object.create(g),
        f = Polymer.Base.mixin(f, d)) : e(s, f);
        var y, v, _ = [], b = !1;
        for (y in f)
            v = d[y],
            void 0 === v && (v = "initial"),
            !g || y in g || (b = !0),
            _.push(s + m + y + ": " + v);
        return b && r(p),
        p && (p.properties = f),
        o && (u = i + ";" + u),
        u + _.join("; ") + ";"
    }
    function o(e, t, i) {
        return "var(" + t + ",var(" + i + "))"
    }
    function a(i, n) {
        i = i.replace(f, "");
        var r = []
          , s = t(i);
        if (s || (e(i, {}),
        s = t(i)),
        s) {
            var o = y.__currentElementProto;
            o && (s.dependants[o.is] = o);
            var a, c, l;
            for (a in s.properties)
                l = n && n[a],
                c = [a, ": var(", i, m, a],
                l && c.push(",", l),
                c.push(")"),
                r.push(c.join(""))
        }
        return r.join("; ")
    }
    function c(e) {
        for (var t; t = h.exec(e); ) {
            var i = t[0]
              , r = t[1]
              , s = t.index
              , o = s + i.indexOf("@apply")
              , c = s + i.length
              , l = e.slice(0, o)
              , u = e.slice(c)
              , d = n(l)
              , f = a(r, d);
            e = [l, f, u].join(""),
            h.lastIndex = s + f.length
        }
        return e
    }
    var l = Polymer.StyleUtil
      , h = l.rx.MIXIN_MATCH
      , u = l.rx.VAR_ASSIGN
      , d = /var\(\s*(--[^,]*),\s*(--[^)]*)\)/g
      , f = /;\s*/m
      , p = /^\s*(initial)|(inherit)\s*$/
      , m = "_-_"
      , g = {}
      , y = {
        _measureElement: null,
        _map: g,
        _separator: m,
        transform: function(e, t) {
            this.__currentElementProto = t,
            l.forRulesInStyles(e, this._boundFindDefinitions),
            l.forRulesInStyles(e, this._boundFindApplications),
            t && (t.__applyShimInvalid = !1),
            this.__currentElementProto = null
        },
        _findDefinitions: function(e) {
            var t = e.parsedCssText;
            t = t.replace(d, o),
            t = t.replace(u, s),
            e.cssText = t,
            ":root" === e.selector && (e.selector = ":host > *")
        },
        _findApplications: function(e) {
            e.cssText = c(e.cssText)
        },
        transformRule: function(e) {
            this._findDefinitions(e),
            this._findApplications(e)
        },
        _getInitialValueForProperty: function(e) {
            return this._measureElement || (this._measureElement = document.createElement("meta"),
            this._measureElement.style.all = "initial",
            document.head.appendChild(this._measureElement)),
            window.getComputedStyle(this._measureElement).getPropertyValue(e)
        }
    };
    return y._boundTransformRule = y.transformRule.bind(y),
    y._boundFindDefinitions = y._findDefinitions.bind(y),
    y._boundFindApplications = y._findApplications.bind(y),
    y
}(),
function() {
    var e = Polymer.Base._prepElement
      , t = Polymer.Settings.useNativeShadow
      , i = Polymer.StyleUtil
      , n = Polymer.StyleTransformer
      , r = Polymer.StyleExtends
      , s = Polymer.ApplyShim
      , o = Polymer.Settings;
    Polymer.Base._addFeature({
        _prepElement: function(t) {
            this._encapsulateStyle && "shady" !== this.__cssBuild && n.element(t, this.is, this._scopeCssViaAttr),
            e.call(this, t)
        },
        _prepStyles: function() {
            void 0 === this._encapsulateStyle && (this._encapsulateStyle = !t),
            t || (this._scopeStyle = i.applyStylePlaceHolder(this.is)),
            this.__cssBuild = i.cssBuildTypeForModule(this.is)
        },
        _prepShimStyles: function() {
            if (this._template) {
                var e = i.isTargetedBuild(this.__cssBuild);
                if (o.useNativeCSSProperties && "shadow" === this.__cssBuild && e)
                    return;
                this._styles = this._styles || this._collectStyles(),
                o.useNativeCSSProperties && !this.__cssBuild && s.transform(this._styles, this);
                var r = o.useNativeCSSProperties && e ? this._styles.length && this._styles[0].textContent.trim() : n.elementStyles(this);
                this._prepStyleProperties(),
                !this._needsStyleProperties() && r && i.applyCss(r, this.is, t ? this._template.content : null, this._scopeStyle)
            } else
                this._styles = []
        },
        _collectStyles: function() {
            var e = []
              , t = ""
              , n = this.styleModules;
            if (n)
                for (var s, o = 0, a = n.length; o < a && (s = n[o]); o++)
                    t += i.cssFromModule(s);
            t += i.cssFromModule(this.is);
            var c = this._template && this._template.parentNode;
            if (!this._template || c && c.id.toLowerCase() === this.is || (t += i.cssFromElement(this._template)),
            t) {
                var l = document.createElement("style");
                l.textContent = t,
                r.hasExtends(l.textContent) && (t = r.transform(l)),
                e.push(l)
            }
            return e
        },
        _elementAdd: function(e) {
            this._encapsulateStyle && (e.__styleScoped ? e.__styleScoped = !1 : n.dom(e, this.is, this._scopeCssViaAttr))
        },
        _elementRemove: function(e) {
            this._encapsulateStyle && n.dom(e, this.is, this._scopeCssViaAttr, !0)
        },
        scopeSubtree: function(e, i) {
            if (!t) {
                var n = this
                  , r = function(e) {
                    if (e.nodeType === Node.ELEMENT_NODE) {
                        var t = e.getAttribute("class");
                        e.setAttribute("class", n._scopeElementClass(e, t));
                        for (var i, r = e.querySelectorAll("*"), s = 0; s < r.length && (i = r[s]); s++)
                            t = i.getAttribute("class"),
                            i.setAttribute("class", n._scopeElementClass(i, t))
                    }
                };
                if (r(e),
                i) {
                    var s = new MutationObserver(function(e) {
                        for (var t, i = 0; i < e.length && (t = e[i]); i++)
                            if (t.addedNodes)
                                for (var n = 0; n < t.addedNodes.length; n++)
                                    r(t.addedNodes[n])
                    }
                    );
                    return s.observe(e, {
                        childList: !0,
                        subtree: !0
                    }),
                    s
                }
            }
        }
    })
}(),
Polymer.StyleProperties = function() {
    "use strict";
    function e(e, t) {
        var i = parseInt(e / 32)
          , n = 1 << e % 32;
        t[i] = (t[i] || 0) | n
    }
    var t = Polymer.DomApi.matchesSelector
      , i = Polymer.StyleUtil
      , n = Polymer.StyleTransformer
      , r = navigator.userAgent.match("Trident")
      , s = Polymer.Settings;
    return {
        decorateStyles: function(e, t) {
            var r = this
              , s = {}
              , o = []
              , a = 0
              , c = n._calcHostScope(t.is, t["extends"]);
            i.forRulesInStyles(e, function(e, n) {
                r.decorateRule(e),
                e.index = a++,
                r.whenHostOrRootRule(t, e, n, function(n) {
                    if (e.parent.type === i.ruleTypes.MEDIA_RULE && (t.__notStyleScopeCacheable = !0),
                    n.isHost) {
                        var r = n.selector.split(" ").some(function(e) {
                            return 0 === e.indexOf(c) && e.length !== c.length
                        });
                        t.__notStyleScopeCacheable = t.__notStyleScopeCacheable || r
                    }
                }),
                r.collectPropertiesInCssText(e.propertyInfo.cssText, s)
            }, function(e) {
                o.push(e)
            }),
            e._keyframes = o;
            var l = [];
            for (var h in s)
                l.push(h);
            return l
        },
        decorateRule: function(e) {
            if (e.propertyInfo)
                return e.propertyInfo;
            var t = {}
              , i = {}
              , n = this.collectProperties(e, i);
            return n && (t.properties = i,
            e.rules = null),
            t.cssText = this.collectCssText(e),
            e.propertyInfo = t,
            t
        },
        collectProperties: function(e, t) {
            var i = e.propertyInfo;
            if (!i) {
                for (var n, r, s, o = this.rx.VAR_ASSIGN, a = e.parsedCssText; n = o.exec(a); )
                    r = (n[2] || n[3]).trim(),
                    "inherit" !== r && (t[n[1].trim()] = r),
                    s = !0;
                return s
            }
            if (i.properties)
                return Polymer.Base.mixin(t, i.properties),
                !0
        },
        collectCssText: function(e) {
            return this.collectConsumingCssText(e.parsedCssText)
        },
        collectConsumingCssText: function(e) {
            return e.replace(this.rx.BRACKETED, "").replace(this.rx.VAR_ASSIGN, "")
        },
        collectPropertiesInCssText: function(e, t) {
            for (var i; i = this.rx.VAR_CONSUMED.exec(e); ) {
                var n = i[1];
                ":" !== i[2] && (t[n] = !0)
            }
        },
        reify: function(e) {
            for (var t, i = Object.getOwnPropertyNames(e), n = 0; n < i.length; n++)
                t = i[n],
                e[t] = this.valueForProperty(e[t], e)
        },
        valueForProperty: function(e, t) {
            if (e)
                if (e.indexOf(";") >= 0)
                    e = this.valueForProperties(e, t);
                else {
                    var n = this
                      , r = function(e, i, r, s) {
                        var o = n.valueForProperty(t[i], t);
                        return o && "initial" !== o ? "apply-shim-inherit" === o && (o = "inherit") : o = n.valueForProperty(t[r] || r, t) || r,
                        e + (o || "") + s
                    };
                    e = i.processVariableAndFallback(e, r)
                }
            return e && e.trim() || ""
        },
        valueForProperties: function(e, t) {
            for (var i, n, r = e.split(";"), s = 0; s < r.length; s++)
                if (i = r[s]) {
                    if (this.rx.MIXIN_MATCH.lastIndex = 0,
                    n = this.rx.MIXIN_MATCH.exec(i))
                        i = this.valueForProperty(t[n[1]], t);
                    else {
                        var o = i.indexOf(":");
                        if (o !== -1) {
                            var a = i.substring(o);
                            a = a.trim(),
                            a = this.valueForProperty(a, t) || a,
                            i = i.substring(0, o) + a
                        }
                    }
                    r[s] = i && i.lastIndexOf(";") === i.length - 1 ? i.slice(0, -1) : i || ""
                }
            return r.join(";")
        },
        applyProperties: function(e, t) {
            var i = "";
            e.propertyInfo || this.decorateRule(e),
            e.propertyInfo.cssText && (i = this.valueForProperties(e.propertyInfo.cssText, t)),
            e.cssText = i
        },
        applyKeyframeTransforms: function(e, t) {
            var i = e.cssText
              , n = e.cssText;
            if (null == e.hasAnimations && (e.hasAnimations = this.rx.ANIMATION_MATCH.test(i)),
            e.hasAnimations) {
                var r;
                if (null == e.keyframeNamesToTransform) {
                    e.keyframeNamesToTransform = [];
                    for (var s in t)
                        r = t[s],
                        n = r(i),
                        i !== n && (i = n,
                        e.keyframeNamesToTransform.push(s))
                } else {
                    for (var o = 0; o < e.keyframeNamesToTransform.length; ++o)
                        r = t[e.keyframeNamesToTransform[o]],
                        i = r(i);
                    n = i
                }
            }
            e.cssText = n
        },
        propertyDataFromStyles: function(n, r) {
            var s = {}
              , o = this
              , a = [];
            return i.forActiveRulesInStyles(n, function(i) {
                i.propertyInfo || o.decorateRule(i);
                var n = i.transformedSelector || i.parsedSelector;
                r && i.propertyInfo.properties && n && t.call(r, n) && (o.collectProperties(i, s),
                e(i.index, a))
            }),
            {
                properties: s,
                key: a
            }
        },
        _rootSelector: /:root|:host\s*>\s*\*/,
        _checkRoot: function(e, t) {
            return Boolean(t.match(this._rootSelector)) || "html" === e && t.indexOf("html") > -1
        },
        whenHostOrRootRule: function(e, t, i, r) {
            if (t.propertyInfo || self.decorateRule(t),
            t.propertyInfo.properties) {
                var o = e.is ? n._calcHostScope(e.is, e["extends"]) : "html"
                  , a = t.parsedSelector
                  , c = this._checkRoot(o, a)
                  , l = !c && 0 === a.indexOf(":host")
                  , h = e.__cssBuild || i.__cssBuild;
                if ("shady" === h && (c = a === o + " > *." + o || a.indexOf("html") > -1,
                l = !c && 0 === a.indexOf(o)),
                c || l) {
                    var u = o;
                    l && (s.useNativeShadow && !t.transformedSelector && (t.transformedSelector = n._transformRuleCss(t, n._transformComplexSelector, e.is, o)),
                    u = t.transformedSelector || t.parsedSelector),
                    c && "html" === o && (u = t.transformedSelector || t.parsedSelector),
                    r({
                        selector: u,
                        isHost: l,
                        isRoot: c
                    })
                }
            }
        },
        hostAndRootPropertiesForScope: function(e) {
            var n = {}
              , r = {}
              , s = this;
            return i.forActiveRulesInStyles(e._styles, function(i, o) {
                s.whenHostOrRootRule(e, i, o, function(o) {
                    var a = e._element || e;
                    t.call(a, o.selector) && (o.isHost ? s.collectProperties(i, n) : s.collectProperties(i, r))
                })
            }),
            {
                rootProps: r,
                hostProps: n
            }
        },
        transformStyles: function(e, t, i) {
            var r = this
              , o = n._calcHostScope(e.is, e["extends"])
              , a = e["extends"] ? "\\" + o.slice(0, -1) + "\\]" : o
              , c = new RegExp(this.rx.HOST_PREFIX + a + this.rx.HOST_SUFFIX)
              , l = this._elementKeyframeTransforms(e, i);
            return n.elementStyles(e, function(n) {
                r.applyProperties(n, t),
                s.useNativeShadow || Polymer.StyleUtil.isKeyframesSelector(n) || !n.cssText || (r.applyKeyframeTransforms(n, l),
                r._scopeSelector(n, c, o, e._scopeCssViaAttr, i))
            })
        },
        _elementKeyframeTransforms: function(e, t) {
            var i = e._styles._keyframes
              , n = {};
            if (!s.useNativeShadow && i)
                for (var r = 0, o = i[r]; r < i.length; o = i[++r])
                    this._scopeKeyframes(o, t),
                    n[o.keyframesName] = this._keyframesRuleTransformer(o);
            return n
        },
        _keyframesRuleTransformer: function(e) {
            return function(t) {
                return t.replace(e.keyframesNameRx, e.transformedKeyframesName)
            }
        },
        _scopeKeyframes: function(e, t) {
            e.keyframesNameRx = new RegExp(e.keyframesName,"g"),
            e.transformedKeyframesName = e.keyframesName + "-" + t,
            e.transformedSelector = e.transformedSelector || e.selector,
            e.selector = e.transformedSelector.replace(e.keyframesName, e.transformedKeyframesName)
        },
        _scopeSelector: function(e, t, i, r, s) {
            e.transformedSelector = e.transformedSelector || e.selector;
            for (var o, a = e.transformedSelector, c = r ? "[" + n.SCOPE_NAME + "~=" + s + "]" : "." + s, l = a.split(","), h = 0, u = l.length; h < u && (o = l[h]); h++)
                l[h] = o.match(t) ? o.replace(i, c) : c + " " + o;
            e.selector = l.join(",")
        },
        applyElementScopeSelector: function(e, t, i, r) {
            var s = r ? e.getAttribute(n.SCOPE_NAME) : e.getAttribute("class") || ""
              , o = i ? s.replace(i, t) : (s ? s + " " : "") + this.XSCOPE_NAME + " " + t;
            s !== o && (r ? e.setAttribute(n.SCOPE_NAME, o) : e.setAttribute("class", o))
        },
        applyElementStyle: function(e, t, n, o) {
            var a = o ? o.textContent || "" : this.transformStyles(e, t, n)
              , c = e._customStyle;
            return c && !s.useNativeShadow && c !== o && (c._useCount--,
            c._useCount <= 0 && c.parentNode && c.parentNode.removeChild(c)),
            s.useNativeShadow ? e._customStyle ? (e._customStyle.textContent = a,
            o = e._customStyle) : a && (o = i.applyCss(a, n, e.root, e._scopeStyle)) : o ? o.parentNode || (r && a.indexOf("@media") > -1 && (o.textContent = a),
            i.applyStyle(o, null, e._scopeStyle)) : a && (o = i.applyCss(a, n, null, e._scopeStyle)),
            o && (o._useCount = o._useCount || 0,
            e._customStyle != o && o._useCount++,
            e._customStyle = o),
            o
        },
        mixinCustomStyle: function(e, t) {
            var i;
            for (var n in t)
                i = t[n],
                (i || 0 === i) && (e[n] = i)
        },
        updateNativeStyleProperties: function(e, t) {
            var i = e.__customStyleProperties;
            if (i)
                for (var n = 0; n < i.length; n++)
                    e.style.removeProperty(i[n]);
            var r = [];
            for (var s in t)
                null !== t[s] && (e.style.setProperty(s, t[s]),
                r.push(s));
            e.__customStyleProperties = r
        },
        rx: i.rx,
        XSCOPE_NAME: "x-scope"
    }
}(),
function() {
    Polymer.StyleCache = function() {
        this.cache = {}
    }
    ,
    Polymer.StyleCache.prototype = {
        MAX: 100,
        store: function(e, t, i, n) {
            t.keyValues = i,
            t.styles = n;
            var r = this.cache[e] = this.cache[e] || [];
            r.push(t),
            r.length > this.MAX && r.shift()
        },
        retrieve: function(e, t, i) {
            var n = this.cache[e];
            if (n)
                for (var r, s = n.length - 1; s >= 0; s--)
                    if (r = n[s],
                    i === r.styles && this._objectsEqual(t, r.keyValues))
                        return r
        },
        clear: function() {
            this.cache = {}
        },
        _objectsEqual: function(e, t) {
            var i, n;
            for (var r in e)
                if (i = e[r],
                n = t[r],
                !("object" == typeof i && i ? this._objectsStrictlyEqual(i, n) : i === n))
                    return !1;
            return !Array.isArray(e) || e.length === t.length
        },
        _objectsStrictlyEqual: function(e, t) {
            return this._objectsEqual(e, t) && this._objectsEqual(t, e)
        }
    }
}(),
Polymer.StyleDefaults = function() {
    var e = Polymer.StyleProperties
      , t = Polymer.StyleCache
      , i = Polymer.Settings.useNativeCSSProperties
      , n = {
        _styles: [],
        _properties: null,
        customStyle: {},
        _styleCache: new t,
        _element: Polymer.DomApi.wrap(document.documentElement),
        addStyle: function(e) {
            this._styles.push(e),
            this._properties = null
        },
        get _styleProperties() {
            return this._properties || (e.decorateStyles(this._styles, this),
            this._styles._scopeStyleProperties = null,
            this._properties = e.hostAndRootPropertiesForScope(this).rootProps,
            e.mixinCustomStyle(this._properties, this.customStyle),
            e.reify(this._properties)),
            this._properties
        },
        hasStyleProperties: function() {
            return Boolean(this._properties)
        },
        _needsStyleProperties: function() {},
        _computeStyleProperties: function() {
            return this._styleProperties
        },
        updateStyles: function(t) {
            this._properties = null,
            t && Polymer.Base.mixin(this.customStyle, t),
            this._styleCache.clear();
            for (var n, r = 0; r < this._styles.length; r++)
                n = this._styles[r],
                n = n.__importElement || n,
                n._apply();
            i && e.updateNativeStyleProperties(document.documentElement, this.customStyle)
        }
    };
    return n
}(),
function() {
    "use strict";
    var e = Polymer.Base.serializeValueToAttribute
      , t = Polymer.StyleProperties
      , i = Polymer.StyleTransformer
      , n = Polymer.StyleDefaults
      , r = Polymer.Settings.useNativeShadow
      , s = Polymer.Settings.useNativeCSSProperties;
    Polymer.Base._addFeature({
        _prepStyleProperties: function() {
            s || (this._ownStylePropertyNames = this._styles && this._styles.length ? t.decorateStyles(this._styles, this) : null)
        },
        customStyle: null,
        getComputedStyleValue: function(e) {
            return !s && this._styleProperties && this._styleProperties[e] || getComputedStyle(this).getPropertyValue(e)
        },
        _setupStyleProperties: function() {
            this.customStyle = {},
            this._styleCache = null,
            this._styleProperties = null,
            this._scopeSelector = null,
            this._ownStyleProperties = null,
            this._customStyle = null
        },
        _needsStyleProperties: function() {
            return Boolean(!s && this._ownStylePropertyNames && this._ownStylePropertyNames.length)
        },
        _validateApplyShim: function() {
            if (this.__applyShimInvalid) {
                Polymer.ApplyShim.transform(this._styles, this.__proto__);
                var e = i.elementStyles(this);
                if (r) {
                    var t = this._template.content.querySelector("style");
                    t && (t.textContent = e)
                } else {
                    var n = this._scopeStyle && this._scopeStyle.nextSibling;
                    n && (n.textContent = e)
                }
            }
        },
        _beforeAttached: function() {
            this._scopeSelector && !this.__stylePropertiesInvalid || !this._needsStyleProperties() || (this.__stylePropertiesInvalid = !1,
            this._updateStyleProperties())
        },
        _findStyleHost: function() {
            for (var e, t = this; e = Polymer.dom(t).getOwnerRoot(); ) {
                if (Polymer.isInstance(e.host))
                    return e.host;
                t = e.host
            }
            return n
        },
        _updateStyleProperties: function() {
            var e, i = this._findStyleHost();
            i._styleProperties || i._computeStyleProperties(),
            i._styleCache || (i._styleCache = new Polymer.StyleCache);
            var n = t.propertyDataFromStyles(i._styles, this)
              , s = !this.__notStyleScopeCacheable;
            s && (n.key.customStyle = this.customStyle,
            e = i._styleCache.retrieve(this.is, n.key, this._styles));
            var a = Boolean(e);
            a ? this._styleProperties = e._styleProperties : this._computeStyleProperties(n.properties),
            this._computeOwnStyleProperties(),
            a || (e = o.retrieve(this.is, this._ownStyleProperties, this._styles));
            var c = Boolean(e) && !a
              , l = this._applyStyleProperties(e);
            a || (l = l && r ? l.cloneNode(!0) : l,
            e = {
                style: l,
                _scopeSelector: this._scopeSelector,
                _styleProperties: this._styleProperties
            },
            s && (n.key.customStyle = {},
            this.mixin(n.key.customStyle, this.customStyle),
            i._styleCache.store(this.is, e, n.key, this._styles)),
            c || o.store(this.is, Object.create(e), this._ownStyleProperties, this._styles))
        },
        _computeStyleProperties: function(e) {
            var i = this._findStyleHost();
            i._styleProperties || i._computeStyleProperties();
            var n = Object.create(i._styleProperties)
              , r = t.hostAndRootPropertiesForScope(this);
            this.mixin(n, r.hostProps),
            e = e || t.propertyDataFromStyles(i._styles, this).properties,
            this.mixin(n, e),
            this.mixin(n, r.rootProps),
            t.mixinCustomStyle(n, this.customStyle),
            t.reify(n),
            this._styleProperties = n
        },
        _computeOwnStyleProperties: function() {
            for (var e, t = {}, i = 0; i < this._ownStylePropertyNames.length; i++)
                e = this._ownStylePropertyNames[i],
                t[e] = this._styleProperties[e];
            this._ownStyleProperties = t
        },
        _scopeCount: 0,
        _applyStyleProperties: function(e) {
            var i = this._scopeSelector;
            this._scopeSelector = e ? e._scopeSelector : this.is + "-" + this.__proto__._scopeCount++;
            var n = t.applyElementStyle(this, this._styleProperties, this._scopeSelector, e && e.style);
            return r || t.applyElementScopeSelector(this, this._scopeSelector, i, this._scopeCssViaAttr),
            n
        },
        serializeValueToAttribute: function(t, i, n) {
            if (n = n || this,
            "class" === i && !r) {
                var s = n === this ? this.domHost || this.dataHost : this;
                s && (t = s._scopeElementClass(n, t))
            }
            n = this.shadyRoot && this.shadyRoot._hasDistributed ? Polymer.dom(n) : n,
            e.call(this, t, i, n)
        },
        _scopeElementClass: function(e, t) {
            return r || this._scopeCssViaAttr || (t = (t ? t + " " : "") + a + " " + this.is + (e._scopeSelector ? " " + c + " " + e._scopeSelector : "")),
            t
        },
        updateStyles: function(e) {
            e && this.mixin(this.customStyle, e),
            s ? t.updateNativeStyleProperties(this, this.customStyle) : (this.isAttached ? this._needsStyleProperties() ? this._updateStyleProperties() : this._styleProperties = null : this.__stylePropertiesInvalid = !0,
            this._styleCache && this._styleCache.clear(),
            this._updateRootStyles())
        },
        _updateRootStyles: function(e) {
            e = e || this.root;
            for (var t, i = Polymer.dom(e)._query(function(e) {
                return e.shadyRoot || e.shadowRoot
            }), n = 0, r = i.length; n < r && (t = i[n]); n++)
                t.updateStyles && t.updateStyles()
        }
    }),
    Polymer.updateStyles = function(e) {
        n.updateStyles(e),
        Polymer.Base._updateRootStyles(document)
    }
    ;
    var o = new Polymer.StyleCache;
    Polymer.customStyleCache = o;
    var a = i.SCOPE_NAME
      , c = t.XSCOPE_NAME
}(),
Polymer.Base._addFeature({
    _registerFeatures: function() {
        this._prepIs(),
        this._prepConstructor(),
        this._prepStyles()
    },
    _finishRegisterFeatures: function() {
        this._prepTemplate(),
        this._prepShimStyles(),
        this._prepAnnotations(),
        this._prepEffects(),
        this._prepBehaviors(),
        this._prepPropertyInfo(),
        this._prepBindings(),
        this._prepShady()
    },
    _prepBehavior: function(e) {
        this._addPropertyEffects(e.properties),
        this._addComplexObserverEffects(e.observers),
        this._addHostAttributes(e.hostAttributes)
    },
    _initFeatures: function() {
        this._setupGestures(),
        this._setupConfigure(),
        this._setupStyleProperties(),
        this._setupDebouncers(),
        this._setupShady(),
        this._registerHost(),
        this._template && (this._validateApplyShim(),
        this._poolContent(),
        this._beginHosting(),
        this._stampTemplate(),
        this._endHosting(),
        this._marshalAnnotationReferences()),
        this._marshalInstanceEffects(),
        this._marshalBehaviors(),
        this._marshalHostAttributes(),
        this._marshalAttributes(),
        this._tryReady()
    },
    _marshalBehavior: function(e) {
        e.listeners && this._listenListeners(e.listeners)
    }
}),
function() {
    var e, t = Polymer.StyleProperties, i = Polymer.StyleUtil, n = Polymer.CssParse, r = Polymer.StyleDefaults, s = Polymer.StyleTransformer, o = Polymer.ApplyShim, a = Polymer.Debounce, c = Polymer.Settings;
    Polymer({
        is: "custom-style",
        "extends": "style",
        _template: null,
        properties: {
            include: String
        },
        ready: function() {
            this.__appliedElement = this.__appliedElement || this,
            this.__cssBuild = i.getCssBuildType(this),
            this.__appliedElement !== this && (this.__appliedElement.__cssBuild = this.__cssBuild),
            this._tryApply()
        },
        attached: function() {
            this._tryApply()
        },
        _tryApply: function() {
            if (!this._appliesToDocument && this.parentNode && "dom-module" !== this.parentNode.localName) {
                this._appliesToDocument = !0;
                var e = this.__appliedElement;
                if (c.useNativeCSSProperties || (this.__needsUpdateStyles = r.hasStyleProperties(),
                r.addStyle(e)),
                e.textContent || this.include)
                    this._apply(!0);
                else {
                    var t = this
                      , i = new MutationObserver(function() {
                        i.disconnect(),
                        t._apply(!0)
                    }
                    );
                    i.observe(e, {
                        childList: !0
                    })
                }
            }
        },
        _updateStyles: function() {
            Polymer.updateStyles()
        },
        _apply: function(e) {
            var t = this.__appliedElement;
            if (this.include && (t.textContent = i.cssFromModules(this.include, !0) + t.textContent),
            t.textContent) {
                var n = this.__cssBuild
                  , r = i.isTargetedBuild(n);
                if (!c.useNativeCSSProperties || !r) {
                    var a = i.rulesForStyle(t);
                    if (r || (i.forEachRule(a, function(e) {
                        s.documentRule(e)
                    }),
                    c.useNativeCSSProperties && !n && o.transform([t])),
                    c.useNativeCSSProperties)
                        t.textContent = i.toCssText(a);
                    else {
                        var l = this
                          , h = function() {
                            l._flushCustomProperties()
                        };
                        e ? Polymer.RenderStatus.whenReady(h) : h()
                    }
                }
            }
        },
        _flushCustomProperties: function() {
            this.__needsUpdateStyles ? (this.__needsUpdateStyles = !1,
            e = a(e, this._updateStyles)) : this._applyCustomProperties()
        },
        _applyCustomProperties: function() {
            var e = this.__appliedElement;
            this._computeStyleProperties();
            var r = this._styleProperties
              , s = i.rulesForStyle(e);
            s && (e.textContent = i.toCssText(s, function(e) {
                var i = e.cssText = e.parsedCssText;
                e.propertyInfo && e.propertyInfo.cssText && (i = n.removeCustomPropAssignment(i),
                e.cssText = t.valueForProperties(i, r))
            }))
        }
    })
}(),
Polymer.Templatizer = {
    properties: {
        __hideTemplateChildren__: {
            observer: "_showHideChildren"
        }
    },
    _instanceProps: Polymer.nob,
    _parentPropPrefix: "_parent_",
    templatize: function(e) {
        if (this._templatized = e,
        e._content || (e._content = e.content),
        e._content._ctor)
            return this.ctor = e._content._ctor,
            void this._prepParentProperties(this.ctor.prototype, e);
        var t = Object.create(Polymer.Base);
        this._customPrepAnnotations(t, e),
        this._prepParentProperties(t, e),
        t._prepEffects(),
        this._customPrepEffects(t),
        t._prepBehaviors(),
        t._prepPropertyInfo(),
        t._prepBindings(),
        t._notifyPathUp = this._notifyPathUpImpl,
        t._scopeElementClass = this._scopeElementClassImpl,
        t.listen = this._listenImpl,
        t._showHideChildren = this._showHideChildrenImpl,
        t.__setPropertyOrig = this.__setProperty,
        t.__setProperty = this.__setPropertyImpl;
        var i = this._constructorImpl
          , n = function(e, t) {
            i.call(this, e, t)
        };
        n.prototype = t,
        t.constructor = n,
        e._content._ctor = n,
        this.ctor = n
    },
    _getRootDataHost: function() {
        return this.dataHost && this.dataHost._rootDataHost || this.dataHost
    },
    _showHideChildrenImpl: function(e) {
        for (var t = this._children, i = 0; i < t.length; i++) {
            var n = t[i];
            Boolean(e) != Boolean(n.__hideTemplateChildren__) && (n.nodeType === Node.TEXT_NODE ? e ? (n.__polymerTextContent__ = n.textContent,
            n.textContent = "") : n.textContent = n.__polymerTextContent__ : n.style && (e ? (n.__polymerDisplay__ = n.style.display,
            n.style.display = "none") : n.style.display = n.__polymerDisplay__)),
            n.__hideTemplateChildren__ = e
        }
    },
    __setPropertyImpl: function(e, t, i, n) {
        n && n.__hideTemplateChildren__ && "textContent" == e && (e = "__polymerTextContent__"),
        this.__setPropertyOrig(e, t, i, n)
    },
    _debounceTemplate: function(e) {
        Polymer.dom.addDebouncer(this.debounce("_debounceTemplate", e))
    },
    _flushTemplates: function() {
        Polymer.dom.flush()
    },
    _customPrepEffects: function(e) {
        var t = e._parentProps;
        for (var i in t)
            e._addPropertyEffect(i, "function", this._createHostPropEffector(i));
        for (i in this._instanceProps)
            e._addPropertyEffect(i, "function", this._createInstancePropEffector(i))
    },
    _customPrepAnnotations: function(e, t) {
        e._template = t;
        var i = t._content;
        if (!i._notes) {
            var n = e._rootDataHost;
            n && (Polymer.Annotations.prepElement = function() {
                n._prepElement()
            }
            ),
            i._notes = Polymer.Annotations.parseAnnotations(t),
            Polymer.Annotations.prepElement = null,
            this._processAnnotations(i._notes)
        }
        e._notes = i._notes,
        e._parentProps = i._parentProps
    },
    _prepParentProperties: function(e, t) {
        var i = this._parentProps = e._parentProps;
        if (this._forwardParentProp && i) {
            var n, r = e._parentPropProto;
            if (!r) {
                for (n in this._instanceProps)
                    delete i[n];
                r = e._parentPropProto = Object.create(null),
                t != this && (Polymer.Bind.prepareModel(r),
                Polymer.Base.prepareModelNotifyPath(r));
                for (n in i) {
                    var s = this._parentPropPrefix + n
                      , o = [{
                        kind: "function",
                        effect: this._createForwardPropEffector(n),
                        fn: Polymer.Bind._functionEffect
                    }, {
                        kind: "notify",
                        fn: Polymer.Bind._notifyEffect,
                        effect: {
                            event: Polymer.CaseMap.camelToDashCase(s) + "-changed"
                        }
                    }];
                    Polymer.Bind._createAccessors(r, s, o)
                }
            }
            var a = this;
            t != this && (Polymer.Bind.prepareInstance(t),
            t._forwardParentProp = function(e, t) {
                a._forwardParentProp(e, t)
            }
            ),
            this._extendTemplate(t, r),
            t._pathEffector = function(e, t, i) {
                return a._pathEffectorImpl(e, t, i)
            }
        }
    },
    _createForwardPropEffector: function(e) {
        return function(t, i) {
            this._forwardParentProp(e, i)
        }
    },
    _createHostPropEffector: function(e) {
        var t = this._parentPropPrefix;
        return function(i, n) {
            this.dataHost._templatized[t + e] = n
        }
    },
    _createInstancePropEffector: function(e) {
        return function(t, i, n, r) {
            r || this.dataHost._forwardInstanceProp(this, e, i)
        }
    },
    _extendTemplate: function(e, t) {
        var i = Object.getOwnPropertyNames(t);
        t._propertySetter && (e._propertySetter = t._propertySetter);
        for (var n, r = 0; r < i.length && (n = i[r]); r++) {
            var s = e[n]
              , o = Object.getOwnPropertyDescriptor(t, n);
            Object.defineProperty(e, n, o),
            void 0 !== s && e._propertySetter(n, s)
        }
    },
    _showHideChildren: function(e) {},
    _forwardInstancePath: function(e, t, i) {},
    _forwardInstanceProp: function(e, t, i) {},
    _notifyPathUpImpl: function(e, t) {
        var i = this.dataHost
          , n = Polymer.Path.root(e);
        i._forwardInstancePath.call(i, this, e, t),
        n in i._parentProps && i._templatized._notifyPath(i._parentPropPrefix + e, t)
    },
    _pathEffectorImpl: function(e, t, i) {
        if (this._forwardParentPath && 0 === e.indexOf(this._parentPropPrefix)) {
            var n = e.substring(this._parentPropPrefix.length)
              , r = Polymer.Path.root(n);
            r in this._parentProps && this._forwardParentPath(n, t)
        }
        Polymer.Base._pathEffector.call(this._templatized, e, t, i)
    },
    _constructorImpl: function(e, t) {
        this._rootDataHost = t._getRootDataHost(),
        this._setupConfigure(e),
        this._registerHost(t),
        this._beginHosting(),
        this.root = this.instanceTemplate(this._template),
        this.root.__noContent = !this._notes._hasContent,
        this.root.__styleScoped = !0,
        this._endHosting(),
        this._marshalAnnotatedNodes(),
        this._marshalInstanceEffects(),
        this._marshalAnnotatedListeners();
        for (var i = [], n = this.root.firstChild; n; n = n.nextSibling)
            i.push(n),
            n._templateInstance = this;
        this._children = i,
        t.__hideTemplateChildren__ && this._showHideChildren(!0),
        this._tryReady()
    },
    _listenImpl: function(e, t, i) {
        var n = this
          , r = this._rootDataHost
          , s = r._createEventHandler(e, t, i)
          , o = function(e) {
            e.model = n,
            s(e)
        };
        r._listen(e, t, o)
    },
    _scopeElementClassImpl: function(e, t) {
        var i = this._rootDataHost;
        return i ? i._scopeElementClass(e, t) : t
    },
    stamp: function(e) {
        if (e = e || {},
        this._parentProps) {
            var t = this._templatized;
            for (var i in this._parentProps)
                void 0 === e[i] && (e[i] = t[this._parentPropPrefix + i])
        }
        return new this.ctor(e,this)
    },
    modelForElement: function(e) {
        for (var t; e; )
            if (t = e._templateInstance) {
                if (t.dataHost == this)
                    return t;
                e = t.dataHost
            } else
                e = e.parentNode
    }
},
Polymer({
    is: "dom-template",
    "extends": "template",
    _template: null,
    behaviors: [Polymer.Templatizer],
    ready: function() {
        this.templatize(this)
    }
}),
Polymer._collections = new WeakMap,
Polymer.Collection = function(e) {
    Polymer._collections.set(e, this),
    this.userArray = e,
    this.store = e.slice(),
    this.initMap()
}
,
Polymer.Collection.prototype = {
    constructor: Polymer.Collection,
    initMap: function() {
        for (var e = this.omap = new WeakMap, t = this.pmap = {}, i = this.store, n = 0; n < i.length; n++) {
            var r = i[n];
            r && "object" == typeof r ? e.set(r, n) : t[r] = n
        }
    },
    add: function(e) {
        var t = this.store.push(e) - 1;
        return e && "object" == typeof e ? this.omap.set(e, t) : this.pmap[e] = t,
        "#" + t
    },
    removeKey: function(e) {
        (e = this._parseKey(e)) && (this._removeFromMap(this.store[e]),
        delete this.store[e])
    },
    _removeFromMap: function(e) {
        e && "object" == typeof e ? this.omap["delete"](e) : delete this.pmap[e]
    },
    remove: function(e) {
        var t = this.getKey(e);
        return this.removeKey(t),
        t
    },
    getKey: function(e) {
        var t;
        if (t = e && "object" == typeof e ? this.omap.get(e) : this.pmap[e],
        void 0 != t)
            return "#" + t
    },
    getKeys: function() {
        return Object.keys(this.store).map(function(e) {
            return "#" + e
        })
    },
    _parseKey: function(e) {
        if (e && "#" == e[0])
            return e.slice(1)
    },
    setItem: function(e, t) {
        if (e = this._parseKey(e)) {
            var i = this.store[e];
            i && this._removeFromMap(i),
            t && "object" == typeof t ? this.omap.set(t, e) : this.pmap[t] = e,
            this.store[e] = t
        }
    },
    getItem: function(e) {
        if (e = this._parseKey(e))
            return this.store[e]
    },
    getItems: function() {
        var e = []
          , t = this.store;
        for (var i in t)
            e.push(t[i]);
        return e
    },
    _applySplices: function(e) {
        for (var t, i, n = {}, r = 0; r < e.length && (i = e[r]); r++) {
            i.addedKeys = [];
            for (var s = 0; s < i.removed.length; s++)
                t = this.getKey(i.removed[s]),
                n[t] = n[t] ? null : -1;
            for (s = 0; s < i.addedCount; s++) {
                var o = this.userArray[i.index + s];
                t = this.getKey(o),
                t = void 0 === t ? this.add(o) : t,
                n[t] = n[t] ? null : 1,
                i.addedKeys.push(t)
            }
        }
        var a = []
          , c = [];
        for (t in n)
            n[t] < 0 && (this.removeKey(t),
            a.push(t)),
            n[t] > 0 && c.push(t);
        return [{
            removed: a,
            added: c
        }]
    }
},
Polymer.Collection.get = function(e) {
    return Polymer._collections.get(e) || new Polymer.Collection(e)
}
,
Polymer.Collection.applySplices = function(e, t) {
    var i = Polymer._collections.get(e);
    return i ? i._applySplices(t) : null
}
,
Polymer({
    is: "dom-repeat",
    "extends": "template",
    _template: null,
    properties: {
        items: {
            type: Array
        },
        as: {
            type: String,
            value: "item"
        },
        indexAs: {
            type: String,
            value: "index"
        },
        sort: {
            type: Function,
            observer: "_sortChanged"
        },
        filter: {
            type: Function,
            observer: "_filterChanged"
        },
        observe: {
            type: String,
            observer: "_observeChanged"
        },
        delay: Number,
        renderedItemCount: {
            type: Number,
            notify: !0,
            readOnly: !0
        },
        initialCount: {
            type: Number,
            observer: "_initializeChunking"
        },
        targetFramerate: {
            type: Number,
            value: 20
        },
        _targetFrameTime: {
            type: Number,
            computed: "_computeFrameTime(targetFramerate)"
        }
    },
    behaviors: [Polymer.Templatizer],
    observers: ["_itemsChanged(items.*)"],
    created: function() {
        this._instances = [],
        this._pool = [],
        this._limit = 1 / 0;
        var e = this;
        this._boundRenderChunk = function() {
            e._renderChunk()
        }
    },
    detached: function() {
        this.__isDetached = !0;
        for (var e = 0; e < this._instances.length; e++)
            this._detachInstance(e)
    },
    attached: function() {
        if (this.__isDetached) {
            this.__isDetached = !1;
            for (var e = Polymer.dom(Polymer.dom(this).parentNode), t = 0; t < this._instances.length; t++)
                this._attachInstance(t, e)
        }
    },
    ready: function() {
        this._instanceProps = {
            __key__: !0
        },
        this._instanceProps[this.as] = !0,
        this._instanceProps[this.indexAs] = !0,
        this.ctor || this.templatize(this)
    },
    _sortChanged: function(e) {
        var t = this._getRootDataHost();
        this._sortFn = e && ("function" == typeof e ? e : function() {
            return t[e].apply(t, arguments)
        }
        ),
        this._needFullRefresh = !0,
        this.items && this._debounceTemplate(this._render)
    },
    _filterChanged: function(e) {
        var t = this._getRootDataHost();
        this._filterFn = e && ("function" == typeof e ? e : function() {
            return t[e].apply(t, arguments)
        }
        ),
        this._needFullRefresh = !0,
        this.items && this._debounceTemplate(this._render)
    },
    _computeFrameTime: function(e) {
        return Math.ceil(1e3 / e)
    },
    _initializeChunking: function() {
        this.initialCount && (this._limit = this.initialCount,
        this._chunkCount = this.initialCount,
        this._lastChunkTime = performance.now())
    },
    _tryRenderChunk: function() {
        this.items && this._limit < this.items.length && this.debounce("renderChunk", this._requestRenderChunk)
    },
    _requestRenderChunk: function() {
        requestAnimationFrame(this._boundRenderChunk)
    },
    _renderChunk: function() {
        var e = performance.now()
          , t = this._targetFrameTime / (e - this._lastChunkTime);
        this._chunkCount = Math.round(this._chunkCount * t) || 1,
        this._limit += this._chunkCount,
        this._lastChunkTime = e,
        this._debounceTemplate(this._render)
    },
    _observeChanged: function() {
        this._observePaths = this.observe && this.observe.replace(".*", ".").split(" ")
    },
    _itemsChanged: function(e) {
        if ("items" == e.path)
            Array.isArray(this.items) ? this.collection = Polymer.Collection.get(this.items) : this.items ? this._error(this._logf("dom-repeat", "expected array for `items`, found", this.items)) : this.collection = null,
            this._keySplices = [],
            this._indexSplices = [],
            this._needFullRefresh = !0,
            this._initializeChunking(),
            this._debounceTemplate(this._render);
        else if ("items.splices" == e.path)
            this._keySplices = this._keySplices.concat(e.value.keySplices),
            this._indexSplices = this._indexSplices.concat(e.value.indexSplices),
            this._debounceTemplate(this._render);
        else {
            var t = e.path.slice(6);
            this._forwardItemPath(t, e.value),
            this._checkObservedPaths(t)
        }
    },
    _checkObservedPaths: function(e) {
        if (this._observePaths) {
            e = e.substring(e.indexOf(".") + 1);
            for (var t = this._observePaths, i = 0; i < t.length; i++)
                if (0 === e.indexOf(t[i]))
                    return this._needFullRefresh = !0,
                    void (this.delay ? this.debounce("render", this._render, this.delay) : this._debounceTemplate(this._render))
        }
    },
    render: function() {
        this._needFullRefresh = !0,
        this._debounceTemplate(this._render),
        this._flushTemplates()
    },
    _render: function() {
        this._needFullRefresh ? (this._applyFullRefresh(),
        this._needFullRefresh = !1) : this._keySplices.length && (this._sortFn ? this._applySplicesUserSort(this._keySplices) : this._filterFn ? this._applyFullRefresh() : this._applySplicesArrayOrder(this._indexSplices)),
        this._keySplices = [],
        this._indexSplices = [];
        for (var e = this._keyToInstIdx = {}, t = this._instances.length - 1; t >= 0; t--) {
            var i = this._instances[t];
            i.isPlaceholder && t < this._limit ? i = this._insertInstance(t, i.__key__) : !i.isPlaceholder && t >= this._limit && (i = this._downgradeInstance(t, i.__key__)),
            e[i.__key__] = t,
            i.isPlaceholder || i.__setProperty(this.indexAs, t, !0)
        }
        this._pool.length = 0,
        this._setRenderedItemCount(this._instances.length),
        this.fire("dom-change"),
        this._tryRenderChunk()
    },
    _applyFullRefresh: function() {
        var e, t = this.collection;
        if (this._sortFn)
            e = t ? t.getKeys() : [];
        else {
            e = [];
            var i = this.items;
            if (i)
                for (var n = 0; n < i.length; n++)
                    e.push(t.getKey(i[n]))
        }
        var r = this;
        for (this._filterFn && (e = e.filter(function(e) {
            return r._filterFn(t.getItem(e))
        })),
        this._sortFn && e.sort(function(e, i) {
            return r._sortFn(t.getItem(e), t.getItem(i))
        }),
        n = 0; n < e.length; n++) {
            var s = e[n]
              , o = this._instances[n];
            o ? (o.__key__ = s,
            !o.isPlaceholder && n < this._limit && o.__setProperty(this.as, t.getItem(s), !0)) : n < this._limit ? this._insertInstance(n, s) : this._insertPlaceholder(n, s)
        }
        for (var a = this._instances.length - 1; a >= n; a--)
            this._detachAndRemoveInstance(a)
    },
    _numericSort: function(e, t) {
        return e - t
    },
    _applySplicesUserSort: function(e) {
        for (var t, i, n = this.collection, r = {}, s = 0; s < e.length && (i = e[s]); s++) {
            for (var o = 0; o < i.removed.length; o++)
                t = i.removed[o],
                r[t] = r[t] ? null : -1;
            for (o = 0; o < i.added.length; o++)
                t = i.added[o],
                r[t] = r[t] ? null : 1
        }
        var a = []
          , c = [];
        for (t in r)
            r[t] === -1 && a.push(this._keyToInstIdx[t]),
            1 === r[t] && c.push(t);
        if (a.length)
            for (a.sort(this._numericSort),
            s = a.length - 1; s >= 0; s--) {
                var l = a[s];
                void 0 !== l && this._detachAndRemoveInstance(l)
            }
        var h = this;
        if (c.length) {
            this._filterFn && (c = c.filter(function(e) {
                return h._filterFn(n.getItem(e))
            })),
            c.sort(function(e, t) {
                return h._sortFn(n.getItem(e), n.getItem(t))
            });
            var u = 0;
            for (s = 0; s < c.length; s++)
                u = this._insertRowUserSort(u, c[s])
        }
    },
    _insertRowUserSort: function(e, t) {
        for (var i = this.collection, n = i.getItem(t), r = this._instances.length - 1, s = -1; e <= r; ) {
            var o = e + r >> 1
              , a = this._instances[o].__key__
              , c = this._sortFn(i.getItem(a), n);
            if (c < 0)
                e = o + 1;
            else {
                if (!(c > 0)) {
                    s = o;
                    break
                }
                r = o - 1
            }
        }
        return s < 0 && (s = r + 1),
        this._insertPlaceholder(s, t),
        s
    },
    _applySplicesArrayOrder: function(e) {
        for (var t, i = 0; i < e.length && (t = e[i]); i++) {
            for (var n = 0; n < t.removed.length; n++)
                this._detachAndRemoveInstance(t.index);
            for (n = 0; n < t.addedKeys.length; n++)
                this._insertPlaceholder(t.index + n, t.addedKeys[n])
        }
    },
    _detachInstance: function(e) {
        var t = this._instances[e];
        if (!t.isPlaceholder) {
            for (var i = 0; i < t._children.length; i++) {
                var n = t._children[i];
                Polymer.dom(t.root).appendChild(n)
            }
            return t
        }
    },
    _attachInstance: function(e, t) {
        var i = this._instances[e];
        i.isPlaceholder || t.insertBefore(i.root, this)
    },
    _detachAndRemoveInstance: function(e) {
        var t = this._detachInstance(e);
        t && this._pool.push(t),
        this._instances.splice(e, 1)
    },
    _insertPlaceholder: function(e, t) {
        this._instances.splice(e, 0, {
            isPlaceholder: !0,
            __key__: t
        })
    },
    _stampInstance: function(e, t) {
        var i = {
            __key__: t
        };
        return i[this.as] = this.collection.getItem(t),
        i[this.indexAs] = e,
        this.stamp(i)
    },
    _insertInstance: function(e, t) {
        var i = this._pool.pop();
        i ? (i.__setProperty(this.as, this.collection.getItem(t), !0),
        i.__setProperty("__key__", t, !0)) : i = this._stampInstance(e, t);
        var n = this._instances[e + 1]
          , r = n && !n.isPlaceholder ? n._children[0] : this
          , s = Polymer.dom(this).parentNode;
        return Polymer.dom(s).insertBefore(i.root, r),
        this._instances[e] = i,
        i
    },
    _downgradeInstance: function(e, t) {
        var i = this._detachInstance(e);
        return i && this._pool.push(i),
        i = {
            isPlaceholder: !0,
            __key__: t
        },
        this._instances[e] = i,
        i
    },
    _showHideChildren: function(e) {
        for (var t = 0; t < this._instances.length; t++)
            this._instances[t]._showHideChildren(e)
    },
    _forwardInstanceProp: function(e, t, i) {
        if (t == this.as) {
            var n;
            n = this._sortFn || this._filterFn ? this.items.indexOf(this.collection.getItem(e.__key__)) : e[this.indexAs],
            this.set("items." + n, i)
        }
    },
    _forwardInstancePath: function(e, t, i) {
        0 === t.indexOf(this.as + ".") && this._notifyPath("items." + e.__key__ + "." + t.slice(this.as.length + 1), i)
    },
    _forwardParentProp: function(e, t) {
        for (var i, n = this._instances, r = 0; r < n.length && (i = n[r]); r++)
            i.isPlaceholder || i.__setProperty(e, t, !0)
    },
    _forwardParentPath: function(e, t) {
        for (var i, n = this._instances, r = 0; r < n.length && (i = n[r]); r++)
            i.isPlaceholder || i._notifyPath(e, t, !0)
    },
    _forwardItemPath: function(e, t) {
        if (this._keyToInstIdx) {
            var i = e.indexOf(".")
              , n = e.substring(0, i < 0 ? e.length : i)
              , r = this._keyToInstIdx[n]
              , s = this._instances[r];
            s && !s.isPlaceholder && (i >= 0 ? (e = this.as + "." + e.substring(i + 1),
            s._notifyPath(e, t, !0)) : s.__setProperty(this.as, t, !0))
        }
    },
    itemForElement: function(e) {
        var t = this.modelForElement(e);
        return t && t[this.as]
    },
    keyForElement: function(e) {
        var t = this.modelForElement(e);
        return t && t.__key__
    },
    indexForElement: function(e) {
        var t = this.modelForElement(e);
        return t && t[this.indexAs]
    }
}),
Polymer({
    is: "array-selector",
    _template: null,
    properties: {
        items: {
            type: Array,
            observer: "clearSelection"
        },
        multi: {
            type: Boolean,
            value: !1,
            observer: "clearSelection"
        },
        selected: {
            type: Object,
            notify: !0
        },
        selectedItem: {
            type: Object,
            notify: !0
        },
        toggle: {
            type: Boolean,
            value: !1
        }
    },
    clearSelection: function() {
        if (Array.isArray(this.selected))
            for (var e = 0; e < this.selected.length; e++)
                this.unlinkPaths("selected." + e);
        else
            this.unlinkPaths("selected"),
            this.unlinkPaths("selectedItem");
        this.multi ? this.selected && !this.selected.length || (this.selected = [],
        this._selectedColl = Polymer.Collection.get(this.selected)) : (this.selected = null,
        this._selectedColl = null),
        this.selectedItem = null
    },
    isSelected: function(e) {
        return this.multi ? void 0 !== this._selectedColl.getKey(e) : this.selected == e
    },
    deselect: function(e) {
        if (this.multi) {
            if (this.isSelected(e)) {
                var t = this._selectedColl.getKey(e);
                this.arrayDelete("selected", e),
                this.unlinkPaths("selected." + t)
            }
        } else
            this.selected = null,
            this.selectedItem = null,
            this.unlinkPaths("selected"),
            this.unlinkPaths("selectedItem")
    },
    select: function(e) {
        var t = Polymer.Collection.get(this.items)
          , i = t.getKey(e);
        if (this.multi)
            if (this.isSelected(e))
                this.toggle && this.deselect(e);
            else {
                this.push("selected", e);
                var n = this._selectedColl.getKey(e);
                this.linkPaths("selected." + n, "items." + i)
            }
        else
            this.toggle && e == this.selected ? this.deselect() : (this.selected = e,
            this.selectedItem = e,
            this.linkPaths("selected", "items." + i),
            this.linkPaths("selectedItem", "items." + i))
    }
}),
Polymer({
    is: "dom-if",
    "extends": "template",
    _template: null,
    properties: {
        "if": {
            type: Boolean,
            value: !1,
            observer: "_queueRender"
        },
        restamp: {
            type: Boolean,
            value: !1,
            observer: "_queueRender"
        }
    },
    behaviors: [Polymer.Templatizer],
    _queueRender: function() {
        this._debounceTemplate(this._render)
    },
    detached: function() {
        this.parentNode && (this.parentNode.nodeType != Node.DOCUMENT_FRAGMENT_NODE || Polymer.Settings.hasShadow && this.parentNode instanceof ShadowRoot) || this._teardownInstance()
    },
    attached: function() {
        this["if"] && this.ctor && this.async(this._ensureInstance)
    },
    render: function() {
        this._flushTemplates()
    },
    _render: function() {
        this["if"] ? (this.ctor || this.templatize(this),
        this._ensureInstance(),
        this._showHideChildren()) : this.restamp && this._teardownInstance(),
        !this.restamp && this._instance && this._showHideChildren(),
        this["if"] != this._lastIf && (this.fire("dom-change"),
        this._lastIf = this["if"])
    },
    _ensureInstance: function() {
        var e = Polymer.dom(this).parentNode;
        if (e) {
            var t = Polymer.dom(e);
            if (this._instance) {
                var i = this._instance._children;
                if (i && i.length) {
                    var n = Polymer.dom(this).previousSibling;
                    if (n !== i[i.length - 1])
                        for (var r, s = 0; s < i.length && (r = i[s]); s++)
                            t.insertBefore(r, this)
                }
            } else {
                this._instance = this.stamp();
                var o = this._instance.root;
                t.insertBefore(o, this)
            }
        }
    },
    _teardownInstance: function() {
        if (this._instance) {
            var e = this._instance._children;
            if (e && e.length)
                for (var t, i = Polymer.dom(Polymer.dom(e[0]).parentNode), n = 0; n < e.length && (t = e[n]); n++)
                    i.removeChild(t);
            this._instance = null
        }
    },
    _showHideChildren: function() {
        var e = this.__hideTemplateChildren__ || !this["if"];
        this._instance && this._instance._showHideChildren(e)
    },
    _forwardParentProp: function(e, t) {
        this._instance && this._instance.__setProperty(e, t, !0)
    },
    _forwardParentPath: function(e, t) {
        this._instance && this._instance._notifyPath(e, t, !0)
    }
}),
Polymer({
    is: "dom-bind",
    "extends": "template",
    _template: null,
    created: function() {
        var e = this;
        Polymer.RenderStatus.whenReady(function() {
            "loading" == document.readyState ? document.addEventListener("DOMContentLoaded", function() {
                e._markImportsReady()
            }) : e._markImportsReady()
        })
    },
    _ensureReady: function() {
        this._readied || this._readySelf()
    },
    _markImportsReady: function() {
        this._importsReady = !0,
        this._ensureReady()
    },
    _registerFeatures: function() {
        this._prepConstructor()
    },
    _insertChildren: function() {
        var e = Polymer.dom(Polymer.dom(this).parentNode);
        e.insertBefore(this.root, this)
    },
    _removeChildren: function() {
        if (this._children)
            for (var e = 0; e < this._children.length; e++)
                this.root.appendChild(this._children[e])
    },
    _initFeatures: function() {},
    _scopeElementClass: function(e, t) {
        return this.dataHost ? this.dataHost._scopeElementClass(e, t) : t
    },
    _configureInstanceProperties: function() {},
    _prepConfigure: function() {
        var e = {};
        for (var t in this._propertyEffects)
            e[t] = this[t];
        var i = this._setupConfigure;
        this._setupConfigure = function() {
            i.call(this, e)
        }
    },
    attached: function() {
        this._importsReady && this.render()
    },
    detached: function() {
        this._removeChildren()
    },
    render: function() {
        this._ensureReady(),
        this._children || (this._template = this,
        this._prepAnnotations(),
        this._prepEffects(),
        this._prepBehaviors(),
        this._prepConfigure(),
        this._prepBindings(),
        this._prepPropertyInfo(),
        Polymer.Base._initFeatures.call(this),
        this._children = Polymer.TreeApi.arrayCopyChildNodes(this.root)),
        this._insertChildren(),
        this.fire("dom-change")
    }
}),
/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   4.0.5
 */
function(e, t) {
    "object" == typeof exports && "undefined" != typeof module ? module.exports = t() : "function" == typeof define && define.amd ? define(t) : e.ES6Promise = t()
}(this, function() {
    "use strict";
    function e(e) {
        return "function" == typeof e || "object" == typeof e && null !== e
    }
    function t(e) {
        return "function" == typeof e
    }
    function i(e) {
        $ = e
    }
    function n(e) {
        W = e
    }
    function r() {
        return function() {
            return process.nextTick(l)
        }
    }
    function s() {
        return "undefined" != typeof X ? function() {
            X(l)
        }
        : c()
    }
    function o() {
        var e = 0
          , t = new q(l)
          , i = document.createTextNode("");
        return t.observe(i, {
            characterData: !0
        }),
        function() {
            i.data = e = ++e % 2
        }
    }
    function a() {
        var e = new MessageChannel;
        return e.port1.onmessage = l,
        function() {
            return e.port2.postMessage(0)
        }
    }
    function c() {
        var e = setTimeout;
        return function() {
            return e(l, 1)
        }
    }
    function l() {
        for (var e = 0; e < G; e += 2) {
            var t = Q[e]
              , i = Q[e + 1];
            t(i),
            Q[e] = void 0,
            Q[e + 1] = void 0
        }
        G = 0
    }
    function h() {
        try {
            var e = require
              , t = e("vertx");
            return X = t.runOnLoop || t.runOnContext,
            s()
        } catch (i) {
            return c()
        }
    }
    function u(e, t) {
        var i = arguments
          , n = this
          , r = new this.constructor(f);
        void 0 === r[te] && k(r);
        var s = n._state;
        return s ? !function() {
            var e = i[s - 1];
            W(function() {
                return O(s, r, e, n._result)
            })
        }() : C(n, r, e, t),
        r
    }
    function d(e) {
        var t = this;
        if (e && "object" == typeof e && e.constructor === t)
            return e;
        var i = new t(f);
        return S(i, e),
        i
    }
    function f() {}
    function p() {
        return new TypeError("You cannot resolve a promise with itself")
    }
    function m() {
        return new TypeError("A promises callback cannot return that same promise.")
    }
    function g(e) {
        try {
            return e.then
        } catch (t) {
            return se.error = t,
            se
        }
    }
    function y(e, t, i, n) {
        try {
            e.call(t, i, n)
        } catch (r) {
            return r
        }
    }
    function v(e, t, i) {
        W(function(e) {
            var n = !1
              , r = y(i, t, function(i) {
                n || (n = !0,
                t !== i ? S(e, i) : P(e, i))
            }, function(t) {
                n || (n = !0,
                T(e, t))
            }, "Settle: " + (e._label || " unknown promise"));
            !n && r && (n = !0,
            T(e, r))
        }, e)
    }
    function _(e, t) {
        t._state === ne ? P(e, t._result) : t._state === re ? T(e, t._result) : C(t, void 0, function(t) {
            return S(e, t)
        }, function(t) {
            return T(e, t)
        })
    }
    function b(e, i, n) {
        i.constructor === e.constructor && n === u && i.constructor.resolve === d ? _(e, i) : n === se ? T(e, se.error) : void 0 === n ? P(e, i) : t(n) ? v(e, i, n) : P(e, i)
    }
    function S(t, i) {
        t === i ? T(t, p()) : e(i) ? b(t, i, g(i)) : P(t, i)
    }
    function E(e) {
        e._onerror && e._onerror(e._result),
        A(e)
    }
    function P(e, t) {
        e._state === ie && (e._result = t,
        e._state = ne,
        0 !== e._subscribers.length && W(A, e))
    }
    function T(e, t) {
        e._state === ie && (e._state = re,
        e._result = t,
        W(E, e))
    }
    function C(e, t, i, n) {
        var r = e._subscribers
          , s = r.length;
        e._onerror = null,
        r[s] = t,
        r[s + ne] = i,
        r[s + re] = n,
        0 === s && e._state && W(A, e)
    }
    function A(e) {
        var t = e._subscribers
          , i = e._state;
        if (0 !== t.length) {
            for (var n = void 0, r = void 0, s = e._result, o = 0; o < t.length; o += 3)
                n = t[o],
                r = t[o + i],
                n ? O(i, n, r, s) : r(s);
            e._subscribers.length = 0
        }
    }
    function w() {
        this.error = null
    }
    function R(e, t) {
        try {
            return e(t)
        } catch (i) {
            return oe.error = i,
            oe
        }
    }
    function O(e, i, n, r) {
        var s = t(n)
          , o = void 0
          , a = void 0
          , c = void 0
          , l = void 0;
        if (s) {
            if (o = R(n, r),
            o === oe ? (l = !0,
            a = o.error,
            o = null) : c = !0,
            i === o)
                return void T(i, m())
        } else
            o = r,
            c = !0;
        i._state !== ie || (s && c ? S(i, o) : l ? T(i, a) : e === ne ? P(i, o) : e === re && T(i, o))
    }
    function I(e, t) {
        try {
            t(function(t) {
                S(e, t)
            }, function(t) {
                T(e, t)
            })
        } catch (i) {
            T(e, i)
        }
    }
    function L() {
        return ae++
    }
    function k(e) {
        e[te] = ae++,
        e._state = void 0,
        e._result = void 0,
        e._subscribers = []
    }
    function D(e, t) {
        this._instanceConstructor = e,
        this.promise = new e(f),
        this.promise[te] || k(this.promise),
        z(t) ? (this._input = t,
        this.length = t.length,
        this._remaining = t.length,
        this._result = new Array(this.length),
        0 === this.length ? P(this.promise, this._result) : (this.length = this.length || 0,
        this._enumerate(),
        0 === this._remaining && P(this.promise, this._result))) : T(this.promise, N())
    }
    function N() {
        return new Error("Array Methods must be provided an Array")
    }
    function M(e) {
        return new D(this,e).promise
    }
    function x(e) {
        var t = this;
        return new t(z(e) ? function(i, n) {
            for (var r = e.length, s = 0; s < r; s++)
                t.resolve(e[s]).then(i, n)
        }
        : function(e, t) {
            return t(new TypeError("You must pass an array to race."))
        }
        )
    }
    function B(e) {
        var t = this
          , i = new t(f);
        return T(i, e),
        i
    }
    function F() {
        throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")
    }
    function V() {
        throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")
    }
    function U(e) {
        this[te] = L(),
        this._result = this._state = void 0,
        this._subscribers = [],
        f !== e && ("function" != typeof e && F(),
        this instanceof U ? I(this, e) : V())
    }
    function j() {
        var e = void 0;
        if ("undefined" != typeof global)
            e = global;
        else if ("undefined" != typeof self)
            e = self;
        else
            try {
                e = Function("return this")()
            } catch (t) {
                throw new Error("polyfill failed because global object is unavailable in this environment")
            }
        var i = e.Promise;
        if (i) {
            var n = null;
            try {
                n = Object.prototype.toString.call(i.resolve())
            } catch (t) {}
            if ("[object Promise]" === n && !i.cast)
                return
        }
        e.Promise = U
    }
    var H = void 0;
    H = Array.isArray ? Array.isArray : function(e) {
        return "[object Array]" === Object.prototype.toString.call(e)
    }
    ;
    var z = H
      , G = 0
      , X = void 0
      , $ = void 0
      , W = function(e, t) {
        Q[G] = e,
        Q[G + 1] = t,
        G += 2,
        2 === G && ($ ? $(l) : ee())
    }
      , Y = "undefined" != typeof window ? window : void 0
      , K = Y || {}
      , q = K.MutationObserver || K.WebKitMutationObserver
      , Z = "undefined" == typeof self && "undefined" != typeof process && "[object process]" === {}.toString.call(process)
      , J = "undefined" != typeof Uint8ClampedArray && "undefined" != typeof importScripts && "undefined" != typeof MessageChannel
      , Q = new Array(1e3)
      , ee = void 0;
    ee = Z ? r() : q ? o() : J ? a() : void 0 === Y && "function" == typeof require ? h() : c();
    var te = Math.random().toString(36).substring(16)
      , ie = void 0
      , ne = 1
      , re = 2
      , se = new w
      , oe = new w
      , ae = 0;
    return D.prototype._enumerate = function() {
        for (var e = this.length, t = this._input, i = 0; this._state === ie && i < e; i++)
            this._eachEntry(t[i], i)
    }
    ,
    D.prototype._eachEntry = function(e, t) {
        var i = this._instanceConstructor
          , n = i.resolve;
        if (n === d) {
            var r = g(e);
            if (r === u && e._state !== ie)
                this._settledAt(e._state, t, e._result);
            else if ("function" != typeof r)
                this._remaining--,
                this._result[t] = e;
            else if (i === U) {
                var s = new i(f);
                b(s, e, r),
                this._willSettleAt(s, t)
            } else
                this._willSettleAt(new i(function(t) {
                    return t(e)
                }
                ), t)
        } else
            this._willSettleAt(n(e), t)
    }
    ,
    D.prototype._settledAt = function(e, t, i) {
        var n = this.promise;
        n._state === ie && (this._remaining--,
        e === re ? T(n, i) : this._result[t] = i),
        0 === this._remaining && P(n, this._result)
    }
    ,
    D.prototype._willSettleAt = function(e, t) {
        var i = this;
        C(e, void 0, function(e) {
            return i._settledAt(ne, t, e)
        }, function(e) {
            return i._settledAt(re, t, e)
        })
    }
    ,
    U.all = M,
    U.race = x,
    U.resolve = d,
    U.reject = B,
    U._setScheduler = i,
    U._setAsap = n,
    U._asap = W,
    U.prototype = {
        constructor: U,
        then: u,
        "catch": function(e) {
            return this.then(null, e)
        }
    },
    U.polyfill = j,
    U.Promise = U,
    U
}),
ES6Promise.polyfill(),
function(e) {
    "use strict";
    function t(e) {
        if ("string" != typeof e && (e = String(e)),
        /[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))
            throw new TypeError("Invalid character in header field name");
        return e.toLowerCase()
    }
    function i(e) {
        return "string" != typeof e && (e = String(e)),
        e
    }
    function n(e) {
        var t = {
            next: function() {
                var t = e.shift();
                return {
                    done: void 0 === t,
                    value: t
                }
            }
        };
        return m.iterable && (t[Symbol.iterator] = function() {
            return t
        }
        ),
        t
    }
    function r(e) {
        this.map = {},
        e instanceof r ? e.forEach(function(e, t) {
            this.append(t, e)
        }, this) : e && Object.getOwnPropertyNames(e).forEach(function(t) {
            this.append(t, e[t])
        }, this)
    }
    function s(e) {
        return e.bodyUsed ? Promise.reject(new TypeError("Already read")) : void (e.bodyUsed = !0)
    }
    function o(e) {
        return new Promise(function(t, i) {
            e.onload = function() {
                t(e.result)
            }
            ,
            e.onerror = function() {
                i(e.error)
            }
        }
        )
    }
    function a(e) {
        var t = new FileReader;
        return t.readAsArrayBuffer(e),
        o(t)
    }
    function c(e) {
        var t = new FileReader;
        return t.readAsText(e),
        o(t)
    }
    function l() {
        return this.bodyUsed = !1,
        this._initBody = function(e) {
            if (this._bodyInit = e,
            "string" == typeof e)
                this._bodyText = e;
            else if (m.blob && Blob.prototype.isPrototypeOf(e))
                this._bodyBlob = e;
            else if (m.formData && FormData.prototype.isPrototypeOf(e))
                this._bodyFormData = e;
            else if (m.searchParams && URLSearchParams.prototype.isPrototypeOf(e))
                this._bodyText = e.toString();
            else if (e) {
                if (!m.arrayBuffer || !ArrayBuffer.prototype.isPrototypeOf(e))
                    throw new Error("unsupported BodyInit type")
            } else
                this._bodyText = "";
            this.headers.get("content-type") || ("string" == typeof e ? this.headers.set("content-type", "text/plain;charset=UTF-8") : this._bodyBlob && this._bodyBlob.type ? this.headers.set("content-type", this._bodyBlob.type) : m.searchParams && URLSearchParams.prototype.isPrototypeOf(e) && this.headers.set("content-type", "application/x-www-form-urlencoded;charset=UTF-8"))
        }
        ,
        m.blob ? (this.blob = function() {
            var e = s(this);
            if (e)
                return e;
            if (this._bodyBlob)
                return Promise.resolve(this._bodyBlob);
            if (this._bodyFormData)
                throw new Error("could not read FormData body as blob");
            return Promise.resolve(new Blob([this._bodyText]))
        }
        ,
        this.arrayBuffer = function() {
            return this.blob().then(a)
        }
        ,
        this.text = function() {
            var e = s(this);
            if (e)
                return e;
            if (this._bodyBlob)
                return c(this._bodyBlob);
            if (this._bodyFormData)
                throw new Error("could not read FormData body as text");
            return Promise.resolve(this._bodyText)
        }
        ) : this.text = function() {
            var e = s(this);
            return e ? e : Promise.resolve(this._bodyText)
        }
        ,
        m.formData && (this.formData = function() {
            return this.text().then(d)
        }
        ),
        this.json = function() {
            return this.text().then(JSON.parse)
        }
        ,
        this
    }
    function h(e) {
        var t = e.toUpperCase();
        return g.indexOf(t) > -1 ? t : e
    }
    function u(e, t) {
        t = t || {};
        var i = t.body;
        if (u.prototype.isPrototypeOf(e)) {
            if (e.bodyUsed)
                throw new TypeError("Already read");
            this.url = e.url,
            this.credentials = e.credentials,
            t.headers || (this.headers = new r(e.headers)),
            this.method = e.method,
            this.mode = e.mode,
            i || (i = e._bodyInit,
            e.bodyUsed = !0)
        } else
            this.url = e;
        if (this.credentials = t.credentials || this.credentials || "omit",
        !t.headers && this.headers || (this.headers = new r(t.headers)),
        this.method = h(t.method || this.method || "GET"),
        this.mode = t.mode || this.mode || null,
        this.referrer = null,
        ("GET" === this.method || "HEAD" === this.method) && i)
            throw new TypeError("Body not allowed for GET or HEAD requests");
        this._initBody(i)
    }
    function d(e) {
        var t = new FormData;
        return e.trim().split("&").forEach(function(e) {
            if (e) {
                var i = e.split("=")
                  , n = i.shift().replace(/\+/g, " ")
                  , r = i.join("=").replace(/\+/g, " ");
                t.append(decodeURIComponent(n), decodeURIComponent(r))
            }
        }),
        t
    }
    function f(e) {
        var t = new r
          , i = (e.getAllResponseHeaders() || "").trim().split("\n");
        return i.forEach(function(e) {
            var i = e.trim().split(":")
              , n = i.shift().trim()
              , r = i.join(":").trim();
            t.append(n, r)
        }),
        t
    }
    function p(e, t) {
        t || (t = {}),
        this.type = "default",
        this.status = t.status,
        this.ok = this.status >= 200 && this.status < 300,
        this.statusText = t.statusText,
        this.headers = t.headers instanceof r ? t.headers : new r(t.headers),
        this.url = t.url || "",
        this._initBody(e)
    }
    if (!e.fetch) {
        var m = {
            searchParams: "URLSearchParams"in e,
            iterable: "Symbol"in e && "iterator"in Symbol,
            blob: "FileReader"in e && "Blob"in e && function() {
                try {
                    return new Blob,
                    !0
                } catch (e) {
                    return !1
                }
            }(),
            formData: "FormData"in e,
            arrayBuffer: "ArrayBuffer"in e
        };
        r.prototype.append = function(e, n) {
            e = t(e),
            n = i(n);
            var r = this.map[e];
            r || (r = [],
            this.map[e] = r),
            r.push(n)
        }
        ,
        r.prototype["delete"] = function(e) {
            delete this.map[t(e)]
        }
        ,
        r.prototype.get = function(e) {
            var i = this.map[t(e)];
            return i ? i[0] : null
        }
        ,
        r.prototype.getAll = function(e) {
            return this.map[t(e)] || []
        }
        ,
        r.prototype.has = function(e) {
            return this.map.hasOwnProperty(t(e))
        }
        ,
        r.prototype.set = function(e, n) {
            this.map[t(e)] = [i(n)]
        }
        ,
        r.prototype.forEach = function(e, t) {
            Object.getOwnPropertyNames(this.map).forEach(function(i) {
                this.map[i].forEach(function(n) {
                    e.call(t, n, i, this)
                }, this)
            }, this)
        }
        ,
        r.prototype.keys = function() {
            var e = [];
            return this.forEach(function(t, i) {
                e.push(i)
            }),
            n(e)
        }
        ,
        r.prototype.values = function() {
            var e = [];
            return this.forEach(function(t) {
                e.push(t)
            }),
            n(e)
        }
        ,
        r.prototype.entries = function() {
            var e = [];
            return this.forEach(function(t, i) {
                e.push([i, t])
            }),
            n(e)
        }
        ,
        m.iterable && (r.prototype[Symbol.iterator] = r.prototype.entries);
        var g = ["DELETE", "GET", "HEAD", "OPTIONS", "POST", "PUT"];
        u.prototype.clone = function() {
            return new u(this)
        }
        ,
        l.call(u.prototype),
        l.call(p.prototype),
        p.prototype.clone = function() {
            return new p(this._bodyInit,{
                status: this.status,
                statusText: this.statusText,
                headers: new r(this.headers),
                url: this.url
            })
        }
        ,
        p.error = function() {
            var e = new p(null,{
                status: 0,
                statusText: ""
            });
            return e.type = "error",
            e
        }
        ;
        var y = [301, 302, 303, 307, 308];
        p.redirect = function(e, t) {
            if (y.indexOf(t) === -1)
                throw new RangeError("Invalid status code");
            return new p(null,{
                status: t,
                headers: {
                    location: e
                }
            })
        }
        ,
        e.Headers = r,
        e.Request = u,
        e.Response = p,
        e.fetch = function(e, t) {
            return new Promise(function(i, n) {
                function r() {
                    return "responseURL"in o ? o.responseURL : /^X-Request-URL:/m.test(o.getAllResponseHeaders()) ? o.getResponseHeader("X-Request-URL") : void 0
                }
                var s;
                s = u.prototype.isPrototypeOf(e) && !t ? e : new u(e,t);
                var o = new XMLHttpRequest;
                o.onload = function() {
                    var e = {
                        status: o.status,
                        statusText: o.statusText,
                        headers: f(o),
                        url: r()
                    }
                      , t = "response"in o ? o.response : o.responseText;
                    i(new p(t,e))
                }
                ,
                o.onerror = function() {
                    n(new TypeError("Network request failed"))
                }
                ,
                o.ontimeout = function() {
                    n(new TypeError("Network request failed"))
                }
                ,
                o.open(s.method, s.url, !0),
                "include" === s.credentials && (o.withCredentials = !0),
                "responseType"in o && m.blob && (o.responseType = "blob"),
                s.headers.forEach(function(e, t) {
                    o.setRequestHeader(t, e)
                }),
                o.send("undefined" == typeof s._bodyInit ? null : s._bodyInit)
            }
            )
        }
        ,
        e.fetch.polyfill = !0
    }
}("undefined" != typeof self ? self : this),
function(e, t) {
    "object" == typeof exports ? module.exports = t() : "function" == typeof define && define.amd ? define("deepExtend", [], t) : e.deepExtend = t()
}(this, function() {
    "use strict";
    var e = {}
      , t = [].slice
      , i = e.toString
      , n = function(t) {
        return null == t ? t + "" : "object" == typeof t || "function" == typeof t ? e[i.call(t)] || "object" : typeof t
    }
      , r = function(e) {
        return "buffer" === n(e) || "date" === n(e) || "regexp" === n(e)
    }
      , s = function(e) {
        var t, i = n(e);
        if ("buffer" === i)
            return t = new Buffer(e.length),
            e.copy(t),
            t;
        if ("date" === i)
            return new Date(e.getTime());
        if ("regexp" === i)
            return new RegExp(e);
        throw new Error("Unexpected situation")
    }
      , o = function(e) {
        var t = [];
        return e.forEach(function(e, i) {
            "object" === n(e) ? Array.isArray(e) ? t[i] = o(e) : r(e) ? t[i] = s(e) : t[i] = a({}, e) : t[i] = e
        }),
        t
    }
      , a = function() {
        if (arguments.length < 1 || "object" !== n(arguments[0]))
            return !1;
        if (arguments.length < 2)
            return arguments[0];
        var e, i, c = arguments[0], l = t.call(arguments, 1);
        return l.forEach(function(t) {
            "object" !== n(t) || Array.isArray(t) || Object.keys(t).forEach(function(l) {
                i = c[l],
                e = t[l],
                e !== c && ("object" !== n(e) || null === e ? c[l] = e : Array.isArray(e) ? c[l] = o(e) : r(e) ? c[l] = s(e) : "object" !== n(i) || null === i || Array.isArray(i) ? c[l] = a({}, e) : c[l] = a(i, e))
            })
        }),
        c
    };
    return ["Boolean", "Number", "String", "Function", "Array", "Date", "RegExp", "Object", "Error"].forEach(function(t) {
        e["[object " + t + "]"] = t.toLowerCase()
    }),
    a
}),
function(e, t) {
    "object" == typeof exports ? module.exports = t() : "function" == typeof define && define.amd ? define("urlparse", [], t) : e.urlparse = t()
}(this, function() {
    function e() {
        var e = /^([A-Za-z]+)?(:?\/\/)([0-9.\-A-Za-z]*)(?::(\d+))?(.*)$/
          , t = /([^?#]*)?(?:\?([^#]*))?(?:#(.*))?$/;
        this.normalizepath = function(e) {
            if (!e || "/" === e)
                return "/";
            var t = e.split("/")
              , i = [];
            return t[0] && i.push(""),
            t.forEach(function(e) {
                ".." === e ? i.length > 1 ? i.pop() : i.push(e) : "." !== e && i.push(e)
            }),
            i.join("/") || "/"
        }
        ,
        this.urlnormalize = function(e) {
            var t = this.urlsplit(e);
            switch (t.scheme) {
            case "file":
                t.query = "",
                t.fragment = "";
                break;
            case "http":
            case "https":
                ("http" === t.scheme && 80 == t.port || "https" === t.scheme && 443 == t.port) && (delete t.port,
                t.netloc = t.hostname);
                break;
            default:
                return e
            }
            return t.path = this.normalizepath(t.path),
            this.urlunsplit(t)
        }
        ,
        this.urldefrag = function(e) {
            var t = e.indexOf("#");
            return t === -1 ? [e, ""] : [e.substr(0, t), e.substr(t + 1)]
        }
        ,
        this.urlsplit = function(i, n, r) {
            r = r !== !1;
            var s, o = {}, a = (i || "").match(e);
            return a ? (o.scheme = a[1] || n || "",
            o.hostname = a[3].toLowerCase() || "",
            o.port = parseInt(a[4], 10) || "",
            o.netloc = a[3],
            a[4] && (o.netloc += ":" + a[4]),
            s = a[5]) : (o.scheme = n || "",
            o.netloc = "",
            o.hostname = "",
            s = i),
            o.scheme = o.scheme.toLowerCase(),
            a = s.match(t),
            o.path = a[1] || "",
            o.query = a[2] || "",
            o.fragment = r ? a[3] || "" : "",
            o
        }
        ,
        this.urlunsplit = function(e) {
            var t = "";
            return e.scheme && (t += e.scheme + "://"),
            e.netloc ? ("" === t && (t += "//"),
            t += e.netloc) : e.hostname && ("" === t && (t += "//"),
            t += e.hostname,
            e.port && (t += ":" + e.port)),
            e.path && (t += e.path),
            e.query && (t += "?" + e.query),
            e.fragment && (t += "#" + e.fragment),
            t
        }
        ,
        this.urljoin = function(e, t, i) {
            "undefined" == typeof i && (i = !0);
            var n = this.urlsplit(t);
            if (n.scheme)
                return i ? this.urldefrag(t)[0] : t;
            var r = this.urlsplit(e);
            if (r.scheme || (r.scheme = n.scheme),
            r.netloc && r.hostname || (r.netloc = n.netloc,
            r.hostname = n.hostname,
            r.port = n.port),
            n.path.length > 0)
                if ("/" === n.path.charAt(0))
                    r.path = n.path;
                else {
                    var s = r.path.lastIndexOf("/");
                    s === -1 ? r.path = n.path : r.path = r.path.substr(0, s) + "/" + n.path
                }
            return r.path = this.normalizepath(r.path),
            r.query = n.query,
            r.fragment = i ? n.fragment : "",
            this.urlunsplit(r)
        }
    }
    return new e
}),
function(e, t) {
    "object" == typeof exports ? module.exports = t() : "function" == typeof define && define.amd ? define("urltemplate", [], t) : e.urltemplate = t()
}(this, function() {
    function e() {
        var e = ["+", "#", ".", "/", ";", "?", "&"]
          , t = /\{([^\{\}]+)\}|([^\{\}]+)/g
          , i = /([^:\*]*)(?::(\d+)|(\*))?/
          , n = function(e) {
            return e.split(/(%[0-9A-Fa-f]{2})/g).map(function(e) {
                return /%[0-9A-Fa-f]/.test(e) || (e = encodeURI(e)),
                e
            }).join("")
        }
          , r = function(e, t, i) {
            return t = "+" === e || "#" === e ? n(t) : encodeURIComponent(t),
            i ? encodeURIComponent(i) + "=" + t : t
        }
          , s = function(e) {
            return void 0 !== e && null !== e
        }
          , o = function(e) {
            return ";" === e || "&" === e || "?" === e
        }
          , a = function(e, t, i, n) {
            var a = e[i]
              , c = [];
            if ("undefined" != typeof a && null !== a)
                if ("string" == typeof a || "number" == typeof a || "boolean" == typeof a)
                    a = a.toString(),
                    n && "*" !== n && (a = a.substring(0, parseInt(n, 10))),
                    c.push(r(t, a, o(t) ? i : null));
                else if ("*" === n)
                    Array.isArray(a) ? a.filter(s).forEach(function(e) {
                        c.push(r(t, e, o(t) ? i : null))
                    }) : Object.keys(a).forEach(function(e) {
                        s(a[e]) && c.push(r(t, a[e], e))
                    });
                else {
                    var l = [];
                    Array.isArray(a) ? a.filter(s).forEach(function(e) {
                        l.push(r(t, e, ""))
                    }) : Object.keys(a).forEach(function(e) {
                        s(a[e]) && (l.push(encodeURIComponent(e)),
                        l.push(r(t, a[e].toString(), "")))
                    }),
                    o(t) ? c.push(encodeURIComponent(i) + "=" + l.join(",")) : 0 !== l.length && c.push(l.join(","))
                }
            else
                ";" === t ? c.push(encodeURIComponent(i)) : "" !== a || "&" !== t && "?" !== t ? "" === a && c.push("") : c.push(encodeURIComponent(i) + "=");
            return c
        };
        this.expand = function(r, s) {
            return r.replace(t, function(t, o, c) {
                var l;
                if (o) {
                    var h, u = [];
                    if (e.indexOf(o.charAt(0)) !== -1 && (h = o.charAt(0),
                    o = o.substr(1),
                    (r.match(/\?/g) || []).length > 1 && (h = "&")),
                    o.split(/,/g).forEach(function(e) {
                        var t = i.exec(e);
                        u.push.apply(u, a(s, h, t[1], t[2] || t[3]))
                    }),
                    h && "+" !== h) {
                        var d = ",";
                        "?" === h ? d = "&" : "#" !== h && (d = h),
                        l = (u.length ? h : "") + u.join(d)
                    } else
                        l = u.join(",")
                } else
                    l = n(c);
                return l
            })
        }
        ,
        this.extractParams = function(i) {
            var n = [];
            return i.replace(t, function(t, i) {
                i && (e.indexOf(i.charAt(0)) !== -1 && (i = i.substr(1)),
                n = n.concat(i.split(/,/g)))
            }),
            n
        }
    }
    return new e
}),
function(e, t) {
    "use strict";
    "object" == typeof exports ? module.exports = t() : "function" == typeof define && define.amd ? define("HyperGard", ["deepExtend", "urlparse", "urltemplate"], t) : e.HyperGard = t(e.deepExtend, e.urlparse, e.urltemplate)
}(this, function(e, t, i) {
    "use strict";
    var n = "2.0.11"
      , r = {
        preloadHomepage: !0,
        cacheHomepage: !1,
        debug: !1,
        xhr: {
            headers: {
                Accept: "application/hal+json, application/json, */*; q=0.01",
                "X-HyperGard": n
            }
        }
    }
      , s = /^(_embedded|_links|_forms)$/
      , o = /^(head|get)$/i
      , a = [].concat
      , c = Object.keys
      , l = function(e) {
        return !!e && "[object Object]" === {}.toString.call(e)
    }
      , h = function(e) {
        return e.ok || e.status >= 200 && e.status < 300 ? e : Promise.reject(e instanceof Response ? e : new Response("",{
            status: 503,
            statusText: "Possible CORS error"
        }))
    }
      , u = function(e) {
        return new Promise(function(t, i) {
            setTimeout(function() {
                i({
                    error: {
                        code: "0011",
                        msg: "Fetch timeout",
                        timeout: e
                    }
                })
            }, 1e3 * e)
        }
        )
    }
      , d = function(t, i) {
        var n = e({}, r.xhr, i)
          , s = n.uniqueFetchHeaders;
        return n.force && n.uniqueFetchHeaders.push(function() {
            return {
                "Cache-Control": "no-cache"
            }
        }),
        s && s.forEach && (s.forEach(function(t) {
            "function" == typeof t && (n = e(n, {
                headers: t()
            }))
        }),
        delete n.uniqueFetchHeaders),
        Promise.all(n.beforeFetch || []).then(function() {
            return Promise.race([u(i.timeout || 60), window.fetch(t, n)]).then(h, h)
        }, function() {
            return Promise.reject({
                error: {
                    code: "0010",
                    msg: "beforeFetch action failed",
                    originError: [].slice.call(arguments)
                }
            })
        })
    }
      , f = function(e) {
        return Object.keys(e).map(function(t) {
            return encodeURIComponent(t) + "=" + encodeURIComponent(e[t])
        }).join("&")
    }
      , p = function(n, h) {
        var u, p = !1, m = e({}, r, h || {}), g = {}, y = function(e) {
            var t = {};
            return (e || []).forEach(function(e) {
                e.name && (t[e.name] = e)
            }),
            t
        }, v = function(e, t) {
            var i = {};
            return c(e).forEach(function(n) {
                i[n] = Array.isArray(e[n]) ? e[n].map(function(e) {
                    return new S(e,t)
                }) : new S(e[n],t)
            }),
            i
        }, _ = function(e, t, i, n) {
            var r = {}
              , o = ((t._links || {}).self || {}).href || ""
              , l = []
              , h = v(t._embedded || {}, e);
            c(t).forEach(function(e) {
                s.test(e) || (this[e] = t[e])
            }, r),
            e.getAction = function(e, i) {
                if (!l[e]) {
                    l[e] = [];
                    var n = y((t._links || {}).curies)
                      , r = y((t._forms || {}).curies)
                      , s = String(e).split(":")[0] || "";
                    a.call([], (t._links || {})[e]).forEach(function(t) {
                        t && (t.curie = n[s],
                        l[e].push(new b(this,e,t,i,"link")))
                    }, this),
                    a.call([], (t._forms || {})[e]).forEach(function(t) {
                        t && (t.curie = r[s],
                        l[e].push(new b(this,e,t,i,"form")))
                    }, this)
                }
                return l[e].map(function(e) {
                    return e.setParams(i)
                })
            }
            ,
            e.getBase = function() {
                return n || i.getBase()
            }
            ,
            e.getEmbedded = function(e) {
                return h[e]
            }
            ,
            e.fetchEmbedded = function(e, t) {
                return this.hasEmbedded(e) ? Promise.resolve({
                    data: this.getEmbedded(e)
                }) : this.getFirstAction(e).fetch(t)
            }
            ,
            e.getFirstAction = function(e, t) {
                return this.getAction(e, t)[0] || new b(this,e,{},{},"none")
            }
            ,
            e.getParent = function() {
                return i
            }
            ,
            e.getProp = function(e) {
                return r[e]
            }
            ,
            e.getProps = function() {
                return r
            }
            ,
            e.hasAction = function(t) {
                return e.hasLink(t) || e.hasForm(t)
            }
            ,
            e.hasEmbedded = function(e) {
                return !!h[e]
            }
            ,
            e.hasForm = function(t) {
                return e.listActions().forms.indexOf(t) >= 0
            }
            ,
            e.hasLink = function(t) {
                return e.listActions().links.indexOf(t) >= 0
            }
            ,
            e.listActions = function() {
                var e = function(e) {
                    return "curies" !== e
                };
                return {
                    links: c(t._links || {}).filter(e),
                    forms: c(t._forms || {}).filter(e)
                }
            }
            ,
            e.listEmbedded = function() {
                return c(h)
            }
            ,
            m.debug && (e.resource = t),
            n || (e.getRoot = function() {
                var e;
                do
                    e = this.getParent();
                while (!(e instanceof E));return e
            }
            ),
            o && (g[o] = e)
        }, b = function(e, n, r, s, a) {
            var h = this
              , u = (r.href || r.action || "").replace(/^#/, "")
              , d = r.method || ("form" === a ? "POST" : "GET")
              , p = ""
              , m = "";
            h.getActionName = function() {
                return n
            }
            ,
            h.getActionType = function() {
                return a
            }
            ,
            h.getActionUrl = function() {
                return p
            }
            ,
            h.getMethod = function() {
                return d
            }
            ,
            h.getParams = function() {
                return i.extractParams(u)
            }
            ,
            h.getRawActionUrl = function() {
                return u
            }
            ,
            h.getTitle = function() {
                return r.title || ""
            }
            ,
            h.isTemplated = function() {
                return r.templated || !1
            }
            ,
            h.setParams = function(n) {
                return p = r.templated ? i.expand(u, n || {}) : u,
                p && (p = t.urljoin(r.curie ? r.curie.href : e.getBase(), p)),
                "form" === a && (r.fields && l(n) ? (m = {},
                c(r.fields).forEach(function(e) {
                    n.hasOwnProperty(e) ? m[e] = n[e] : r.fields[e].hasOwnProperty("default") && (m[e] = r.fields[e]["default"])
                })) : n && (m = JSON.stringify(n)),
                o.test(d) && m && (p = t.urljoin(p, "?" + f(m)),
                m = "")),
                h
            }
            ,
            "form" === a && (h.getFields = function() {
                return r.fields || {}
            }
            ,
            h.getPayload = function() {
                return m
            }
            ),
            r.curie && (h.getDocUrl = function() {
                return i.expand(r.curie.href, {
                    rel: n.split(":")[1]
                })
            }
            ),
            h.setParams(s)
        }, S = function(e, t) {
            return _(this, e || {}, t)
        }, E = function(e, t) {
            return _(this, t, this, e)
        };
        b.prototype.fetch = function(t) {
            t || (t = {});
            var i = t.url || this.getActionUrl()
              , n = this.getRawActionUrl()
              , r = this.getActionName()
              , s = this.getPayload ? this.getPayload() : ""
              , a = e({
                method: this.getMethod()
            }, m.xhr, t)
              , c = function(e) {
                return 204 === e.status ? Promise.resolve({
                    action: r,
                    data: "",
                    xhr: e
                }) : e.json().then(function(t) {
                    return {
                        action: r,
                        data: l(t) ? new E(i,t) : {},
                        xhr: e
                    }
                }, function() {
                    return {
                        action: r,
                        data: {},
                        xhr: e
                    }
                })
            }
              , h = function(e) {
                return Promise.reject(e instanceof Response ? {
                    error: {
                        action: r,
                        code: "0021",
                        msg: "Failed to retrieve action"
                    },
                    xhr: e
                } : e)
            };
            return !o.test(a.method) && l(s) && (a.headers["Content-Type"] = a.headers["Content-Type"] || "application/x-www-form-urlencoded",
            a.body = a.body || f(s)),
            i ? "GET" === a.method && !t.force && g.hasOwnProperty(n) ? Promise.resolve({
                action: r,
                data: g[n]
            }) : d(i, a).then(c, h) : Promise.reject({
                error: {
                    action: r,
                    code: "0020",
                    msg: "Url is not provided for this action"
                }
            })
        }
        ,
        this.fetch = function() {
            var e = function(e) {
                return m.cacheHomepage || (p = !1),
                e.json().then(function(t) {
                    return l(t) ? {
                        data: new E(n,t),
                        xhr: e
                    } : Promise.reject()
                })["catch"](function() {
                    return Promise.reject({
                        error: {
                            code: "0002",
                            msg: "Could not parse homepage"
                        },
                        xhr: e
                    })
                })
            }
              , t = function(e) {
                return p = !1,
                Promise.reject(e instanceof Response ? {
                    error: {
                        code: "0001",
                        msg: "Failed to retrieve homepage"
                    },
                    xhr: e
                } : e)
            };
            return n ? (p || (p = !0,
            u = d(n, m.xhr).then(e, t)),
            u) : Promise.reject({
                error: {
                    code: "0000",
                    msg: "API endpoint was not provided"
                }
            })
        }
        ,
        this.setOptions = function(t) {
            return e(m, t || {}),
            this
        }
        ,
        this.getOptions = function() {
            return m
        }
        ,
        this.parse = function(e) {
            return new E(n,e || {})
        }
        ,
        m.preloadHomepage && this.fetch()
    };
    return p.prototype.version = n,
    p
}),
"undefined" != typeof module && (module.exports = MakePromise),
window.Promise || (window.Promise = MakePromise(Polymer.Base.async)),
Polymer({
    is: "iron-request",
    hostAttributes: {
        hidden: !0
    },
    properties: {
        xhr: {
            type: Object,
            notify: !0,
            readOnly: !0,
            value: function() {
                return new XMLHttpRequest
            }
        },
        response: {
            type: Object,
            notify: !0,
            readOnly: !0,
            value: function() {
                return null
            }
        },
        status: {
            type: Number,
            notify: !0,
            readOnly: !0,
            value: 0
        },
        statusText: {
            type: String,
            notify: !0,
            readOnly: !0,
            value: ""
        },
        completes: {
            type: Object,
            readOnly: !0,
            notify: !0,
            value: function() {
                return new Promise(function(e, t) {
                    this.resolveCompletes = e,
                    this.rejectCompletes = t
                }
                .bind(this))
            }
        },
        progress: {
            type: Object,
            notify: !0,
            readOnly: !0,
            value: function() {
                return {}
            }
        },
        aborted: {
            type: Boolean,
            notify: !0,
            readOnly: !0,
            value: !1
        },
        errored: {
            type: Boolean,
            notify: !0,
            readOnly: !0,
            value: !1
        },
        timedOut: {
            type: Boolean,
            notify: !0,
            readOnly: !0,
            value: !1
        }
    },
    get succeeded() {
        if (this.errored || this.aborted || this.timedOut)
            return !1;
        var e = this.xhr.status || 0;
        return 0 === e || e >= 200 && e < 300
    },
    send: function(e) {
        var t = this.xhr;
        if (t.readyState > 0)
            return null;
        t.addEventListener("progress", function(e) {
            this._setProgress({
                lengthComputable: e.lengthComputable,
                loaded: e.loaded,
                total: e.total
            })
        }
        .bind(this)),
        t.addEventListener("error", function(e) {
            this._setErrored(!0),
            this._updateStatus(),
            this.rejectCompletes(e)
        }
        .bind(this)),
        t.addEventListener("timeout", function(e) {
            this._setTimedOut(!0),
            this._updateStatus(),
            this.rejectCompletes(e)
        }
        .bind(this)),
        t.addEventListener("abort", function() {
            this._updateStatus(),
            this.rejectCompletes(new Error("Request aborted."))
        }
        .bind(this)),
        t.addEventListener("loadend", function() {
            return this._updateStatus(),
            this._setResponse(this.parseResponse()),
            this.succeeded ? void this.resolveCompletes(this) : void this.rejectCompletes(new Error("The request failed with status code: " + this.xhr.status))
        }
        .bind(this)),
        this.url = e.url,
        t.open(e.method || "GET", e.url, e.async !== !1);
        var i = {
            json: "application/json",
            text: "text/plain",
            html: "text/html",
            xml: "application/xml",
            arraybuffer: "application/octet-stream"
        }[e.handleAs]
          , n = e.headers || Object.create(null)
          , r = Object.create(null);
        for (var s in n)
            r[s.toLowerCase()] = n[s];
        if (n = r,
        i && !n.accept && (n.accept = i),
        Object.keys(n).forEach(function(e) {
            /[A-Z]/.test(e) && Polymer.Base._error("Headers must be lower case, got", e),
            t.setRequestHeader(e, n[e])
        }, this),
        e.async !== !1) {
            e.async && (t.timeout = e.timeout);
            var o = e.handleAs;
            !e.jsonPrefix && o || (o = "text"),
            t.responseType = t._responseType = o,
            e.jsonPrefix && (t._jsonPrefix = e.jsonPrefix)
        }
        t.withCredentials = !!e.withCredentials;
        var a = this._encodeBodyObject(e.body, n["content-type"]);
        return t.send(a),
        this.completes
    },
    parseResponse: function() {
        var e = this.xhr
          , t = e.responseType || e._responseType
          , i = !this.xhr.responseType
          , n = e._jsonPrefix && e._jsonPrefix.length || 0;
        try {
            switch (t) {
            case "json":
                if (i || void 0 === e.response)
                    try {
                        return JSON.parse(e.responseText)
                    } catch (r) {
                        return null
                    }
                return e.response;
            case "xml":
                return e.responseXML;
            case "blob":
            case "document":
            case "arraybuffer":
                return e.response;
            case "text":
            default:
                if (n)
                    try {
                        return JSON.parse(e.responseText.substring(n))
                    } catch (r) {
                        return null
                    }
                return e.responseText
            }
        } catch (s) {
            this.rejectCompletes(new Error("Could not parse response. " + s.message))
        }
    },
    abort: function() {
        this._setAborted(!0),
        this.xhr.abort()
    },
    _encodeBodyObject: function(e, t) {
        if ("string" == typeof e)
            return e;
        var i = e;
        switch (t) {
        case "application/json":
            return JSON.stringify(i);
        case "application/x-www-form-urlencoded":
            return this._wwwFormUrlEncode(i)
        }
        return e
    },
    _wwwFormUrlEncode: function(e) {
        if (!e)
            return "";
        var t = [];
        return Object.keys(e).forEach(function(i) {
            t.push(this._wwwFormUrlEncodePiece(i) + "=" + this._wwwFormUrlEncodePiece(e[i]))
        }, this),
        t.join("&")
    },
    _wwwFormUrlEncodePiece: function(e) {
        return null === e ? "" : encodeURIComponent(e.toString().replace(/\r?\n/g, "\r\n")).replace(/%20/g, "+")
    },
    _updateStatus: function() {
        this._setStatus(this.xhr.status),
        this._setStatusText(void 0 === this.xhr.statusText ? "" : this.xhr.statusText)
    }
}),
Polymer({
    is: "iron-ajax",
    hostAttributes: {
        hidden: !0
    },
    properties: {
        url: {
            type: String
        },
        params: {
            type: Object,
            value: function() {
                return {}
            }
        },
        method: {
            type: String,
            value: "GET"
        },
        headers: {
            type: Object,
            value: function() {
                return {}
            }
        },
        contentType: {
            type: String,
            value: null
        },
        body: {
            type: Object,
            value: null
        },
        sync: {
            type: Boolean,
            value: !1
        },
        handleAs: {
            type: String,
            value: "json"
        },
        withCredentials: {
            type: Boolean,
            value: !1
        },
        timeout: {
            type: Number,
            value: 0
        },
        auto: {
            type: Boolean,
            value: !1
        },
        verbose: {
            type: Boolean,
            value: !1
        },
        lastRequest: {
            type: Object,
            notify: !0,
            readOnly: !0
        },
        loading: {
            type: Boolean,
            notify: !0,
            readOnly: !0
        },
        lastResponse: {
            type: Object,
            notify: !0,
            readOnly: !0
        },
        lastError: {
            type: Object,
            notify: !0,
            readOnly: !0
        },
        activeRequests: {
            type: Array,
            notify: !0,
            readOnly: !0,
            value: function() {
                return []
            }
        },
        debounceDuration: {
            type: Number,
            value: 0,
            notify: !0
        },
        jsonPrefix: {
            type: String,
            value: ""
        },
        bubbles: {
            type: Boolean,
            value: !1
        },
        _boundHandleResponse: {
            type: Function,
            value: function() {
                return this._handleResponse.bind(this)
            }
        }
    },
    observers: ["_requestOptionsChanged(url, method, params.*, headers, contentType, body, sync, handleAs, jsonPrefix, withCredentials, timeout, auto)"],
    get queryString() {
        var e, t, i = [];
        for (e in this.params)
            if (t = this.params[e],
            e = window.encodeURIComponent(e),
            Array.isArray(t))
                for (var n = 0; n < t.length; n++)
                    i.push(e + "=" + window.encodeURIComponent(t[n]));
            else
                null !== t ? i.push(e + "=" + window.encodeURIComponent(t)) : i.push(e);
        return i.join("&")
    },
    get requestUrl() {
        var e = this.queryString
          , t = this.url || "";
        if (e) {
            var i = t.indexOf("?") >= 0 ? "&" : "?";
            return t + i + e
        }
        return t
    },
    get requestHeaders() {
        var e = {}
          , t = this.contentType;
        null == t && "string" == typeof this.body && (t = "application/x-www-form-urlencoded"),
        t && (e["content-type"] = t);
        var i;
        if (this.headers instanceof Object)
            for (i in this.headers)
                e[i] = this.headers[i].toString();
        return e
    },
    toRequestOptions: function() {
        return {
            url: this.requestUrl || "",
            method: this.method,
            headers: this.requestHeaders,
            body: this.body,
            async: !this.sync,
            handleAs: this.handleAs,
            jsonPrefix: this.jsonPrefix,
            withCredentials: this.withCredentials,
            timeout: this.timeout
        }
    },
    generateRequest: function() {
        var e = document.createElement("iron-request")
          , t = this.toRequestOptions();
        return this.push("activeRequests", e),
        e.completes.then(this._boundHandleResponse)["catch"](this._handleError.bind(this, e)).then(this._discardRequest.bind(this, e)),
        e.send(t),
        this._setLastRequest(e),
        this._setLoading(!0),
        this.fire("request", {
            request: e,
            options: t
        }, {
            bubbles: this.bubbles
        }),
        this.fire("iron-ajax-request", {
            request: e,
            options: t
        }, {
            bubbles: this.bubbles
        }),
        e
    },
    _handleResponse: function(e) {
        e === this.lastRequest && (this._setLastResponse(e.response),
        this._setLastError(null),
        this._setLoading(!1)),
        this.fire("response", e, {
            bubbles: this.bubbles
        }),
        this.fire("iron-ajax-response", e, {
            bubbles: this.bubbles
        })
    },
    _handleError: function(e, t) {
        this.verbose && Polymer.Base._error(t),
        e === this.lastRequest && (this._setLastError({
            request: e,
            error: t,
            status: e.xhr.status,
            statusText: e.xhr.statusText,
            response: e.xhr.response
        }),
        this._setLastResponse(null),
        this._setLoading(!1)),
        this.fire("iron-ajax-error", {
            request: e,
            error: t
        }, {
            bubbles: this.bubbles
        }),
        this.fire("error", {
            request: e,
            error: t
        }, {
            bubbles: this.bubbles
        })
    },
    _discardRequest: function(e) {
        var t = this.activeRequests.indexOf(e);
        t > -1 && this.splice("activeRequests", t, 1)
    },
    _requestOptionsChanged: function() {
        this.debounce("generate-request", function() {
            null != this.url && this.auto && this.generateRequest()
        }, this.debounceDuration)
    }
}),
function() {
    "use strict";
    function e(e) {
        var t, i, n, r, s = Array.prototype.slice.call(arguments, 1);
        for (t = 0,
        i = s.length; i > t; t += 1)
            if (n = s[t])
                for (r in n)
                    a.call(n, r) && (e[r] = n[r]);
        return e
    }
    function t(e, t, i) {
        this.locales = e,
        this.formats = t,
        this.pluralFn = i
    }
    function i(e) {
        this.id = e
    }
    function n(e, t, i, n, r) {
        this.id = e,
        this.useOrdinal = t,
        this.offset = i,
        this.options = n,
        this.pluralFn = r
    }
    function r(e, t, i, n) {
        this.id = e,
        this.offset = t,
        this.numberFormat = i,
        this.string = n
    }
    function s(e, t) {
        this.id = e,
        this.options = t
    }
    function o(e, t, i) {
        var n = "string" == typeof e ? o.__parse(e) : e;
        if (!n || "messageFormatPattern" !== n.type)
            throw new TypeError("A message must be provided as a String or AST.");
        i = this._mergeFormats(o.formats, i),
        l(this, "_locale", {
            value: this._resolveLocale(t)
        });
        var r = this._findPluralRuleFunction(this._locale)
          , s = this._compilePattern(n, t, i, r)
          , a = this;
        this.format = function(e) {
            return a._format(s, e)
        }
    }
    var a = Object.prototype.hasOwnProperty
      , c = function() {
        try {
            return !!Object.defineProperty({}, "a", {})
        } catch (e) {
            return !1
        }
    }()
      , l = (!c && !Object.prototype.__defineGetter__,
    c ? Object.defineProperty : function(e, t, i) {
        "get"in i && e.__defineGetter__ ? e.__defineGetter__(t, i.get) : (!a.call(e, t) || "value"in i) && (e[t] = i.value)
    }
    )
      , h = Object.create || function(e, t) {
        function i() {}
        var n, r;
        i.prototype = e,
        n = new i;
        for (r in t)
            a.call(t, r) && l(n, r, t[r]);
        return n
    }
      , u = t;
    t.prototype.compile = function(e) {
        return this.pluralStack = [],
        this.currentPlural = null,
        this.pluralNumberFormat = null,
        this.compileMessage(e)
    }
    ,
    t.prototype.compileMessage = function(e) {
        if (!e || "messageFormatPattern" !== e.type)
            throw new Error('Message AST is not of type: "messageFormatPattern"');
        var t, i, n, r = e.elements, s = [];
        for (t = 0,
        i = r.length; i > t; t += 1)
            switch (n = r[t],
            n.type) {
            case "messageTextElement":
                s.push(this.compileMessageText(n));
                break;
            case "argumentElement":
                s.push(this.compileArgument(n));
                break;
            default:
                throw new Error("Message element does not have a valid type")
            }
        return s
    }
    ,
    t.prototype.compileMessageText = function(e) {
        return this.currentPlural && /(^|[^\\])#/g.test(e.value) ? (this.pluralNumberFormat || (this.pluralNumberFormat = new Intl.NumberFormat(this.locales)),
        new r(this.currentPlural.id,this.currentPlural.format.offset,this.pluralNumberFormat,e.value)) : e.value.replace(/\\#/g, "#")
    }
    ,
    t.prototype.compileArgument = function(e) {
        var t = e.format;
        if (!t)
            return new i(e.id);
        var r, o = this.formats, a = this.locales, c = this.pluralFn;
        switch (t.type) {
        case "numberFormat":
            return r = o.number[t.style],
            {
                id: e.id,
                format: new Intl.NumberFormat(a,r).format
            };
        case "dateFormat":
            return r = o.date[t.style],
            {
                id: e.id,
                format: new Intl.DateTimeFormat(a,r).format
            };
        case "timeFormat":
            return r = o.time[t.style],
            {
                id: e.id,
                format: new Intl.DateTimeFormat(a,r).format
            };
        case "pluralFormat":
            return r = this.compileOptions(e),
            new n(e.id,t.ordinal,t.offset,r,c);
        case "selectFormat":
            return r = this.compileOptions(e),
            new s(e.id,r);
        default:
            throw new Error("Message element does not have a valid format type")
        }
    }
    ,
    t.prototype.compileOptions = function(e) {
        var t = e.format
          , i = t.options
          , n = {};
        this.pluralStack.push(this.currentPlural),
        this.currentPlural = "pluralFormat" === t.type ? e : null;
        var r, s, o;
        for (r = 0,
        s = i.length; s > r; r += 1)
            o = i[r],
            n[o.selector] = this.compileMessage(o.value);
        return this.currentPlural = this.pluralStack.pop(),
        n
    }
    ,
    i.prototype.format = function(e) {
        return e ? "string" == typeof e ? e : String(e) : ""
    }
    ,
    n.prototype.getOption = function(e) {
        var t = this.options
          , i = t["=" + e] || t[this.pluralFn(e - this.offset, this.useOrdinal)];
        return i || t.other
    }
    ,
    r.prototype.format = function(e) {
        var t = this.numberFormat.format(e - this.offset);
        return this.string.replace(/(^|[^\\])#/g, "$1" + t).replace(/\\#/g, "#")
    }
    ,
    s.prototype.getOption = function(e) {
        var t = this.options;
        return t[e] || t.other
    }
    ;
    var d = function() {
        function e(e, t) {
            function i() {
                this.constructor = e
            }
            i.prototype = t.prototype,
            e.prototype = new i
        }
        function t(e, t, i, n, r, s) {
            this.message = e,
            this.expected = t,
            this.found = i,
            this.offset = n,
            this.line = r,
            this.column = s,
            this.name = "SyntaxError"
        }
        function i(e) {
            function i(t) {
                function i(t, i, n) {
                    var r, s;
                    for (r = i; n > r; r++)
                        s = e.charAt(r),
                        "\n" === s ? (t.seenCR || t.line++,
                        t.column = 1,
                        t.seenCR = !1) : "\r" === s || "\u2028" === s || "\u2029" === s ? (t.line++,
                        t.column = 1,
                        t.seenCR = !0) : (t.column++,
                        t.seenCR = !1)
                }
                return Ke !== t && (Ke > t && (Ke = 0,
                qe = {
                    line: 1,
                    column: 1,
                    seenCR: !1
                }),
                i(qe, Ke, t),
                Ke = t),
                qe
            }
            function n(e) {
                Ze > We || (We > Ze && (Ze = We,
                Je = []),
                Je.push(e))
            }
            function r(n, r, s) {
                function o(e) {
                    var t = 1;
                    for (e.sort(function(e, t) {
                        return e.description < t.description ? -1 : e.description > t.description ? 1 : 0
                    }); t < e.length; )
                        e[t - 1] === e[t] ? e.splice(t, 1) : t++
                }
                function a(e, t) {
                    function i(e) {
                        function t(e) {
                            return e.charCodeAt(0).toString(16).toUpperCase()
                        }
                        return e.replace(/\\/g, "\\\\").replace(/"/g, '\\"').replace(/\x08/g, "\\b").replace(/\t/g, "\\t").replace(/\n/g, "\\n").replace(/\f/g, "\\f").replace(/\r/g, "\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g, function(e) {
                            return "\\x0" + t(e)
                        }).replace(/[\x10-\x1F\x80-\xFF]/g, function(e) {
                            return "\\x" + t(e)
                        }).replace(/[\u0180-\u0FFF]/g, function(e) {
                            return "\\u0" + t(e)
                        }).replace(/[\u1080-\uFFFF]/g, function(e) {
                            return "\\u" + t(e)
                        })
                    }
                    var n, r, s, o = new Array(e.length);
                    for (s = 0; s < e.length; s++)
                        o[s] = e[s].description;
                    return n = e.length > 1 ? o.slice(0, -1).join(", ") + " or " + o[e.length - 1] : o[0],
                    r = t ? '"' + i(t) + '"' : "end of input",
                    "Expected " + n + " but " + r + " found."
                }
                var c = i(s)
                  , l = s < e.length ? e.charAt(s) : null;
                return null !== r && o(r),
                new t(null !== n ? n : a(r, l),r,l,s,c.line,c.column)
            }
            function s() {
                var e;
                return e = o()
            }
            function o() {
                var e, t, i;
                for (e = We,
                t = [],
                i = a(); i !== I; )
                    t.push(i),
                    i = a();
                return t !== I && (Ye = e,
                t = D(t)),
                e = t
            }
            function a() {
                var e;
                return e = l(),
                e === I && (e = u()),
                e
            }
            function c() {
                var t, i, n, r, s, o;
                if (t = We,
                i = [],
                n = We,
                r = E(),
                r !== I ? (s = w(),
                s !== I ? (o = E(),
                o !== I ? (r = [r, s, o],
                n = r) : (We = n,
                n = N)) : (We = n,
                n = N)) : (We = n,
                n = N),
                n !== I)
                    for (; n !== I; )
                        i.push(n),
                        n = We,
                        r = E(),
                        r !== I ? (s = w(),
                        s !== I ? (o = E(),
                        o !== I ? (r = [r, s, o],
                        n = r) : (We = n,
                        n = N)) : (We = n,
                        n = N)) : (We = n,
                        n = N);
                else
                    i = N;
                return i !== I && (Ye = t,
                i = M(i)),
                t = i,
                t === I && (t = We,
                i = S(),
                i !== I && (i = e.substring(t, We)),
                t = i),
                t
            }
            function l() {
                var e, t;
                return e = We,
                t = c(),
                t !== I && (Ye = e,
                t = x(t)),
                e = t
            }
            function h() {
                var t, i, r;
                if (t = C(),
                t === I) {
                    if (t = We,
                    i = [],
                    B.test(e.charAt(We)) ? (r = e.charAt(We),
                    We++) : (r = I,
                    0 === Qe && n(F)),
                    r !== I)
                        for (; r !== I; )
                            i.push(r),
                            B.test(e.charAt(We)) ? (r = e.charAt(We),
                            We++) : (r = I,
                            0 === Qe && n(F));
                    else
                        i = N;
                    i !== I && (i = e.substring(t, We)),
                    t = i
                }
                return t
            }
            function u() {
                var t, i, r, s, o, a, c, l, u;
                return t = We,
                123 === e.charCodeAt(We) ? (i = V,
                We++) : (i = I,
                0 === Qe && n(U)),
                i !== I ? (r = E(),
                r !== I ? (s = h(),
                s !== I ? (o = E(),
                o !== I ? (a = We,
                44 === e.charCodeAt(We) ? (c = H,
                We++) : (c = I,
                0 === Qe && n(z)),
                c !== I ? (l = E(),
                l !== I ? (u = d(),
                u !== I ? (c = [c, l, u],
                a = c) : (We = a,
                a = N)) : (We = a,
                a = N)) : (We = a,
                a = N),
                a === I && (a = j),
                a !== I ? (c = E(),
                c !== I ? (125 === e.charCodeAt(We) ? (l = G,
                We++) : (l = I,
                0 === Qe && n(X)),
                l !== I ? (Ye = t,
                i = $(s, a),
                t = i) : (We = t,
                t = N)) : (We = t,
                t = N)) : (We = t,
                t = N)) : (We = t,
                t = N)) : (We = t,
                t = N)) : (We = t,
                t = N)) : (We = t,
                t = N),
                t
            }
            function d() {
                var e;
                return e = f(),
                e === I && (e = p(),
                e === I && (e = m(),
                e === I && (e = g()))),
                e
            }
            function f() {
                var t, i, r, s, o, a, c;
                return t = We,
                e.substr(We, 6) === W ? (i = W,
                We += 6) : (i = I,
                0 === Qe && n(Y)),
                i === I && (e.substr(We, 4) === K ? (i = K,
                We += 4) : (i = I,
                0 === Qe && n(q)),
                i === I && (e.substr(We, 4) === Z ? (i = Z,
                We += 4) : (i = I,
                0 === Qe && n(J)))),
                i !== I ? (r = E(),
                r !== I ? (s = We,
                44 === e.charCodeAt(We) ? (o = H,
                We++) : (o = I,
                0 === Qe && n(z)),
                o !== I ? (a = E(),
                a !== I ? (c = w(),
                c !== I ? (o = [o, a, c],
                s = o) : (We = s,
                s = N)) : (We = s,
                s = N)) : (We = s,
                s = N),
                s === I && (s = j),
                s !== I ? (Ye = t,
                i = Q(i, s),
                t = i) : (We = t,
                t = N)) : (We = t,
                t = N)) : (We = t,
                t = N),
                t
            }
            function p() {
                var t, i, r, s, o, a;
                return t = We,
                e.substr(We, 6) === ee ? (i = ee,
                We += 6) : (i = I,
                0 === Qe && n(te)),
                i !== I ? (r = E(),
                r !== I ? (44 === e.charCodeAt(We) ? (s = H,
                We++) : (s = I,
                0 === Qe && n(z)),
                s !== I ? (o = E(),
                o !== I ? (a = b(),
                a !== I ? (Ye = t,
                i = ie(a),
                t = i) : (We = t,
                t = N)) : (We = t,
                t = N)) : (We = t,
                t = N)) : (We = t,
                t = N)) : (We = t,
                t = N),
                t
            }
            function m() {
                var t, i, r, s, o, a;
                return t = We,
                e.substr(We, 13) === ne ? (i = ne,
                We += 13) : (i = I,
                0 === Qe && n(re)),
                i !== I ? (r = E(),
                r !== I ? (44 === e.charCodeAt(We) ? (s = H,
                We++) : (s = I,
                0 === Qe && n(z)),
                s !== I ? (o = E(),
                o !== I ? (a = b(),
                a !== I ? (Ye = t,
                i = se(a),
                t = i) : (We = t,
                t = N)) : (We = t,
                t = N)) : (We = t,
                t = N)) : (We = t,
                t = N)) : (We = t,
                t = N),
                t
            }
            function g() {
                var t, i, r, s, o, a, c;
                if (t = We,
                e.substr(We, 6) === oe ? (i = oe,
                We += 6) : (i = I,
                0 === Qe && n(ae)),
                i !== I)
                    if (r = E(),
                    r !== I)
                        if (44 === e.charCodeAt(We) ? (s = H,
                        We++) : (s = I,
                        0 === Qe && n(z)),
                        s !== I)
                            if (o = E(),
                            o !== I) {
                                if (a = [],
                                c = v(),
                                c !== I)
                                    for (; c !== I; )
                                        a.push(c),
                                        c = v();
                                else
                                    a = N;
                                a !== I ? (Ye = t,
                                i = ce(a),
                                t = i) : (We = t,
                                t = N)
                            } else
                                We = t,
                                t = N;
                        else
                            We = t,
                            t = N;
                    else
                        We = t,
                        t = N;
                else
                    We = t,
                    t = N;
                return t
            }
            function y() {
                var t, i, r, s;
                return t = We,
                i = We,
                61 === e.charCodeAt(We) ? (r = le,
                We++) : (r = I,
                0 === Qe && n(he)),
                r !== I ? (s = C(),
                s !== I ? (r = [r, s],
                i = r) : (We = i,
                i = N)) : (We = i,
                i = N),
                i !== I && (i = e.substring(t, We)),
                t = i,
                t === I && (t = w()),
                t
            }
            function v() {
                var t, i, r, s, a, c, l, h, u;
                return t = We,
                i = E(),
                i !== I ? (r = y(),
                r !== I ? (s = E(),
                s !== I ? (123 === e.charCodeAt(We) ? (a = V,
                We++) : (a = I,
                0 === Qe && n(U)),
                a !== I ? (c = E(),
                c !== I ? (l = o(),
                l !== I ? (h = E(),
                h !== I ? (125 === e.charCodeAt(We) ? (u = G,
                We++) : (u = I,
                0 === Qe && n(X)),
                u !== I ? (Ye = t,
                i = ue(r, l),
                t = i) : (We = t,
                t = N)) : (We = t,
                t = N)) : (We = t,
                t = N)) : (We = t,
                t = N)) : (We = t,
                t = N)) : (We = t,
                t = N)) : (We = t,
                t = N)) : (We = t,
                t = N),
                t
            }
            function _() {
                var t, i, r, s;
                return t = We,
                e.substr(We, 7) === de ? (i = de,
                We += 7) : (i = I,
                0 === Qe && n(fe)),
                i !== I ? (r = E(),
                r !== I ? (s = C(),
                s !== I ? (Ye = t,
                i = pe(s),
                t = i) : (We = t,
                t = N)) : (We = t,
                t = N)) : (We = t,
                t = N),
                t
            }
            function b() {
                var e, t, i, n, r;
                if (e = We,
                t = _(),
                t === I && (t = j),
                t !== I)
                    if (i = E(),
                    i !== I) {
                        if (n = [],
                        r = v(),
                        r !== I)
                            for (; r !== I; )
                                n.push(r),
                                r = v();
                        else
                            n = N;
                        n !== I ? (Ye = e,
                        t = me(t, n),
                        e = t) : (We = e,
                        e = N)
                    } else
                        We = e,
                        e = N;
                else
                    We = e,
                    e = N;
                return e
            }
            function S() {
                var t, i;
                if (Qe++,
                t = [],
                ye.test(e.charAt(We)) ? (i = e.charAt(We),
                We++) : (i = I,
                0 === Qe && n(ve)),
                i !== I)
                    for (; i !== I; )
                        t.push(i),
                        ye.test(e.charAt(We)) ? (i = e.charAt(We),
                        We++) : (i = I,
                        0 === Qe && n(ve));
                else
                    t = N;
                return Qe--,
                t === I && (i = I,
                0 === Qe && n(ge)),
                t
            }
            function E() {
                var t, i, r;
                for (Qe++,
                t = We,
                i = [],
                r = S(); r !== I; )
                    i.push(r),
                    r = S();
                return i !== I && (i = e.substring(t, We)),
                t = i,
                Qe--,
                t === I && (i = I,
                0 === Qe && n(_e)),
                t
            }
            function P() {
                var t;
                return be.test(e.charAt(We)) ? (t = e.charAt(We),
                We++) : (t = I,
                0 === Qe && n(Se)),
                t
            }
            function T() {
                var t;
                return Ee.test(e.charAt(We)) ? (t = e.charAt(We),
                We++) : (t = I,
                0 === Qe && n(Pe)),
                t
            }
            function C() {
                var t, i, r, s, o, a;
                if (t = We,
                48 === e.charCodeAt(We) ? (i = Te,
                We++) : (i = I,
                0 === Qe && n(Ce)),
                i === I) {
                    if (i = We,
                    r = We,
                    Ae.test(e.charAt(We)) ? (s = e.charAt(We),
                    We++) : (s = I,
                    0 === Qe && n(we)),
                    s !== I) {
                        for (o = [],
                        a = P(); a !== I; )
                            o.push(a),
                            a = P();
                        o !== I ? (s = [s, o],
                        r = s) : (We = r,
                        r = N)
                    } else
                        We = r,
                        r = N;
                    r !== I && (r = e.substring(i, We)),
                    i = r
                }
                return i !== I && (Ye = t,
                i = Re(i)),
                t = i
            }
            function A() {
                var t, i, r, s, o, a, c, l;
                return Oe.test(e.charAt(We)) ? (t = e.charAt(We),
                We++) : (t = I,
                0 === Qe && n(Ie)),
                t === I && (t = We,
                e.substr(We, 2) === Le ? (i = Le,
                We += 2) : (i = I,
                0 === Qe && n(ke)),
                i !== I && (Ye = t,
                i = De()),
                t = i,
                t === I && (t = We,
                e.substr(We, 2) === Ne ? (i = Ne,
                We += 2) : (i = I,
                0 === Qe && n(Me)),
                i !== I && (Ye = t,
                i = xe()),
                t = i,
                t === I && (t = We,
                e.substr(We, 2) === Be ? (i = Be,
                We += 2) : (i = I,
                0 === Qe && n(Fe)),
                i !== I && (Ye = t,
                i = Ve()),
                t = i,
                t === I && (t = We,
                e.substr(We, 2) === Ue ? (i = Ue,
                We += 2) : (i = I,
                0 === Qe && n(je)),
                i !== I && (Ye = t,
                i = He()),
                t = i,
                t === I && (t = We,
                e.substr(We, 2) === ze ? (i = ze,
                We += 2) : (i = I,
                0 === Qe && n(Ge)),
                i !== I ? (r = We,
                s = We,
                o = T(),
                o !== I ? (a = T(),
                a !== I ? (c = T(),
                c !== I ? (l = T(),
                l !== I ? (o = [o, a, c, l],
                s = o) : (We = s,
                s = N)) : (We = s,
                s = N)) : (We = s,
                s = N)) : (We = s,
                s = N),
                s !== I && (s = e.substring(r, We)),
                r = s,
                r !== I ? (Ye = t,
                i = Xe(r),
                t = i) : (We = t,
                t = N)) : (We = t,
                t = N)))))),
                t
            }
            function w() {
                var e, t, i;
                if (e = We,
                t = [],
                i = A(),
                i !== I)
                    for (; i !== I; )
                        t.push(i),
                        i = A();
                else
                    t = N;
                return t !== I && (Ye = e,
                t = $e(t)),
                e = t
            }
            var R, O = arguments.length > 1 ? arguments[1] : {}, I = {}, L = {
                start: s
            }, k = s, D = function(e) {
                return {
                    type: "messageFormatPattern",
                    elements: e
                }
            }, N = I, M = function(e) {
                var t, i, n, r, s, o = "";
                for (t = 0,
                n = e.length; n > t; t += 1)
                    for (r = e[t],
                    i = 0,
                    s = r.length; s > i; i += 1)
                        o += r[i];
                return o
            }, x = function(e) {
                return {
                    type: "messageTextElement",
                    value: e
                }
            }, B = /^[^ \t\n\r,.+={}#]/, F = {
                type: "class",
                value: "[^ \\t\\n\\r,.+={}#]",
                description: "[^ \\t\\n\\r,.+={}#]"
            }, V = "{", U = {
                type: "literal",
                value: "{",
                description: '"{"'
            }, j = null, H = ",", z = {
                type: "literal",
                value: ",",
                description: '","'
            }, G = "}", X = {
                type: "literal",
                value: "}",
                description: '"}"'
            }, $ = function(e, t) {
                return {
                    type: "argumentElement",
                    id: e,
                    format: t && t[2]
                }
            }, W = "number", Y = {
                type: "literal",
                value: "number",
                description: '"number"'
            }, K = "date", q = {
                type: "literal",
                value: "date",
                description: '"date"'
            }, Z = "time", J = {
                type: "literal",
                value: "time",
                description: '"time"'
            }, Q = function(e, t) {
                return {
                    type: e + "Format",
                    style: t && t[2]
                }
            }, ee = "plural", te = {
                type: "literal",
                value: "plural",
                description: '"plural"'
            }, ie = function(e) {
                return {
                    type: e.type,
                    ordinal: !1,
                    offset: e.offset || 0,
                    options: e.options
                }
            }, ne = "selectordinal", re = {
                type: "literal",
                value: "selectordinal",
                description: '"selectordinal"'
            }, se = function(e) {
                return {
                    type: e.type,
                    ordinal: !0,
                    offset: e.offset || 0,
                    options: e.options
                }
            }, oe = "select", ae = {
                type: "literal",
                value: "select",
                description: '"select"'
            }, ce = function(e) {
                return {
                    type: "selectFormat",
                    options: e
                }
            }, le = "=", he = {
                type: "literal",
                value: "=",
                description: '"="'
            }, ue = function(e, t) {
                return {
                    type: "optionalFormatPattern",
                    selector: e,
                    value: t
                }
            }, de = "offset:", fe = {
                type: "literal",
                value: "offset:",
                description: '"offset:"'
            }, pe = function(e) {
                return e
            }, me = function(e, t) {
                return {
                    type: "pluralFormat",
                    offset: e,
                    options: t
                }
            }, ge = {
                type: "other",
                description: "whitespace"
            }, ye = /^[ \t\n\r]/, ve = {
                type: "class",
                value: "[ \\t\\n\\r]",
                description: "[ \\t\\n\\r]"
            }, _e = {
                type: "other",
                description: "optionalWhitespace"
            }, be = /^[0-9]/, Se = {
                type: "class",
                value: "[0-9]",
                description: "[0-9]"
            }, Ee = /^[0-9a-f]/i, Pe = {
                type: "class",
                value: "[0-9a-f]i",
                description: "[0-9a-f]i"
            }, Te = "0", Ce = {
                type: "literal",
                value: "0",
                description: '"0"'
            }, Ae = /^[1-9]/, we = {
                type: "class",
                value: "[1-9]",
                description: "[1-9]"
            }, Re = function(e) {
                return parseInt(e, 10)
            }, Oe = /^[^{}\\\0-\x1F \t\n\r]/, Ie = {
                type: "class",
                value: "[^{}\\\\\\0-\\x1F \\t\\n\\r]",
                description: "[^{}\\\\\\0-\\x1F \\t\\n\\r]"
            }, Le = "\\\\", ke = {
                type: "literal",
                value: "\\\\",
                description: '"\\\\\\\\"'
            }, De = function() {
                return "\\"
            }, Ne = "\\#", Me = {
                type: "literal",
                value: "\\#",
                description: '"\\\\#"'
            }, xe = function() {
                return "\\#"
            }, Be = "\\{", Fe = {
                type: "literal",
                value: "\\{",
                description: '"\\\\{"'
            }, Ve = function() {
                return "{"
            }, Ue = "\\}", je = {
                type: "literal",
                value: "\\}",
                description: '"\\\\}"'
            }, He = function() {
                return "}"
            }, ze = "\\u", Ge = {
                type: "literal",
                value: "\\u",
                description: '"\\\\u"'
            }, Xe = function(e) {
                return String.fromCharCode(parseInt(e, 16))
            }, $e = function(e) {
                return e.join("")
            }, We = 0, Ye = 0, Ke = 0, qe = {
                line: 1,
                column: 1,
                seenCR: !1
            }, Ze = 0, Je = [], Qe = 0;
            if ("startRule"in O) {
                if (!(O.startRule in L))
                    throw new Error("Can't start parsing from rule \"" + O.startRule + '".');
                k = L[O.startRule]
            }
            if (R = k(),
            R !== I && We === e.length)
                return R;
            throw R !== I && We < e.length && n({
                type: "end",
                description: "end of input"
            }),
            r(null, Je, Ze)
        }
        return e(t, Error),
        {
            SyntaxError: t,
            parse: i
        }
    }()
      , f = o;
    l(o, "formats", {
        enumerable: !0,
        value: {
            number: {
                currency: {
                    style: "currency"
                },
                percent: {
                    style: "percent"
                }
            },
            date: {
                "short": {
                    month: "numeric",
                    day: "numeric",
                    year: "2-digit"
                },
                medium: {
                    month: "short",
                    day: "numeric",
                    year: "numeric"
                },
                "long": {
                    month: "long",
                    day: "numeric",
                    year: "numeric"
                },
                full: {
                    weekday: "long",
                    month: "long",
                    day: "numeric",
                    year: "numeric"
                }
            },
            time: {
                "short": {
                    hour: "numeric",
                    minute: "numeric"
                },
                medium: {
                    hour: "numeric",
                    minute: "numeric",
                    second: "numeric"
                },
                "long": {
                    hour: "numeric",
                    minute: "numeric",
                    second: "numeric",
                    timeZoneName: "short"
                },
                full: {
                    hour: "numeric",
                    minute: "numeric",
                    second: "numeric",
                    timeZoneName: "short"
                }
            }
        }
    }),
    l(o, "__localeData__", {
        value: h(null)
    }),
    l(o, "__addLocaleData", {
        value: function(e) {
            if (!e || !e.locale)
                throw new Error("Locale data provided to IntlMessageFormat is missing a `locale` property");
            o.__localeData__[e.locale.toLowerCase()] = e
        }
    }),
    l(o, "__parse", {
        value: d.parse
    }),
    l(o, "defaultLocale", {
        enumerable: !0,
        writable: !0,
        value: void 0
    }),
    o.prototype.resolvedOptions = function() {
        return {
            locale: this._locale
        }
    }
    ,
    o.prototype._compilePattern = function(e, t, i, n) {
        var r = new u(t,i,n);
        return r.compile(e)
    }
    ,
    o.prototype._findPluralRuleFunction = function(e) {
        for (var t = o.__localeData__, i = t[e.toLowerCase()]; i; ) {
            if (i.pluralRuleFunction)
                return i.pluralRuleFunction;
            i = i.parentLocale && t[i.parentLocale.toLowerCase()]
        }
        throw new Error("Locale data added to IntlMessageFormat is missing a `pluralRuleFunction` for :" + e)
    }
    ,
    o.prototype._format = function(e, t) {
        var i, n, r, s, o, c = "";
        for (i = 0,
        n = e.length; n > i; i += 1)
            if (r = e[i],
            "string" != typeof r) {
                if (s = r.id,
                !t || !a.call(t, s))
                    throw new Error("A value must be provided for: " + s);
                o = t[s],
                c += r.options ? this._format(r.getOption(o), t) : r.format(o)
            } else
                c += r;
        return c
    }
    ,
    o.prototype._mergeFormats = function(t, i) {
        var n, r, s = {};
        for (n in t)
            a.call(t, n) && (s[n] = r = h(t[n]),
            i && a.call(i, n) && e(r, i[n]));
        return s
    }
    ,
    o.prototype._resolveLocale = function(e) {
        "string" == typeof e && (e = [e]),
        e = (e || []).concat(o.defaultLocale);
        var t, i, n, r, s = o.__localeData__;
        for (t = 0,
        i = e.length; i > t; t += 1)
            for (n = e[t].toLowerCase().split("-"); n.length; ) {
                if (r = s[n.join("-")])
                    return r.locale;
                n.pop()
            }
        var a = e.pop();
        throw new Error("No locale data has been added to IntlMessageFormat for: " + e.join(", ") + ", or the default locale: " + a)
    }
    ;
    var p = {
        locale: "en",
        pluralRuleFunction: function(e, t) {
            var i = String(e).split(".")
              , n = !i[1]
              , r = Number(i[0]) == e
              , s = r && i[0].slice(-1)
              , o = r && i[0].slice(-2);
            return t ? 1 == s && 11 != o ? "one" : 2 == s && 12 != o ? "two" : 3 == s && 13 != o ? "few" : "other" : 1 == e && n ? "one" : "other"
        }
    };
    f.__addLocaleData(p),
    f.defaultLocale = "en";
    var m = f;
    this.IntlMessageFormat = m
}
.call(this),
Polymer.AppLocalizeBehavior = {
    __localizationCache: {
        requests: {},
        messages: {},
        ajax: null
    },
    properties: {
        language: {
            type: String
        },
        resources: {
            type: Object
        },
        pathToResources: {
            type: String
        },
        formats: {
            type: Object,
            value: function() {
                return {}
            }
        },
        localize: {
            type: Function,
            computed: "__computeLocalize(language, resources, formats)"
        }
    },
    loadResources: function(e) {
        var t = this.constructor.prototype
          , i = t.__localizationCache.ajax;
        i || (i = t.__localizationCache.ajax = document.createElement("iron-ajax"));
        var n = t.__localizationCache.requests[e];
        if (n)
            n.completes.then(this.__onRequestResponse.bind(this), this.__onRequestError.bind(this));
        else {
            i.url = e;
            var n = i.generateRequest();
            n.completes.then(this.__onRequestResponse.bind(this), this.__onRequestError.bind(this)),
            t.__localizationCache.requests[e] = n
        }
    },
    __computeLocalize: function(e, t, i) {
        var n = this.constructor.prototype;
        return n.__localizationCache.messages = {},
        function() {
            var r = arguments[0];
            if (r && t && e) {
                var s = r + t[e][r]
                  , o = n.__localizationCache.messages[s];
                o || (o = new IntlMessageFormat(t[e][r],e,i),
                n.__localizationCache.messages[s] = o);
                for (var a = {}, c = 1; c < arguments.length; c += 2)
                    a[arguments[c]] = arguments[c + 1];
                return o.format(a)
            }
        }
    },
    __onRequestResponse: function(e) {
        this.resources = e.response,
        this.fire("app-resources-loaded")
    },
    __onRequestError: function(e) {
        this.fire("app-resources-error")
    }
},
function() {
    "use strict";
    function e(e, t) {
        var i = "";
        if (e) {
            var n = e.toLowerCase();
            " " === n || f.test(n) ? i = "space" : p.test(n) ? i = "esc" : 1 == n.length ? t && !h.test(n) || (i = n) : i = d.test(n) ? n.replace("arrow", "") : "multiply" == n ? "*" : n
        }
        return i
    }
    function t(e) {
        var t = "";
        return e && (e in a ? t = a[e] : u.test(e) ? (e = parseInt(e.replace("U+", "0x"), 16),
        t = String.fromCharCode(e).toLowerCase()) : t = e.toLowerCase()),
        t
    }
    function i(e) {
        var t = "";
        return Number(e) && (t = e >= 65 && e <= 90 ? String.fromCharCode(32 + e) : e >= 112 && e <= 123 ? "f" + (e - 112) : e >= 48 && e <= 57 ? String(e - 48) : e >= 96 && e <= 105 ? String(e - 96) : c[e]),
        t
    }
    function n(n, r) {
        return n.key ? e(n.key, r) : n.detail && n.detail.key ? e(n.detail.key, r) : t(n.keyIdentifier) || i(n.keyCode) || ""
    }
    function r(e, t) {
        var i = n(t, e.hasModifiers);
        return i === e.key && (!e.hasModifiers || !!t.shiftKey == !!e.shiftKey && !!t.ctrlKey == !!e.ctrlKey && !!t.altKey == !!e.altKey && !!t.metaKey == !!e.metaKey)
    }
    function s(e) {
        return 1 === e.length ? {
            combo: e,
            key: e,
            event: "keydown"
        } : e.split("+").reduce(function(e, t) {
            var i = t.split(":")
              , n = i[0]
              , r = i[1];
            return n in l ? (e[l[n]] = !0,
            e.hasModifiers = !0) : (e.key = n,
            e.event = r || "keydown"),
            e
        }, {
            combo: e.split(":").shift()
        })
    }
    function o(e) {
        return e.trim().split(" ").map(function(e) {
            return s(e)
        })
    }
    var a = {
        "U+0008": "backspace",
        "U+0009": "tab",
        "U+001B": "esc",
        "U+0020": "space",
        "U+007F": "del"
    }
      , c = {
        8: "backspace",
        9: "tab",
        13: "enter",
        27: "esc",
        33: "pageup",
        34: "pagedown",
        35: "end",
        36: "home",
        32: "space",
        37: "left",
        38: "up",
        39: "right",
        40: "down",
        46: "del",
        106: "*"
    }
      , l = {
        shift: "shiftKey",
        ctrl: "ctrlKey",
        alt: "altKey",
        meta: "metaKey"
    }
      , h = /[a-z0-9*]/
      , u = /U\+/
      , d = /^arrow/
      , f = /^space(bar)?/
      , p = /^escape$/;
    Polymer.IronA11yKeysBehavior = {
        properties: {
            keyEventTarget: {
                type: Object,
                value: function() {
                    return this
                }
            },
            stopKeyboardEventPropagation: {
                type: Boolean,
                value: !1
            },
            _boundKeyHandlers: {
                type: Array,
                value: function() {
                    return []
                }
            },
            _imperativeKeyBindings: {
                type: Object,
                value: function() {
                    return {}
                }
            }
        },
        observers: ["_resetKeyEventListeners(keyEventTarget, _boundKeyHandlers)"],
        keyBindings: {},
        registered: function() {
            this._prepKeyBindings()
        },
        attached: function() {
            this._listenKeyEventListeners()
        },
        detached: function() {
            this._unlistenKeyEventListeners()
        },
        addOwnKeyBinding: function(e, t) {
            this._imperativeKeyBindings[e] = t,
            this._prepKeyBindings(),
            this._resetKeyEventListeners()
        },
        removeOwnKeyBindings: function() {
            this._imperativeKeyBindings = {},
            this._prepKeyBindings(),
            this._resetKeyEventListeners()
        },
        keyboardEventMatchesKeys: function(e, t) {
            for (var i = o(t), n = 0; n < i.length; ++n)
                if (r(i[n], e))
                    return !0;
            return !1
        },
        _collectKeyBindings: function() {
            var e = this.behaviors.map(function(e) {
                return e.keyBindings
            });
            return e.indexOf(this.keyBindings) === -1 && e.push(this.keyBindings),
            e
        },
        _prepKeyBindings: function() {
            this._keyBindings = {},
            this._collectKeyBindings().forEach(function(e) {
                for (var t in e)
                    this._addKeyBinding(t, e[t])
            }, this);
            for (var e in this._imperativeKeyBindings)
                this._addKeyBinding(e, this._imperativeKeyBindings[e]);
            for (var t in this._keyBindings)
                this._keyBindings[t].sort(function(e, t) {
                    var i = e[0].hasModifiers
                      , n = t[0].hasModifiers;
                    return i === n ? 0 : i ? -1 : 1
                })
        },
        _addKeyBinding: function(e, t) {
            o(e).forEach(function(e) {
                this._keyBindings[e.event] = this._keyBindings[e.event] || [],
                this._keyBindings[e.event].push([e, t])
            }, this)
        },
        _resetKeyEventListeners: function() {
            this._unlistenKeyEventListeners(),
            this.isAttached && this._listenKeyEventListeners()
        },
        _listenKeyEventListeners: function() {
            this.keyEventTarget && Object.keys(this._keyBindings).forEach(function(e) {
                var t = this._keyBindings[e]
                  , i = this._onKeyBindingEvent.bind(this, t);
                this._boundKeyHandlers.push([this.keyEventTarget, e, i]),
                this.keyEventTarget.addEventListener(e, i)
            }, this)
        },
        _unlistenKeyEventListeners: function() {
            for (var e, t, i, n; this._boundKeyHandlers.length; )
                e = this._boundKeyHandlers.pop(),
                t = e[0],
                i = e[1],
                n = e[2],
                t.removeEventListener(i, n)
        },
        _onKeyBindingEvent: function(e, t) {
            if (this.stopKeyboardEventPropagation && t.stopPropagation(),
            !t.defaultPrevented)
                for (var i = 0; i < e.length; i++) {
                    var n = e[i][0]
                      , s = e[i][1];
                    if (r(n, t) && (this._triggerKeyHandler(n, s, t),
                    t.defaultPrevented))
                        return
                }
        },
        _triggerKeyHandler: function(e, t, i) {
            var n = Object.create(e);
            n.keyboardEvent = i;
            var r = new CustomEvent(e.event,{
                detail: n,
                cancelable: !0
            });
            this[t].call(this, r),
            r.defaultPrevented && i.preventDefault()
        }
    }
}(),
Polymer({
    is: "iron-a11y-keys",
    behaviors: [Polymer.IronA11yKeysBehavior],
    properties: {
        target: {
            type: Object,
            observer: "_targetChanged"
        },
        keys: {
            type: String,
            reflectToAttribute: !0,
            observer: "_keysChanged"
        }
    },
    attached: function() {
        this.target || (this.target = this.parentNode)
    },
    _targetChanged: function(e) {
        this.keyEventTarget = e
    },
    _keysChanged: function() {
        this.removeOwnKeyBindings(),
        this.addOwnKeyBinding(this.keys, "_fireKeysPressed")
    },
    _fireKeysPressed: function(e) {
        this.fire("keys-pressed", e.detail, {})
    }
}),
function() {
    "use strict";
    Polymer.IronA11yAnnouncer = Polymer({
        is: "iron-a11y-announcer",
        properties: {
            mode: {
                type: String,
                value: "polite"
            },
            _text: {
                type: String,
                value: ""
            }
        },
        created: function() {
            Polymer.IronA11yAnnouncer.instance || (Polymer.IronA11yAnnouncer.instance = this),
            document.body.addEventListener("iron-announce", this._onIronAnnounce.bind(this))
        },
        announce: function(e) {
            this._text = "",
            this.async(function() {
                this._text = e
            }, 100)
        },
        _onIronAnnounce: function(e) {
            e.detail && e.detail.text && this.announce(e.detail.text)
        }
    }),
    Polymer.IronA11yAnnouncer.instance = null,
    Polymer.IronA11yAnnouncer.requestAvailability = function() {
        Polymer.IronA11yAnnouncer.instance || (Polymer.IronA11yAnnouncer.instance = document.createElement("iron-a11y-announcer")),
        document.body.appendChild(Polymer.IronA11yAnnouncer.instance)
    }
}(),
Polymer.IronControlState = {
    properties: {
        focused: {
            type: Boolean,
            value: !1,
            notify: !0,
            readOnly: !0,
            reflectToAttribute: !0
        },
        disabled: {
            type: Boolean,
            value: !1,
            notify: !0,
            observer: "_disabledChanged",
            reflectToAttribute: !0
        },
        _oldTabIndex: {
            type: Number
        },
        _boundFocusBlurHandler: {
            type: Function,
            value: function() {
                return this._focusBlurHandler.bind(this)
            }
        }
    },
    observers: ["_changedControlState(focused, disabled)"],
    ready: function() {
        this.addEventListener("focus", this._boundFocusBlurHandler, !0),
        this.addEventListener("blur", this._boundFocusBlurHandler, !0)
    },
    _focusBlurHandler: function(e) {
        if (e.target === this)
            this._setFocused("focus" === e.type);
        else if (!this.shadowRoot) {
            var t = Polymer.dom(e).localTarget;
            this.isLightDescendant(t) || this.fire(e.type, {
                sourceEvent: e
            }, {
                node: this,
                bubbles: e.bubbles,
                cancelable: e.cancelable
            })
        }
    },
    _disabledChanged: function(e, t) {
        this.setAttribute("aria-disabled", e ? "true" : "false"),
        this.style.pointerEvents = e ? "none" : "",
        e ? (this._oldTabIndex = this.tabIndex,
        this._setFocused(!1),
        this.tabIndex = -1,
        this.blur()) : void 0 !== this._oldTabIndex && (this.tabIndex = this._oldTabIndex)
    },
    _changedControlState: function() {
        this._controlStateChanged && this._controlStateChanged()
    }
},
Polymer.IronButtonStateImpl = {
    properties: {
        pressed: {
            type: Boolean,
            readOnly: !0,
            value: !1,
            reflectToAttribute: !0,
            observer: "_pressedChanged"
        },
        toggles: {
            type: Boolean,
            value: !1,
            reflectToAttribute: !0
        },
        active: {
            type: Boolean,
            value: !1,
            notify: !0,
            reflectToAttribute: !0
        },
        pointerDown: {
            type: Boolean,
            readOnly: !0,
            value: !1
        },
        receivedFocusFromKeyboard: {
            type: Boolean,
            readOnly: !0
        },
        ariaActiveAttribute: {
            type: String,
            value: "aria-pressed",
            observer: "_ariaActiveAttributeChanged"
        }
    },
    listeners: {
        down: "_downHandler",
        up: "_upHandler",
        tap: "_tapHandler"
    },
    observers: ["_detectKeyboardFocus(focused)", "_activeChanged(active, ariaActiveAttribute)"],
    keyBindings: {
        "enter:keydown": "_asyncClick",
        "space:keydown": "_spaceKeyDownHandler",
        "space:keyup": "_spaceKeyUpHandler"
    },
    _mouseEventRe: /^mouse/,
    _tapHandler: function() {
        this.toggles ? this._userActivate(!this.active) : this.active = !1
    },
    _detectKeyboardFocus: function(e) {
        this._setReceivedFocusFromKeyboard(!this.pointerDown && e)
    },
    _userActivate: function(e) {
        this.active !== e && (this.active = e,
        this.fire("change"))
    },
    _downHandler: function(e) {
        this._setPointerDown(!0),
        this._setPressed(!0),
        this._setReceivedFocusFromKeyboard(!1)
    },
    _upHandler: function() {
        this._setPointerDown(!1),
        this._setPressed(!1)
    },
    _spaceKeyDownHandler: function(e) {
        var t = e.detail.keyboardEvent
          , i = Polymer.dom(t).localTarget;
        this.isLightDescendant(i) || (t.preventDefault(),
        t.stopImmediatePropagation(),
        this._setPressed(!0))
    },
    _spaceKeyUpHandler: function(e) {
        var t = e.detail.keyboardEvent
          , i = Polymer.dom(t).localTarget;
        this.isLightDescendant(i) || (this.pressed && this._asyncClick(),
        this._setPressed(!1))
    },
    _asyncClick: function() {
        this.async(function() {
            this.click()
        }, 1)
    },
    _pressedChanged: function(e) {
        this._changedButtonState()
    },
    _ariaActiveAttributeChanged: function(e, t) {
        t && t != e && this.hasAttribute(t) && this.removeAttribute(t)
    },
    _activeChanged: function(e, t) {
        this.toggles ? this.setAttribute(this.ariaActiveAttribute, e ? "true" : "false") : this.removeAttribute(this.ariaActiveAttribute),
        this._changedButtonState()
    },
    _controlStateChanged: function() {
        this.disabled ? this._setPressed(!1) : this._changedButtonState()
    },
    _changedButtonState: function() {
        this._buttonStateChanged && this._buttonStateChanged()
    }
},
Polymer.IronButtonState = [Polymer.IronA11yKeysBehavior, Polymer.IronButtonStateImpl],
Polymer.IronResizableBehavior = {
    properties: {
        _parentResizable: {
            type: Object,
            observer: "_parentResizableChanged"
        },
        _notifyingDescendant: {
            type: Boolean,
            value: !1
        }
    },
    listeners: {
        "iron-request-resize-notifications": "_onIronRequestResizeNotifications"
    },
    created: function() {
        this._interestedResizables = [],
        this._boundNotifyResize = this.notifyResize.bind(this)
    },
    attached: function() {
        this.fire("iron-request-resize-notifications", null, {
            node: this,
            bubbles: !0,
            cancelable: !0
        }),
        this._parentResizable || (window.addEventListener("resize", this._boundNotifyResize),
        this.notifyResize())
    },
    detached: function() {
        this._parentResizable ? this._parentResizable.stopResizeNotificationsFor(this) : window.removeEventListener("resize", this._boundNotifyResize),
        this._parentResizable = null
    },
    notifyResize: function() {
        this.isAttached && (this._interestedResizables.forEach(function(e) {
            this.resizerShouldNotify(e) && this._notifyDescendant(e)
        }, this),
        this._fireResize())
    },
    assignParentResizable: function(e) {
        this._parentResizable = e
    },
    stopResizeNotificationsFor: function(e) {
        var t = this._interestedResizables.indexOf(e);
        t > -1 && (this._interestedResizables.splice(t, 1),
        this.unlisten(e, "iron-resize", "_onDescendantIronResize"))
    },
    resizerShouldNotify: function(e) {
        return !0
    },
    _onDescendantIronResize: function(e) {
        return this._notifyingDescendant ? void e.stopPropagation() : void (Polymer.Settings.useShadow || this._fireResize())
    },
    _fireResize: function() {
        this.fire("iron-resize", null, {
            node: this,
            bubbles: !1
        })
    },
    _onIronRequestResizeNotifications: function(e) {
        var t = e.path ? e.path[0] : e.target;
        t !== this && (this._interestedResizables.indexOf(t) === -1 && (this._interestedResizables.push(t),
        this.listen(t, "iron-resize", "_onDescendantIronResize")),
        t.assignParentResizable(this),
        this._notifyDescendant(t),
        e.stopPropagation())
    },
    _parentResizableChanged: function(e) {
        e && window.removeEventListener("resize", this._boundNotifyResize)
    },
    _notifyDescendant: function(e) {
        this.isAttached && (this._notifyingDescendant = !0,
        e.notifyResize(),
        this._notifyingDescendant = !1)
    }
},
Polymer({
    is: "iron-collapse",
    behaviors: [Polymer.IronResizableBehavior],
    properties: {
        horizontal: {
            type: Boolean,
            value: !1,
            observer: "_horizontalChanged"
        },
        opened: {
            type: Boolean,
            value: !1,
            notify: !0,
            observer: "_openedChanged"
        },
        noAnimation: {
            type: Boolean
        },
        _desiredSize: {
            type: String,
            value: ""
        }
    },
    get dimension() {
        return this.horizontal ? "width" : "height"
    },
    get _dimensionMax() {
        return this.horizontal ? "maxWidth" : "maxHeight"
    },
    get _dimensionMaxCss() {
        return this.horizontal ? "max-width" : "max-height"
    },
    hostAttributes: {
        role: "group",
        "aria-hidden": "true",
        "aria-expanded": "false"
    },
    listeners: {
        transitionend: "_transitionEnd"
    },
    attached: function() {
        this._transitionEnd()
    },
    toggle: function() {
        this.opened = !this.opened
    },
    show: function() {
        this.opened = !0
    },
    hide: function() {
        this.opened = !1
    },
    updateSize: function(e, t) {
        if (e = "auto" === e ? "" : e,
        this._desiredSize !== e) {
            this._desiredSize = e,
            this._updateTransition(!1);
            var i = t && !this.noAnimation && this._isDisplayed;
            if (i) {
                var n = this._calcSize();
                "" === e && (this.style[this._dimensionMax] = "",
                e = this._calcSize()),
                this.style[this._dimensionMax] = n,
                this.scrollTop = this.scrollTop,
                this._updateTransition(!0),
                i = e !== n
            }
            this.style[this._dimensionMax] = e,
            i || this._transitionEnd()
        }
    },
    enableTransition: function(e) {
        Polymer.Base._warn("`enableTransition()` is deprecated, use `noAnimation` instead."),
        this.noAnimation = !e
    },
    _updateTransition: function(e) {
        this.style.transitionDuration = e && !this.noAnimation ? "" : "0s"
    },
    _horizontalChanged: function() {
        this.style.transitionProperty = this._dimensionMaxCss;
        var e = "maxWidth" === this._dimensionMax ? "maxHeight" : "maxWidth";
        this.style[e] = "",
        this.updateSize(this.opened ? "auto" : "0px", !1)
    },
    _openedChanged: function() {
        this.setAttribute("aria-expanded", this.opened),
        this.setAttribute("aria-hidden", !this.opened),
        this.toggleClass("iron-collapse-closed", !1),
        this.toggleClass("iron-collapse-opened", !1),
        this.updateSize(this.opened ? "auto" : "0px", !0),
        this.opened && this.focus()
    },
    _transitionEnd: function() {
        this.style[this._dimensionMax] = this._desiredSize,
        this.toggleClass("iron-collapse-closed", !this.opened),
        this.toggleClass("iron-collapse-opened", this.opened),
        this._updateTransition(!1),
        this.notifyResize()
    },
    get _isDisplayed() {
        var e = this.getBoundingClientRect();
        for (var t in e)
            if (0 !== e[t])
                return !0;
        return !1
    },
    _calcSize: function() {
        return this.getBoundingClientRect()[this.dimension] + "px"
    }
}),
Polymer.IronFitBehavior = {
    properties: {
        sizingTarget: {
            type: Object,
            value: function() {
                return this
            }
        },
        fitInto: {
            type: Object,
            value: window
        },
        noOverlap: {
            type: Boolean
        },
        positionTarget: {
            type: Element
        },
        horizontalAlign: {
            type: String
        },
        verticalAlign: {
            type: String
        },
        dynamicAlign: {
            type: Boolean
        },
        horizontalOffset: {
            type: Number,
            value: 0,
            notify: !0
        },
        verticalOffset: {
            type: Number,
            value: 0,
            notify: !0
        },
        autoFitOnAttach: {
            type: Boolean,
            value: !1
        },
        _fitInfo: {
            type: Object
        }
    },
    get _fitWidth() {
        var e;
        return e = this.fitInto === window ? this.fitInto.innerWidth : this.fitInto.getBoundingClientRect().width
    },
    get _fitHeight() {
        var e;
        return e = this.fitInto === window ? this.fitInto.innerHeight : this.fitInto.getBoundingClientRect().height
    },
    get _fitLeft() {
        var e;
        return e = this.fitInto === window ? 0 : this.fitInto.getBoundingClientRect().left
    },
    get _fitTop() {
        var e;
        return e = this.fitInto === window ? 0 : this.fitInto.getBoundingClientRect().top
    },
    get _defaultPositionTarget() {
        var e = Polymer.dom(this).parentNode;
        return e && e.nodeType === Node.DOCUMENT_FRAGMENT_NODE && (e = e.host),
        e
    },
    get _localeHorizontalAlign() {
        if (this._isRTL) {
            if ("right" === this.horizontalAlign)
                return "left";
            if ("left" === this.horizontalAlign)
                return "right"
        }
        return this.horizontalAlign
    },
    attached: function() {
        "undefined" == typeof this._isRTL && (this._isRTL = "rtl" == window.getComputedStyle(this).direction),
        this.positionTarget = this.positionTarget || this._defaultPositionTarget,
        this.autoFitOnAttach && ("none" === window.getComputedStyle(this).display ? setTimeout(function() {
            this.fit()
        }
        .bind(this)) : this.fit())
    },
    fit: function() {
        this.position(),
        this.constrain(),
        this.center()
    },
    _discoverInfo: function() {
        if (!this._fitInfo) {
            var e = window.getComputedStyle(this)
              , t = window.getComputedStyle(this.sizingTarget);
            this._fitInfo = {
                inlineStyle: {
                    top: this.style.top || "",
                    left: this.style.left || "",
                    position: this.style.position || ""
                },
                sizerInlineStyle: {
                    maxWidth: this.sizingTarget.style.maxWidth || "",
                    maxHeight: this.sizingTarget.style.maxHeight || "",
                    boxSizing: this.sizingTarget.style.boxSizing || ""
                },
                positionedBy: {
                    vertically: "auto" !== e.top ? "top" : "auto" !== e.bottom ? "bottom" : null,
                    horizontally: "auto" !== e.left ? "left" : "auto" !== e.right ? "right" : null
                },
                sizedBy: {
                    height: "none" !== t.maxHeight,
                    width: "none" !== t.maxWidth,
                    minWidth: parseInt(t.minWidth, 10) || 0,
                    minHeight: parseInt(t.minHeight, 10) || 0
                },
                margin: {
                    top: parseInt(e.marginTop, 10) || 0,
                    right: parseInt(e.marginRight, 10) || 0,
                    bottom: parseInt(e.marginBottom, 10) || 0,
                    left: parseInt(e.marginLeft, 10) || 0
                }
            }
        }
    },
    resetFit: function() {
        var e = this._fitInfo || {};
        for (var t in e.sizerInlineStyle)
            this.sizingTarget.style[t] = e.sizerInlineStyle[t];
        for (var t in e.inlineStyle)
            this.style[t] = e.inlineStyle[t];
        this._fitInfo = null
    },
    refit: function() {
        var e = this.sizingTarget.scrollLeft
          , t = this.sizingTarget.scrollTop;
        this.resetFit(),
        this.fit(),
        this.sizingTarget.scrollLeft = e,
        this.sizingTarget.scrollTop = t
    },
    position: function() {
        if (this.horizontalAlign || this.verticalAlign) {
            this._discoverInfo(),
            this.style.position = "fixed",
            this.sizingTarget.style.boxSizing = "border-box",
            this.style.left = "0px",
            this.style.top = "0px";
            var e = this.getBoundingClientRect()
              , t = this.__getNormalizedRect(this.positionTarget)
              , i = this.__getNormalizedRect(this.fitInto)
              , n = this._fitInfo.margin
              , r = {
                width: e.width + n.left + n.right,
                height: e.height + n.top + n.bottom
            }
              , s = this.__getPosition(this._localeHorizontalAlign, this.verticalAlign, r, t, i)
              , o = s.left + n.left
              , a = s.top + n.top
              , c = Math.min(i.right - n.right, o + e.width)
              , l = Math.min(i.bottom - n.bottom, a + e.height);
            o = Math.max(i.left + n.left, Math.min(o, c - this._fitInfo.sizedBy.minWidth)),
            a = Math.max(i.top + n.top, Math.min(a, l - this._fitInfo.sizedBy.minHeight)),
            this.sizingTarget.style.maxWidth = Math.max(c - o, this._fitInfo.sizedBy.minWidth) + "px",
            this.sizingTarget.style.maxHeight = Math.max(l - a, this._fitInfo.sizedBy.minHeight) + "px",
            this.style.left = o - e.left + "px",
            this.style.top = a - e.top + "px"
        }
    },
    constrain: function() {
        if (!this.horizontalAlign && !this.verticalAlign) {
            this._discoverInfo();
            var e = this._fitInfo;
            e.positionedBy.vertically || (this.style.position = "fixed",
            this.style.top = "0px"),
            e.positionedBy.horizontally || (this.style.position = "fixed",
            this.style.left = "0px"),
            this.sizingTarget.style.boxSizing = "border-box";
            var t = this.getBoundingClientRect();
            e.sizedBy.height || this.__sizeDimension(t, e.positionedBy.vertically, "top", "bottom", "Height"),
            e.sizedBy.width || this.__sizeDimension(t, e.positionedBy.horizontally, "left", "right", "Width")
        }
    },
    _sizeDimension: function(e, t, i, n, r) {
        this.__sizeDimension(e, t, i, n, r)
    },
    __sizeDimension: function(e, t, i, n, r) {
        var s = this._fitInfo
          , o = this.__getNormalizedRect(this.fitInto)
          , a = "Width" === r ? o.width : o.height
          , c = t === n
          , l = c ? a - e[n] : e[i]
          , h = s.margin[c ? i : n]
          , u = "offset" + r
          , d = this[u] - this.sizingTarget[u];
        this.sizingTarget.style["max" + r] = a - h - l - d + "px"
    },
    center: function() {
        if (!this.horizontalAlign && !this.verticalAlign) {
            this._discoverInfo();
            var e = this._fitInfo.positionedBy;
            if (!e.vertically || !e.horizontally) {
                this.style.position = "fixed",
                e.vertically || (this.style.top = "0px"),
                e.horizontally || (this.style.left = "0px");
                var t = this.getBoundingClientRect()
                  , i = this.__getNormalizedRect(this.fitInto);
                if (!e.vertically) {
                    var n = i.top - t.top + (i.height - t.height) / 2;
                    this.style.top = n + "px"
                }
                if (!e.horizontally) {
                    var r = i.left - t.left + (i.width - t.width) / 2;
                    this.style.left = r + "px"
                }
            }
        }
    },
    __getNormalizedRect: function(e) {
        return e === document.documentElement || e === window ? {
            top: 0,
            left: 0,
            width: window.innerWidth,
            height: window.innerHeight,
            right: window.innerWidth,
            bottom: window.innerHeight
        } : e.getBoundingClientRect()
    },
    __getCroppedArea: function(e, t, i) {
        var n = Math.min(0, e.top) + Math.min(0, i.bottom - (e.top + t.height))
          , r = Math.min(0, e.left) + Math.min(0, i.right - (e.left + t.width));
        return Math.abs(n) * t.width + Math.abs(r) * t.height
    },
    __getPosition: function(e, t, i, n, r) {
        var s = [{
            verticalAlign: "top",
            horizontalAlign: "left",
            top: n.top + this.verticalOffset,
            left: n.left + this.horizontalOffset
        }, {
            verticalAlign: "top",
            horizontalAlign: "right",
            top: n.top + this.verticalOffset,
            left: n.right - i.width - this.horizontalOffset
        }, {
            verticalAlign: "bottom",
            horizontalAlign: "left",
            top: n.bottom - i.height - this.verticalOffset,
            left: n.left + this.horizontalOffset
        }, {
            verticalAlign: "bottom",
            horizontalAlign: "right",
            top: n.bottom - i.height - this.verticalOffset,
            left: n.right - i.width - this.horizontalOffset
        }];
        if (this.noOverlap) {
            for (var o = 0, a = s.length; o < a; o++) {
                var c = {};
                for (var l in s[o])
                    c[l] = s[o][l];
                s.push(c)
            }
            s[0].top = s[1].top += n.height,
            s[2].top = s[3].top -= n.height,
            s[4].left = s[6].left += n.width,
            s[5].left = s[7].left -= n.width
        }
        t = "auto" === t ? null : t,
        e = "auto" === e ? null : e;
        for (var h, o = 0; o < s.length; o++) {
            var u = s[o];
            if (!this.dynamicAlign && !this.noOverlap && u.verticalAlign === t && u.horizontalAlign === e) {
                h = u;
                break
            }
            var d = !(t && u.verticalAlign !== t || e && u.horizontalAlign !== e);
            if (this.dynamicAlign || d) {
                h = h || u,
                u.croppedArea = this.__getCroppedArea(u, i, r);
                var f = u.croppedArea - h.croppedArea;
                if ((f < 0 || 0 === f && d) && (h = u),
                0 === h.croppedArea && d)
                    break
            }
        }
        return h
    }
},
function() {
    "use strict";
    Polymer({
        is: "iron-overlay-backdrop",
        properties: {
            opened: {
                reflectToAttribute: !0,
                type: Boolean,
                value: !1,
                observer: "_openedChanged"
            }
        },
        listeners: {
            transitionend: "_onTransitionend"
        },
        created: function() {
            this.__openedRaf = null
        },
        attached: function() {
            this.opened && this._openedChanged(this.opened)
        },
        prepare: function() {
            this.opened && !this.parentNode && Polymer.dom(document.body).appendChild(this)
        },
        open: function() {
            this.opened = !0
        },
        close: function() {
            this.opened = !1
        },
        complete: function() {
            this.opened || this.parentNode !== document.body || Polymer.dom(this.parentNode).removeChild(this)
        },
        _onTransitionend: function(e) {
            e && e.target === this && this.complete()
        },
        _openedChanged: function(e) {
            if (e)
                this.prepare();
            else {
                var t = window.getComputedStyle(this);
                "0s" !== t.transitionDuration && 0 != t.opacity || this.complete()
            }
            this.isAttached && (this.__openedRaf && (window.cancelAnimationFrame(this.__openedRaf),
            this.__openedRaf = null),
            this.scrollTop = this.scrollTop,
            this.__openedRaf = window.requestAnimationFrame(function() {
                this.__openedRaf = null,
                this.toggleClass("opened", this.opened)
            }
            .bind(this)))
        }
    })
}(),
Polymer.IronOverlayManagerClass = function() {
    this._overlays = [],
    this._minimumZ = 101,
    this._backdropElement = null,
    Polymer.Gestures.add(document, "tap", this._onCaptureClick.bind(this)),
    document.addEventListener("focus", this._onCaptureFocus.bind(this), !0),
    document.addEventListener("keydown", this._onCaptureKeyDown.bind(this), !0)
}
,
Polymer.IronOverlayManagerClass.prototype = {
    constructor: Polymer.IronOverlayManagerClass,
    get backdropElement() {
        return this._backdropElement || (this._backdropElement = document.createElement("iron-overlay-backdrop")),
        this._backdropElement
    },
    get deepActiveElement() {
        for (var e = document.activeElement || document.body; e.root && Polymer.dom(e.root).activeElement; )
            e = Polymer.dom(e.root).activeElement;
        return e
    },
    _bringOverlayAtIndexToFront: function(e) {
        var t = this._overlays[e];
        if (t) {
            var i = this._overlays.length - 1
              , n = this._overlays[i];
            if (n && this._shouldBeBehindOverlay(t, n) && i--,
            !(e >= i)) {
                var r = Math.max(this.currentOverlayZ(), this._minimumZ);
                for (this._getZ(t) <= r && this._applyOverlayZ(t, r); e < i; )
                    this._overlays[e] = this._overlays[e + 1],
                    e++;
                this._overlays[i] = t
            }
        }
    },
    addOrRemoveOverlay: function(e) {
        e.opened ? this.addOverlay(e) : this.removeOverlay(e)
    },
    addOverlay: function(e) {
        var t = this._overlays.indexOf(e);
        if (t >= 0)
            return this._bringOverlayAtIndexToFront(t),
            void this.trackBackdrop();
        var i = this._overlays.length
          , n = this._overlays[i - 1]
          , r = Math.max(this._getZ(n), this._minimumZ)
          , s = this._getZ(e);
        if (n && this._shouldBeBehindOverlay(e, n)) {
            this._applyOverlayZ(n, r),
            i--;
            var o = this._overlays[i - 1];
            r = Math.max(this._getZ(o), this._minimumZ)
        }
        s <= r && this._applyOverlayZ(e, r),
        this._overlays.splice(i, 0, e),
        this.trackBackdrop()
    },
    removeOverlay: function(e) {
        var t = this._overlays.indexOf(e);
        t !== -1 && (this._overlays.splice(t, 1),
        this.trackBackdrop())
    },
    currentOverlay: function() {
        var e = this._overlays.length - 1;
        return this._overlays[e]
    },
    currentOverlayZ: function() {
        return this._getZ(this.currentOverlay())
    },
    ensureMinimumZ: function(e) {
        this._minimumZ = Math.max(this._minimumZ, e)
    },
    focusOverlay: function() {
        var e = this.currentOverlay();
        e && e._applyFocus()
    },
    trackBackdrop: function() {
        var e = this._overlayWithBackdrop();
        (e || this._backdropElement) && (this.backdropElement.style.zIndex = this._getZ(e) - 1,
        this.backdropElement.opened = !!e)
    },
    getBackdrops: function() {
        for (var e = [], t = 0; t < this._overlays.length; t++)
            this._overlays[t].withBackdrop && e.push(this._overlays[t]);
        return e
    },
    backdropZ: function() {
        return this._getZ(this._overlayWithBackdrop()) - 1
    },
    _overlayWithBackdrop: function() {
        for (var e = 0; e < this._overlays.length; e++)
            if (this._overlays[e].withBackdrop)
                return this._overlays[e]
    },
    _getZ: function(e) {
        var t = this._minimumZ;
        if (e) {
            var i = Number(e.style.zIndex || window.getComputedStyle(e).zIndex);
            i === i && (t = i)
        }
        return t
    },
    _setZ: function(e, t) {
        e.style.zIndex = t
    },
    _applyOverlayZ: function(e, t) {
        this._setZ(e, t + 2)
    },
    _overlayInPath: function(e) {
        e = e || [];
        for (var t = 0; t < e.length; t++)
            if (e[t]._manager === this)
                return e[t]
    },
    _onCaptureClick: function(e) {
        var t = this.currentOverlay();
        t && this._overlayInPath(Polymer.dom(e).path) !== t && t._onCaptureClick(e)
    },
    _onCaptureFocus: function(e) {
        var t = this.currentOverlay();
        t && t._onCaptureFocus(e)
    },
    _onCaptureKeyDown: function(e) {
        var t = this.currentOverlay();
        t && (Polymer.IronA11yKeysBehavior.keyboardEventMatchesKeys(e, "esc") ? t._onCaptureEsc(e) : Polymer.IronA11yKeysBehavior.keyboardEventMatchesKeys(e, "tab") && t._onCaptureTab(e))
    },
    _shouldBeBehindOverlay: function(e, t) {
        return !e.alwaysOnTop && t.alwaysOnTop
    }
},
Polymer.IronOverlayManager = new Polymer.IronOverlayManagerClass,
function() {
    "use strict";
    var e = Element.prototype
      , t = e.matches || e.matchesSelector || e.mozMatchesSelector || e.msMatchesSelector || e.oMatchesSelector || e.webkitMatchesSelector;
    Polymer.IronFocusablesHelper = {
        getTabbableNodes: function(e) {
            var t = []
              , i = this._collectTabbableNodes(e, t);
            return i ? this._sortByTabIndex(t) : t
        },
        isFocusable: function(e) {
            return t.call(e, "input, select, textarea, button, object") ? t.call(e, ":not([disabled])") : t.call(e, "a[href], area[href], iframe, [tabindex], [contentEditable]")
        },
        isTabbable: function(e) {
            return this.isFocusable(e) && t.call(e, ':not([tabindex="-1"])') && this._isVisible(e)
        },
        _normalizedTabIndex: function(e) {
            if (this.isFocusable(e)) {
                var t = e.getAttribute("tabindex") || 0;
                return Number(t)
            }
            return -1
        },
        _collectTabbableNodes: function(e, t) {
            if (e.nodeType !== Node.ELEMENT_NODE || !this._isVisible(e))
                return !1;
            var i = e
              , n = this._normalizedTabIndex(i)
              , r = n > 0;
            n >= 0 && t.push(i);
            var s;
            s = "content" === i.localName ? Polymer.dom(i).getDistributedNodes() : Polymer.dom(i.root || i).children;
            for (var o = 0; o < s.length; o++) {
                var a = this._collectTabbableNodes(s[o], t);
                r = r || a
            }
            return r
        },
        _isVisible: function(e) {
            var t = e.style;
            return "hidden" !== t.visibility && "none" !== t.display && (t = window.getComputedStyle(e),
            "hidden" !== t.visibility && "none" !== t.display)
        },
        _sortByTabIndex: function(e) {
            var t = e.length;
            if (t < 2)
                return e;
            var i = Math.ceil(t / 2)
              , n = this._sortByTabIndex(e.slice(0, i))
              , r = this._sortByTabIndex(e.slice(i));
            return this._mergeSortByTabIndex(n, r)
        },
        _mergeSortByTabIndex: function(e, t) {
            for (var i = []; e.length > 0 && t.length > 0; )
                this._hasLowerTabOrder(e[0], t[0]) ? i.push(t.shift()) : i.push(e.shift());
            return i.concat(e, t)
        },
        _hasLowerTabOrder: function(e, t) {
            var i = Math.max(e.tabIndex, 0)
              , n = Math.max(t.tabIndex, 0);
            return 0 === i || 0 === n ? n > i : i > n
        }
    }
}(),
function() {
    "use strict";
    Polymer.IronOverlayBehaviorImpl = {
        properties: {
            opened: {
                observer: "_openedChanged",
                type: Boolean,
                value: !1,
                notify: !0
            },
            canceled: {
                observer: "_canceledChanged",
                readOnly: !0,
                type: Boolean,
                value: !1
            },
            withBackdrop: {
                observer: "_withBackdropChanged",
                type: Boolean
            },
            noAutoFocus: {
                type: Boolean,
                value: !1
            },
            noCancelOnEscKey: {
                type: Boolean,
                value: !1
            },
            noCancelOnOutsideClick: {
                type: Boolean,
                value: !1
            },
            closingReason: {
                type: Object
            },
            restoreFocusOnClose: {
                type: Boolean,
                value: !1
            },
            alwaysOnTop: {
                type: Boolean
            },
            _manager: {
                type: Object,
                value: Polymer.IronOverlayManager
            },
            _focusedChild: {
                type: Object
            }
        },
        listeners: {
            "iron-resize": "_onIronResize"
        },
        get backdropElement() {
            return this._manager.backdropElement
        },
        get _focusNode() {
            return this._focusedChild || Polymer.dom(this).querySelector("[autofocus]") || this
        },
        get _focusableNodes() {
            return Polymer.IronFocusablesHelper.getTabbableNodes(this)
        },
        ready: function() {
            this.__isAnimating = !1,
            this.__shouldRemoveTabIndex = !1,
            this.__firstFocusableNode = this.__lastFocusableNode = null,
            this.__raf = null,
            this.__restoreFocusNode = null,
            this._ensureSetup()
        },
        attached: function() {
            this.opened && this._openedChanged(this.opened),
            this._observer = Polymer.dom(this).observeNodes(this._onNodesChange)
        },
        detached: function() {
            Polymer.dom(this).unobserveNodes(this._observer),
            this._observer = null,
            this.__raf && (window.cancelAnimationFrame(this.__raf),
            this.__raf = null),
            this._manager.removeOverlay(this)
        },
        toggle: function() {
            this._setCanceled(!1),
            this.opened = !this.opened
        },
        open: function() {
            this._setCanceled(!1),
            this.opened = !0
        },
        close: function() {
            this._setCanceled(!1),
            this.opened = !1
        },
        cancel: function(e) {
            var t = this.fire("iron-overlay-canceled", e, {
                cancelable: !0
            });
            t.defaultPrevented || (this._setCanceled(!0),
            this.opened = !1)
        },
        invalidateTabbables: function() {
            this.__firstFocusableNode = this.__lastFocusableNode = null
        },
        _ensureSetup: function() {
            this._overlaySetup || (this._overlaySetup = !0,
            this.style.outline = "none",
            this.style.display = "none")
        },
        _openedChanged: function(e) {
            e ? this.removeAttribute("aria-hidden") : this.setAttribute("aria-hidden", "true"),
            this.isAttached && (this.__isAnimating = !0,
            this.__onNextAnimationFrame(this.__openedChanged))
        },
        _canceledChanged: function() {
            this.closingReason = this.closingReason || {},
            this.closingReason.canceled = this.canceled
        },
        _withBackdropChanged: function() {
            this.withBackdrop && !this.hasAttribute("tabindex") ? (this.setAttribute("tabindex", "-1"),
            this.__shouldRemoveTabIndex = !0) : this.__shouldRemoveTabIndex && (this.removeAttribute("tabindex"),
            this.__shouldRemoveTabIndex = !1),
            this.opened && this.isAttached && this._manager.trackBackdrop()
        },
        _prepareRenderOpened: function() {
            this.__restoreFocusNode = this._manager.deepActiveElement,
            this._preparePositioning(),
            this.refit(),
            this._finishPositioning(),
            this.noAutoFocus && document.activeElement === this._focusNode && (this._focusNode.blur(),
            this.__restoreFocusNode.focus())
        },
        _renderOpened: function() {
            this._finishRenderOpened()
        },
        _renderClosed: function() {
            this._finishRenderClosed()
        },
        _finishRenderOpened: function() {
            this.notifyResize(),
            this.__isAnimating = !1,
            this.fire("iron-overlay-opened")
        },
        _finishRenderClosed: function() {
            this.style.display = "none",
            this.style.zIndex = "",
            this.notifyResize(),
            this.__isAnimating = !1,
            this.fire("iron-overlay-closed", this.closingReason)
        },
        _preparePositioning: function() {
            this.style.transition = this.style.webkitTransition = "none",
            this.style.transform = this.style.webkitTransform = "none",
            this.style.display = ""
        },
        _finishPositioning: function() {
            this.style.display = "none",
            this.scrollTop = this.scrollTop,
            this.style.transition = this.style.webkitTransition = "",
            this.style.transform = this.style.webkitTransform = "",
            this.style.display = "",
            this.scrollTop = this.scrollTop
        },
        _applyFocus: function() {
            if (this.opened)
                this.noAutoFocus || this._focusNode.focus();
            else {
                this._focusNode.blur(),
                this._focusedChild = null,
                this.restoreFocusOnClose && this.__restoreFocusNode && this.__restoreFocusNode.focus(),
                this.__restoreFocusNode = null;
                var e = this._manager.currentOverlay();
                e && this !== e && e._applyFocus()
            }
        },
        _onCaptureClick: function(e) {
            this.noCancelOnOutsideClick || this.cancel(e)
        },
        _onCaptureFocus: function(e) {
            if (this.withBackdrop) {
                var t = Polymer.dom(e).path;
                t.indexOf(this) === -1 ? (e.stopPropagation(),
                this._applyFocus()) : this._focusedChild = t[0]
            }
        },
        _onCaptureEsc: function(e) {
            this.noCancelOnEscKey || this.cancel(e)
        },
        _onCaptureTab: function(e) {
            if (this.withBackdrop) {
                this.__ensureFirstLastFocusables();
                var t = e.shiftKey
                  , i = t ? this.__firstFocusableNode : this.__lastFocusableNode
                  , n = t ? this.__lastFocusableNode : this.__firstFocusableNode
                  , r = !1;
                if (i === n)
                    r = !0;
                else {
                    var s = this._manager.deepActiveElement;
                    r = s === i || s === this
                }
                r && (e.preventDefault(),
                this._focusedChild = n,
                this._applyFocus())
            }
        },
        _onIronResize: function() {
            this.opened && !this.__isAnimating && this.__onNextAnimationFrame(this.refit)
        },
        _onNodesChange: function() {
            this.opened && !this.__isAnimating && (this.invalidateTabbables(),
            this.notifyResize())
        },
        __ensureFirstLastFocusables: function() {
            if (!this.__firstFocusableNode || !this.__lastFocusableNode) {
                var e = this._focusableNodes;
                this.__firstFocusableNode = e[0],
                this.__lastFocusableNode = e[e.length - 1]
            }
        },
        __openedChanged: function() {
            this.opened ? (this._prepareRenderOpened(),
            this._manager.addOverlay(this),
            this._applyFocus(),
            this._renderOpened()) : (this._manager.removeOverlay(this),
            this._applyFocus(),
            this._renderClosed())
        },
        __onNextAnimationFrame: function(e) {
            this.__raf && window.cancelAnimationFrame(this.__raf);
            var t = this;
            this.__raf = window.requestAnimationFrame(function() {
                t.__raf = null,
                e.call(t)
            })
        }
    },
    Polymer.IronOverlayBehavior = [Polymer.IronFitBehavior, Polymer.IronResizableBehavior, Polymer.IronOverlayBehaviorImpl]
}(),
function() {
    var e = {}
      , t = {}
      , i = null;
    Polymer.IronMeta = Polymer({
        is: "iron-meta",
        properties: {
            type: {
                type: String,
                value: "default",
                observer: "_typeChanged"
            },
            key: {
                type: String,
                observer: "_keyChanged"
            },
            value: {
                type: Object,
                notify: !0,
                observer: "_valueChanged"
            },
            self: {
                type: Boolean,
                observer: "_selfChanged"
            },
            list: {
                type: Array,
                notify: !0
            }
        },
        hostAttributes: {
            hidden: !0
        },
        factoryImpl: function(e) {
            if (e)
                for (var t in e)
                    switch (t) {
                    case "type":
                    case "key":
                    case "value":
                        this[t] = e[t]
                    }
        },
        created: function() {
            this._metaDatas = e,
            this._metaArrays = t
        },
        _keyChanged: function(e, t) {
            this._resetRegistration(t)
        },
        _valueChanged: function(e) {
            this._resetRegistration(this.key)
        },
        _selfChanged: function(e) {
            e && (this.value = this)
        },
        _typeChanged: function(i) {
            this._unregisterKey(this.key),
            e[i] || (e[i] = {}),
            this._metaData = e[i],
            t[i] || (t[i] = []),
            this.list = t[i],
            this._registerKeyValue(this.key, this.value)
        },
        byKey: function(e) {
            return this._metaData && this._metaData[e]
        },
        _resetRegistration: function(e) {
            this._unregisterKey(e),
            this._registerKeyValue(this.key, this.value)
        },
        _unregisterKey: function(e) {
            this._unregister(e, this._metaData, this.list)
        },
        _registerKeyValue: function(e, t) {
            this._register(e, t, this._metaData, this.list)
        },
        _register: function(e, t, i, n) {
            e && i && void 0 !== t && (i[e] = t,
            n.push(t))
        },
        _unregister: function(e, t, i) {
            if (e && t && e in t) {
                var n = t[e];
                delete t[e],
                this.arrayDelete(i, n)
            }
        }
    }),
    Polymer.IronMeta.getIronMeta = function() {
        return null === i && (i = new Polymer.IronMeta),
        i
    }
    ,
    Polymer.IronMetaQuery = Polymer({
        is: "iron-meta-query",
        properties: {
            type: {
                type: String,
                value: "default",
                observer: "_typeChanged"
            },
            key: {
                type: String,
                observer: "_keyChanged"
            },
            value: {
                type: Object,
                notify: !0,
                readOnly: !0
            },
            list: {
                type: Array,
                notify: !0
            }
        },
        factoryImpl: function(e) {
            if (e)
                for (var t in e)
                    switch (t) {
                    case "type":
                    case "key":
                        this[t] = e[t]
                    }
        },
        created: function() {
            this._metaDatas = e,
            this._metaArrays = t
        },
        _keyChanged: function(e) {
            this._setValue(this._metaData && this._metaData[e])
        },
        _typeChanged: function(i) {
            this._metaData = e[i],
            this.list = t[i],
            this.key && this._keyChanged(this.key)
        },
        byKey: function(e) {
            return this._metaData && this._metaData[e]
        }
    })
}(),
Polymer.NeonAnimatableBehavior = {
    properties: {
        animationConfig: {
            type: Object
        },
        entryAnimation: {
            observer: "_entryAnimationChanged",
            type: String
        },
        exitAnimation: {
            observer: "_exitAnimationChanged",
            type: String
        }
    },
    _entryAnimationChanged: function() {
        this.animationConfig = this.animationConfig || {},
        this.animationConfig.entry = [{
            name: this.entryAnimation,
            node: this
        }]
    },
    _exitAnimationChanged: function() {
        this.animationConfig = this.animationConfig || {},
        this.animationConfig.exit = [{
            name: this.exitAnimation,
            node: this
        }]
    },
    _copyProperties: function(e, t) {
        for (var i in t)
            e[i] = t[i]
    },
    _cloneConfig: function(e) {
        var t = {
            isClone: !0
        };
        return this._copyProperties(t, e),
        t
    },
    _getAnimationConfigRecursive: function(e, t, i) {
        if (this.animationConfig) {
            if (this.animationConfig.value && "function" == typeof this.animationConfig.value)
                return void this._warn(this._logf("playAnimation", "Please put 'animationConfig' inside of your components 'properties' object instead of outside of it."));
            var n;
            if (n = e ? this.animationConfig[e] : this.animationConfig,
            Array.isArray(n) || (n = [n]),
            n)
                for (var r, s = 0; r = n[s]; s++)
                    if (r.animatable)
                        r.animatable._getAnimationConfigRecursive(r.type || e, t, i);
                    else if (r.id) {
                        var o = t[r.id];
                        o ? (o.isClone || (t[r.id] = this._cloneConfig(o),
                        o = t[r.id]),
                        this._copyProperties(o, r)) : t[r.id] = r
                    } else
                        i.push(r)
        }
    },
    getAnimationConfig: function(e) {
        var t = {}
          , i = [];
        this._getAnimationConfigRecursive(e, t, i);
        for (var n in t)
            i.push(t[n]);
        return i
    }
},
Polymer.NeonAnimationRunnerBehaviorImpl = {
    _configureAnimations: function(e) {
        var t = [];
        if (e.length > 0)
            for (var i, n = 0; i = e[n]; n++) {
                var r = document.createElement(i.name);
                if (r.isNeonAnimation) {
                    var s = null;
                    try {
                        s = r.configure(i),
                        "function" != typeof s.cancel && (s = document.timeline.play(s))
                    } catch (o) {
                        s = null,
                        console.warn("Couldnt play", "(", i.name, ").", o)
                    }
                    s && t.push({
                        neonAnimation: r,
                        config: i,
                        animation: s
                    })
                } else
                    console.warn(this.is + ":", i.name, "not found!")
            }
        return t
    },
    _shouldComplete: function(e) {
        for (var t = !0, i = 0; i < e.length; i++)
            if ("finished" != e[i].animation.playState) {
                t = !1;
                break
            }
        return t
    },
    _complete: function(e) {
        for (var t = 0; t < e.length; t++)
            e[t].neonAnimation.complete(e[t].config);
        for (var t = 0; t < e.length; t++)
            e[t].animation.cancel()
    },
    playAnimation: function(e, t) {
        var i = this.getAnimationConfig(e);
        if (i) {
            this._active = this._active || {},
            this._active[e] && (this._complete(this._active[e]),
            delete this._active[e]);
            var n = this._configureAnimations(i);
            if (0 == n.length)
                return void this.fire("neon-animation-finish", t, {
                    bubbles: !1
                });
            this._active[e] = n;
            for (var r = 0; r < n.length; r++)
                n[r].animation.onfinish = function() {
                    this._shouldComplete(n) && (this._complete(n),
                    delete this._active[e],
                    this.fire("neon-animation-finish", t, {
                        bubbles: !1
                    }))
                }
                .bind(this)
        }
    },
    cancelAnimation: function() {
        for (var e in this._animations)
            this._animations[e].cancel();
        this._animations = {}
    }
},
Polymer.NeonAnimationRunnerBehavior = [Polymer.NeonAnimatableBehavior, Polymer.NeonAnimationRunnerBehaviorImpl],
Polymer.NeonAnimationBehavior = {
    properties: {
        animationTiming: {
            type: Object,
            value: function() {
                return {
                    duration: 500,
                    easing: "cubic-bezier(0.4, 0, 0.2, 1)",
                    fill: "both"
                }
            }
        }
    },
    isNeonAnimation: !0,
    timingFromConfig: function(e) {
        if (e.timing)
            for (var t in e.timing)
                this.animationTiming[t] = e.timing[t];
        return this.animationTiming
    },
    setPrefixedProperty: function(e, t, i) {
        for (var n, r = {
            transform: ["webkitTransform"],
            transformOrigin: ["mozTransformOrigin", "webkitTransformOrigin"]
        }, s = r[t], o = 0; n = s[o]; o++)
            e.style[n] = i;
        e.style[t] = i
    },
    complete: function() {}
},
!function(a, b) {
    var c = {}
      , d = {}
      , e = {}
      , f = null;
    !function(e, t) {
        function i(e) {
            if ("number" == typeof e)
                return e;
            var t = {};
            for (var i in e)
                t[i] = e[i];
            return t
        }
        function n() {
            this._delay = 0,
            this._endDelay = 0,
            this._fill = "none",
            this._iterationStart = 0,
            this._iterations = 1,
            this._duration = 0,
            this._playbackRate = 1,
            this._direction = "normal",
            this._easing = "linear",
            this._easingFunction = P
        }
        function r() {
            return e.isDeprecated("Invalid timing inputs", "2016-03-02", "TypeError exceptions will be thrown instead.", !0)
        }
        function s(t, i, r) {
            var s = new n;
            return i && (s.fill = "both",
            s.duration = "auto"),
            "number" != typeof t || isNaN(t) ? void 0 !== t && Object.getOwnPropertyNames(t).forEach(function(i) {
                if ("auto" != t[i]) {
                    if (("number" == typeof s[i] || "duration" == i) && ("number" != typeof t[i] || isNaN(t[i])))
                        return;
                    if ("fill" == i && S.indexOf(t[i]) == -1)
                        return;
                    if ("direction" == i && E.indexOf(t[i]) == -1)
                        return;
                    if ("playbackRate" == i && 1 !== t[i] && e.isDeprecated("AnimationEffectTiming.playbackRate", "2014-11-28", "Use Animation.playbackRate instead."))
                        return;
                    s[i] = t[i]
                }
            }) : s.duration = t,
            s
        }
        function o(e) {
            return "number" == typeof e && (e = isNaN(e) ? {
                duration: 0
            } : {
                duration: e
            }),
            e
        }
        function a(t, i) {
            return t = e.numericTimingToObject(t),
            s(t, i)
        }
        function c(e, t, i, n) {
            return e < 0 || e > 1 || i < 0 || i > 1 ? P : function(r) {
                function s(e, t, i) {
                    return 3 * e * (1 - i) * (1 - i) * i + 3 * t * (1 - i) * i * i + i * i * i
                }
                if (r <= 0) {
                    var o = 0;
                    return e > 0 ? o = t / e : !t && i > 0 && (o = n / i),
                    o * r
                }
                if (r >= 1) {
                    var a = 0;
                    return i < 1 ? a = (n - 1) / (i - 1) : 1 == i && e < 1 && (a = (t - 1) / (e - 1)),
                    1 + a * (r - 1)
                }
                for (var c = 0, l = 1; c < l; ) {
                    var h = (c + l) / 2
                      , u = s(e, i, h);
                    if (Math.abs(r - u) < 1e-5)
                        return s(t, n, h);
                    u < r ? c = h : l = h
                }
                return s(t, n, h)
            }
        }
        function l(e, t) {
            return function(i) {
                if (i >= 1)
                    return 1;
                var n = 1 / e;
                return i += t * n,
                i - i % n
            }
        }
        function h(e) {
            R || (R = document.createElement("div").style),
            R.animationTimingFunction = "",
            R.animationTimingFunction = e;
            var t = R.animationTimingFunction;
            if ("" == t && r())
                throw new TypeError(e + " is not a valid value for easing");
            return t
        }
        function u(e) {
            if ("linear" == e)
                return P;
            var t = I.exec(e);
            if (t)
                return c.apply(this, t.slice(1).map(Number));
            var i = L.exec(e);
            if (i)
                return l(Number(i[1]), {
                    start: T,
                    middle: C,
                    end: A
                }[i[2]]);
            var n = w[e];
            return n ? n : P
        }
        function d(e) {
            return Math.abs(f(e) / e.playbackRate)
        }
        function f(e) {
            return 0 === e.duration || 0 === e.iterations ? 0 : e.duration * e.iterations
        }
        function p(e, t, i) {
            if (null == t)
                return k;
            var n = i.delay + e + i.endDelay;
            return t < Math.min(i.delay, n) ? D : t >= Math.min(i.delay + e, n) ? N : M
        }
        function m(e, t, i, n, r) {
            switch (n) {
            case D:
                return "backwards" == t || "both" == t ? 0 : null;
            case M:
                return i - r;
            case N:
                return "forwards" == t || "both" == t ? e : null;
            case k:
                return null
            }
        }
        function g(e, t, i, n, r) {
            var s = r;
            return 0 === e ? t !== D && (s += i) : s += n / e,
            s
        }
        function y(e, t, i, n, r, s) {
            var o = e === 1 / 0 ? t % 1 : e % 1;
            return 0 !== o || i !== N || 0 === n || 0 === r && 0 !== s || (o = 1),
            o
        }
        function v(e, t, i, n) {
            return e === N && t === 1 / 0 ? 1 / 0 : 1 === i ? Math.floor(n) - 1 : Math.floor(n)
        }
        function _(e, t, i) {
            var n = e;
            if ("normal" !== e && "reverse" !== e) {
                var r = t;
                "alternate-reverse" === e && (r += 1),
                n = "normal",
                r !== 1 / 0 && r % 2 !== 0 && (n = "reverse")
            }
            return "normal" === n ? i : 1 - i
        }
        function b(e, t, i) {
            var n = p(e, t, i)
              , r = m(e, i.fill, t, n, i.delay);
            if (null === r)
                return null;
            var s = g(i.duration, n, i.iterations, r, i.iterationStart)
              , o = y(s, i.iterationStart, n, i.iterations, r, i.duration)
              , a = v(n, i.iterations, o, s)
              , c = _(i.direction, a, o);
            return i._easingFunction(c)
        }
        var S = "backwards|forwards|both|none".split("|")
          , E = "reverse|alternate|alternate-reverse".split("|")
          , P = function(e) {
            return e
        };
        n.prototype = {
            _setMember: function(t, i) {
                this["_" + t] = i,
                this._effect && (this._effect._timingInput[t] = i,
                this._effect._timing = e.normalizeTimingInput(this._effect._timingInput),
                this._effect.activeDuration = e.calculateActiveDuration(this._effect._timing),
                this._effect._animation && this._effect._animation._rebuildUnderlyingAnimation())
            },
            get playbackRate() {
                return this._playbackRate
            },
            set delay(e) {
                this._setMember("delay", e)
            },
            get delay() {
                return this._delay
            },
            set endDelay(e) {
                this._setMember("endDelay", e)
            },
            get endDelay() {
                return this._endDelay
            },
            set fill(e) {
                this._setMember("fill", e)
            },
            get fill() {
                return this._fill
            },
            set iterationStart(e) {
                if ((isNaN(e) || e < 0) && r())
                    throw new TypeError("iterationStart must be a non-negative number, received: " + timing.iterationStart);
                this._setMember("iterationStart", e)
            },
            get iterationStart() {
                return this._iterationStart
            },
            set duration(e) {
                if ("auto" != e && (isNaN(e) || e < 0) && r())
                    throw new TypeError("duration must be non-negative or auto, received: " + e);
                this._setMember("duration", e)
            },
            get duration() {
                return this._duration
            },
            set direction(e) {
                this._setMember("direction", e)
            },
            get direction() {
                return this._direction
            },
            set easing(e) {
                this._easingFunction = u(h(e)),
                this._setMember("easing", e)
            },
            get easing() {
                return this._easing
            },
            set iterations(e) {
                if ((isNaN(e) || e < 0) && r())
                    throw new TypeError("iterations must be non-negative, received: " + e);
                this._setMember("iterations", e)
            },
            get iterations() {
                return this._iterations
            }
        };
        var T = 1
          , C = .5
          , A = 0
          , w = {
            ease: c(.25, .1, .25, 1),
            "ease-in": c(.42, 0, 1, 1),
            "ease-out": c(0, 0, .58, 1),
            "ease-in-out": c(.42, 0, .58, 1),
            "step-start": l(1, T),
            "step-middle": l(1, C),
            "step-end": l(1, A)
        }
          , R = null
          , O = "\\s*(-?\\d+\\.?\\d*|-?\\.\\d+)\\s*"
          , I = new RegExp("cubic-bezier\\(" + O + "," + O + "," + O + "," + O + "\\)")
          , L = /steps\(\s*(\d+)\s*,\s*(start|middle|end)\s*\)/
          , k = 0
          , D = 1
          , N = 2
          , M = 3;
        e.cloneTimingInput = i,
        e.makeTiming = s,
        e.numericTimingToObject = o,
        e.normalizeTimingInput = a,
        e.calculateActiveDuration = d,
        e.calculateIterationProgress = b,
        e.calculatePhase = p,
        e.normalizeEasing = h,
        e.parseEasingFunction = u
    }(c, f),
    function(e, t) {
        function i(e, t) {
            return e in h ? h[e][t] || t : t
        }
        function n(e) {
            return "display" === e || 0 === e.lastIndexOf("animation", 0) || 0 === e.lastIndexOf("transition", 0)
        }
        function r(e, t, r) {
            if (!n(e)) {
                var s = a[e];
                if (s) {
                    c.style[e] = t;
                    for (var o in s) {
                        var l = s[o]
                          , h = c.style[l];
                        r[l] = i(l, h)
                    }
                } else
                    r[e] = i(e, t)
            }
        }
        function s(e) {
            var t = [];
            for (var i in e)
                if (!(i in ["easing", "offset", "composite"])) {
                    var n = e[i];
                    Array.isArray(n) || (n = [n]);
                    for (var r, s = n.length, o = 0; o < s; o++)
                        r = {},
                        "offset"in e ? r.offset = e.offset : 1 == s ? r.offset = 1 : r.offset = o / (s - 1),
                        "easing"in e && (r.easing = e.easing),
                        "composite"in e && (r.composite = e.composite),
                        r[i] = n[o],
                        t.push(r)
                }
            return t.sort(function(e, t) {
                return e.offset - t.offset
            }),
            t
        }
        function o(t) {
            function i() {
                var e = n.length;
                null == n[e - 1].offset && (n[e - 1].offset = 1),
                e > 1 && null == n[0].offset && (n[0].offset = 0);
                for (var t = 0, i = n[0].offset, r = 1; r < e; r++) {
                    var s = n[r].offset;
                    if (null != s) {
                        for (var o = 1; o < r - t; o++)
                            n[t + o].offset = i + (s - i) * o / (r - t);
                        t = r,
                        i = s
                    }
                }
            }
            if (null == t)
                return [];
            window.Symbol && Symbol.iterator && Array.prototype.from && t[Symbol.iterator] && (t = Array.from(t)),
            Array.isArray(t) || (t = s(t));
            for (var n = t.map(function(t) {
                var i = {};
                for (var n in t) {
                    var s = t[n];
                    if ("offset" == n) {
                        if (null != s) {
                            if (s = Number(s),
                            !isFinite(s))
                                throw new TypeError("Keyframe offsets must be numbers.");
                            if (s < 0 || s > 1)
                                throw new TypeError("Keyframe offsets must be between 0 and 1.")
                        }
                    } else if ("composite" == n) {
                        if ("add" == s || "accumulate" == s)
                            throw {
                                type: DOMException.NOT_SUPPORTED_ERR,
                                name: "NotSupportedError",
                                message: "add compositing is not supported"
                            };
                        if ("replace" != s)
                            throw new TypeError("Invalid composite mode " + s + ".")
                    } else
                        s = "easing" == n ? e.normalizeEasing(s) : "" + s;
                    r(n, s, i)
                }
                return void 0 == i.offset && (i.offset = null),
                void 0 == i.easing && (i.easing = "linear"),
                i
            }), o = !0, a = -(1 / 0), c = 0; c < n.length; c++) {
                var l = n[c].offset;
                if (null != l) {
                    if (l < a)
                        throw new TypeError("Keyframes are not loosely sorted by offset. Sort or specify offsets.");
                    a = l
                } else
                    o = !1
            }
            return n = n.filter(function(e) {
                return e.offset >= 0 && e.offset <= 1
            }),
            o || i(),
            n
        }
        var a = {
            background: ["backgroundImage", "backgroundPosition", "backgroundSize", "backgroundRepeat", "backgroundAttachment", "backgroundOrigin", "backgroundClip", "backgroundColor"],
            border: ["borderTopColor", "borderTopStyle", "borderTopWidth", "borderRightColor", "borderRightStyle", "borderRightWidth", "borderBottomColor", "borderBottomStyle", "borderBottomWidth", "borderLeftColor", "borderLeftStyle", "borderLeftWidth"],
            borderBottom: ["borderBottomWidth", "borderBottomStyle", "borderBottomColor"],
            borderColor: ["borderTopColor", "borderRightColor", "borderBottomColor", "borderLeftColor"],
            borderLeft: ["borderLeftWidth", "borderLeftStyle", "borderLeftColor"],
            borderRadius: ["borderTopLeftRadius", "borderTopRightRadius", "borderBottomRightRadius", "borderBottomLeftRadius"],
            borderRight: ["borderRightWidth", "borderRightStyle", "borderRightColor"],
            borderTop: ["borderTopWidth", "borderTopStyle", "borderTopColor"],
            borderWidth: ["borderTopWidth", "borderRightWidth", "borderBottomWidth", "borderLeftWidth"],
            flex: ["flexGrow", "flexShrink", "flexBasis"],
            font: ["fontFamily", "fontSize", "fontStyle", "fontVariant", "fontWeight", "lineHeight"],
            margin: ["marginTop", "marginRight", "marginBottom", "marginLeft"],
            outline: ["outlineColor", "outlineStyle", "outlineWidth"],
            padding: ["paddingTop", "paddingRight", "paddingBottom", "paddingLeft"]
        }
          , c = document.createElementNS("http://www.w3.org/1999/xhtml", "div")
          , l = {
            thin: "1px",
            medium: "3px",
            thick: "5px"
        }
          , h = {
            borderBottomWidth: l,
            borderLeftWidth: l,
            borderRightWidth: l,
            borderTopWidth: l,
            fontSize: {
                "xx-small": "60%",
                "x-small": "75%",
                small: "89%",
                medium: "100%",
                large: "120%",
                "x-large": "150%",
                "xx-large": "200%"
            },
            fontWeight: {
                normal: "400",
                bold: "700"
            },
            outlineWidth: l,
            textShadow: {
                none: "0px 0px 0px transparent"
            },
            boxShadow: {
                none: "0px 0px 0px 0px transparent"
            }
        };
        e.convertToArrayForm = s,
        e.normalizeKeyframes = o
    }(c, f),
    function(e) {
        var t = {};
        e.isDeprecated = function(e, i, n, r) {
            var s = r ? "are" : "is"
              , o = new Date
              , a = new Date(i);
            return a.setMonth(a.getMonth() + 3),
            !(o < a && (e in t || console.warn("Web Animations: " + e + " " + s + " deprecated and will stop working on " + a.toDateString() + ". " + n),
            t[e] = !0,
            1))
        }
        ,
        e.deprecated = function(t, i, n, r) {
            var s = r ? "are" : "is";
            if (e.isDeprecated(t, i, n, r))
                throw new Error(t + " " + s + " no longer supported. " + n)
        }
    }(c),
    function() {
        if (document.documentElement.animate) {
            var a = document.documentElement.animate([], 0)
              , b = !0;
            if (a && (b = !1,
            "play|currentTime|pause|reverse|playbackRate|cancel|finish|startTime|playState".split("|").forEach(function(e) {
                void 0 === a[e] && (b = !0)
            })),
            !b)
                return
        }
        !function(e, t, i) {
            function n(e) {
                for (var t = {}, i = 0; i < e.length; i++)
                    for (var n in e[i])
                        if ("offset" != n && "easing" != n && "composite" != n) {
                            var r = {
                                offset: e[i].offset,
                                easing: e[i].easing,
                                value: e[i][n]
                            };
                            t[n] = t[n] || [],
                            t[n].push(r)
                        }
                for (var s in t) {
                    var o = t[s];
                    if (0 != o[0].offset || 1 != o[o.length - 1].offset)
                        throw {
                            type: DOMException.NOT_SUPPORTED_ERR,
                            name: "NotSupportedError",
                            message: "Partial keyframes are not supported"
                        }
                }
                return t
            }
            function r(i) {
                var n = [];
                for (var r in i)
                    for (var s = i[r], o = 0; o < s.length - 1; o++) {
                        var a = o
                          , c = o + 1
                          , l = s[a].offset
                          , h = s[c].offset
                          , u = l
                          , d = h;
                        0 == o && (u = -(1 / 0),
                        0 == h && (c = a)),
                        o == s.length - 2 && (d = 1 / 0,
                        1 == l && (a = c)),
                        n.push({
                            applyFrom: u,
                            applyTo: d,
                            startOffset: s[a].offset,
                            endOffset: s[c].offset,
                            easingFunction: e.parseEasingFunction(s[a].easing),
                            property: r,
                            interpolation: t.propertyInterpolation(r, s[a].value, s[c].value)
                        })
                    }
                return n.sort(function(e, t) {
                    return e.startOffset - t.startOffset
                }),
                n
            }
            t.convertEffectInput = function(i) {
                var s = e.normalizeKeyframes(i)
                  , o = n(s)
                  , a = r(o);
                return function(e, i) {
                    if (null != i)
                        a.filter(function(e) {
                            return i >= e.applyFrom && i < e.applyTo
                        }).forEach(function(n) {
                            var r = i - n.startOffset
                              , s = n.endOffset - n.startOffset
                              , o = 0 == s ? 0 : n.easingFunction(r / s);
                            t.apply(e, n.property, n.interpolation(o))
                        });
                    else
                        for (var n in o)
                            "offset" != n && "easing" != n && "composite" != n && t.clear(e, n)
                }
            }
        }(c, d, f),
        function(e, t, i) {
            function n(e) {
                return e.replace(/-(.)/g, function(e, t) {
                    return t.toUpperCase()
                })
            }
            function r(e, t, i) {
                a[i] = a[i] || [],
                a[i].push([e, t])
            }
            function s(e, t, i) {
                for (var s = 0; s < i.length; s++) {
                    var o = i[s];
                    r(e, t, n(o))
                }
            }
            function o(i, r, s) {
                var o = i;
                /-/.test(i) && !e.isDeprecated("Hyphenated property names", "2016-03-22", "Use camelCase instead.", !0) && (o = n(i)),
                "initial" != r && "initial" != s || ("initial" == r && (r = c[o]),
                "initial" == s && (s = c[o]));
                for (var l = r == s ? [] : a[o], h = 0; l && h < l.length; h++) {
                    var u = l[h][0](r)
                      , d = l[h][0](s);
                    if (void 0 !== u && void 0 !== d) {
                        var f = l[h][1](u, d);
                        if (f) {
                            var p = t.Interpolation.apply(null, f);
                            return function(e) {
                                return 0 == e ? r : 1 == e ? s : p(e)
                            }
                        }
                    }
                }
                return t.Interpolation(!1, !0, function(e) {
                    return e ? s : r
                })
            }
            var a = {};
            t.addPropertiesHandler = s;
            var c = {
                backgroundColor: "transparent",
                backgroundPosition: "0% 0%",
                borderBottomColor: "currentColor",
                borderBottomLeftRadius: "0px",
                borderBottomRightRadius: "0px",
                borderBottomWidth: "3px",
                borderLeftColor: "currentColor",
                borderLeftWidth: "3px",
                borderRightColor: "currentColor",
                borderRightWidth: "3px",
                borderSpacing: "2px",
                borderTopColor: "currentColor",
                borderTopLeftRadius: "0px",
                borderTopRightRadius: "0px",
                borderTopWidth: "3px",
                bottom: "auto",
                clip: "rect(0px, 0px, 0px, 0px)",
                color: "black",
                fontSize: "100%",
                fontWeight: "400",
                height: "auto",
                left: "auto",
                letterSpacing: "normal",
                lineHeight: "120%",
                marginBottom: "0px",
                marginLeft: "0px",
                marginRight: "0px",
                marginTop: "0px",
                maxHeight: "none",
                maxWidth: "none",
                minHeight: "0px",
                minWidth: "0px",
                opacity: "1.0",
                outlineColor: "invert",
                outlineOffset: "0px",
                outlineWidth: "3px",
                paddingBottom: "0px",
                paddingLeft: "0px",
                paddingRight: "0px",
                paddingTop: "0px",
                right: "auto",
                textIndent: "0px",
                textShadow: "0px 0px 0px transparent",
                top: "auto",
                transform: "",
                verticalAlign: "0px",
                visibility: "visible",
                width: "auto",
                wordSpacing: "normal",
                zIndex: "auto"
            };
            t.propertyInterpolation = o
        }(c, d, f),
        function(e, t, i) {
            function n(t) {
                var i = e.calculateActiveDuration(t)
                  , n = function(n) {
                    return e.calculateIterationProgress(i, n, t)
                };
                return n._totalDuration = t.delay + i + t.endDelay,
                n
            }
            t.KeyframeEffect = function(i, r, s, o) {
                var a, c = n(e.normalizeTimingInput(s)), l = t.convertEffectInput(r), h = function() {
                    l(i, a)
                };
                return h._update = function(e) {
                    return a = c(e),
                    null !== a
                }
                ,
                h._clear = function() {
                    l(i, null)
                }
                ,
                h._hasSameTarget = function(e) {
                    return i === e
                }
                ,
                h._target = i,
                h._totalDuration = c._totalDuration,
                h._id = o,
                h
            }
            ,
            t.NullEffect = function(e) {
                var t = function() {
                    e && (e(),
                    e = null)
                };
                return t._update = function() {
                    return null
                }
                ,
                t._totalDuration = 0,
                t._hasSameTarget = function() {
                    return !1
                }
                ,
                t
            }
        }(c, d, f),
        function(e, t) {
            e.apply = function(t, i, n) {
                t.style[e.propertyName(i)] = n
            }
            ,
            e.clear = function(t, i) {
                t.style[e.propertyName(i)] = ""
            }
        }(d, f),
        function(e) {
            window.Element.prototype.animate = function(t, i) {
                var n = "";
                return i && i.id && (n = i.id),
                e.timeline._play(e.KeyframeEffect(this, t, i, n))
            }
        }(d),
        function(e, t) {
            function i(e, t, n) {
                if ("number" == typeof e && "number" == typeof t)
                    return e * (1 - n) + t * n;
                if ("boolean" == typeof e && "boolean" == typeof t)
                    return n < .5 ? e : t;
                if (e.length == t.length) {
                    for (var r = [], s = 0; s < e.length; s++)
                        r.push(i(e[s], t[s], n));
                    return r
                }
                throw "Mismatched interpolation arguments " + e + ":" + t
            }
            e.Interpolation = function(e, t, n) {
                return function(r) {
                    return n(i(e, t, r))
                }
            }
        }(d, f),
        function(e, t, i) {
            e.sequenceNumber = 0;
            var n = function(e, t, i) {
                this.target = e,
                this.currentTime = t,
                this.timelineTime = i,
                this.type = "finish",
                this.bubbles = !1,
                this.cancelable = !1,
                this.currentTarget = e,
                this.defaultPrevented = !1,
                this.eventPhase = Event.AT_TARGET,
                this.timeStamp = Date.now()
            };
            t.Animation = function(t) {
                this.id = "",
                t && t._id && (this.id = t._id),
                this._sequenceNumber = e.sequenceNumber++,
                this._currentTime = 0,
                this._startTime = null,
                this._paused = !1,
                this._playbackRate = 1,
                this._inTimeline = !0,
                this._finishedFlag = !0,
                this.onfinish = null,
                this._finishHandlers = [],
                this._effect = t,
                this._inEffect = this._effect._update(0),
                this._idle = !0,
                this._currentTimePending = !1
            }
            ,
            t.Animation.prototype = {
                _ensureAlive: function() {
                    this.playbackRate < 0 && 0 === this.currentTime ? this._inEffect = this._effect._update(-1) : this._inEffect = this._effect._update(this.currentTime),
                    this._inTimeline || !this._inEffect && this._finishedFlag || (this._inTimeline = !0,
                    t.timeline._animations.push(this))
                },
                _tickCurrentTime: function(e, t) {
                    e != this._currentTime && (this._currentTime = e,
                    this._isFinished && !t && (this._currentTime = this._playbackRate > 0 ? this._totalDuration : 0),
                    this._ensureAlive())
                },
                get currentTime() {
                    return this._idle || this._currentTimePending ? null : this._currentTime
                },
                set currentTime(e) {
                    e = +e,
                    isNaN(e) || (t.restart(),
                    this._paused || null == this._startTime || (this._startTime = this._timeline.currentTime - e / this._playbackRate),
                    this._currentTimePending = !1,
                    this._currentTime != e && (this._idle && (this._idle = !1,
                    this._paused = !0),
                    this._tickCurrentTime(e, !0),
                    t.applyDirtiedAnimation(this)))
                },
                get startTime() {
                    return this._startTime
                },
                set startTime(e) {
                    e = +e,
                    isNaN(e) || this._paused || this._idle || (this._startTime = e,
                    this._tickCurrentTime((this._timeline.currentTime - this._startTime) * this.playbackRate),
                    t.applyDirtiedAnimation(this))
                },
                get playbackRate() {
                    return this._playbackRate
                },
                set playbackRate(e) {
                    if (e != this._playbackRate) {
                        var i = this.currentTime;
                        this._playbackRate = e,
                        this._startTime = null,
                        "paused" != this.playState && "idle" != this.playState && (this._finishedFlag = !1,
                        this._idle = !1,
                        this._ensureAlive(),
                        t.applyDirtiedAnimation(this)),
                        null != i && (this.currentTime = i)
                    }
                },
                get _isFinished() {
                    return !this._idle && (this._playbackRate > 0 && this._currentTime >= this._totalDuration || this._playbackRate < 0 && this._currentTime <= 0)
                },
                get _totalDuration() {
                    return this._effect._totalDuration
                },
                get playState() {
                    return this._idle ? "idle" : null == this._startTime && !this._paused && 0 != this.playbackRate || this._currentTimePending ? "pending" : this._paused ? "paused" : this._isFinished ? "finished" : "running"
                },
                _rewind: function() {
                    if (this._playbackRate >= 0)
                        this._currentTime = 0;
                    else {
                        if (!(this._totalDuration < 1 / 0))
                            throw new DOMException("Unable to rewind negative playback rate animation with infinite duration","InvalidStateError");
                        this._currentTime = this._totalDuration
                    }
                },
                play: function() {
                    this._paused = !1,
                    (this._isFinished || this._idle) && (this._rewind(),
                    this._startTime = null),
                    this._finishedFlag = !1,
                    this._idle = !1,
                    this._ensureAlive(),
                    t.applyDirtiedAnimation(this)
                },
                pause: function() {
                    this._isFinished || this._paused || this._idle ? this._idle && (this._rewind(),
                    this._idle = !1) : this._currentTimePending = !0,
                    this._startTime = null,
                    this._paused = !0
                },
                finish: function() {
                    this._idle || (this.currentTime = this._playbackRate > 0 ? this._totalDuration : 0,
                    this._startTime = this._totalDuration - this.currentTime,
                    this._currentTimePending = !1,
                    t.applyDirtiedAnimation(this))
                },
                cancel: function() {
                    this._inEffect && (this._inEffect = !1,
                    this._idle = !0,
                    this._paused = !1,
                    this._isFinished = !0,
                    this._finishedFlag = !0,
                    this._currentTime = 0,
                    this._startTime = null,
                    this._effect._update(null),
                    t.applyDirtiedAnimation(this))
                },
                reverse: function() {
                    this.playbackRate *= -1,
                    this.play()
                },
                addEventListener: function(e, t) {
                    "function" == typeof t && "finish" == e && this._finishHandlers.push(t)
                },
                removeEventListener: function(e, t) {
                    if ("finish" == e) {
                        var i = this._finishHandlers.indexOf(t);
                        i >= 0 && this._finishHandlers.splice(i, 1)
                    }
                },
                _fireEvents: function(e) {
                    if (this._isFinished) {
                        if (!this._finishedFlag) {
                            var t = new n(this,this._currentTime,e)
                              , i = this._finishHandlers.concat(this.onfinish ? [this.onfinish] : []);
                            setTimeout(function() {
                                i.forEach(function(e) {
                                    e.call(t.target, t)
                                })
                            }, 0),
                            this._finishedFlag = !0
                        }
                    } else
                        this._finishedFlag = !1
                },
                _tick: function(e, t) {
                    this._idle || this._paused || (null == this._startTime ? t && (this.startTime = e - this._currentTime / this.playbackRate) : this._isFinished || this._tickCurrentTime((e - this._startTime) * this.playbackRate)),
                    t && (this._currentTimePending = !1,
                    this._fireEvents(e))
                },
                get _needsTick() {
                    return this.playState in {
                        pending: 1,
                        running: 1
                    } || !this._finishedFlag
                },
                _targetAnimations: function() {
                    var e = this._effect._target;
                    return e._activeAnimations || (e._activeAnimations = []),
                    e._activeAnimations
                },
                _markTarget: function() {
                    var e = this._targetAnimations();
                    e.indexOf(this) === -1 && e.push(this)
                },
                _unmarkTarget: function() {
                    var e = this._targetAnimations()
                      , t = e.indexOf(this);
                    t !== -1 && e.splice(t, 1)
                }
            }
        }(c, d, f),
        function(e, t, i) {
            function n(e) {
                var t = l;
                l = [],
                e < g.currentTime && (e = g.currentTime),
                g._animations.sort(r),
                g._animations = a(e, !0, g._animations)[0],
                t.forEach(function(t) {
                    t[1](e)
                }),
                o(),
                u = void 0
            }
            function r(e, t) {
                return e._sequenceNumber - t._sequenceNumber
            }
            function s() {
                this._animations = [],
                this.currentTime = window.performance && performance.now ? performance.now() : 0
            }
            function o() {
                p.forEach(function(e) {
                    e()
                }),
                p.length = 0
            }
            function a(e, i, n) {
                m = !0,
                f = !1;
                var r = t.timeline;
                r.currentTime = e,
                d = !1;
                var s = []
                  , o = []
                  , a = []
                  , c = [];
                return n.forEach(function(t) {
                    t._tick(e, i),
                    t._inEffect ? (o.push(t._effect),
                    t._markTarget()) : (s.push(t._effect),
                    t._unmarkTarget()),
                    t._needsTick && (d = !0);
                    var n = t._inEffect || t._needsTick;
                    t._inTimeline = n,
                    n ? a.push(t) : c.push(t)
                }),
                p.push.apply(p, s),
                p.push.apply(p, o),
                d && requestAnimationFrame(function() {}),
                m = !1,
                [a, c]
            }
            var c = window.requestAnimationFrame
              , l = []
              , h = 0;
            window.requestAnimationFrame = function(e) {
                var t = h++;
                return 0 == l.length && c(n),
                l.push([t, e]),
                t
            }
            ,
            window.cancelAnimationFrame = function(e) {
                l.forEach(function(t) {
                    t[0] == e && (t[1] = function() {}
                    )
                })
            }
            ,
            s.prototype = {
                _play: function(i) {
                    i._timing = e.normalizeTimingInput(i.timing);
                    var n = new t.Animation(i);
                    return n._idle = !1,
                    n._timeline = this,
                    this._animations.push(n),
                    t.restart(),
                    t.applyDirtiedAnimation(n),
                    n
                }
            };
            var u = void 0
              , d = !1
              , f = !1;
            t.restart = function() {
                return d || (d = !0,
                requestAnimationFrame(function() {}),
                f = !0),
                f
            }
            ,
            t.applyDirtiedAnimation = function(e) {
                if (!m) {
                    e._markTarget();
                    var i = e._targetAnimations();
                    i.sort(r);
                    var n = a(t.timeline.currentTime, !1, i.slice())[1];
                    n.forEach(function(e) {
                        var t = g._animations.indexOf(e);
                        t !== -1 && g._animations.splice(t, 1)
                    }),
                    o()
                }
            }
            ;
            var p = []
              , m = !1
              , g = new s;
            t.timeline = g
        }(c, d, f),
        function(e) {
            function t(e, t) {
                var i = e.exec(t);
                if (i)
                    return i = e.ignoreCase ? i[0].toLowerCase() : i[0],
                    [i, t.substr(i.length)]
            }
            function i(e, t) {
                t = t.replace(/^\s*/, "");
                var i = e(t);
                if (i)
                    return [i[0], i[1].replace(/^\s*/, "")]
            }
            function n(e, n, r) {
                e = i.bind(null, e);
                for (var s = []; ; ) {
                    var o = e(r);
                    if (!o)
                        return [s, r];
                    if (s.push(o[0]),
                    r = o[1],
                    o = t(n, r),
                    !o || "" == o[1])
                        return [s, r];
                    r = o[1]
                }
            }
            function r(e, t) {
                for (var i = 0, n = 0; n < t.length && (!/\s|,/.test(t[n]) || 0 != i); n++)
                    if ("(" == t[n])
                        i++;
                    else if (")" == t[n] && (i--,
                    0 == i && n++,
                    i <= 0))
                        break;
                var r = e(t.substr(0, n));
                return void 0 == r ? void 0 : [r, t.substr(n)]
            }
            function s(e, t) {
                for (var i = e, n = t; i && n; )
                    i > n ? i %= n : n %= i;
                return i = e * t / (i + n)
            }
            function o(e) {
                return function(t) {
                    var i = e(t);
                    return i && (i[0] = void 0),
                    i
                }
            }
            function a(e, t) {
                return function(i) {
                    var n = e(i);
                    return n ? n : [t, i]
                }
            }
            function c(t, i) {
                for (var n = [], r = 0; r < t.length; r++) {
                    var s = e.consumeTrimmed(t[r], i);
                    if (!s || "" == s[0])
                        return;
                    void 0 !== s[0] && n.push(s[0]),
                    i = s[1]
                }
                if ("" == i)
                    return n
            }
            function l(e, t, i, n, r) {
                for (var o = [], a = [], c = [], l = s(n.length, r.length), h = 0; h < l; h++) {
                    var u = t(n[h % n.length], r[h % r.length]);
                    if (!u)
                        return;
                    o.push(u[0]),
                    a.push(u[1]),
                    c.push(u[2])
                }
                return [o, a, function(t) {
                    var n = t.map(function(e, t) {
                        return c[t](e)
                    }).join(i);
                    return e ? e(n) : n
                }
                ]
            }
            function h(e, t, i) {
                for (var n = [], r = [], s = [], o = 0, a = 0; a < i.length; a++)
                    if ("function" == typeof i[a]) {
                        var c = i[a](e[o], t[o++]);
                        n.push(c[0]),
                        r.push(c[1]),
                        s.push(c[2])
                    } else
                        !function(e) {
                            n.push(!1),
                            r.push(!1),
                            s.push(function() {
                                return i[e]
                            })
                        }(a);
                return [n, r, function(e) {
                    for (var t = "", i = 0; i < e.length; i++)
                        t += s[i](e[i]);
                    return t
                }
                ]
            }
            e.consumeToken = t,
            e.consumeTrimmed = i,
            e.consumeRepeated = n,
            e.consumeParenthesised = r,
            e.ignore = o,
            e.optional = a,
            e.consumeList = c,
            e.mergeNestedRepeated = l.bind(null, null),
            e.mergeWrappedNestedRepeated = l,
            e.mergeList = h
        }(d),
        function(e) {
            function t(t) {
                function i(t) {
                    var i = e.consumeToken(/^inset/i, t);
                    if (i)
                        return n.inset = !0,
                        i;
                    var i = e.consumeLengthOrPercent(t);
                    if (i)
                        return n.lengths.push(i[0]),
                        i;
                    var i = e.consumeColor(t);
                    return i ? (n.color = i[0],
                    i) : void 0
                }
                var n = {
                    inset: !1,
                    lengths: [],
                    color: null
                }
                  , r = e.consumeRepeated(i, /^/, t);
                if (r && r[0].length)
                    return [n, r[1]]
            }
            function i(i) {
                var n = e.consumeRepeated(t, /^,/, i);
                if (n && "" == n[1])
                    return n[0]
            }
            function n(t, i) {
                for (; t.lengths.length < Math.max(t.lengths.length, i.lengths.length); )
                    t.lengths.push({
                        px: 0
                    });
                for (; i.lengths.length < Math.max(t.lengths.length, i.lengths.length); )
                    i.lengths.push({
                        px: 0
                    });
                if (t.inset == i.inset && !!t.color == !!i.color) {
                    for (var n, r = [], s = [[], 0], o = [[], 0], a = 0; a < t.lengths.length; a++) {
                        var c = e.mergeDimensions(t.lengths[a], i.lengths[a], 2 == a);
                        s[0].push(c[0]),
                        o[0].push(c[1]),
                        r.push(c[2])
                    }
                    if (t.color && i.color) {
                        var l = e.mergeColors(t.color, i.color);
                        s[1] = l[0],
                        o[1] = l[1],
                        n = l[2]
                    }
                    return [s, o, function(e) {
                        for (var i = t.inset ? "inset " : " ", s = 0; s < r.length; s++)
                            i += r[s](e[0][s]) + " ";
                        return n && (i += n(e[1])),
                        i
                    }
                    ]
                }
            }
            function r(t, i, n, r) {
                function s(e) {
                    return {
                        inset: e,
                        color: [0, 0, 0, 0],
                        lengths: [{
                            px: 0
                        }, {
                            px: 0
                        }, {
                            px: 0
                        }, {
                            px: 0
                        }]
                    }
                }
                for (var o = [], a = [], c = 0; c < n.length || c < r.length; c++) {
                    var l = n[c] || s(r[c].inset)
                      , h = r[c] || s(n[c].inset);
                    o.push(l),
                    a.push(h)
                }
                return e.mergeNestedRepeated(t, i, o, a)
            }
            var s = r.bind(null, n, ", ");
            e.addPropertiesHandler(i, s, ["box-shadow", "text-shadow"])
        }(d),
        function(e, t) {
            function i(e) {
                return e.toFixed(3).replace(".000", "")
            }
            function n(e, t, i) {
                return Math.min(t, Math.max(e, i))
            }
            function r(e) {
                if (/^\s*[-+]?(\d*\.)?\d+\s*$/.test(e))
                    return Number(e)
            }
            function s(e, t) {
                return [e, t, i]
            }
            function o(e, t) {
                if (0 != e)
                    return c(0, 1 / 0)(e, t)
            }
            function a(e, t) {
                return [e, t, function(e) {
                    return Math.round(n(1, 1 / 0, e))
                }
                ]
            }
            function c(e, t) {
                return function(r, s) {
                    return [r, s, function(r) {
                        return i(n(e, t, r))
                    }
                    ]
                }
            }
            function l(e, t) {
                return [e, t, Math.round]
            }
            e.clamp = n,
            e.addPropertiesHandler(r, c(0, 1 / 0), ["border-image-width", "line-height"]),
            e.addPropertiesHandler(r, c(0, 1), ["opacity", "shape-image-threshold"]),
            e.addPropertiesHandler(r, o, ["flex-grow", "flex-shrink"]),
            e.addPropertiesHandler(r, a, ["orphans", "widows"]),
            e.addPropertiesHandler(r, l, ["z-index"]),
            e.parseNumber = r,
            e.mergeNumbers = s,
            e.numberToString = i
        }(d, f),
        function(e, t) {
            function i(e, t) {
                if ("visible" == e || "visible" == t)
                    return [0, 1, function(i) {
                        return i <= 0 ? e : i >= 1 ? t : "visible"
                    }
                    ]
            }
            e.addPropertiesHandler(String, i, ["visibility"])
        }(d),
        function(e, t) {
            function i(e) {
                e = e.trim(),
                s.fillStyle = "#000",
                s.fillStyle = e;
                var t = s.fillStyle;
                if (s.fillStyle = "#fff",
                s.fillStyle = e,
                t == s.fillStyle) {
                    s.fillRect(0, 0, 1, 1);
                    var i = s.getImageData(0, 0, 1, 1).data;
                    s.clearRect(0, 0, 1, 1);
                    var n = i[3] / 255;
                    return [i[0] * n, i[1] * n, i[2] * n, n]
                }
            }
            function n(t, i) {
                return [t, i, function(t) {
                    function i(e) {
                        return Math.max(0, Math.min(255, e))
                    }
                    if (t[3])
                        for (var n = 0; n < 3; n++)
                            t[n] = Math.round(i(t[n] / t[3]));
                    return t[3] = e.numberToString(e.clamp(0, 1, t[3])),
                    "rgba(" + t.join(",") + ")"
                }
                ]
            }
            var r = document.createElementNS("http://www.w3.org/1999/xhtml", "canvas");
            r.width = r.height = 1;
            var s = r.getContext("2d");
            e.addPropertiesHandler(i, n, ["background-color", "border-bottom-color", "border-left-color", "border-right-color", "border-top-color", "color", "outline-color", "text-decoration-color"]),
            e.consumeColor = e.consumeParenthesised.bind(null, i),
            e.mergeColors = n
        }(d, f),
        function(a, b) {
            function c(a, b) {
                if (b = b.trim().toLowerCase(),
                "0" == b && "px".search(a) >= 0)
                    return {
                        px: 0
                    };
                if (/^[^(]*$|^calc/.test(b)) {
                    b = b.replace(/calc\(/g, "(");
                    var c = {};
                    b = b.replace(a, function(e) {
                        return c[e] = null,
                        "U" + e
                    });
                    for (var d = "U(" + a.source + ")", e = b.replace(/[-+]?(\d*\.)?\d+/g, "N").replace(new RegExp("N" + d,"g"), "D").replace(/\s[+-]\s/g, "O").replace(/\s/g, ""), f = [/N\*(D)/g, /(N|D)[*\/]N/g, /(N|D)O\1/g, /\((N|D)\)/g], g = 0; g < f.length; )
                        f[g].test(e) ? (e = e.replace(f[g], "$1"),
                        g = 0) : g++;
                    if ("D" == e) {
                        for (var h in c) {
                            var i = eval(b.replace(new RegExp("U" + h,"g"), "").replace(new RegExp(d,"g"), "*0"));
                            if (!isFinite(i))
                                return;
                            c[h] = i
                        }
                        return c
                    }
                }
            }
            function d(t, i) {
                return e(t, i, !0)
            }
            function e(e, t, i) {
                var n, r = [];
                for (n in e)
                    r.push(n);
                for (n in t)
                    r.indexOf(n) < 0 && r.push(n);
                return e = r.map(function(t) {
                    return e[t] || 0
                }),
                t = r.map(function(e) {
                    return t[e] || 0
                }),
                [e, t, function(e) {
                    var t = e.map(function(t, n) {
                        return 1 == e.length && i && (t = Math.max(t, 0)),
                        a.numberToString(t) + r[n]
                    }).join(" + ");
                    return e.length > 1 ? "calc(" + t + ")" : t
                }
                ]
            }
            var f = "px|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc"
              , g = c.bind(null, new RegExp(f,"g"))
              , h = c.bind(null, new RegExp(f + "|%","g"))
              , i = c.bind(null, /deg|rad|grad|turn/g);
            a.parseLength = g,
            a.parseLengthOrPercent = h,
            a.consumeLengthOrPercent = a.consumeParenthesised.bind(null, h),
            a.parseAngle = i,
            a.mergeDimensions = e;
            var j = a.consumeParenthesised.bind(null, g)
              , k = a.consumeRepeated.bind(void 0, j, /^/)
              , l = a.consumeRepeated.bind(void 0, k, /^,/);
            a.consumeSizePairList = l;
            var m = function(e) {
                var t = l(e);
                if (t && "" == t[1])
                    return t[0]
            }
              , n = a.mergeNestedRepeated.bind(void 0, d, " ")
              , o = a.mergeNestedRepeated.bind(void 0, n, ",");
            a.mergeNonNegativeSizePair = n,
            a.addPropertiesHandler(m, o, ["background-size"]),
            a.addPropertiesHandler(h, d, ["border-bottom-width", "border-image-width", "border-left-width", "border-right-width", "border-top-width", "flex-basis", "font-size", "height", "line-height", "max-height", "max-width", "outline-width", "width"]),
            a.addPropertiesHandler(h, e, ["border-bottom-left-radius", "border-bottom-right-radius", "border-top-left-radius", "border-top-right-radius", "bottom", "left", "letter-spacing", "margin-bottom", "margin-left", "margin-right", "margin-top", "min-height", "min-width", "outline-offset", "padding-bottom", "padding-left", "padding-right", "padding-top", "perspective", "right", "shape-margin", "text-indent", "top", "vertical-align", "word-spacing"])
        }(d, f),
        function(e, t) {
            function i(t) {
                return e.consumeLengthOrPercent(t) || e.consumeToken(/^auto/, t)
            }
            function n(t) {
                var n = e.consumeList([e.ignore(e.consumeToken.bind(null, /^rect/)), e.ignore(e.consumeToken.bind(null, /^\(/)), e.consumeRepeated.bind(null, i, /^,/), e.ignore(e.consumeToken.bind(null, /^\)/))], t);
                if (n && 4 == n[0].length)
                    return n[0]
            }
            function r(t, i) {
                return "auto" == t || "auto" == i ? [!0, !1, function(n) {
                    var r = n ? t : i;
                    if ("auto" == r)
                        return "auto";
                    var s = e.mergeDimensions(r, r);
                    return s[2](s[0])
                }
                ] : e.mergeDimensions(t, i)
            }
            function s(e) {
                return "rect(" + e + ")"
            }
            var o = e.mergeWrappedNestedRepeated.bind(null, s, r, ", ");
            e.parseBox = n,
            e.mergeBoxes = o,
            e.addPropertiesHandler(n, o, ["clip"])
        }(d, f),
        function(e, t) {
            function i(e) {
                return function(t) {
                    var i = 0;
                    return e.map(function(e) {
                        return e === h ? t[i++] : e
                    })
                }
            }
            function n(e) {
                return e
            }
            function r(t) {
                if (t = t.toLowerCase().trim(),
                "none" == t)
                    return [];
                for (var i, n = /\s*(\w+)\(([^)]*)\)/g, r = [], s = 0; i = n.exec(t); ) {
                    if (i.index != s)
                        return;
                    s = i.index + i[0].length;
                    var o = i[1]
                      , a = f[o];
                    if (!a)
                        return;
                    var c = i[2].split(",")
                      , l = a[0];
                    if (l.length < c.length)
                        return;
                    for (var h = [], p = 0; p < l.length; p++) {
                        var m, g = c[p], y = l[p];
                        if (m = g ? {
                            A: function(t) {
                                return "0" == t.trim() ? d : e.parseAngle(t)
                            },
                            N: e.parseNumber,
                            T: e.parseLengthOrPercent,
                            L: e.parseLength
                        }[y.toUpperCase()](g) : {
                            a: d,
                            n: h[0],
                            t: u
                        }[y],
                        void 0 === m)
                            return;
                        h.push(m)
                    }
                    if (r.push({
                        t: o,
                        d: h
                    }),
                    n.lastIndex == t.length)
                        return r
                }
            }
            function s(e) {
                return e.toFixed(6).replace(".000000", "")
            }
            function o(t, i) {
                if (t.decompositionPair !== i) {
                    t.decompositionPair = i;
                    var n = e.makeMatrixDecomposition(t)
                }
                if (i.decompositionPair !== t) {
                    i.decompositionPair = t;
                    var r = e.makeMatrixDecomposition(i)
                }
                return null == n[0] || null == r[0] ? [[!1], [!0], function(e) {
                    return e ? i[0].d : t[0].d
                }
                ] : (n[0].push(0),
                r[0].push(1),
                [n, r, function(t) {
                    var i = e.quat(n[0][3], r[0][3], t[5])
                      , o = e.composeMatrix(t[0], t[1], t[2], i, t[4])
                      , a = o.map(s).join(",");
                    return a
                }
                ])
            }
            function a(e) {
                return e.replace(/[xy]/, "")
            }
            function c(e) {
                return e.replace(/(x|y|z|3d)?$/, "3d")
            }
            function l(t, i) {
                var n = e.makeMatrixDecomposition && !0
                  , r = !1;
                if (!t.length || !i.length) {
                    t.length || (r = !0,
                    t = i,
                    i = []);
                    for (var s = 0; s < t.length; s++) {
                        var l = t[s].t
                          , h = t[s].d
                          , u = "scale" == l.substr(0, 5) ? 1 : 0;
                        i.push({
                            t: l,
                            d: h.map(function(e) {
                                if ("number" == typeof e)
                                    return u;
                                var t = {};
                                for (var i in e)
                                    t[i] = u;
                                return t
                            })
                        })
                    }
                }
                var d = function(e, t) {
                    return "perspective" == e && "perspective" == t || ("matrix" == e || "matrix3d" == e) && ("matrix" == t || "matrix3d" == t)
                }
                  , p = []
                  , m = []
                  , g = [];
                if (t.length != i.length) {
                    if (!n)
                        return;
                    var y = o(t, i);
                    p = [y[0]],
                    m = [y[1]],
                    g = [["matrix", [y[2]]]]
                } else
                    for (var s = 0; s < t.length; s++) {
                        var l, v = t[s].t, _ = i[s].t, b = t[s].d, S = i[s].d, E = f[v], P = f[_];
                        if (d(v, _)) {
                            if (!n)
                                return;
                            var y = o([t[s]], [i[s]]);
                            p.push(y[0]),
                            m.push(y[1]),
                            g.push(["matrix", [y[2]]])
                        } else {
                            if (v == _)
                                l = v;
                            else if (E[2] && P[2] && a(v) == a(_))
                                l = a(v),
                                b = E[2](b),
                                S = P[2](S);
                            else {
                                if (!E[1] || !P[1] || c(v) != c(_)) {
                                    if (!n)
                                        return;
                                    var y = o(t, i);
                                    p = [y[0]],
                                    m = [y[1]],
                                    g = [["matrix", [y[2]]]];
                                    break
                                }
                                l = c(v),
                                b = E[1](b),
                                S = P[1](S)
                            }
                            for (var T = [], C = [], A = [], w = 0; w < b.length; w++) {
                                var R = "number" == typeof b[w] ? e.mergeNumbers : e.mergeDimensions
                                  , y = R(b[w], S[w]);
                                T[w] = y[0],
                                C[w] = y[1],
                                A.push(y[2])
                            }
                            p.push(T),
                            m.push(C),
                            g.push([l, A])
                        }
                    }
                if (r) {
                    var O = p;
                    p = m,
                    m = O
                }
                return [p, m, function(e) {
                    return e.map(function(e, t) {
                        var i = e.map(function(e, i) {
                            return g[t][1][i](e)
                        }).join(",");
                        return "matrix" == g[t][0] && 16 == i.split(",").length && (g[t][0] = "matrix3d"),
                        g[t][0] + "(" + i + ")"
                    }).join(" ")
                }
                ]
            }
            var h = null
              , u = {
                px: 0
            }
              , d = {
                deg: 0
            }
              , f = {
                matrix: ["NNNNNN", [h, h, 0, 0, h, h, 0, 0, 0, 0, 1, 0, h, h, 0, 1], n],
                matrix3d: ["NNNNNNNNNNNNNNNN", n],
                rotate: ["A"],
                rotatex: ["A"],
                rotatey: ["A"],
                rotatez: ["A"],
                rotate3d: ["NNNA"],
                perspective: ["L"],
                scale: ["Nn", i([h, h, 1]), n],
                scalex: ["N", i([h, 1, 1]), i([h, 1])],
                scaley: ["N", i([1, h, 1]), i([1, h])],
                scalez: ["N", i([1, 1, h])],
                scale3d: ["NNN", n],
                skew: ["Aa", null, n],
                skewx: ["A", null, i([h, d])],
                skewy: ["A", null, i([d, h])],
                translate: ["Tt", i([h, h, u]), n],
                translatex: ["T", i([h, u, u]), i([h, u])],
                translatey: ["T", i([u, h, u]), i([u, h])],
                translatez: ["L", i([u, u, h])],
                translate3d: ["TTL", n]
            };
            e.addPropertiesHandler(r, l, ["transform"])
        }(d, f),
        function(e, t) {
            function i(e, t) {
                t.concat([e]).forEach(function(t) {
                    t in document.documentElement.style && (n[e] = t)
                })
            }
            var n = {};
            i("transform", ["webkitTransform", "msTransform"]),
            i("transformOrigin", ["webkitTransformOrigin"]),
            i("perspective", ["webkitPerspective"]),
            i("perspectiveOrigin", ["webkitPerspectiveOrigin"]),
            e.propertyName = function(e) {
                return n[e] || e
            }
        }(d, f)
    }(),
    !function() {
        if (void 0 === document.createElement("div").animate([]).oncancel) {
            var e;
            if (window.performance && performance.now)
                var e = function() {
                    return performance.now()
                };
            else
                var e = function() {
                    return Date.now()
                };
            var t = function(e, t, i) {
                this.target = e,
                this.currentTime = t,
                this.timelineTime = i,
                this.type = "cancel",
                this.bubbles = !1,
                this.cancelable = !1,
                this.currentTarget = e,
                this.defaultPrevented = !1,
                this.eventPhase = Event.AT_TARGET,
                this.timeStamp = Date.now()
            }
              , i = window.Element.prototype.animate;
            window.Element.prototype.animate = function(n, r) {
                var s = i.call(this, n, r);
                s._cancelHandlers = [],
                s.oncancel = null;
                var o = s.cancel;
                s.cancel = function() {
                    o.call(this);
                    var i = new t(this,null,e())
                      , n = this._cancelHandlers.concat(this.oncancel ? [this.oncancel] : []);
                    setTimeout(function() {
                        n.forEach(function(e) {
                            e.call(i.target, i)
                        })
                    }, 0)
                }
                ;
                var a = s.addEventListener;
                s.addEventListener = function(e, t) {
                    "function" == typeof t && "cancel" == e ? this._cancelHandlers.push(t) : a.call(this, e, t)
                }
                ;
                var c = s.removeEventListener;
                return s.removeEventListener = function(e, t) {
                    if ("cancel" == e) {
                        var i = this._cancelHandlers.indexOf(t);
                        i >= 0 && this._cancelHandlers.splice(i, 1)
                    } else
                        c.call(this, e, t)
                }
                ,
                s
            }
        }
    }(),
    function(e) {
        var t = document.documentElement
          , i = null
          , n = !1;
        try {
            var r = getComputedStyle(t).getPropertyValue("opacity")
              , s = "0" == r ? "1" : "0";
            i = t.animate({
                opacity: [s, s]
            }, {
                duration: 1
            }),
            i.currentTime = 0,
            n = getComputedStyle(t).getPropertyValue("opacity") == s
        } catch (e) {} finally {
            i && i.cancel()
        }
        if (!n) {
            var o = window.Element.prototype.animate;
            window.Element.prototype.animate = function(t, i) {
                return window.Symbol && Symbol.iterator && Array.prototype.from && t[Symbol.iterator] && (t = Array.from(t)),
                Array.isArray(t) || null === t || (t = e.convertToArrayForm(t)),
                o.call(this, t, i)
            }
        }
    }(c),
    !function(e, t, i) {
        function n(e) {
            var i = t.timeline;
            i.currentTime = e,
            i._discardAnimations(),
            0 == i._animations.length ? s = !1 : requestAnimationFrame(n)
        }
        var r = window.requestAnimationFrame;
        window.requestAnimationFrame = function(e) {
            return r(function(i) {
                t.timeline._updateAnimationsPromises(),
                e(i),
                t.timeline._updateAnimationsPromises()
            })
        }
        ,
        t.AnimationTimeline = function() {
            this._animations = [],
            this.currentTime = void 0
        }
        ,
        t.AnimationTimeline.prototype = {
            getAnimations: function() {
                return this._discardAnimations(),
                this._animations.slice()
            },
            _updateAnimationsPromises: function() {
                t.animationsWithPromises = t.animationsWithPromises.filter(function(e) {
                    return e._updatePromises()
                })
            },
            _discardAnimations: function() {
                this._updateAnimationsPromises(),
                this._animations = this._animations.filter(function(e) {
                    return "finished" != e.playState && "idle" != e.playState
                })
            },
            _play: function(e) {
                var i = new t.Animation(e,this);
                return this._animations.push(i),
                t.restartWebAnimationsNextTick(),
                i._updatePromises(),
                i._animation.play(),
                i._updatePromises(),
                i
            },
            play: function(e) {
                return e && e.remove(),
                this._play(e)
            }
        };
        var s = !1;
        t.restartWebAnimationsNextTick = function() {
            s || (s = !0,
            requestAnimationFrame(n))
        }
        ;
        var o = new t.AnimationTimeline;
        t.timeline = o;
        try {
            Object.defineProperty(window.document, "timeline", {
                configurable: !0,
                get: function() {
                    return o
                }
            })
        } catch (e) {}
        try {
            window.document.timeline = o
        } catch (e) {}
    }(c, e, f),
    function(e, t, i) {
        t.animationsWithPromises = [],
        t.Animation = function(t, i) {
            if (this.id = "",
            t && t._id && (this.id = t._id),
            this.effect = t,
            t && (t._animation = this),
            !i)
                throw new Error("Animation with null timeline is not supported");
            this._timeline = i,
            this._sequenceNumber = e.sequenceNumber++,
            this._holdTime = 0,
            this._paused = !1,
            this._isGroup = !1,
            this._animation = null,
            this._childAnimations = [],
            this._callback = null,
            this._oldPlayState = "idle",
            this._rebuildUnderlyingAnimation(),
            this._animation.cancel(),
            this._updatePromises()
        }
        ,
        t.Animation.prototype = {
            _updatePromises: function() {
                var e = this._oldPlayState
                  , t = this.playState;
                return this._readyPromise && t !== e && ("idle" == t ? (this._rejectReadyPromise(),
                this._readyPromise = void 0) : "pending" == e ? this._resolveReadyPromise() : "pending" == t && (this._readyPromise = void 0)),
                this._finishedPromise && t !== e && ("idle" == t ? (this._rejectFinishedPromise(),
                this._finishedPromise = void 0) : "finished" == t ? this._resolveFinishedPromise() : "finished" == e && (this._finishedPromise = void 0)),
                this._oldPlayState = this.playState,
                this._readyPromise || this._finishedPromise
            },
            _rebuildUnderlyingAnimation: function() {
                this._updatePromises();
                var e, i, n, r, s = !!this._animation;
                s && (e = this.playbackRate,
                i = this._paused,
                n = this.startTime,
                r = this.currentTime,
                this._animation.cancel(),
                this._animation._wrapper = null,
                this._animation = null),
                (!this.effect || this.effect instanceof window.KeyframeEffect) && (this._animation = t.newUnderlyingAnimationForKeyframeEffect(this.effect),
                t.bindAnimationForKeyframeEffect(this)),
                (this.effect instanceof window.SequenceEffect || this.effect instanceof window.GroupEffect) && (this._animation = t.newUnderlyingAnimationForGroup(this.effect),
                t.bindAnimationForGroup(this)),
                this.effect && this.effect._onsample && t.bindAnimationForCustomEffect(this),
                s && (1 != e && (this.playbackRate = e),
                null !== n ? this.startTime = n : null !== r ? this.currentTime = r : null !== this._holdTime && (this.currentTime = this._holdTime),
                i && this.pause()),
                this._updatePromises()
            },
            _updateChildren: function() {
                if (this.effect && "idle" != this.playState) {
                    var e = this.effect._timing.delay;
                    this._childAnimations.forEach(function(i) {
                        this._arrangeChildren(i, e),
                        this.effect instanceof window.SequenceEffect && (e += t.groupChildDuration(i.effect))
                    }
                    .bind(this))
                }
            },
            _setExternalAnimation: function(e) {
                if (this.effect && this._isGroup)
                    for (var t = 0; t < this.effect.children.length; t++)
                        this.effect.children[t]._animation = e,
                        this._childAnimations[t]._setExternalAnimation(e)
            },
            _constructChildAnimations: function() {
                if (this.effect && this._isGroup) {
                    var e = this.effect._timing.delay;
                    this._removeChildAnimations(),
                    this.effect.children.forEach(function(i) {
                        var n = t.timeline._play(i);
                        this._childAnimations.push(n),
                        n.playbackRate = this.playbackRate,
                        this._paused && n.pause(),
                        i._animation = this.effect._animation,
                        this._arrangeChildren(n, e),
                        this.effect instanceof window.SequenceEffect && (e += t.groupChildDuration(i))
                    }
                    .bind(this))
                }
            },
            _arrangeChildren: function(e, t) {
                null === this.startTime ? e.currentTime = this.currentTime - t / this.playbackRate : e.startTime !== this.startTime + t / this.playbackRate && (e.startTime = this.startTime + t / this.playbackRate)
            },
            get timeline() {
                return this._timeline
            },
            get playState() {
                return this._animation ? this._animation.playState : "idle"
            },
            get finished() {
                return window.Promise ? (this._finishedPromise || (t.animationsWithPromises.indexOf(this) == -1 && t.animationsWithPromises.push(this),
                this._finishedPromise = new Promise(function(e, t) {
                    this._resolveFinishedPromise = function() {
                        e(this)
                    }
                    ,
                    this._rejectFinishedPromise = function() {
                        t({
                            type: DOMException.ABORT_ERR,
                            name: "AbortError"
                        })
                    }
                }
                .bind(this)),
                "finished" == this.playState && this._resolveFinishedPromise()),
                this._finishedPromise) : (console.warn("Animation Promises require JavaScript Promise constructor"),
                null)
            },
            get ready() {
                return window.Promise ? (this._readyPromise || (t.animationsWithPromises.indexOf(this) == -1 && t.animationsWithPromises.push(this),
                this._readyPromise = new Promise(function(e, t) {
                    this._resolveReadyPromise = function() {
                        e(this)
                    }
                    ,
                    this._rejectReadyPromise = function() {
                        t({
                            type: DOMException.ABORT_ERR,
                            name: "AbortError"
                        })
                    }
                }
                .bind(this)),
                "pending" !== this.playState && this._resolveReadyPromise()),
                this._readyPromise) : (console.warn("Animation Promises require JavaScript Promise constructor"),
                null)
            },
            get onfinish() {
                return this._animation.onfinish
            },
            set onfinish(e) {
                "function" == typeof e ? this._animation.onfinish = function(t) {
                    t.target = this,
                    e.call(this, t)
                }
                .bind(this) : this._animation.onfinish = e
            },
            get oncancel() {
                return this._animation.oncancel
            },
            set oncancel(e) {
                "function" == typeof e ? this._animation.oncancel = function(t) {
                    t.target = this,
                    e.call(this, t)
                }
                .bind(this) : this._animation.oncancel = e
            },
            get currentTime() {
                this._updatePromises();
                var e = this._animation.currentTime;
                return this._updatePromises(),
                e
            },
            set currentTime(e) {
                this._updatePromises(),
                this._animation.currentTime = isFinite(e) ? e : Math.sign(e) * Number.MAX_VALUE,
                this._register(),
                this._forEachChild(function(t, i) {
                    t.currentTime = e - i
                }),
                this._updatePromises()
            },
            get startTime() {
                return this._animation.startTime
            },
            set startTime(e) {
                this._updatePromises(),
                this._animation.startTime = isFinite(e) ? e : Math.sign(e) * Number.MAX_VALUE,
                this._register(),
                this._forEachChild(function(t, i) {
                    t.startTime = e + i
                }),
                this._updatePromises()
            },
            get playbackRate() {
                return this._animation.playbackRate
            },
            set playbackRate(e) {
                this._updatePromises();
                var t = this.currentTime;
                this._animation.playbackRate = e,
                this._forEachChild(function(t) {
                    t.playbackRate = e
                }),
                null !== t && (this.currentTime = t),
                this._updatePromises()
            },
            play: function() {
                this._updatePromises(),
                this._paused = !1,
                this._animation.play(),
                this._timeline._animations.indexOf(this) == -1 && this._timeline._animations.push(this),
                this._register(),
                t.awaitStartTime(this),
                this._forEachChild(function(e) {
                    var t = e.currentTime;
                    e.play(),
                    e.currentTime = t
                }),
                this._updatePromises()
            },
            pause: function() {
                this._updatePromises(),
                this.currentTime && (this._holdTime = this.currentTime),
                this._animation.pause(),
                this._register(),
                this._forEachChild(function(e) {
                    e.pause()
                }),
                this._paused = !0,
                this._updatePromises()
            },
            finish: function() {
                this._updatePromises(),
                this._animation.finish(),
                this._register(),
                this._updatePromises()
            },
            cancel: function() {
                this._updatePromises(),
                this._animation.cancel(),
                this._register(),
                this._removeChildAnimations(),
                this._updatePromises()
            },
            reverse: function() {
                this._updatePromises();
                var e = this.currentTime;
                this._animation.reverse(),
                this._forEachChild(function(e) {
                    e.reverse()
                }),
                null !== e && (this.currentTime = e),
                this._updatePromises()
            },
            addEventListener: function(e, t) {
                var i = t;
                "function" == typeof t && (i = function(e) {
                    e.target = this,
                    t.call(this, e)
                }
                .bind(this),
                t._wrapper = i),
                this._animation.addEventListener(e, i)
            },
            removeEventListener: function(e, t) {
                this._animation.removeEventListener(e, t && t._wrapper || t)
            },
            _removeChildAnimations: function() {
                for (; this._childAnimations.length; )
                    this._childAnimations.pop().cancel()
            },
            _forEachChild: function(t) {
                var i = 0;
                if (this.effect.children && this._childAnimations.length < this.effect.children.length && this._constructChildAnimations(),
                this._childAnimations.forEach(function(e) {
                    t.call(this, e, i),
                    this.effect instanceof window.SequenceEffect && (i += e.effect.activeDuration)
                }
                .bind(this)),
                "pending" != this.playState) {
                    var n = this.effect._timing
                      , r = this.currentTime;
                    null !== r && (r = e.calculateIterationProgress(e.calculateActiveDuration(n), r, n)),
                    (null == r || isNaN(r)) && this._removeChildAnimations()
                }
            }
        },
        window.Animation = t.Animation
    }(c, e, f),
    function(e, t, i) {
        function n(t) {
            this._frames = e.normalizeKeyframes(t)
        }
        function r() {
            for (var e = !1; c.length; ) {
                var t = c.shift();
                t._updateChildren(),
                e = !0
            }
            return e
        }
        var s = function(e) {
            if (e._animation = void 0,
            e instanceof window.SequenceEffect || e instanceof window.GroupEffect)
                for (var t = 0; t < e.children.length; t++)
                    s(e.children[t])
        };
        t.removeMulti = function(e) {
            for (var t = [], i = 0; i < e.length; i++) {
                var n = e[i];
                n._parent ? (t.indexOf(n._parent) == -1 && t.push(n._parent),
                n._parent.children.splice(n._parent.children.indexOf(n), 1),
                n._parent = null,
                s(n)) : n._animation && n._animation.effect == n && (n._animation.cancel(),
                n._animation.effect = new KeyframeEffect(null,[]),
                n._animation._callback && (n._animation._callback._animation = null),
                n._animation._rebuildUnderlyingAnimation(),
                s(n))
            }
            for (i = 0; i < t.length; i++)
                t[i]._rebuild()
        }
        ,
        t.KeyframeEffect = function(t, i, r, s) {
            return this.target = t,
            this._parent = null,
            r = e.numericTimingToObject(r),
            this._timingInput = e.cloneTimingInput(r),
            this._timing = e.normalizeTimingInput(r),
            this.timing = e.makeTiming(r, !1, this),
            this.timing._effect = this,
            "function" == typeof i ? (e.deprecated("Custom KeyframeEffect", "2015-06-22", "Use KeyframeEffect.onsample instead."),
            this._normalizedKeyframes = i) : this._normalizedKeyframes = new n(i),
            this._keyframes = i,
            this.activeDuration = e.calculateActiveDuration(this._timing),
            this._id = s,
            this
        }
        ,
        t.KeyframeEffect.prototype = {
            getFrames: function() {
                return "function" == typeof this._normalizedKeyframes ? this._normalizedKeyframes : this._normalizedKeyframes._frames
            },
            set onsample(e) {
                if ("function" == typeof this.getFrames())
                    throw new Error("Setting onsample on custom effect KeyframeEffect is not supported.");
                this._onsample = e,
                this._animation && this._animation._rebuildUnderlyingAnimation()
            },
            get parent() {
                return this._parent
            },
            clone: function() {
                if ("function" == typeof this.getFrames())
                    throw new Error("Cloning custom effects is not supported.");
                var t = new KeyframeEffect(this.target,[],e.cloneTimingInput(this._timingInput),this._id);
                return t._normalizedKeyframes = this._normalizedKeyframes,
                t._keyframes = this._keyframes,
                t
            },
            remove: function() {
                t.removeMulti([this])
            }
        };
        var o = Element.prototype.animate;
        Element.prototype.animate = function(e, i) {
            var n = "";
            return i && i.id && (n = i.id),
            t.timeline._play(new t.KeyframeEffect(this,e,i,n))
        }
        ;
        var a = document.createElementNS("http://www.w3.org/1999/xhtml", "div");
        t.newUnderlyingAnimationForKeyframeEffect = function(e) {
            if (e) {
                var t = e.target || a
                  , i = e._keyframes;
                "function" == typeof i && (i = []);
                var n = e._timingInput;
                n.id = e._id
            } else
                var t = a
                  , i = []
                  , n = 0;
            return o.apply(t, [i, n])
        }
        ,
        t.bindAnimationForKeyframeEffect = function(e) {
            e.effect && "function" == typeof e.effect._normalizedKeyframes && t.bindAnimationForCustomEffect(e)
        }
        ;
        var c = [];
        t.awaitStartTime = function(e) {
            null === e.startTime && e._isGroup && (0 == c.length && requestAnimationFrame(r),
            c.push(e))
        }
        ;
        var l = window.getComputedStyle;
        Object.defineProperty(window, "getComputedStyle", {
            configurable: !0,
            enumerable: !0,
            value: function() {
                t.timeline._updateAnimationsPromises();
                var e = l.apply(this, arguments);
                return r() && (e = l.apply(this, arguments)),
                t.timeline._updateAnimationsPromises(),
                e
            }
        }),
        window.KeyframeEffect = t.KeyframeEffect,
        window.Element.prototype.getAnimations = function() {
            return document.timeline.getAnimations().filter(function(e) {
                return null !== e.effect && e.effect.target == this
            }
            .bind(this))
        }
    }(c, e, f),
    function(e, t, i) {
        function n(e) {
            e._registered || (e._registered = !0,
            o.push(e),
            a || (a = !0,
            requestAnimationFrame(r)))
        }
        function r(e) {
            var t = o;
            o = [],
            t.sort(function(e, t) {
                return e._sequenceNumber - t._sequenceNumber
            }),
            t = t.filter(function(e) {
                e();
                var t = e._animation ? e._animation.playState : "idle";
                return "running" != t && "pending" != t && (e._registered = !1),
                e._registered
            }),
            o.push.apply(o, t),
            o.length ? (a = !0,
            requestAnimationFrame(r)) : a = !1
        }
        var s = (document.createElementNS("http://www.w3.org/1999/xhtml", "div"),
        0);
        t.bindAnimationForCustomEffect = function(t) {
            var i, r = t.effect.target, o = "function" == typeof t.effect.getFrames();
            i = o ? t.effect.getFrames() : t.effect._onsample;
            var a = t.effect.timing
              , c = null;
            a = e.normalizeTimingInput(a);
            var l = function() {
                var n = l._animation ? l._animation.currentTime : null;
                null !== n && (n = e.calculateIterationProgress(e.calculateActiveDuration(a), n, a),
                isNaN(n) && (n = null)),
                n !== c && (o ? i(n, r, t.effect) : i(n, t.effect, t.effect._animation)),
                c = n
            };
            l._animation = t,
            l._registered = !1,
            l._sequenceNumber = s++,
            t._callback = l,
            n(l)
        }
        ;
        var o = []
          , a = !1;
        t.Animation.prototype._register = function() {
            this._callback && n(this._callback)
        }
    }(c, e, f),
    function(e, t, i) {
        function n(e) {
            return e._timing.delay + e.activeDuration + e._timing.endDelay
        }
        function r(t, i, n) {
            this._id = n,
            this._parent = null,
            this.children = t || [],
            this._reparent(this.children),
            i = e.numericTimingToObject(i),
            this._timingInput = e.cloneTimingInput(i),
            this._timing = e.normalizeTimingInput(i, !0),
            this.timing = e.makeTiming(i, !0, this),
            this.timing._effect = this,
            "auto" === this._timing.duration && (this._timing.duration = this.activeDuration)
        }
        window.SequenceEffect = function() {
            r.apply(this, arguments)
        }
        ,
        window.GroupEffect = function() {
            r.apply(this, arguments)
        }
        ,
        r.prototype = {
            _isAncestor: function(e) {
                for (var t = this; null !== t; ) {
                    if (t == e)
                        return !0;
                    t = t._parent
                }
                return !1
            },
            _rebuild: function() {
                for (var e = this; e; )
                    "auto" === e.timing.duration && (e._timing.duration = e.activeDuration),
                    e = e._parent;
                this._animation && this._animation._rebuildUnderlyingAnimation()
            },
            _reparent: function(e) {
                t.removeMulti(e);
                for (var i = 0; i < e.length; i++)
                    e[i]._parent = this
            },
            _putChild: function(e, t) {
                for (var i = t ? "Cannot append an ancestor or self" : "Cannot prepend an ancestor or self", n = 0; n < e.length; n++)
                    if (this._isAncestor(e[n]))
                        throw {
                            type: DOMException.HIERARCHY_REQUEST_ERR,
                            name: "HierarchyRequestError",
                            message: i
                        };
                for (var n = 0; n < e.length; n++)
                    t ? this.children.push(e[n]) : this.children.unshift(e[n]);
                this._reparent(e),
                this._rebuild()
            },
            append: function() {
                this._putChild(arguments, !0)
            },
            prepend: function() {
                this._putChild(arguments, !1)
            },
            get parent() {
                return this._parent
            },
            get firstChild() {
                return this.children.length ? this.children[0] : null
            },
            get lastChild() {
                return this.children.length ? this.children[this.children.length - 1] : null
            },
            clone: function() {
                for (var t = e.cloneTimingInput(this._timingInput), i = [], n = 0; n < this.children.length; n++)
                    i.push(this.children[n].clone());
                return this instanceof GroupEffect ? new GroupEffect(i,t) : new SequenceEffect(i,t)
            },
            remove: function() {
                t.removeMulti([this])
            }
        },
        window.SequenceEffect.prototype = Object.create(r.prototype),
        Object.defineProperty(window.SequenceEffect.prototype, "activeDuration", {
            get: function() {
                var e = 0;
                return this.children.forEach(function(t) {
                    e += n(t)
                }),
                Math.max(e, 0)
            }
        }),
        window.GroupEffect.prototype = Object.create(r.prototype),
        Object.defineProperty(window.GroupEffect.prototype, "activeDuration", {
            get: function() {
                var e = 0;
                return this.children.forEach(function(t) {
                    e = Math.max(e, n(t))
                }),
                e
            }
        }),
        t.newUnderlyingAnimationForGroup = function(i) {
            var n, r = null, s = function(t) {
                var i = n._wrapper;
                if (i && "pending" != i.playState && i.effect)
                    return null == t ? void i._removeChildAnimations() : 0 == t && i.playbackRate < 0 && (r || (r = e.normalizeTimingInput(i.effect.timing)),
                    t = e.calculateIterationProgress(e.calculateActiveDuration(r), -1, r),
                    isNaN(t) || null == t) ? (i._forEachChild(function(e) {
                        e.currentTime = -1
                    }),
                    void i._removeChildAnimations()) : void 0
            }, o = new KeyframeEffect(null,[],i._timing,i._id);
            return o.onsample = s,
            n = t.timeline._play(o)
        }
        ,
        t.bindAnimationForGroup = function(e) {
            e._animation._wrapper = e,
            e._isGroup = !0,
            t.awaitStartTime(e),
            e._constructChildAnimations(),
            e._setExternalAnimation(e)
        }
        ,
        t.groupChildDuration = n
    }(c, e, f),
    b["true"] = a
}({}, function() {
    return this
}()),
Polymer({
    is: "opaque-animation",
    behaviors: [Polymer.NeonAnimationBehavior],
    configure: function(e) {
        var t = e.node;
        return this._effect = new KeyframeEffect(t,[{
            opacity: "1"
        }, {
            opacity: "1"
        }],this.timingFromConfig(e)),
        t.style.opacity = "0",
        this._effect
    },
    complete: function(e) {
        e.node.style.opacity = ""
    }
}),
function() {
    "use strict";
    var e = {
        pageX: 0,
        pageY: 0
    }
      , t = null
      , i = [];
    Polymer.IronDropdownScrollManager = {
        get currentLockingElement() {
            return this._lockingElements[this._lockingElements.length - 1]
        },
        elementIsScrollLocked: function(e) {
            var t = this.currentLockingElement;
            if (void 0 === t)
                return !1;
            var i;
            return !!this._hasCachedLockedElement(e) || !this._hasCachedUnlockedElement(e) && (i = !!t && t !== e && !this._composedTreeContains(t, e),
            i ? this._lockedElementCache.push(e) : this._unlockedElementCache.push(e),
            i)
        },
        pushScrollLock: function(e) {
            this._lockingElements.indexOf(e) >= 0 || (0 === this._lockingElements.length && this._lockScrollInteractions(),
            this._lockingElements.push(e),
            this._lockedElementCache = [],
            this._unlockedElementCache = [])
        },
        removeScrollLock: function(e) {
            var t = this._lockingElements.indexOf(e);
            t !== -1 && (this._lockingElements.splice(t, 1),
            this._lockedElementCache = [],
            this._unlockedElementCache = [],
            0 === this._lockingElements.length && this._unlockScrollInteractions())
        },
        _lockingElements: [],
        _lockedElementCache: null,
        _unlockedElementCache: null,
        _hasCachedLockedElement: function(e) {
            return this._lockedElementCache.indexOf(e) > -1
        },
        _hasCachedUnlockedElement: function(e) {
            return this._unlockedElementCache.indexOf(e) > -1
        },
        _composedTreeContains: function(e, t) {
            var i, n, r, s;
            if (e.contains(t))
                return !0;
            for (i = Polymer.dom(e).querySelectorAll("content"),
            r = 0; r < i.length; ++r)
                for (n = Polymer.dom(i[r]).getDistributedNodes(),
                s = 0; s < n.length; ++s)
                    if (this._composedTreeContains(n[s], t))
                        return !0;
            return !1
        },
        _scrollInteractionHandler: function(t) {
            if (t.cancelable && this._shouldPreventScrolling(t) && t.preventDefault(),
            t.targetTouches) {
                var i = t.targetTouches[0];
                e.pageX = i.pageX,
                e.pageY = i.pageY
            }
        },
        _lockScrollInteractions: function() {
            this._boundScrollHandler = this._boundScrollHandler || this._scrollInteractionHandler.bind(this),
            document.addEventListener("wheel", this._boundScrollHandler, !0),
            document.addEventListener("mousewheel", this._boundScrollHandler, !0),
            document.addEventListener("DOMMouseScroll", this._boundScrollHandler, !0),
            document.addEventListener("touchstart", this._boundScrollHandler, !0),
            document.addEventListener("touchmove", this._boundScrollHandler, !0)
        },
        _unlockScrollInteractions: function() {
            document.removeEventListener("wheel", this._boundScrollHandler, !0),
            document.removeEventListener("mousewheel", this._boundScrollHandler, !0),
            document.removeEventListener("DOMMouseScroll", this._boundScrollHandler, !0),
            document.removeEventListener("touchstart", this._boundScrollHandler, !0),
            document.removeEventListener("touchmove", this._boundScrollHandler, !0)
        },
        _shouldPreventScrolling: function(e) {
            var n = Polymer.dom(e).rootTarget;
            if ("touchmove" !== e.type && t !== n && (t = n,
            i = this._getScrollableNodes(Polymer.dom(e).path)),
            !i.length)
                return !0;
            if ("touchstart" === e.type)
                return !1;
            var r = this._getScrollInfo(e);
            return !this._getScrollingNode(i, r.deltaX, r.deltaY)
        },
        _getScrollableNodes: function(e) {
            for (var t = [], i = e.indexOf(this.currentLockingElement), n = 0; n <= i; n++) {
                var r = e[n];
                if (11 !== r.nodeType) {
                    var s = r.style;
                    "scroll" !== s.overflow && "auto" !== s.overflow && (s = window.getComputedStyle(r)),
                    "scroll" !== s.overflow && "auto" !== s.overflow || t.push(r)
                }
            }
            return t
        },
        _getScrollingNode: function(e, t, i) {
            if (t || i)
                for (var n = Math.abs(i) >= Math.abs(t), r = 0; r < e.length; r++) {
                    var s = e[r]
                      , o = !1;
                    if (o = n ? i < 0 ? s.scrollTop > 0 : s.scrollTop < s.scrollHeight - s.clientHeight : t < 0 ? s.scrollLeft > 0 : s.scrollLeft < s.scrollWidth - s.clientWidth)
                        return s
                }
        },
        _getScrollInfo: function(t) {
            var i = {
                deltaX: t.deltaX,
                deltaY: t.deltaY
            };
            if ("deltaX"in t)
                ;
            else if ("wheelDeltaX"in t)
                i.deltaX = -t.wheelDeltaX,
                i.deltaY = -t.wheelDeltaY;
            else if ("axis"in t)
                i.deltaX = 1 === t.axis ? t.detail : 0,
                i.deltaY = 2 === t.axis ? t.detail : 0;
            else if (t.targetTouches) {
                var n = t.targetTouches[0];
                i.deltaX = e.pageX - n.pageX,
                i.deltaY = e.pageY - n.pageY
            }
            return i
        }
    }
}(),
function() {
    "use strict";
    Polymer({
        is: "iron-dropdown",
        behaviors: [Polymer.IronControlState, Polymer.IronA11yKeysBehavior, Polymer.IronOverlayBehavior, Polymer.NeonAnimationRunnerBehavior],
        properties: {
            horizontalAlign: {
                type: String,
                value: "left",
                reflectToAttribute: !0
            },
            verticalAlign: {
                type: String,
                value: "top",
                reflectToAttribute: !0
            },
            openAnimationConfig: {
                type: Object
            },
            closeAnimationConfig: {
                type: Object
            },
            focusTarget: {
                type: Object
            },
            noAnimations: {
                type: Boolean,
                value: !1
            },
            allowOutsideScroll: {
                type: Boolean,
                value: !1
            },
            _boundOnCaptureScroll: {
                type: Function,
                value: function() {
                    return this._onCaptureScroll.bind(this)
                }
            }
        },
        listeners: {
            "neon-animation-finish": "_onNeonAnimationFinish"
        },
        observers: ["_updateOverlayPosition(positionTarget, verticalAlign, horizontalAlign, verticalOffset, horizontalOffset)"],
        get containedElement() {
            return Polymer.dom(this.$.content).getDistributedNodes()[0]
        },
        get _focusTarget() {
            return this.focusTarget || this.containedElement
        },
        ready: function() {
            this._scrollTop = 0,
            this._scrollLeft = 0,
            this._refitOnScrollRAF = null
        },
        attached: function() {
            this.sizingTarget && this.sizingTarget !== this || (this.sizingTarget = this.containedElement)
        },
        detached: function() {
            this.cancelAnimation(),
            document.removeEventListener("scroll", this._boundOnCaptureScroll),
            Polymer.IronDropdownScrollManager.removeScrollLock(this)
        },
        _openedChanged: function() {
            this.opened && this.disabled ? this.cancel() : (this.cancelAnimation(),
            this._updateAnimationConfig(),
            this._saveScrollPosition(),
            this.opened ? (document.addEventListener("scroll", this._boundOnCaptureScroll),
            !this.allowOutsideScroll && Polymer.IronDropdownScrollManager.pushScrollLock(this)) : (document.removeEventListener("scroll", this._boundOnCaptureScroll),
            Polymer.IronDropdownScrollManager.removeScrollLock(this)),
            Polymer.IronOverlayBehaviorImpl._openedChanged.apply(this, arguments))
        },
        _renderOpened: function() {
            !this.noAnimations && this.animationConfig.open ? (this.$.contentWrapper.classList.add("animating"),
            this.playAnimation("open")) : Polymer.IronOverlayBehaviorImpl._renderOpened.apply(this, arguments)
        },
        _renderClosed: function() {
            !this.noAnimations && this.animationConfig.close ? (this.$.contentWrapper.classList.add("animating"),
            this.playAnimation("close")) : Polymer.IronOverlayBehaviorImpl._renderClosed.apply(this, arguments)
        },
        _onNeonAnimationFinish: function() {
            this.$.contentWrapper.classList.remove("animating"),
            this.opened ? this._finishRenderOpened() : this._finishRenderClosed()
        },
        _onCaptureScroll: function() {
            this.allowOutsideScroll ? (this._refitOnScrollRAF && window.cancelAnimationFrame(this._refitOnScrollRAF),
            this._refitOnScrollRAF = window.requestAnimationFrame(this.refit.bind(this))) : this._restoreScrollPosition()
        },
        _saveScrollPosition: function() {
            document.scrollingElement ? (this._scrollTop = document.scrollingElement.scrollTop,
            this._scrollLeft = document.scrollingElement.scrollLeft) : (this._scrollTop = Math.max(document.documentElement.scrollTop, document.body.scrollTop),
            this._scrollLeft = Math.max(document.documentElement.scrollLeft, document.body.scrollLeft))
        },
        _restoreScrollPosition: function() {
            document.scrollingElement ? (document.scrollingElement.scrollTop = this._scrollTop,
            document.scrollingElement.scrollLeft = this._scrollLeft) : (document.documentElement.scrollTop = this._scrollTop,
            document.documentElement.scrollLeft = this._scrollLeft,
            document.body.scrollTop = this._scrollTop,
            document.body.scrollLeft = this._scrollLeft)
        },
        _updateAnimationConfig: function() {
            for (var e = (this.openAnimationConfig || []).concat(this.closeAnimationConfig || []), t = 0; t < e.length; t++)
                e[t].node = this.containedElement;
            this.animationConfig = {
                open: this.openAnimationConfig,
                close: this.closeAnimationConfig
            }
        },
        _updateOverlayPosition: function() {
            this.isAttached && this.notifyResize()
        },
        _applyFocus: function() {
            var e = this.focusTarget || this.containedElement;
            e && this.opened && !this.noAutoFocus ? e.focus() : Polymer.IronOverlayBehaviorImpl._applyFocus.apply(this, arguments)
        }
    })
}(),
Polymer({
    is: "iron-icon",
    properties: {
        icon: {
            type: String
        },
        theme: {
            type: String
        },
        src: {
            type: String
        },
        _meta: {
            value: Polymer.Base.create("iron-meta", {
                type: "iconset"
            })
        }
    },
    observers: ["_updateIcon(_meta, isAttached)", "_updateIcon(theme, isAttached)", "_srcChanged(src, isAttached)", "_iconChanged(icon, isAttached)"],
    _DEFAULT_ICONSET: "icons",
    _iconChanged: function(e) {
        var t = (e || "").split(":");
        this._iconName = t.pop(),
        this._iconsetName = t.pop() || this._DEFAULT_ICONSET,
        this._updateIcon()
    },
    _srcChanged: function(e) {
        this._updateIcon()
    },
    _usesIconset: function() {
        return this.icon || !this.src
    },
    _updateIcon: function() {
        this._usesIconset() ? (this._img && this._img.parentNode && Polymer.dom(this.root).removeChild(this._img),
        "" === this._iconName ? this._iconset && this._iconset.removeIcon(this) : this._iconsetName && this._meta && (this._iconset = this._meta.byKey(this._iconsetName),
        this._iconset ? (this._iconset.applyIcon(this, this._iconName, this.theme),
        this.unlisten(window, "iron-iconset-added", "_updateIcon")) : this.listen(window, "iron-iconset-added", "_updateIcon"))) : (this._iconset && this._iconset.removeIcon(this),
        this._img || (this._img = document.createElement("img"),
        this._img.style.width = "100%",
        this._img.style.height = "100%",
        this._img.draggable = !1),
        this._img.src = this.src,
        Polymer.dom(this.root).appendChild(this._img))
    }
}),
Polymer.IronValidatableBehaviorMeta = null,
Polymer.IronValidatableBehavior = {
    properties: {
        validator: {
            type: String
        },
        invalid: {
            notify: !0,
            reflectToAttribute: !0,
            type: Boolean,
            value: !1
        },
        _validatorMeta: {
            type: Object
        },
        validatorType: {
            type: String,
            value: "validator"
        },
        _validator: {
            type: Object,
            computed: "__computeValidator(validator)"
        }
    },
    observers: ["_invalidChanged(invalid)"],
    registered: function() {
        Polymer.IronValidatableBehaviorMeta = new Polymer.IronMeta({
            type: "validator"
        })
    },
    _invalidChanged: function() {
        this.invalid ? this.setAttribute("aria-invalid", "true") : this.removeAttribute("aria-invalid")
    },
    hasValidator: function() {
        return null != this._validator
    },
    validate: function(e) {
        return this.invalid = !this._getValidity(e),
        !this.invalid
    },
    _getValidity: function(e) {
        return !this.hasValidator() || this._validator.validate(e)
    },
    __computeValidator: function() {
        return Polymer.IronValidatableBehaviorMeta && Polymer.IronValidatableBehaviorMeta.byKey(this.validator)
    }
},
Polymer({
    is: "iron-input",
    "extends": "input",
    behaviors: [Polymer.IronValidatableBehavior],
    properties: {
        bindValue: {
            observer: "_bindValueChanged",
            type: String
        },
        preventInvalidInput: {
            type: Boolean
        },
        allowedPattern: {
            type: String,
            observer: "_allowedPatternChanged"
        },
        _previousValidInput: {
            type: String,
            value: ""
        },
        _patternAlreadyChecked: {
            type: Boolean,
            value: !1
        }
    },
    listeners: {
        input: "_onInput",
        keypress: "_onKeypress"
    },
    registered: function() {
        this._canDispatchEventOnDisabled() || (this._origDispatchEvent = this.dispatchEvent,
        this.dispatchEvent = this._dispatchEventFirefoxIE)
    },
    created: function() {
        Polymer.IronA11yAnnouncer.requestAvailability()
    },
    _canDispatchEventOnDisabled: function() {
        var e = document.createElement("input")
          , t = !1;
        e.disabled = !0,
        e.addEventListener("feature-check-dispatch-event", function() {
            t = !0
        });
        try {
            e.dispatchEvent(new Event("feature-check-dispatch-event"))
        } catch (i) {}
        return t
    },
    _dispatchEventFirefoxIE: function() {
        var e = this.disabled;
        this.disabled = !1,
        this._origDispatchEvent.apply(this, arguments),
        this.disabled = e
    },
    get _patternRegExp() {
        var e;
        if (this.allowedPattern)
            e = new RegExp(this.allowedPattern);
        else
            switch (this.type) {
            case "number":
                e = /[0-9.,e-]/
            }
        return e
    },
    ready: function() {
        this.bindValue = this.value
    },
    _bindValueChanged: function() {
        this.value !== this.bindValue && (this.value = this.bindValue || 0 === this.bindValue || this.bindValue === !1 ? this.bindValue : ""),
        this.fire("bind-value-changed", {
            value: this.bindValue
        })
    },
    _allowedPatternChanged: function() {
        this.preventInvalidInput = !!this.allowedPattern
    },
    _onInput: function() {
        if (this.preventInvalidInput && !this._patternAlreadyChecked) {
            var e = this._checkPatternValidity();
            e || (this._announceInvalidCharacter("Invalid string of characters not entered."),
            this.value = this._previousValidInput)
        }
        this.bindValue = this.value,
        this._previousValidInput = this.value,
        this._patternAlreadyChecked = !1
    },
    _isPrintable: function(e) {
        var t = 8 == e.keyCode || 9 == e.keyCode || 13 == e.keyCode || 27 == e.keyCode
          , i = 19 == e.keyCode || 20 == e.keyCode || 45 == e.keyCode || 46 == e.keyCode || 144 == e.keyCode || 145 == e.keyCode || e.keyCode > 32 && e.keyCode < 41 || e.keyCode > 111 && e.keyCode < 124;
        return !(t || 0 == e.charCode && i)
    },
    _onKeypress: function(e) {
        if (this.preventInvalidInput || "number" === this.type) {
            var t = this._patternRegExp;
            if (t && !(e.metaKey || e.ctrlKey || e.altKey)) {
                this._patternAlreadyChecked = !0;
                var i = String.fromCharCode(e.charCode);
                this._isPrintable(e) && !t.test(i) && (e.preventDefault(),
                this._announceInvalidCharacter("Invalid character " + i + " not entered."))
            }
        }
    },
    _checkPatternValidity: function() {
        var e = this._patternRegExp;
        if (!e)
            return !0;
        for (var t = 0; t < this.value.length; t++)
            if (!e.test(this.value[t]))
                return !1;
        return !0
    },
    validate: function() {
        var e = this.checkValidity();
        return e && (this.required && "" === this.value ? e = !1 : this.hasValidator() && (e = Polymer.IronValidatableBehavior.validate.call(this, this.value))),
        this.invalid = !e,
        this.fire("iron-input-validate"),
        e
    },
    _announceInvalidCharacter: function(e) {
        this.fire("iron-announce", {
            text: e
        })
    }
}),
Polymer({
    is: "iron-localstorage",
    properties: {
        name: {
            type: String,
            value: ""
        },
        value: {
            type: Object,
            notify: !0
        },
        useRaw: {
            type: Boolean,
            value: !1
        },
        autoSaveDisabled: {
            type: Boolean,
            value: !1
        },
        errorMessage: {
            type: String,
            notify: !0
        },
        _loaded: {
            type: Boolean,
            value: !1
        }
    },
    observers: ["_debounceReload(name,useRaw)", "_trySaveValue(autoSaveDisabled)", "_trySaveValue(value.*)"],
    ready: function() {
        this._boundHandleStorage = this._handleStorage.bind(this)
    },
    attached: function() {
        window.addEventListener("storage", this._boundHandleStorage)
    },
    detached: function() {
        window.removeEventListener("storage", this._boundHandleStorage)
    },
    _handleStorage: function(e) {
        e.key == this.name && this._load(!0)
    },
    _trySaveValue: function() {
        this._doNotSave || this._loaded && !this.autoSaveDisabled && this.debounce("save", this.save)
    },
    _debounceReload: function() {
        this.debounce("reload", this.reload)
    },
    reload: function() {
        this._loaded = !1,
        this._load()
    },
    _load: function(e) {
        try {
            var t = window.localStorage.getItem(this.name)
        } catch (i) {
            this.errorMessage = i.message,
            this._error("Could not save to localStorage.  Try enabling cookies for this page.", i)
        }
        if (null === t)
            this._loaded = !0,
            this._doNotSave = !0,
            this.value = null,
            this._doNotSave = !1,
            this.fire("iron-localstorage-load-empty", {
                externalChange: e
            });
        else {
            if (!this.useRaw)
                try {
                    t = JSON.parse(t)
                } catch (n) {
                    this.errorMessage = "Could not parse local storage value",
                    Polymer.Base._error("could not parse local storage value", t),
                    t = null
                }
            this._loaded = !0,
            this._doNotSave = !0,
            this.value = t,
            this._doNotSave = !1,
            this.fire("iron-localstorage-load", {
                externalChange: e
            })
        }
    },
    save: function() {
        var e = this.useRaw ? this.value : JSON.stringify(this.value);
        try {
            null === this.value || void 0 === this.value ? window.localStorage.removeItem(this.name) : window.localStorage.setItem(this.name, e)
        } catch (t) {
            this.errorMessage = t.message,
            Polymer.Base._error("Could not save to localStorage. Incognito mode may be blocking this action", t)
        }
    }
}),
Polymer.IronSelection = function(e) {
    this.selection = [],
    this.selectCallback = e
}
,
Polymer.IronSelection.prototype = {
    get: function() {
        return this.multi ? this.selection.slice() : this.selection[0]
    },
    clear: function(e) {
        this.selection.slice().forEach(function(t) {
            (!e || e.indexOf(t) < 0) && this.setItemSelected(t, !1)
        }, this)
    },
    isSelected: function(e) {
        return this.selection.indexOf(e) >= 0
    },
    setItemSelected: function(e, t) {
        if (null != e && t !== this.isSelected(e)) {
            if (t)
                this.selection.push(e);
            else {
                var i = this.selection.indexOf(e);
                i >= 0 && this.selection.splice(i, 1)
            }
            this.selectCallback && this.selectCallback(e, t)
        }
    },
    select: function(e) {
        this.multi ? this.toggle(e) : this.get() !== e && (this.setItemSelected(this.get(), !1),
        this.setItemSelected(e, !0))
    },
    toggle: function(e) {
        this.setItemSelected(e, !this.isSelected(e))
    }
},
Polymer.IronSelectableBehavior = {
    properties: {
        attrForSelected: {
            type: String,
            value: null
        },
        selected: {
            type: String,
            notify: !0
        },
        selectedItem: {
            type: Object,
            readOnly: !0,
            notify: !0
        },
        activateEvent: {
            type: String,
            value: "tap",
            observer: "_activateEventChanged"
        },
        selectable: String,
        selectedClass: {
            type: String,
            value: "iron-selected"
        },
        selectedAttribute: {
            type: String,
            value: null
        },
        fallbackSelection: {
            type: String,
            value: null
        },
        items: {
            type: Array,
            readOnly: !0,
            notify: !0,
            value: function() {
                return []
            }
        },
        _excludedLocalNames: {
            type: Object,
            value: function() {
                return {
                    template: 1
                }
            }
        }
    },
    observers: ["_updateAttrForSelected(attrForSelected)", "_updateSelected(selected)", "_checkFallback(fallbackSelection)"],
    created: function() {
        this._bindFilterItem = this._filterItem.bind(this),
        this._selection = new Polymer.IronSelection(this._applySelection.bind(this))
    },
    attached: function() {
        this._observer = this._observeItems(this),
        this._updateItems(),
        this._shouldUpdateSelection || this._updateSelected(),
        this._addListener(this.activateEvent)
    },
    detached: function() {
        this._observer && Polymer.dom(this).unobserveNodes(this._observer),
        this._removeListener(this.activateEvent)
    },
    indexOf: function(e) {
        return this.items.indexOf(e)
    },
    select: function(e) {
        this.selected = e
    },
    selectPrevious: function() {
        var e = this.items.length
          , t = (Number(this._valueToIndex(this.selected)) - 1 + e) % e;
        this.selected = this._indexToValue(t)
    },
    selectNext: function() {
        var e = (Number(this._valueToIndex(this.selected)) + 1) % this.items.length;
        this.selected = this._indexToValue(e)
    },
    selectIndex: function(e) {
        this.select(this._indexToValue(e))
    },
    forceSynchronousItemUpdate: function() {
        this._updateItems()
    },
    get _shouldUpdateSelection() {
        return null != this.selected
    },
    _checkFallback: function() {
        this._shouldUpdateSelection && this._updateSelected()
    },
    _addListener: function(e) {
        this.listen(this, e, "_activateHandler")
    },
    _removeListener: function(e) {
        this.unlisten(this, e, "_activateHandler")
    },
    _activateEventChanged: function(e, t) {
        this._removeListener(t),
        this._addListener(e)
    },
    _updateItems: function() {
        var e = Polymer.dom(this).queryDistributedElements(this.selectable || "*");
        e = Array.prototype.filter.call(e, this._bindFilterItem),
        this._setItems(e)
    },
    _updateAttrForSelected: function() {
        this._shouldUpdateSelection && (this.selected = this._indexToValue(this.indexOf(this.selectedItem)))
    },
    _updateSelected: function() {
        this._selectSelected(this.selected)
    },
    _selectSelected: function(e) {
        this._selection.select(this._valueToItem(this.selected)),
        this.fallbackSelection && this.items.length && void 0 === this._selection.get() && (this.selected = this.fallbackSelection)
    },
    _filterItem: function(e) {
        return !this._excludedLocalNames[e.localName]
    },
    _valueToItem: function(e) {
        return null == e ? null : this.items[this._valueToIndex(e)]
    },
    _valueToIndex: function(e) {
        if (!this.attrForSelected)
            return Number(e);
        for (var t, i = 0; t = this.items[i]; i++)
            if (this._valueForItem(t) == e)
                return i
    },
    _indexToValue: function(e) {
        if (!this.attrForSelected)
            return e;
        var t = this.items[e];
        return t ? this._valueForItem(t) : void 0
    },
    _valueForItem: function(e) {
        var t = e[Polymer.CaseMap.dashToCamelCase(this.attrForSelected)];
        return void 0 != t ? t : e.getAttribute(this.attrForSelected)
    },
    _applySelection: function(e, t) {
        this.selectedClass && this.toggleClass(this.selectedClass, t, e),
        this.selectedAttribute && this.toggleAttribute(this.selectedAttribute, t, e),
        this._selectionChange(),
        this.fire("iron-" + (t ? "select" : "deselect"), {
            item: e
        })
    },
    _selectionChange: function() {
        this._setSelectedItem(this._selection.get())
    },
    _observeItems: function(e) {
        return Polymer.dom(e).observeNodes(function(e) {
            this._updateItems(),
            this._shouldUpdateSelection && this._updateSelected(),
            this.fire("iron-items-changed", e, {
                bubbles: !1,
                cancelable: !1
            })
        })
    },
    _activateHandler: function(e) {
        for (var t = e.target, i = this.items; t && t != this; ) {
            var n = i.indexOf(t);
            if (n >= 0) {
                var r = this._indexToValue(n);
                return void this._itemActivate(r, t)
            }
            t = t.parentNode
        }
    },
    _itemActivate: function(e, t) {
        this.fire("iron-activate", {
            selected: e,
            item: t
        }, {
            cancelable: !0
        }).defaultPrevented || this.select(e)
    }
},
Polymer({
    is: "iron-pages",
    behaviors: [Polymer.IronResizableBehavior, Polymer.IronSelectableBehavior],
    properties: {
        activateEvent: {
            type: String,
            value: null
        }
    },
    observers: ["_selectedPageChanged(selected)"],
    _selectedPageChanged: function(e, t) {
        this.async(this.notifyResize)
    }
}),
Polymer.IronRangeBehavior = {
    properties: {
        value: {
            type: Number,
            value: 0,
            notify: !0,
            reflectToAttribute: !0
        },
        min: {
            type: Number,
            value: 0,
            notify: !0
        },
        max: {
            type: Number,
            value: 100,
            notify: !0
        },
        step: {
            type: Number,
            value: 1,
            notify: !0
        },
        ratio: {
            type: Number,
            value: 0,
            readOnly: !0,
            notify: !0
        }
    },
    observers: ["_update(value, min, max, step)"],
    _calcRatio: function(e) {
        return (this._clampValue(e) - this.min) / (this.max - this.min)
    },
    _clampValue: function(e) {
        return Math.min(this.max, Math.max(this.min, this._calcStep(e)))
    },
    _calcStep: function(e) {
        if (e = parseFloat(e),
        !this.step)
            return e;
        var t = Math.round((e - this.min) / this.step);
        return this.step < 1 ? t / (1 / this.step) + this.min : t * this.step + this.min
    },
    _validateValue: function() {
        var e = this._clampValue(this.value);
        return this.value = this.oldValue = isNaN(e) ? this.oldValue : e,
        this.value !== e
    },
    _update: function() {
        this._validateValue(),
        this._setRatio(100 * this._calcRatio(this.value))
    }
},
function() {
    function e(e, i) {
        var n = new CustomEvent("iron-signal-" + e,{
            bubbles: !1,
            detail: i
        });
        t.forEach(function(e) {
            e.dispatchEvent(n)
        })
    }
    Polymer({
        is: "iron-signals",
        attached: function() {
            t.push(this)
        },
        detached: function() {
            var e = t.indexOf(this);
            e >= 0 && t.splice(e, 1)
        }
    });
    var t = [];
    document.addEventListener("iron-signal", function(t) {
        e(t.detail.name, t.detail.data)
    })
}(),
Polymer.IronMultiSelectableBehaviorImpl = {
    properties: {
        multi: {
            type: Boolean,
            value: !1,
            observer: "multiChanged"
        },
        selectedValues: {
            type: Array,
            notify: !0
        },
        selectedItems: {
            type: Array,
            readOnly: !0,
            notify: !0
        }
    },
    observers: ["_updateSelected(selectedValues.splices)"],
    select: function(e) {
        this.multi ? this.selectedValues ? this._toggleSelected(e) : this.selectedValues = [e] : this.selected = e
    },
    multiChanged: function(e) {
        this._selection.multi = e
    },
    get _shouldUpdateSelection() {
        return null != this.selected || null != this.selectedValues && this.selectedValues.length
    },
    _updateAttrForSelected: function() {
        this.multi ? this._shouldUpdateSelection && (this.selectedValues = this.selectedItems.map(function(e) {
            return this._indexToValue(this.indexOf(e))
        }, this).filter(function(e) {
            return null != e
        }, this)) : Polymer.IronSelectableBehavior._updateAttrForSelected.apply(this)
    },
    _updateSelected: function() {
        this.multi ? this._selectMulti(this.selectedValues) : this._selectSelected(this.selected)
    },
    _selectMulti: function(e) {
        if (e) {
            var t = this._valuesToItems(e);
            this._selection.clear(t);
            for (var i = 0; i < t.length; i++)
                this._selection.setItemSelected(t[i], !0);
            if (this.fallbackSelection && this.items.length && !this._selection.get().length) {
                var n = this._valueToItem(this.fallbackSelection);
                n && (this.selectedValues = [this.fallbackSelection])
            }
        } else
            this._selection.clear()
    },
    _selectionChange: function() {
        var e = this._selection.get();
        this.multi ? this._setSelectedItems(e) : (this._setSelectedItems([e]),
        this._setSelectedItem(e))
    },
    _toggleSelected: function(e) {
        var t = this.selectedValues.indexOf(e)
          , i = t < 0;
        i ? this.push("selectedValues", e) : this.splice("selectedValues", t, 1)
    },
    _valuesToItems: function(e) {
        return null == e ? null : e.map(function(e) {
            return this._valueToItem(e)
        }, this)
    }
},
Polymer.IronMultiSelectableBehavior = [Polymer.IronSelectableBehavior, Polymer.IronMultiSelectableBehaviorImpl],
Polymer({
    is: "iron-selector",
    behaviors: [Polymer.IronMultiSelectableBehavior]
}),
function() {
    Polymer({
        is: "neon-animated-pages",
        behaviors: [Polymer.IronResizableBehavior, Polymer.IronSelectableBehavior, Polymer.NeonAnimationRunnerBehavior],
        properties: {
            activateEvent: {
                type: String,
                value: ""
            },
            animateInitialSelection: {
                type: Boolean,
                value: !1
            }
        },
        listeners: {
            "iron-select": "_onIronSelect",
            "neon-animation-finish": "_onNeonAnimationFinish"
        },
        _onIronSelect: function(e) {
            var t = e.detail.item;
            if (!(this.items.indexOf(t) < 0)) {
                var i = this._valueToItem(this._prevSelected) || !1;
                if (this._prevSelected = this.selected,
                !i && !this.animateInitialSelection)
                    return void this._completeSelectedChanged();
                this.animationConfig = [],
                this.entryAnimation ? this.animationConfig.push({
                    name: this.entryAnimation,
                    node: t
                }) : t.getAnimationConfig && this.animationConfig.push({
                    animatable: t,
                    type: "entry"
                }),
                i && (i.classList.contains("neon-animating") && (this._squelchNextFinishEvent = !0,
                this.cancelAnimation(),
                this._completeSelectedChanged(),
                this._squelchNextFinishEvent = !1),
                this.exitAnimation ? this.animationConfig.push({
                    name: this.exitAnimation,
                    node: i
                }) : i.getAnimationConfig && this.animationConfig.push({
                    animatable: i,
                    type: "exit"
                }),
                i.classList.add("neon-animating")),
                t.classList.add("neon-animating"),
                this.animationConfig.length >= 1 ? this.isAttached ? this.playAnimation(void 0, {
                    fromPage: i,
                    toPage: t
                }) : this.async(function() {
                    this.playAnimation(void 0, {
                        fromPage: null,
                        toPage: t
                    })
                }) : this._completeSelectedChanged(i, t)
            }
        },
        _completeSelectedChanged: function(e, t) {
            if (t && t.classList.remove("neon-animating"),
            e && e.classList.remove("neon-animating"),
            !t || !e)
                for (var i, n = Polymer.dom(this.$.content).getDistributedNodes(), r = 0; i = n[r]; r++)
                    i.classList && i.classList.remove("neon-animating");
            this.async(this._notifyPageResize)
        },
        _onNeonAnimationFinish: function(e) {
            return this._squelchNextFinishEvent ? void (this._squelchNextFinishEvent = !1) : void this._completeSelectedChanged(e.detail.fromPage, e.detail.toPage)
        },
        _notifyPageResize: function() {
            var e = this.selectedItem || this._valueToItem(this.selected);
            this.resizerShouldNotify = function(t) {
                return t == e
            }
            ,
            this.notifyResize()
        }
    })
}(),
Polymer({
    is: "neon-animatable",
    behaviors: [Polymer.NeonAnimatableBehavior, Polymer.IronResizableBehavior]
}),
Polymer({
    is: "cascaded-animation",
    behaviors: [Polymer.NeonAnimationBehavior],
    configure: function(e) {
        this._animations = [];
        var t = e.nodes
          , i = []
          , n = e.nodeDelay || 50;
        e.timing = e.timing || {},
        e.timing.delay = e.timing.delay || 0;
        for (var r, s, o = e.timing.delay, a = 0; s = t[a]; a++) {
            e.timing.delay += n,
            e.node = s;
            var c = document.createElement(e.animation);
            if (!c.isNeonAnimation) {
                console.warn(this.is + ":", e.animation, "not found!"),
                r = !0;
                break
            }
            var l = c.configure(e);
            this._animations.push(c),
            i.push(l)
        }
        if (e.timing.delay = o,
        e.node = null,
        !r)
            return this._effect = new GroupEffect(i),
            this._effect
    },
    complete: function() {
        for (var e, t = 0; e = this._animations[t]; t++)
            e.complete(e.config)
    }
}),
Polymer({
    is: "fade-in-animation",
    behaviors: [Polymer.NeonAnimationBehavior],
    configure: function(e) {
        var t = e.node;
        return this._effect = new KeyframeEffect(t,[{
            opacity: "0"
        }, {
            opacity: "1"
        }],this.timingFromConfig(e)),
        this._effect
    }
}),
Polymer({
    is: "fade-out-animation",
    behaviors: [Polymer.NeonAnimationBehavior],
    configure: function(e) {
        var t = e.node;
        return this._effect = new KeyframeEffect(t,[{
            opacity: "1"
        }, {
            opacity: "0"
        }],this.timingFromConfig(e)),
        this._effect
    }
}),
Polymer.NeonSharedElementAnimationBehaviorImpl = {
    properties: {
        sharedElements: {
            type: Object
        }
    },
    findSharedElements: function(e) {
        var t = e.fromPage
          , i = e.toPage;
        if (!t || !i)
            return console.warn(this.is + ":", t ? "toPage" : "fromPage", "is undefined!"),
            null;
        if (!t.sharedElements || !i.sharedElements)
            return console.warn(this.is + ":", "sharedElements are undefined for", t.sharedElements ? i : t),
            null;
        var n = t.sharedElements[e.id]
          , r = i.sharedElements[e.id];
        return n && r ? (this.sharedElements = {
            from: n,
            to: r
        },
        this.sharedElements) : (console.warn(this.is + ":", "sharedElement with id", e.id, "not found in", n ? i : t),
        null)
    }
},
Polymer.NeonSharedElementAnimationBehavior = [Polymer.NeonAnimationBehavior, Polymer.NeonSharedElementAnimationBehaviorImpl],
Polymer({
    is: "hero-animation",
    behaviors: [Polymer.NeonSharedElementAnimationBehavior],
    configure: function(e) {
        var t = this.findSharedElements(e);
        if (t) {
            var i = t.from.getBoundingClientRect()
              , n = t.to.getBoundingClientRect()
              , r = i.left - n.left
              , s = i.top - n.top
              , o = i.width / n.width
              , a = i.height / n.height;
            return this._effect = new KeyframeEffect(t.to,[{
                transform: "translate(" + r + "px," + s + "px) scale(" + o + "," + a + ")"
            }, {
                transform: "none"
            }],this.timingFromConfig(e)),
            this.setPrefixedProperty(t.to, "transformOrigin", "0 0"),
            t.to.style.zIndex = 1e4,
            t.from.style.visibility = "hidden",
            this._effect
        }
    },
    complete: function(e) {
        var t = this.findSharedElements(e);
        return t ? (t.to.style.zIndex = "",
        void (t.from.style.visibility = "")) : null
    }
}),
Polymer({
    is: "ripple-animation",
    behaviors: [Polymer.NeonSharedElementAnimationBehavior],
    configure: function(e) {
        var t = this.findSharedElements(e);
        if (!t)
            return null;
        var i, n, r = t.to.getBoundingClientRect();
        if (e.gesture)
            i = e.gesture.x - (r.left + r.width / 2),
            n = e.gesture.y - (r.top + r.height / 2);
        else {
            var s = t.from.getBoundingClientRect();
            i = s.left + s.width / 2 - (r.left + r.width / 2),
            n = s.top + s.height / 2 - (r.top + r.height / 2)
        }
        var o = "translate(" + i + "px," + n + "px)"
          , a = Math.max(r.width + 2 * Math.abs(i), r.height + 2 * Math.abs(n))
          , c = Math.sqrt(2 * a * a)
          , l = c / r.width
          , h = c / r.height
          , u = "scale(" + l + "," + h + ")";
        return this._effect = new KeyframeEffect(t.to,[{
            transform: o + " scale(0)"
        }, {
            transform: o + " " + u
        }],this.timingFromConfig(e)),
        this.setPrefixedProperty(t.to, "transformOrigin", "50% 50%"),
        t.to.style.borderRadius = "50%",
        this._effect
    },
    complete: function() {
        this.sharedElements && (this.setPrefixedProperty(this.sharedElements.to, "transformOrigin", ""),
        this.sharedElements.to.style.borderRadius = "")
    }
}),
Polymer({
    is: "reverse-ripple-animation",
    behaviors: [Polymer.NeonSharedElementAnimationBehavior],
    configure: function(e) {
        var t = this.findSharedElements(e);
        if (!t)
            return null;
        var i, n, r = t.from.getBoundingClientRect();
        if (e.gesture)
            i = e.gesture.x - (r.left + r.width / 2),
            n = e.gesture.y - (r.top + r.height / 2);
        else {
            var s = t.to.getBoundingClientRect();
            i = s.left + s.width / 2 - (r.left + r.width / 2),
            n = s.top + s.height / 2 - (r.top + r.height / 2)
        }
        var o = "translate(" + i + "px," + n + "px)"
          , a = Math.max(r.width + 2 * Math.abs(i), r.height + 2 * Math.abs(n))
          , c = Math.sqrt(2 * a * a)
          , l = c / r.width
          , h = c / r.height
          , u = "scale(" + l + "," + h + ")";
        return this._effect = new KeyframeEffect(t.from,[{
            transform: o + " " + u
        }, {
            transform: o + " scale(0)"
        }],this.timingFromConfig(e)),
        this.setPrefixedProperty(t.from, "transformOrigin", "50% 50%"),
        t.from.style.borderRadius = "50%",
        this._effect
    },
    complete: function() {
        this.sharedElements && (this.setPrefixedProperty(this.sharedElements.from, "transformOrigin", ""),
        this.sharedElements.from.style.borderRadius = "")
    }
}),
Polymer({
    is: "scale-down-animation",
    behaviors: [Polymer.NeonAnimationBehavior],
    configure: function(e) {
        var t = e.node
          , i = "scale(0, 0)";
        return "x" === e.axis ? i = "scale(0, 1)" : "y" === e.axis && (i = "scale(1, 0)"),
        this._effect = new KeyframeEffect(t,[{
            transform: "scale(1,1)"
        }, {
            transform: i
        }],this.timingFromConfig(e)),
        e.transformOrigin && this.setPrefixedProperty(t, "transformOrigin", e.transformOrigin),
        this._effect
    }
}),
Polymer({
    is: "scale-up-animation",
    behaviors: [Polymer.NeonAnimationBehavior],
    configure: function(e) {
        var t = e.node
          , i = "scale(0)";
        return "x" === e.axis ? i = "scale(0, 1)" : "y" === e.axis && (i = "scale(1, 0)"),
        this._effect = new KeyframeEffect(t,[{
            transform: i
        }, {
            transform: "scale(1, 1)"
        }],this.timingFromConfig(e)),
        e.transformOrigin && this.setPrefixedProperty(t, "transformOrigin", e.transformOrigin),
        this._effect
    }
}),
Polymer({
    is: "slide-from-left-animation",
    behaviors: [Polymer.NeonAnimationBehavior],
    configure: function(e) {
        var t = e.node;
        return this._effect = new KeyframeEffect(t,[{
            transform: "translateX(-100%)"
        }, {
            transform: "none"
        }],this.timingFromConfig(e)),
        e.transformOrigin ? this.setPrefixedProperty(t, "transformOrigin", e.transformOrigin) : this.setPrefixedProperty(t, "transformOrigin", "0 50%"),
        this._effect
    }
}),
Polymer({
    is: "slide-from-right-animation",
    behaviors: [Polymer.NeonAnimationBehavior],
    configure: function(e) {
        var t = e.node;
        return this._effect = new KeyframeEffect(t,[{
            transform: "translateX(100%)"
        }, {
            transform: "none"
        }],this.timingFromConfig(e)),
        e.transformOrigin ? this.setPrefixedProperty(t, "transformOrigin", e.transformOrigin) : this.setPrefixedProperty(t, "transformOrigin", "0 50%"),
        this._effect
    }
}),
Polymer({
    is: "slide-from-top-animation",
    behaviors: [Polymer.NeonAnimationBehavior],
    configure: function(e) {
        var t = e.node;
        return this._effect = new KeyframeEffect(t,[{
            transform: "translateY(-100%)"
        }, {
            transform: "translateY(0%)"
        }],this.timingFromConfig(e)),
        e.transformOrigin ? this.setPrefixedProperty(t, "transformOrigin", e.transformOrigin) : this.setPrefixedProperty(t, "transformOrigin", "50% 0"),
        this._effect
    }
}),
Polymer({
    is: "slide-from-bottom-animation",
    behaviors: [Polymer.NeonAnimationBehavior],
    configure: function(e) {
        var t = e.node;
        return this._effect = new KeyframeEffect(t,[{
            transform: "translateY(100%)"
        }, {
            transform: "translateY(0)"
        }],this.timingFromConfig(e)),
        e.transformOrigin ? this.setPrefixedProperty(t, "transformOrigin", e.transformOrigin) : this.setPrefixedProperty(t, "transformOrigin", "50% 0"),
        this._effect
    }
}),
Polymer({
    is: "slide-left-animation",
    behaviors: [Polymer.NeonAnimationBehavior],
    configure: function(e) {
        var t = e.node;
        return this._effect = new KeyframeEffect(t,[{
            transform: "none"
        }, {
            transform: "translateX(-100%)"
        }],this.timingFromConfig(e)),
        e.transformOrigin ? this.setPrefixedProperty(t, "transformOrigin", e.transformOrigin) : this.setPrefixedProperty(t, "transformOrigin", "0 50%"),
        this._effect
    }
}),
Polymer({
    is: "slide-right-animation",
    behaviors: [Polymer.NeonAnimationBehavior],
    configure: function(e) {
        var t = e.node;
        return this._effect = new KeyframeEffect(t,[{
            transform: "none"
        }, {
            transform: "translateX(100%)"
        }],this.timingFromConfig(e)),
        e.transformOrigin ? this.setPrefixedProperty(t, "transformOrigin", e.transformOrigin) : this.setPrefixedProperty(t, "transformOrigin", "0 50%"),
        this._effect
    }
}),
Polymer({
    is: "slide-up-animation",
    behaviors: [Polymer.NeonAnimationBehavior],
    configure: function(e) {
        var t = e.node;
        return this._effect = new KeyframeEffect(t,[{
            transform: "translate(0)"
        }, {
            transform: "translateY(-100%)"
        }],this.timingFromConfig(e)),
        e.transformOrigin ? this.setPrefixedProperty(t, "transformOrigin", e.transformOrigin) : this.setPrefixedProperty(t, "transformOrigin", "50% 0"),
        this._effect
    }
}),
Polymer({
    is: "slide-down-animation",
    behaviors: [Polymer.NeonAnimationBehavior],
    configure: function(e) {
        var t = e.node;
        return this._effect = new KeyframeEffect(t,[{
            transform: "translateY(0%)"
        }, {
            transform: "translateY(100%)"
        }],this.timingFromConfig(e)),
        e.transformOrigin ? this.setPrefixedProperty(t, "transformOrigin", e.transformOrigin) : this.setPrefixedProperty(t, "transformOrigin", "50% 0"),
        this._effect
    }
}),
Polymer({
    is: "transform-animation",
    behaviors: [Polymer.NeonAnimationBehavior],
    configure: function(e) {
        var t = e.node
          , i = e.transformFrom || "none"
          , n = e.transformTo || "none";
        return this._effect = new KeyframeEffect(t,[{
            transform: i
        }, {
            transform: n
        }],this.timingFromConfig(e)),
        e.transformOrigin && this.setPrefixedProperty(t, "transformOrigin", e.transformOrigin),
        this._effect
    }
}),
Polymer.NeonSharedElementAnimatableBehaviorImpl = {
    properties: {
        sharedElements: {
            type: Object,
            value: {}
        }
    }
},
Polymer.NeonSharedElementAnimatableBehavior = [Polymer.NeonAnimatableBehavior, Polymer.NeonSharedElementAnimatableBehaviorImpl],
function(e) {
    var t = function() {
        return e.requestAnimationFrame || e.webkitRequestAnimationFrame || e.mozRequestAnimationFrame || function(t) {
            e.setTimeout(t, 1e3 / 60)
        }
    }()
      , i = function(e, t, i, n) {
        return e /= n / 2,
        e < 1 ? i / 2 * e * e + t : (e--,
        -i / 2 * (e * (e - 2) - 1) + t)
    }
      , n = function(e, n, r, s) {
        var o = e.scrollTop
          , a = n - o
          , c = +new Date
          , l = !0
          , h = null
          , u = function() {
            if (l) {
                t(u);
                var d = +new Date
                  , f = Math.floor(i(d - c, o, a, r));
                h ? h === e.scrollTop ? (h = f,
                e.scrollTop = f) : l = !1 : (h = f,
                e.scrollTop = f),
                d > c + r && (e.scrollTop = n,
                l = !1,
                s && s())
            }
        };
        t(u)
    };
    "undefined" != typeof module && "undefined" != typeof module.exports ? module.exports = n : e.animatedScrollTo = n
}(window),
function(e, t) {
    "object" == typeof exports && "undefined" != typeof module ? module.exports = t() : "function" == typeof define && define.amd ? define(t) : e.moment = t()
}(this, function() {
    "use strict";
    function e() {
        return mn.apply(null, arguments)
    }
    function t(e) {
        mn = e
    }
    function i(e) {
        return e instanceof Array || "[object Array]" === Object.prototype.toString.call(e)
    }
    function n(e) {
        return null != e && "[object Object]" === Object.prototype.toString.call(e)
    }
    function r(e) {
        var t;
        for (t in e)
            return !1;
        return !0
    }
    function s(e) {
        return "number" == typeof value || "[object Number]" === Object.prototype.toString.call(e)
    }
    function o(e) {
        return e instanceof Date || "[object Date]" === Object.prototype.toString.call(e)
    }
    function a(e, t) {
        var i, n = [];
        for (i = 0; i < e.length; ++i)
            n.push(t(e[i], i));
        return n
    }
    function c(e, t) {
        return Object.prototype.hasOwnProperty.call(e, t)
    }
    function l(e, t) {
        for (var i in t)
            c(t, i) && (e[i] = t[i]);
        return c(t, "toString") && (e.toString = t.toString),
        c(t, "valueOf") && (e.valueOf = t.valueOf),
        e
    }
    function h(e, t, i, n) {
        return yt(e, t, i, n, !0).utc()
    }
    function u() {
        return {
            empty: !1,
            unusedTokens: [],
            unusedInput: [],
            overflow: -2,
            charsLeftOver: 0,
            nullInput: !1,
            invalidMonth: null,
            invalidFormat: !1,
            userInvalidated: !1,
            iso: !1,
            parsedDateParts: [],
            meridiem: null
        }
    }
    function d(e) {
        return null == e._pf && (e._pf = u()),
        e._pf
    }
    function f(e) {
        if (null == e._isValid) {
            var t = d(e)
              , i = yn.call(t.parsedDateParts, function(e) {
                return null != e
            })
              , n = !isNaN(e._d.getTime()) && t.overflow < 0 && !t.empty && !t.invalidMonth && !t.invalidWeekday && !t.nullInput && !t.invalidFormat && !t.userInvalidated && (!t.meridiem || t.meridiem && i);
            if (e._strict && (n = n && 0 === t.charsLeftOver && 0 === t.unusedTokens.length && void 0 === t.bigHour),
            null != Object.isFrozen && Object.isFrozen(e))
                return n;
            e._isValid = n
        }
        return e._isValid
    }
    function p(e) {
        var t = h(NaN);
        return null != e ? l(d(t), e) : d(t).userInvalidated = !0,
        t
    }
    function m(e) {
        return void 0 === e
    }
    function g(e, t) {
        var i, n, r;
        if (m(t._isAMomentObject) || (e._isAMomentObject = t._isAMomentObject),
        m(t._i) || (e._i = t._i),
        m(t._f) || (e._f = t._f),
        m(t._l) || (e._l = t._l),
        m(t._strict) || (e._strict = t._strict),
        m(t._tzm) || (e._tzm = t._tzm),
        m(t._isUTC) || (e._isUTC = t._isUTC),
        m(t._offset) || (e._offset = t._offset),
        m(t._pf) || (e._pf = d(t)),
        m(t._locale) || (e._locale = t._locale),
        vn.length > 0)
            for (i in vn)
                n = vn[i],
                r = t[n],
                m(r) || (e[n] = r);
        return e
    }
    function y(t) {
        g(this, t),
        this._d = new Date(null != t._d ? t._d.getTime() : NaN),
        _n === !1 && (_n = !0,
        e.updateOffset(this),
        _n = !1)
    }
    function v(e) {
        return e instanceof y || null != e && null != e._isAMomentObject
    }
    function _(e) {
        return e < 0 ? Math.ceil(e) || 0 : Math.floor(e)
    }
    function b(e) {
        var t = +e
          , i = 0;
        return 0 !== t && isFinite(t) && (i = _(t)),
        i
    }
    function S(e, t, i) {
        var n, r = Math.min(e.length, t.length), s = Math.abs(e.length - t.length), o = 0;
        for (n = 0; n < r; n++)
            (i && e[n] !== t[n] || !i && b(e[n]) !== b(t[n])) && o++;
        return o + s
    }
    function E(t) {
        e.suppressDeprecationWarnings === !1 && "undefined" != typeof console && console.warn && console.warn("Deprecation warning: " + t)
    }
    function P(t, i) {
        var n = !0;
        return l(function() {
            if (null != e.deprecationHandler && e.deprecationHandler(null, t),
            n) {
                for (var r, s = [], o = 0; o < arguments.length; o++) {
                    if (r = "",
                    "object" == typeof arguments[o]) {
                        r += "\n[" + o + "] ";
                        for (var a in arguments[0])
                            r += a + ": " + arguments[0][a] + ", ";
                        r = r.slice(0, -2)
                    } else
                        r = arguments[o];
                    s.push(r)
                }
                E(t + "\nArguments: " + Array.prototype.slice.call(s).join("") + "\n" + (new Error).stack),
                n = !1
            }
            return i.apply(this, arguments)
        }, i)
    }
    function T(t, i) {
        null != e.deprecationHandler && e.deprecationHandler(t, i),
        bn[t] || (E(i),
        bn[t] = !0)
    }
    function C(e) {
        return e instanceof Function || "[object Function]" === Object.prototype.toString.call(e)
    }
    function A(e) {
        var t, i;
        for (i in e)
            t = e[i],
            C(t) ? this[i] = t : this["_" + i] = t;
        this._config = e,
        this._ordinalParseLenient = new RegExp(this._ordinalParse.source + "|" + /\d{1,2}/.source)
    }
    function w(e, t) {
        var i, r = l({}, e);
        for (i in t)
            c(t, i) && (n(e[i]) && n(t[i]) ? (r[i] = {},
            l(r[i], e[i]),
            l(r[i], t[i])) : null != t[i] ? r[i] = t[i] : delete r[i]);
        for (i in e)
            c(e, i) && !c(t, i) && n(e[i]) && (r[i] = l({}, r[i]));
        return r
    }
    function R(e) {
        null != e && this.set(e)
    }
    function O(e, t, i) {
        var n = this._calendar[e] || this._calendar.sameElse;
        return C(n) ? n.call(t, i) : n
    }
    function I(e) {
        var t = this._longDateFormat[e]
          , i = this._longDateFormat[e.toUpperCase()];
        return t || !i ? t : (this._longDateFormat[e] = i.replace(/MMMM|MM|DD|dddd/g, function(e) {
            return e.slice(1)
        }),
        this._longDateFormat[e])
    }
    function L() {
        return this._invalidDate
    }
    function k(e) {
        return this._ordinal.replace("%d", e)
    }
    function D(e, t, i, n) {
        var r = this._relativeTime[i];
        return C(r) ? r(e, t, i, n) : r.replace(/%d/i, e)
    }
    function N(e, t) {
        var i = this._relativeTime[e > 0 ? "future" : "past"];
        return C(i) ? i(t) : i.replace(/%s/i, t)
    }
    function M(e, t) {
        var i = e.toLowerCase();
        In[i] = In[i + "s"] = In[t] = e
    }
    function x(e) {
        return "string" == typeof e ? In[e] || In[e.toLowerCase()] : void 0
    }
    function B(e) {
        var t, i, n = {};
        for (i in e)
            c(e, i) && (t = x(i),
            t && (n[t] = e[i]));
        return n
    }
    function F(e, t) {
        Ln[e] = t
    }
    function V(e) {
        var t = [];
        for (var i in e)
            t.push({
                unit: i,
                priority: Ln[i]
            });
        return t.sort(function(e, t) {
            return e.priority - t.priority
        }),
        t
    }
    function U(t, i) {
        return function(n) {
            return null != n ? (H(this, t, n),
            e.updateOffset(this, i),
            this) : j(this, t)
        }
    }
    function j(e, t) {
        return e.isValid() ? e._d["get" + (e._isUTC ? "UTC" : "") + t]() : NaN
    }
    function H(e, t, i) {
        e.isValid() && e._d["set" + (e._isUTC ? "UTC" : "") + t](i)
    }
    function z(e) {
        return e = x(e),
        C(this[e]) ? this[e]() : this
    }
    function G(e, t) {
        if ("object" == typeof e) {
            e = B(e);
            for (var i = V(e), n = 0; n < i.length; n++)
                this[i[n].unit](e[i[n].unit])
        } else if (e = x(e),
        C(this[e]))
            return this[e](t);
        return this
    }
    function X(e, t, i) {
        var n = "" + Math.abs(e)
          , r = t - n.length
          , s = e >= 0;
        return (s ? i ? "+" : "" : "-") + Math.pow(10, Math.max(0, r)).toString().substr(1) + n
    }
    function $(e, t, i, n) {
        var r = n;
        "string" == typeof n && (r = function() {
            return this[n]()
        }
        ),
        e && (Mn[e] = r),
        t && (Mn[t[0]] = function() {
            return X(r.apply(this, arguments), t[1], t[2])
        }
        ),
        i && (Mn[i] = function() {
            return this.localeData().ordinal(r.apply(this, arguments), e)
        }
        )
    }
    function W(e) {
        return e.match(/\[[\s\S]/) ? e.replace(/^\[|\]$/g, "") : e.replace(/\\/g, "")
    }
    function Y(e) {
        var t, i, n = e.match(kn);
        for (t = 0,
        i = n.length; t < i; t++)
            Mn[n[t]] ? n[t] = Mn[n[t]] : n[t] = W(n[t]);
        return function(t) {
            var r, s = "";
            for (r = 0; r < i; r++)
                s += n[r]instanceof Function ? n[r].call(t, e) : n[r];
            return s
        }
    }
    function K(e, t) {
        return e.isValid() ? (t = q(t, e.localeData()),
        Nn[t] = Nn[t] || Y(t),
        Nn[t](e)) : e.localeData().invalidDate()
    }
    function q(e, t) {
        function i(e) {
            return t.longDateFormat(e) || e
        }
        var n = 5;
        for (Dn.lastIndex = 0; n >= 0 && Dn.test(e); )
            e = e.replace(Dn, i),
            Dn.lastIndex = 0,
            n -= 1;
        return e
    }
    function Z(e, t, i) {
        Qn[e] = C(t) ? t : function(e, n) {
            return e && i ? i : t
        }
    }
    function J(e, t) {
        return c(Qn, e) ? Qn[e](t._strict, t._locale) : new RegExp(Q(e))
    }
    function Q(e) {
        return ee(e.replace("\\", "").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g, function(e, t, i, n, r) {
            return t || i || n || r
        }))
    }
    function ee(e) {
        return e.replace(/[-\/\\^$*+?.()|[\]{}]/g, "\\$&")
    }
    function te(e, t) {
        var i, n = t;
        for ("string" == typeof e && (e = [e]),
        s(t) && (n = function(e, i) {
            i[t] = b(e)
        }
        ),
        i = 0; i < e.length; i++)
            er[e[i]] = n
    }
    function ie(e, t) {
        te(e, function(e, i, n, r) {
            n._w = n._w || {},
            t(e, n._w, n, r)
        })
    }
    function ne(e, t, i) {
        null != t && c(er, e) && er[e](t, i._a, i, e)
    }
    function re(e, t) {
        return new Date(Date.UTC(e, t + 1, 0)).getUTCDate()
    }
    function se(e, t) {
        return e ? i(this._months) ? this._months[e.month()] : this._months[(this._months.isFormat || ur).test(t) ? "format" : "standalone"][e.month()] : this._months
    }
    function oe(e, t) {
        return e ? i(this._monthsShort) ? this._monthsShort[e.month()] : this._monthsShort[ur.test(t) ? "format" : "standalone"][e.month()] : this._monthsShort
    }
    function ae(e, t, i) {
        var n, r, s, o = e.toLocaleLowerCase();
        if (!this._monthsParse)
            for (this._monthsParse = [],
            this._longMonthsParse = [],
            this._shortMonthsParse = [],
            n = 0; n < 12; ++n)
                s = h([2e3, n]),
                this._shortMonthsParse[n] = this.monthsShort(s, "").toLocaleLowerCase(),
                this._longMonthsParse[n] = this.months(s, "").toLocaleLowerCase();
        return i ? "MMM" === t ? (r = hr.call(this._shortMonthsParse, o),
        r !== -1 ? r : null) : (r = hr.call(this._longMonthsParse, o),
        r !== -1 ? r : null) : "MMM" === t ? (r = hr.call(this._shortMonthsParse, o),
        r !== -1 ? r : (r = hr.call(this._longMonthsParse, o),
        r !== -1 ? r : null)) : (r = hr.call(this._longMonthsParse, o),
        r !== -1 ? r : (r = hr.call(this._shortMonthsParse, o),
        r !== -1 ? r : null))
    }
    function ce(e, t, i) {
        var n, r, s;
        if (this._monthsParseExact)
            return ae.call(this, e, t, i);
        for (this._monthsParse || (this._monthsParse = [],
        this._longMonthsParse = [],
        this._shortMonthsParse = []),
        n = 0; n < 12; n++) {
            if (r = h([2e3, n]),
            i && !this._longMonthsParse[n] && (this._longMonthsParse[n] = new RegExp("^" + this.months(r, "").replace(".", "") + "$","i"),
            this._shortMonthsParse[n] = new RegExp("^" + this.monthsShort(r, "").replace(".", "") + "$","i")),
            i || this._monthsParse[n] || (s = "^" + this.months(r, "") + "|^" + this.monthsShort(r, ""),
            this._monthsParse[n] = new RegExp(s.replace(".", ""),"i")),
            i && "MMMM" === t && this._longMonthsParse[n].test(e))
                return n;
            if (i && "MMM" === t && this._shortMonthsParse[n].test(e))
                return n;
            if (!i && this._monthsParse[n].test(e))
                return n
        }
    }
    function le(e, t) {
        var i;
        if (!e.isValid())
            return e;
        if ("string" == typeof t)
            if (/^\d+$/.test(t))
                t = b(t);
            else if (t = e.localeData().monthsParse(t),
            !s(t))
                return e;
        return i = Math.min(e.date(), re(e.year(), t)),
        e._d["set" + (e._isUTC ? "UTC" : "") + "Month"](t, i),
        e
    }
    function he(t) {
        return null != t ? (le(this, t),
        e.updateOffset(this, !0),
        this) : j(this, "Month")
    }
    function ue() {
        return re(this.year(), this.month())
    }
    function de(e) {
        return this._monthsParseExact ? (c(this, "_monthsRegex") || pe.call(this),
        e ? this._monthsShortStrictRegex : this._monthsShortRegex) : (c(this, "_monthsShortRegex") || (this._monthsShortRegex = pr),
        this._monthsShortStrictRegex && e ? this._monthsShortStrictRegex : this._monthsShortRegex)
    }
    function fe(e) {
        return this._monthsParseExact ? (c(this, "_monthsRegex") || pe.call(this),
        e ? this._monthsStrictRegex : this._monthsRegex) : (c(this, "_monthsRegex") || (this._monthsRegex = mr),
        this._monthsStrictRegex && e ? this._monthsStrictRegex : this._monthsRegex)
    }
    function pe() {
        function e(e, t) {
            return t.length - e.length
        }
        var t, i, n = [], r = [], s = [];
        for (t = 0; t < 12; t++)
            i = h([2e3, t]),
            n.push(this.monthsShort(i, "")),
            r.push(this.months(i, "")),
            s.push(this.months(i, "")),
            s.push(this.monthsShort(i, ""));
        for (n.sort(e),
        r.sort(e),
        s.sort(e),
        t = 0; t < 12; t++)
            n[t] = ee(n[t]),
            r[t] = ee(r[t]);
        for (t = 0; t < 24; t++)
            s[t] = ee(s[t]);
        this._monthsRegex = new RegExp("^(" + s.join("|") + ")","i"),
        this._monthsShortRegex = this._monthsRegex,
        this._monthsStrictRegex = new RegExp("^(" + r.join("|") + ")","i"),
        this._monthsShortStrictRegex = new RegExp("^(" + n.join("|") + ")","i")
    }
    function me(e) {
        return ge(e) ? 366 : 365
    }
    function ge(e) {
        return e % 4 === 0 && e % 100 !== 0 || e % 400 === 0
    }
    function ye() {
        return ge(this.year())
    }
    function ve(e, t, i, n, r, s, o) {
        var a = new Date(e,t,i,n,r,s,o);
        return e < 100 && e >= 0 && isFinite(a.getFullYear()) && a.setFullYear(e),
        a
    }
    function _e(e) {
        var t = new Date(Date.UTC.apply(null, arguments));
        return e < 100 && e >= 0 && isFinite(t.getUTCFullYear()) && t.setUTCFullYear(e),
        t
    }
    function be(e, t, i) {
        var n = 7 + t - i
          , r = (7 + _e(e, 0, n).getUTCDay() - t) % 7;
        return -r + n - 1
    }
    function Se(e, t, i, n, r) {
        var s, o, a = (7 + i - n) % 7, c = be(e, n, r), l = 1 + 7 * (t - 1) + a + c;
        return l <= 0 ? (s = e - 1,
        o = me(s) + l) : l > me(e) ? (s = e + 1,
        o = l - me(e)) : (s = e,
        o = l),
        {
            year: s,
            dayOfYear: o
        }
    }
    function Ee(e, t, i) {
        var n, r, s = be(e.year(), t, i), o = Math.floor((e.dayOfYear() - s - 1) / 7) + 1;
        return o < 1 ? (r = e.year() - 1,
        n = o + Pe(r, t, i)) : o > Pe(e.year(), t, i) ? (n = o - Pe(e.year(), t, i),
        r = e.year() + 1) : (r = e.year(),
        n = o),
        {
            week: n,
            year: r
        }
    }
    function Pe(e, t, i) {
        var n = be(e, t, i)
          , r = be(e + 1, t, i);
        return (me(e) - n + r) / 7
    }
    function Te(e) {
        return Ee(e, this._week.dow, this._week.doy).week
    }
    function Ce() {
        return this._week.dow
    }
    function Ae() {
        return this._week.doy
    }
    function we(e) {
        var t = this.localeData().week(this);
        return null == e ? t : this.add(7 * (e - t), "d")
    }
    function Re(e) {
        var t = Ee(this, 1, 4).week;
        return null == e ? t : this.add(7 * (e - t), "d")
    }
    function Oe(e, t) {
        return "string" != typeof e ? e : isNaN(e) ? (e = t.weekdaysParse(e),
        "number" == typeof e ? e : null) : parseInt(e, 10)
    }
    function Ie(e, t) {
        return "string" == typeof e ? t.weekdaysParse(e) % 7 || 7 : isNaN(e) ? null : e
    }
    function Le(e, t) {
        return e ? i(this._weekdays) ? this._weekdays[e.day()] : this._weekdays[this._weekdays.isFormat.test(t) ? "format" : "standalone"][e.day()] : this._weekdays
    }
    function ke(e) {
        return e ? this._weekdaysShort[e.day()] : this._weekdaysShort
    }
    function De(e) {
        return e ? this._weekdaysMin[e.day()] : this._weekdaysMin
    }
    function Ne(e, t, i) {
        var n, r, s, o = e.toLocaleLowerCase();
        if (!this._weekdaysParse)
            for (this._weekdaysParse = [],
            this._shortWeekdaysParse = [],
            this._minWeekdaysParse = [],
            n = 0; n < 7; ++n)
                s = h([2e3, 1]).day(n),
                this._minWeekdaysParse[n] = this.weekdaysMin(s, "").toLocaleLowerCase(),
                this._shortWeekdaysParse[n] = this.weekdaysShort(s, "").toLocaleLowerCase(),
                this._weekdaysParse[n] = this.weekdays(s, "").toLocaleLowerCase();
        return i ? "dddd" === t ? (r = hr.call(this._weekdaysParse, o),
        r !== -1 ? r : null) : "ddd" === t ? (r = hr.call(this._shortWeekdaysParse, o),
        r !== -1 ? r : null) : (r = hr.call(this._minWeekdaysParse, o),
        r !== -1 ? r : null) : "dddd" === t ? (r = hr.call(this._weekdaysParse, o),
        r !== -1 ? r : (r = hr.call(this._shortWeekdaysParse, o),
        r !== -1 ? r : (r = hr.call(this._minWeekdaysParse, o),
        r !== -1 ? r : null))) : "ddd" === t ? (r = hr.call(this._shortWeekdaysParse, o),
        r !== -1 ? r : (r = hr.call(this._weekdaysParse, o),
        r !== -1 ? r : (r = hr.call(this._minWeekdaysParse, o),
        r !== -1 ? r : null))) : (r = hr.call(this._minWeekdaysParse, o),
        r !== -1 ? r : (r = hr.call(this._weekdaysParse, o),
        r !== -1 ? r : (r = hr.call(this._shortWeekdaysParse, o),
        r !== -1 ? r : null)))
    }
    function Me(e, t, i) {
        var n, r, s;
        if (this._weekdaysParseExact)
            return Ne.call(this, e, t, i);
        for (this._weekdaysParse || (this._weekdaysParse = [],
        this._minWeekdaysParse = [],
        this._shortWeekdaysParse = [],
        this._fullWeekdaysParse = []),
        n = 0; n < 7; n++) {
            if (r = h([2e3, 1]).day(n),
            i && !this._fullWeekdaysParse[n] && (this._fullWeekdaysParse[n] = new RegExp("^" + this.weekdays(r, "").replace(".", ".?") + "$","i"),
            this._shortWeekdaysParse[n] = new RegExp("^" + this.weekdaysShort(r, "").replace(".", ".?") + "$","i"),
            this._minWeekdaysParse[n] = new RegExp("^" + this.weekdaysMin(r, "").replace(".", ".?") + "$","i")),
            this._weekdaysParse[n] || (s = "^" + this.weekdays(r, "") + "|^" + this.weekdaysShort(r, "") + "|^" + this.weekdaysMin(r, ""),
            this._weekdaysParse[n] = new RegExp(s.replace(".", ""),"i")),
            i && "dddd" === t && this._fullWeekdaysParse[n].test(e))
                return n;
            if (i && "ddd" === t && this._shortWeekdaysParse[n].test(e))
                return n;
            if (i && "dd" === t && this._minWeekdaysParse[n].test(e))
                return n;
            if (!i && this._weekdaysParse[n].test(e))
                return n
        }
    }
    function xe(e) {
        if (!this.isValid())
            return null != e ? this : NaN;
        var t = this._isUTC ? this._d.getUTCDay() : this._d.getDay();
        return null != e ? (e = Oe(e, this.localeData()),
        this.add(e - t, "d")) : t
    }
    function Be(e) {
        if (!this.isValid())
            return null != e ? this : NaN;
        var t = (this.day() + 7 - this.localeData()._week.dow) % 7;
        return null == e ? t : this.add(e - t, "d")
    }
    function Fe(e) {
        if (!this.isValid())
            return null != e ? this : NaN;
        if (null != e) {
            var t = Ie(e, this.localeData());
            return this.day(this.day() % 7 ? t : t - 7)
        }
        return this.day() || 7
    }
    function Ve(e) {
        return this._weekdaysParseExact ? (c(this, "_weekdaysRegex") || He.call(this),
        e ? this._weekdaysStrictRegex : this._weekdaysRegex) : (c(this, "_weekdaysRegex") || (this._weekdaysRegex = Sr),
        this._weekdaysStrictRegex && e ? this._weekdaysStrictRegex : this._weekdaysRegex)
    }
    function Ue(e) {
        return this._weekdaysParseExact ? (c(this, "_weekdaysRegex") || He.call(this),
        e ? this._weekdaysShortStrictRegex : this._weekdaysShortRegex) : (c(this, "_weekdaysShortRegex") || (this._weekdaysShortRegex = Er),
        this._weekdaysShortStrictRegex && e ? this._weekdaysShortStrictRegex : this._weekdaysShortRegex)
    }
    function je(e) {
        return this._weekdaysParseExact ? (c(this, "_weekdaysRegex") || He.call(this),
        e ? this._weekdaysMinStrictRegex : this._weekdaysMinRegex) : (c(this, "_weekdaysMinRegex") || (this._weekdaysMinRegex = Pr),
        this._weekdaysMinStrictRegex && e ? this._weekdaysMinStrictRegex : this._weekdaysMinRegex)
    }
    function He() {
        function e(e, t) {
            return t.length - e.length
        }
        var t, i, n, r, s, o = [], a = [], c = [], l = [];
        for (t = 0; t < 7; t++)
            i = h([2e3, 1]).day(t),
            n = this.weekdaysMin(i, ""),
            r = this.weekdaysShort(i, ""),
            s = this.weekdays(i, ""),
            o.push(n),
            a.push(r),
            c.push(s),
            l.push(n),
            l.push(r),
            l.push(s);
        for (o.sort(e),
        a.sort(e),
        c.sort(e),
        l.sort(e),
        t = 0; t < 7; t++)
            a[t] = ee(a[t]),
            c[t] = ee(c[t]),
            l[t] = ee(l[t]);
        this._weekdaysRegex = new RegExp("^(" + l.join("|") + ")","i"),
        this._weekdaysShortRegex = this._weekdaysRegex,
        this._weekdaysMinRegex = this._weekdaysRegex,
        this._weekdaysStrictRegex = new RegExp("^(" + c.join("|") + ")","i"),
        this._weekdaysShortStrictRegex = new RegExp("^(" + a.join("|") + ")","i"),
        this._weekdaysMinStrictRegex = new RegExp("^(" + o.join("|") + ")","i")
    }
    function ze() {
        return this.hours() % 12 || 12
    }
    function Ge() {
        return this.hours() || 24
    }
    function Xe(e, t) {
        $(e, 0, 0, function() {
            return this.localeData().meridiem(this.hours(), this.minutes(), t)
        })
    }
    function $e(e, t) {
        return t._meridiemParse
    }
    function We(e) {
        return "p" === (e + "").toLowerCase().charAt(0)
    }
    function Ye(e, t, i) {
        return e > 11 ? i ? "pm" : "PM" : i ? "am" : "AM"
    }
    function Ke(e) {
        return e ? e.toLowerCase().replace("_", "-") : e
    }
    function qe(e) {
        for (var t, i, n, r, s = 0; s < e.length; ) {
            for (r = Ke(e[s]).split("-"),
            t = r.length,
            i = Ke(e[s + 1]),
            i = i ? i.split("-") : null; t > 0; ) {
                if (n = Ze(r.slice(0, t).join("-")))
                    return n;
                if (i && i.length >= t && S(r, i, !0) >= t - 1)
                    break;
                t--
            }
            s++
        }
        return null
    }
    function Ze(e) {
        var t = null;
        if (!Rr[e] && "undefined" != typeof module && module && module.exports)
            try {
                t = Tr._abbr,
                require("./locale/" + e),
                Je(t)
            } catch (i) {}
        return Rr[e]
    }
    function Je(e, t) {
        var i;
        return e && (i = m(t) ? tt(e) : Qe(e, t),
        i && (Tr = i)),
        Tr._abbr
    }
    function Qe(e, t) {
        if (null !== t) {
            var i = wr;
            if (t.abbr = e,
            null != Rr[e])
                T("defineLocaleOverride", "use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),
                i = Rr[e]._config;
            else if (null != t.parentLocale) {
                if (null == Rr[t.parentLocale])
                    return Or[t.parentLocale] || (Or[t.parentLocale] = []),
                    Or[t.parentLocale].push({
                        name: e,
                        config: t
                    }),
                    null;
                i = Rr[t.parentLocale]._config
            }
            return Rr[e] = new R(w(i, t)),
            Or[e] && Or[e].forEach(function(e) {
                Qe(e.name, e.config)
            }),
            Je(e),
            Rr[e]
        }
        return delete Rr[e],
        null
    }
    function et(e, t) {
        if (null != t) {
            var i, n = wr;
            null != Rr[e] && (n = Rr[e]._config),
            t = w(n, t),
            i = new R(t),
            i.parentLocale = Rr[e],
            Rr[e] = i,
            Je(e)
        } else
            null != Rr[e] && (null != Rr[e].parentLocale ? Rr[e] = Rr[e].parentLocale : null != Rr[e] && delete Rr[e]);
        return Rr[e]
    }
    function tt(e) {
        var t;
        if (e && e._locale && e._locale._abbr && (e = e._locale._abbr),
        !e)
            return Tr;
        if (!i(e)) {
            if (t = Ze(e))
                return t;
            e = [e]
        }
        return qe(e)
    }
    function it() {
        return Pn(Rr)
    }
    function nt(e) {
        var t, i = e._a;
        return i && d(e).overflow === -2 && (t = i[ir] < 0 || i[ir] > 11 ? ir : i[nr] < 1 || i[nr] > re(i[tr], i[ir]) ? nr : i[rr] < 0 || i[rr] > 24 || 24 === i[rr] && (0 !== i[sr] || 0 !== i[or] || 0 !== i[ar]) ? rr : i[sr] < 0 || i[sr] > 59 ? sr : i[or] < 0 || i[or] > 59 ? or : i[ar] < 0 || i[ar] > 999 ? ar : -1,
        d(e)._overflowDayOfYear && (t < tr || t > nr) && (t = nr),
        d(e)._overflowWeeks && t === -1 && (t = cr),
        d(e)._overflowWeekday && t === -1 && (t = lr),
        d(e).overflow = t),
        e
    }
    function rt(e) {
        var t, i, n, r, s, o, a = e._i, c = Ir.exec(a) || Lr.exec(a);
        if (c) {
            for (d(e).iso = !0,
            t = 0,
            i = Dr.length; t < i; t++)
                if (Dr[t][1].exec(c[1])) {
                    r = Dr[t][0],
                    n = Dr[t][2] !== !1;
                    break
                }
            if (null == r)
                return void (e._isValid = !1);
            if (c[3]) {
                for (t = 0,
                i = Nr.length; t < i; t++)
                    if (Nr[t][1].exec(c[3])) {
                        s = (c[2] || " ") + Nr[t][0];
                        break
                    }
                if (null == s)
                    return void (e._isValid = !1)
            }
            if (!n && null != s)
                return void (e._isValid = !1);
            if (c[4]) {
                if (!kr.exec(c[4]))
                    return void (e._isValid = !1);
                o = "Z"
            }
            e._f = r + (s || "") + (o || ""),
            ht(e)
        } else
            e._isValid = !1
    }
    function st(t) {
        var i = Mr.exec(t._i);
        return null !== i ? void (t._d = new Date((+i[1]))) : (rt(t),
        void (t._isValid === !1 && (delete t._isValid,
        e.createFromInputFallback(t))))
    }
    function ot(e, t, i) {
        return null != e ? e : null != t ? t : i
    }
    function at(t) {
        var i = new Date(e.now());
        return t._useUTC ? [i.getUTCFullYear(), i.getUTCMonth(), i.getUTCDate()] : [i.getFullYear(), i.getMonth(), i.getDate()]
    }
    function ct(e) {
        var t, i, n, r, s = [];
        if (!e._d) {
            for (n = at(e),
            e._w && null == e._a[nr] && null == e._a[ir] && lt(e),
            e._dayOfYear && (r = ot(e._a[tr], n[tr]),
            e._dayOfYear > me(r) && (d(e)._overflowDayOfYear = !0),
            i = _e(r, 0, e._dayOfYear),
            e._a[ir] = i.getUTCMonth(),
            e._a[nr] = i.getUTCDate()),
            t = 0; t < 3 && null == e._a[t]; ++t)
                e._a[t] = s[t] = n[t];
            for (; t < 7; t++)
                e._a[t] = s[t] = null == e._a[t] ? 2 === t ? 1 : 0 : e._a[t];
            24 === e._a[rr] && 0 === e._a[sr] && 0 === e._a[or] && 0 === e._a[ar] && (e._nextDay = !0,
            e._a[rr] = 0),
            e._d = (e._useUTC ? _e : ve).apply(null, s),
            null != e._tzm && e._d.setUTCMinutes(e._d.getUTCMinutes() - e._tzm),
            e._nextDay && (e._a[rr] = 24)
        }
    }
    function lt(e) {
        var t, i, n, r, s, o, a, c;
        if (t = e._w,
        null != t.GG || null != t.W || null != t.E)
            s = 1,
            o = 4,
            i = ot(t.GG, e._a[tr], Ee(vt(), 1, 4).year),
            n = ot(t.W, 1),
            r = ot(t.E, 1),
            (r < 1 || r > 7) && (c = !0);
        else {
            s = e._locale._week.dow,
            o = e._locale._week.doy;
            var l = Ee(vt(), s, o);
            i = ot(t.gg, e._a[tr], l.year),
            n = ot(t.w, l.week),
            null != t.d ? (r = t.d,
            (r < 0 || r > 6) && (c = !0)) : null != t.e ? (r = t.e + s,
            (t.e < 0 || t.e > 6) && (c = !0)) : r = s
        }
        n < 1 || n > Pe(i, s, o) ? d(e)._overflowWeeks = !0 : null != c ? d(e)._overflowWeekday = !0 : (a = Se(i, n, r, s, o),
        e._a[tr] = a.year,
        e._dayOfYear = a.dayOfYear)
    }
    function ht(t) {
        if (t._f === e.ISO_8601)
            return void rt(t);
        t._a = [],
        d(t).empty = !0;
        var i, n, r, s, o, a = "" + t._i, c = a.length, l = 0;
        for (r = q(t._f, t._locale).match(kn) || [],
        i = 0; i < r.length; i++)
            s = r[i],
            n = (a.match(J(s, t)) || [])[0],
            n && (o = a.substr(0, a.indexOf(n)),
            o.length > 0 && d(t).unusedInput.push(o),
            a = a.slice(a.indexOf(n) + n.length),
            l += n.length),
            Mn[s] ? (n ? d(t).empty = !1 : d(t).unusedTokens.push(s),
            ne(s, n, t)) : t._strict && !n && d(t).unusedTokens.push(s);
        d(t).charsLeftOver = c - l,
        a.length > 0 && d(t).unusedInput.push(a),
        t._a[rr] <= 12 && d(t).bigHour === !0 && t._a[rr] > 0 && (d(t).bigHour = void 0),
        d(t).parsedDateParts = t._a.slice(0),
        d(t).meridiem = t._meridiem,
        t._a[rr] = ut(t._locale, t._a[rr], t._meridiem),
        ct(t),
        nt(t)
    }
    function ut(e, t, i) {
        var n;
        return null == i ? t : null != e.meridiemHour ? e.meridiemHour(t, i) : null != e.isPM ? (n = e.isPM(i),
        n && t < 12 && (t += 12),
        n || 12 !== t || (t = 0),
        t) : t
    }
    function dt(e) {
        var t, i, n, r, s;
        if (0 === e._f.length)
            return d(e).invalidFormat = !0,
            void (e._d = new Date(NaN));
        for (r = 0; r < e._f.length; r++)
            s = 0,
            t = g({}, e),
            null != e._useUTC && (t._useUTC = e._useUTC),
            t._f = e._f[r],
            ht(t),
            f(t) && (s += d(t).charsLeftOver,
            s += 10 * d(t).unusedTokens.length,
            d(t).score = s,
            (null == n || s < n) && (n = s,
            i = t));
        l(e, i || t)
    }
    function ft(e) {
        if (!e._d) {
            var t = B(e._i);
            e._a = a([t.year, t.month, t.day || t.date, t.hour, t.minute, t.second, t.millisecond], function(e) {
                return e && parseInt(e, 10)
            }),
            ct(e)
        }
    }
    function pt(e) {
        var t = new y(nt(mt(e)));
        return t._nextDay && (t.add(1, "d"),
        t._nextDay = void 0),
        t
    }
    function mt(e) {
        var t = e._i
          , n = e._f;
        return e._locale = e._locale || tt(e._l),
        null === t || void 0 === n && "" === t ? p({
            nullInput: !0
        }) : ("string" == typeof t && (e._i = t = e._locale.preparse(t)),
        v(t) ? new y(nt(t)) : (o(t) ? e._d = t : i(n) ? dt(e) : n ? ht(e) : gt(e),
        f(e) || (e._d = null),
        e))
    }
    function gt(t) {
        var n = t._i;
        void 0 === n ? t._d = new Date(e.now()) : o(n) ? t._d = new Date(n.valueOf()) : "string" == typeof n ? st(t) : i(n) ? (t._a = a(n.slice(0), function(e) {
            return parseInt(e, 10)
        }),
        ct(t)) : "object" == typeof n ? ft(t) : s(n) ? t._d = new Date(n) : e.createFromInputFallback(t)
    }
    function yt(e, t, s, o, a) {
        var c = {};
        return s !== !0 && s !== !1 || (o = s,
        s = void 0),
        (n(e) && r(e) || i(e) && 0 === e.length) && (e = void 0),
        c._isAMomentObject = !0,
        c._useUTC = c._isUTC = a,
        c._l = s,
        c._i = e,
        c._f = t,
        c._strict = o,
        pt(c)
    }
    function vt(e, t, i, n) {
        return yt(e, t, i, n, !1)
    }
    function _t(e, t) {
        var n, r;
        if (1 === t.length && i(t[0]) && (t = t[0]),
        !t.length)
            return vt();
        for (n = t[0],
        r = 1; r < t.length; ++r)
            t[r].isValid() && !t[r][e](n) || (n = t[r]);
        return n
    }
    function bt() {
        var e = [].slice.call(arguments, 0);
        return _t("isBefore", e)
    }
    function St() {
        var e = [].slice.call(arguments, 0);
        return _t("isAfter", e)
    }
    function Et(e) {
        var t = B(e)
          , i = t.year || 0
          , n = t.quarter || 0
          , r = t.month || 0
          , s = t.week || 0
          , o = t.day || 0
          , a = t.hour || 0
          , c = t.minute || 0
          , l = t.second || 0
          , h = t.millisecond || 0;
        this._milliseconds = +h + 1e3 * l + 6e4 * c + 1e3 * a * 60 * 60,
        this._days = +o + 7 * s,
        this._months = +r + 3 * n + 12 * i,
        this._data = {},
        this._locale = tt(),
        this._bubble()
    }
    function Pt(e) {
        return e instanceof Et
    }
    function Tt(e) {
        return e < 0 ? Math.round(-1 * e) * -1 : Math.round(e)
    }
    function Ct(e, t) {
        $(e, 0, 0, function() {
            var e = this.utcOffset()
              , i = "+";
            return e < 0 && (e = -e,
            i = "-"),
            i + X(~~(e / 60), 2) + t + X(~~e % 60, 2)
        })
    }
    function At(e, t) {
        var i = (t || "").match(e);
        if (null === i)
            return null;
        var n = i[i.length - 1] || []
          , r = (n + "").match(Vr) || ["-", 0, 0]
          , s = +(60 * r[1]) + b(r[2]);
        return 0 === s ? 0 : "+" === r[0] ? s : -s
    }
    function wt(t, i) {
        var n, r;
        return i._isUTC ? (n = i.clone(),
        r = (v(t) || o(t) ? t.valueOf() : vt(t).valueOf()) - n.valueOf(),
        n._d.setTime(n._d.valueOf() + r),
        e.updateOffset(n, !1),
        n) : vt(t).local()
    }
    function Rt(e) {
        return 15 * -Math.round(e._d.getTimezoneOffset() / 15)
    }
    function Ot(t, i) {
        var n, r = this._offset || 0;
        if (!this.isValid())
            return null != t ? this : NaN;
        if (null != t) {
            if ("string" == typeof t) {
                if (t = At(qn, t),
                null === t)
                    return this
            } else
                Math.abs(t) < 16 && (t = 60 * t);
            return !this._isUTC && i && (n = Rt(this)),
            this._offset = t,
            this._isUTC = !0,
            null != n && this.add(n, "m"),
            r !== t && (!i || this._changeInProgress ? Xt(this, Ut(t - r, "m"), 1, !1) : this._changeInProgress || (this._changeInProgress = !0,
            e.updateOffset(this, !0),
            this._changeInProgress = null)),
            this
        }
        return this._isUTC ? r : Rt(this)
    }
    function It(e, t) {
        return null != e ? ("string" != typeof e && (e = -e),
        this.utcOffset(e, t),
        this) : -this.utcOffset()
    }
    function Lt(e) {
        return this.utcOffset(0, e)
    }
    function kt(e) {
        return this._isUTC && (this.utcOffset(0, e),
        this._isUTC = !1,
        e && this.subtract(Rt(this), "m")),
        this
    }
    function Dt() {
        if (null != this._tzm)
            this.utcOffset(this._tzm);
        else if ("string" == typeof this._i) {
            var e = At(Kn, this._i);
            null != e ? this.utcOffset(e) : this.utcOffset(0, !0)
        }
        return this
    }
    function Nt(e) {
        return !!this.isValid() && (e = e ? vt(e).utcOffset() : 0,
        (this.utcOffset() - e) % 60 === 0)
    }
    function Mt() {
        return this.utcOffset() > this.clone().month(0).utcOffset() || this.utcOffset() > this.clone().month(5).utcOffset()
    }
    function xt() {
        if (!m(this._isDSTShifted))
            return this._isDSTShifted;
        var e = {};
        if (g(e, this),
        e = mt(e),
        e._a) {
            var t = e._isUTC ? h(e._a) : vt(e._a);
            this._isDSTShifted = this.isValid() && S(e._a, t.toArray()) > 0
        } else
            this._isDSTShifted = !1;
        return this._isDSTShifted
    }
    function Bt() {
        return !!this.isValid() && !this._isUTC
    }
    function Ft() {
        return !!this.isValid() && this._isUTC
    }
    function Vt() {
        return !!this.isValid() && (this._isUTC && 0 === this._offset)
    }
    function Ut(e, t) {
        var i, n, r, o = e, a = null;
        return Pt(e) ? o = {
            ms: e._milliseconds,
            d: e._days,
            M: e._months
        } : s(e) ? (o = {},
        t ? o[t] = e : o.milliseconds = e) : (a = Ur.exec(e)) ? (i = "-" === a[1] ? -1 : 1,
        o = {
            y: 0,
            d: b(a[nr]) * i,
            h: b(a[rr]) * i,
            m: b(a[sr]) * i,
            s: b(a[or]) * i,
            ms: b(Tt(1e3 * a[ar])) * i
        }) : (a = jr.exec(e)) ? (i = "-" === a[1] ? -1 : 1,
        o = {
            y: jt(a[2], i),
            M: jt(a[3], i),
            w: jt(a[4], i),
            d: jt(a[5], i),
            h: jt(a[6], i),
            m: jt(a[7], i),
            s: jt(a[8], i)
        }) : null == o ? o = {} : "object" == typeof o && ("from"in o || "to"in o) && (r = zt(vt(o.from), vt(o.to)),
        o = {},
        o.ms = r.milliseconds,
        o.M = r.months),
        n = new Et(o),
        Pt(e) && c(e, "_locale") && (n._locale = e._locale),
        n
    }
    function jt(e, t) {
        var i = e && parseFloat(e.replace(",", "."));
        return (isNaN(i) ? 0 : i) * t
    }
    function Ht(e, t) {
        var i = {
            milliseconds: 0,
            months: 0
        };
        return i.months = t.month() - e.month() + 12 * (t.year() - e.year()),
        e.clone().add(i.months, "M").isAfter(t) && --i.months,
        i.milliseconds = +t - +e.clone().add(i.months, "M"),
        i
    }
    function zt(e, t) {
        var i;
        return e.isValid() && t.isValid() ? (t = wt(t, e),
        e.isBefore(t) ? i = Ht(e, t) : (i = Ht(t, e),
        i.milliseconds = -i.milliseconds,
        i.months = -i.months),
        i) : {
            milliseconds: 0,
            months: 0
        }
    }
    function Gt(e, t) {
        return function(i, n) {
            var r, s;
            return null === n || isNaN(+n) || (T(t, "moment()." + t + "(period, number) is deprecated. Please use moment()." + t + "(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),
            s = i,
            i = n,
            n = s),
            i = "string" == typeof i ? +i : i,
            r = Ut(i, n),
            Xt(this, r, e),
            this
        }
    }
    function Xt(t, i, n, r) {
        var s = i._milliseconds
          , o = Tt(i._days)
          , a = Tt(i._months);
        t.isValid() && (r = null == r || r,
        s && t._d.setTime(t._d.valueOf() + s * n),
        o && H(t, "Date", j(t, "Date") + o * n),
        a && le(t, j(t, "Month") + a * n),
        r && e.updateOffset(t, o || a))
    }
    function $t(e, t) {
        var i = e.diff(t, "days", !0);
        return i < -6 ? "sameElse" : i < -1 ? "lastWeek" : i < 0 ? "lastDay" : i < 1 ? "sameDay" : i < 2 ? "nextDay" : i < 7 ? "nextWeek" : "sameElse"
    }
    function Wt(t, i) {
        var n = t || vt()
          , r = wt(n, this).startOf("day")
          , s = e.calendarFormat(this, r) || "sameElse"
          , o = i && (C(i[s]) ? i[s].call(this, n) : i[s]);
        return this.format(o || this.localeData().calendar(s, this, vt(n)))
    }
    function Yt() {
        return new y(this)
    }
    function Kt(e, t) {
        var i = v(e) ? e : vt(e);
        return !(!this.isValid() || !i.isValid()) && (t = x(m(t) ? "millisecond" : t),
        "millisecond" === t ? this.valueOf() > i.valueOf() : i.valueOf() < this.clone().startOf(t).valueOf())
    }
    function qt(e, t) {
        var i = v(e) ? e : vt(e);
        return !(!this.isValid() || !i.isValid()) && (t = x(m(t) ? "millisecond" : t),
        "millisecond" === t ? this.valueOf() < i.valueOf() : this.clone().endOf(t).valueOf() < i.valueOf())
    }
    function Zt(e, t, i, n) {
        return n = n || "()",
        ("(" === n[0] ? this.isAfter(e, i) : !this.isBefore(e, i)) && (")" === n[1] ? this.isBefore(t, i) : !this.isAfter(t, i))
    }
    function Jt(e, t) {
        var i, n = v(e) ? e : vt(e);
        return !(!this.isValid() || !n.isValid()) && (t = x(t || "millisecond"),
        "millisecond" === t ? this.valueOf() === n.valueOf() : (i = n.valueOf(),
        this.clone().startOf(t).valueOf() <= i && i <= this.clone().endOf(t).valueOf()))
    }
    function Qt(e, t) {
        return this.isSame(e, t) || this.isAfter(e, t)
    }
    function ei(e, t) {
        return this.isSame(e, t) || this.isBefore(e, t)
    }
    function ti(e, t, i) {
        var n, r, s, o;
        return this.isValid() ? (n = wt(e, this),
        n.isValid() ? (r = 6e4 * (n.utcOffset() - this.utcOffset()),
        t = x(t),
        "year" === t || "month" === t || "quarter" === t ? (o = ii(this, n),
        "quarter" === t ? o /= 3 : "year" === t && (o /= 12)) : (s = this - n,
        o = "second" === t ? s / 1e3 : "minute" === t ? s / 6e4 : "hour" === t ? s / 36e5 : "day" === t ? (s - r) / 864e5 : "week" === t ? (s - r) / 6048e5 : s),
        i ? o : _(o)) : NaN) : NaN
    }
    function ii(e, t) {
        var i, n, r = 12 * (t.year() - e.year()) + (t.month() - e.month()), s = e.clone().add(r, "months");
        return t - s < 0 ? (i = e.clone().add(r - 1, "months"),
        n = (t - s) / (s - i)) : (i = e.clone().add(r + 1, "months"),
        n = (t - s) / (i - s)),
        -(r + n) || 0
    }
    function ni() {
        return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")
    }
    function ri() {
        var e = this.clone().utc();
        return 0 < e.year() && e.year() <= 9999 ? C(Date.prototype.toISOString) ? this.toDate().toISOString() : K(e, "YYYY-MM-DD[T]HH:mm:ss.SSS[Z]") : K(e, "YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")
    }
    function si() {
        if (!this.isValid())
            return "moment.invalid(/* " + this._i + " */)";
        var e = "moment"
          , t = "";
        this.isLocal() || (e = 0 === this.utcOffset() ? "moment.utc" : "moment.parseZone",
        t = "Z");
        var i = "[" + e + '("]'
          , n = 0 < this.year() && this.year() <= 9999 ? "YYYY" : "YYYYYY"
          , r = "-MM-DD[T]HH:mm:ss.SSS"
          , s = t + '[")]';
        return this.format(i + n + r + s)
    }
    function oi(t) {
        t || (t = this.isUtc() ? e.defaultFormatUtc : e.defaultFormat);
        var i = K(this, t);
        return this.localeData().postformat(i)
    }
    function ai(e, t) {
        return this.isValid() && (v(e) && e.isValid() || vt(e).isValid()) ? Ut({
            to: this,
            from: e
        }).locale(this.locale()).humanize(!t) : this.localeData().invalidDate()
    }
    function ci(e) {
        return this.from(vt(), e)
    }
    function li(e, t) {
        return this.isValid() && (v(e) && e.isValid() || vt(e).isValid()) ? Ut({
            from: this,
            to: e
        }).locale(this.locale()).humanize(!t) : this.localeData().invalidDate()
    }
    function hi(e) {
        return this.to(vt(), e)
    }
    function ui(e) {
        var t;
        return void 0 === e ? this._locale._abbr : (t = tt(e),
        null != t && (this._locale = t),
        this)
    }
    function di() {
        return this._locale
    }
    function fi(e) {
        switch (e = x(e)) {
        case "year":
            this.month(0);
        case "quarter":
        case "month":
            this.date(1);
        case "week":
        case "isoWeek":
        case "day":
        case "date":
            this.hours(0);
        case "hour":
            this.minutes(0);
        case "minute":
            this.seconds(0);
        case "second":
            this.milliseconds(0)
        }
        return "week" === e && this.weekday(0),
        "isoWeek" === e && this.isoWeekday(1),
        "quarter" === e && this.month(3 * Math.floor(this.month() / 3)),
        this
    }
    function pi(e) {
        return e = x(e),
        void 0 === e || "millisecond" === e ? this : ("date" === e && (e = "day"),
        this.startOf(e).add(1, "isoWeek" === e ? "week" : e).subtract(1, "ms"))
    }
    function mi() {
        return this._d.valueOf() - 6e4 * (this._offset || 0)
    }
    function gi() {
        return Math.floor(this.valueOf() / 1e3)
    }
    function yi() {
        return new Date(this.valueOf())
    }
    function vi() {
        var e = this;
        return [e.year(), e.month(), e.date(), e.hour(), e.minute(), e.second(), e.millisecond()]
    }
    function _i() {
        var e = this;
        return {
            years: e.year(),
            months: e.month(),
            date: e.date(),
            hours: e.hours(),
            minutes: e.minutes(),
            seconds: e.seconds(),
            milliseconds: e.milliseconds()
        }
    }
    function bi() {
        return this.isValid() ? this.toISOString() : null
    }
    function Si() {
        return f(this)
    }
    function Ei() {
        return l({}, d(this))
    }
    function Pi() {
        return d(this).overflow
    }
    function Ti() {
        return {
            input: this._i,
            format: this._f,
            locale: this._locale,
            isUTC: this._isUTC,
            strict: this._strict
        }
    }
    function Ci(e, t) {
        $(0, [e, e.length], 0, t)
    }
    function Ai(e) {
        return Ii.call(this, e, this.week(), this.weekday(), this.localeData()._week.dow, this.localeData()._week.doy)
    }
    function wi(e) {
        return Ii.call(this, e, this.isoWeek(), this.isoWeekday(), 1, 4)
    }
    function Ri() {
        return Pe(this.year(), 1, 4)
    }
    function Oi() {
        var e = this.localeData()._week;
        return Pe(this.year(), e.dow, e.doy)
    }
    function Ii(e, t, i, n, r) {
        var s;
        return null == e ? Ee(this, n, r).year : (s = Pe(e, n, r),
        t > s && (t = s),
        Li.call(this, e, t, i, n, r))
    }
    function Li(e, t, i, n, r) {
        var s = Se(e, t, i, n, r)
          , o = _e(s.year, 0, s.dayOfYear);
        return this.year(o.getUTCFullYear()),
        this.month(o.getUTCMonth()),
        this.date(o.getUTCDate()),
        this
    }
    function ki(e) {
        return null == e ? Math.ceil((this.month() + 1) / 3) : this.month(3 * (e - 1) + this.month() % 3)
    }
    function Di(e) {
        var t = Math.round((this.clone().startOf("day") - this.clone().startOf("year")) / 864e5) + 1;
        return null == e ? t : this.add(e - t, "d")
    }
    function Ni(e, t) {
        t[ar] = b(1e3 * ("0." + e))
    }
    function Mi() {
        return this._isUTC ? "UTC" : ""
    }
    function xi() {
        return this._isUTC ? "Coordinated Universal Time" : ""
    }
    function Bi(e) {
        return vt(1e3 * e)
    }
    function Fi() {
        return vt.apply(null, arguments).parseZone()
    }
    function Vi(e) {
        return e
    }
    function Ui(e, t, i, n) {
        var r = tt()
          , s = h().set(n, t);
        return r[i](s, e)
    }
    function ji(e, t, i) {
        if (s(e) && (t = e,
        e = void 0),
        e = e || "",
        null != t)
            return Ui(e, t, i, "month");
        var n, r = [];
        for (n = 0; n < 12; n++)
            r[n] = Ui(e, n, i, "month");
        return r
    }
    function Hi(e, t, i, n) {
        "boolean" == typeof e ? (s(t) && (i = t,
        t = void 0),
        t = t || "") : (t = e,
        i = t,
        e = !1,
        s(t) && (i = t,
        t = void 0),
        t = t || "");
        var r = tt()
          , o = e ? r._week.dow : 0;
        if (null != i)
            return Ui(t, (i + o) % 7, n, "day");
        var a, c = [];
        for (a = 0; a < 7; a++)
            c[a] = Ui(t, (a + o) % 7, n, "day");
        return c
    }
    function zi(e, t) {
        return ji(e, t, "months")
    }
    function Gi(e, t) {
        return ji(e, t, "monthsShort")
    }
    function Xi(e, t, i) {
        return Hi(e, t, i, "weekdays")
    }
    function $i(e, t, i) {
        return Hi(e, t, i, "weekdaysShort")
    }
    function Wi(e, t, i) {
        return Hi(e, t, i, "weekdaysMin")
    }
    function Yi() {
        var e = this._data;
        return this._milliseconds = Jr(this._milliseconds),
        this._days = Jr(this._days),
        this._months = Jr(this._months),
        e.milliseconds = Jr(e.milliseconds),
        e.seconds = Jr(e.seconds),
        e.minutes = Jr(e.minutes),
        e.hours = Jr(e.hours),
        e.months = Jr(e.months),
        e.years = Jr(e.years),
        this
    }
    function Ki(e, t, i, n) {
        var r = Ut(t, i);
        return e._milliseconds += n * r._milliseconds,
        e._days += n * r._days,
        e._months += n * r._months,
        e._bubble()
    }
    function qi(e, t) {
        return Ki(this, e, t, 1)
    }
    function Zi(e, t) {
        return Ki(this, e, t, -1)
    }
    function Ji(e) {
        return e < 0 ? Math.floor(e) : Math.ceil(e)
    }
    function Qi() {
        var e, t, i, n, r, s = this._milliseconds, o = this._days, a = this._months, c = this._data;
        return s >= 0 && o >= 0 && a >= 0 || s <= 0 && o <= 0 && a <= 0 || (s += 864e5 * Ji(tn(a) + o),
        o = 0,
        a = 0),
        c.milliseconds = s % 1e3,
        e = _(s / 1e3),
        c.seconds = e % 60,
        t = _(e / 60),
        c.minutes = t % 60,
        i = _(t / 60),
        c.hours = i % 24,
        o += _(i / 24),
        r = _(en(o)),
        a += r,
        o -= Ji(tn(r)),
        n = _(a / 12),
        a %= 12,
        c.days = o,
        c.months = a,
        c.years = n,
        this
    }
    function en(e) {
        return 4800 * e / 146097
    }
    function tn(e) {
        return 146097 * e / 4800
    }
    function nn(e) {
        var t, i, n = this._milliseconds;
        if (e = x(e),
        "month" === e || "year" === e)
            return t = this._days + n / 864e5,
            i = this._months + en(t),
            "month" === e ? i : i / 12;
        switch (t = this._days + Math.round(tn(this._months)),
        e) {
        case "week":
            return t / 7 + n / 6048e5;
        case "day":
            return t + n / 864e5;
        case "hour":
            return 24 * t + n / 36e5;
        case "minute":
            return 1440 * t + n / 6e4;
        case "second":
            return 86400 * t + n / 1e3;
        case "millisecond":
            return Math.floor(864e5 * t) + n;
        default:
            throw new Error("Unknown unit " + e)
        }
    }
    function rn() {
        return this._milliseconds + 864e5 * this._days + this._months % 12 * 2592e6 + 31536e6 * b(this._months / 12)
    }
    function sn(e) {
        return function() {
            return this.as(e)
        }
    }
    function on(e) {
        return e = x(e),
        this[e + "s"]()
    }
    function an(e) {
        return function() {
            return this._data[e]
        }
    }
    function cn() {
        return _(this.days() / 7)
    }
    function ln(e, t, i, n, r) {
        return r.relativeTime(t || 1, !!i, e, n)
    }
    function hn(e, t, i) {
        var n = Ut(e).abs()
          , r = ps(n.as("s"))
          , s = ps(n.as("m"))
          , o = ps(n.as("h"))
          , a = ps(n.as("d"))
          , c = ps(n.as("M"))
          , l = ps(n.as("y"))
          , h = r < ms.s && ["s", r] || s <= 1 && ["m"] || s < ms.m && ["mm", s] || o <= 1 && ["h"] || o < ms.h && ["hh", o] || a <= 1 && ["d"] || a < ms.d && ["dd", a] || c <= 1 && ["M"] || c < ms.M && ["MM", c] || l <= 1 && ["y"] || ["yy", l];
        return h[2] = t,
        h[3] = +e > 0,
        h[4] = i,
        ln.apply(null, h)
    }
    function un(e) {
        return void 0 === e ? ps : "function" == typeof e && (ps = e,
        !0)
    }
    function dn(e, t) {
        return void 0 !== ms[e] && (void 0 === t ? ms[e] : (ms[e] = t,
        !0))
    }
    function fn(e) {
        var t = this.localeData()
          , i = hn(this, !e, t);
        return e && (i = t.pastFuture(+this, i)),
        t.postformat(i)
    }
    function pn() {
        var e, t, i, n = gs(this._milliseconds) / 1e3, r = gs(this._days), s = gs(this._months);
        e = _(n / 60),
        t = _(e / 60),
        n %= 60,
        e %= 60,
        i = _(s / 12),
        s %= 12;
        var o = i
          , a = s
          , c = r
          , l = t
          , h = e
          , u = n
          , d = this.asSeconds();
        return d ? (d < 0 ? "-" : "") + "P" + (o ? o + "Y" : "") + (a ? a + "M" : "") + (c ? c + "D" : "") + (l || h || u ? "T" : "") + (l ? l + "H" : "") + (h ? h + "M" : "") + (u ? u + "S" : "") : "P0D"
    }
    var mn, gn;
    gn = Array.prototype.some ? Array.prototype.some : function(e) {
        for (var t = Object(this), i = t.length >>> 0, n = 0; n < i; n++)
            if (n in t && e.call(this, t[n], n, t))
                return !0;
        return !1
    }
    ;
    var yn = gn
      , vn = e.momentProperties = []
      , _n = !1
      , bn = {};
    e.suppressDeprecationWarnings = !1,
    e.deprecationHandler = null;
    var Sn;
    Sn = Object.keys ? Object.keys : function(e) {
        var t, i = [];
        for (t in e)
            c(e, t) && i.push(t);
        return i
    }
    ;
    var En, Pn = Sn, Tn = {
        sameDay: "[Today at] LT",
        nextDay: "[Tomorrow at] LT",
        nextWeek: "dddd [at] LT",
        lastDay: "[Yesterday at] LT",
        lastWeek: "[Last] dddd [at] LT",
        sameElse: "L"
    }, Cn = {
        LTS: "h:mm:ss A",
        LT: "h:mm A",
        L: "MM/DD/YYYY",
        LL: "MMMM D, YYYY",
        LLL: "MMMM D, YYYY h:mm A",
        LLLL: "dddd, MMMM D, YYYY h:mm A"
    }, An = "Invalid date", wn = "%d", Rn = /\d{1,2}/, On = {
        future: "in %s",
        past: "%s ago",
        s: "a few seconds",
        m: "a minute",
        mm: "%d minutes",
        h: "an hour",
        hh: "%d hours",
        d: "a day",
        dd: "%d days",
        M: "a month",
        MM: "%d months",
        y: "a year",
        yy: "%d years"
    }, In = {}, Ln = {}, kn = /(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g, Dn = /(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g, Nn = {}, Mn = {}, xn = /\d/, Bn = /\d\d/, Fn = /\d{3}/, Vn = /\d{4}/, Un = /[+-]?\d{6}/, jn = /\d\d?/, Hn = /\d\d\d\d?/, zn = /\d\d\d\d\d\d?/, Gn = /\d{1,3}/, Xn = /\d{1,4}/, $n = /[+-]?\d{1,6}/, Wn = /\d+/, Yn = /[+-]?\d+/, Kn = /Z|[+-]\d\d:?\d\d/gi, qn = /Z|[+-]\d\d(?::?\d\d)?/gi, Zn = /[+-]?\d+(\.\d{1,3})?/, Jn = /[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i, Qn = {}, er = {}, tr = 0, ir = 1, nr = 2, rr = 3, sr = 4, or = 5, ar = 6, cr = 7, lr = 8;
    En = Array.prototype.indexOf ? Array.prototype.indexOf : function(e) {
        var t;
        for (t = 0; t < this.length; ++t)
            if (this[t] === e)
                return t;
        return -1
    }
    ;
    var hr = En;
    $("M", ["MM", 2], "Mo", function() {
        return this.month() + 1
    }),
    $("MMM", 0, 0, function(e) {
        return this.localeData().monthsShort(this, e)
    }),
    $("MMMM", 0, 0, function(e) {
        return this.localeData().months(this, e)
    }),
    M("month", "M"),
    F("month", 8),
    Z("M", jn),
    Z("MM", jn, Bn),
    Z("MMM", function(e, t) {
        return t.monthsShortRegex(e)
    }),
    Z("MMMM", function(e, t) {
        return t.monthsRegex(e)
    }),
    te(["M", "MM"], function(e, t) {
        t[ir] = b(e) - 1
    }),
    te(["MMM", "MMMM"], function(e, t, i, n) {
        var r = i._locale.monthsParse(e, n, i._strict);
        null != r ? t[ir] = r : d(i).invalidMonth = e
    });
    var ur = /D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/
      , dr = "January_February_March_April_May_June_July_August_September_October_November_December".split("_")
      , fr = "Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_")
      , pr = Jn
      , mr = Jn;
    $("Y", 0, 0, function() {
        var e = this.year();
        return e <= 9999 ? "" + e : "+" + e
    }),
    $(0, ["YY", 2], 0, function() {
        return this.year() % 100
    }),
    $(0, ["YYYY", 4], 0, "year"),
    $(0, ["YYYYY", 5], 0, "year"),
    $(0, ["YYYYYY", 6, !0], 0, "year"),
    M("year", "y"),
    F("year", 1),
    Z("Y", Yn),
    Z("YY", jn, Bn),
    Z("YYYY", Xn, Vn),
    Z("YYYYY", $n, Un),
    Z("YYYYYY", $n, Un),
    te(["YYYYY", "YYYYYY"], tr),
    te("YYYY", function(t, i) {
        i[tr] = 2 === t.length ? e.parseTwoDigitYear(t) : b(t)
    }),
    te("YY", function(t, i) {
        i[tr] = e.parseTwoDigitYear(t)
    }),
    te("Y", function(e, t) {
        t[tr] = parseInt(e, 10)
    }),
    e.parseTwoDigitYear = function(e) {
        return b(e) + (b(e) > 68 ? 1900 : 2e3)
    }
    ;
    var gr = U("FullYear", !0);
    $("w", ["ww", 2], "wo", "week"),
    $("W", ["WW", 2], "Wo", "isoWeek"),
    M("week", "w"),
    M("isoWeek", "W"),
    F("week", 5),
    F("isoWeek", 5),
    Z("w", jn),
    Z("ww", jn, Bn),
    Z("W", jn),
    Z("WW", jn, Bn),
    ie(["w", "ww", "W", "WW"], function(e, t, i, n) {
        t[n.substr(0, 1)] = b(e)
    });
    var yr = {
        dow: 0,
        doy: 6
    };
    $("d", 0, "do", "day"),
    $("dd", 0, 0, function(e) {
        return this.localeData().weekdaysMin(this, e)
    }),
    $("ddd", 0, 0, function(e) {
        return this.localeData().weekdaysShort(this, e)
    }),
    $("dddd", 0, 0, function(e) {
        return this.localeData().weekdays(this, e)
    }),
    $("e", 0, 0, "weekday"),
    $("E", 0, 0, "isoWeekday"),
    M("day", "d"),
    M("weekday", "e"),
    M("isoWeekday", "E"),
    F("day", 11),
    F("weekday", 11),
    F("isoWeekday", 11),
    Z("d", jn),
    Z("e", jn),
    Z("E", jn),
    Z("dd", function(e, t) {
        return t.weekdaysMinRegex(e)
    }),
    Z("ddd", function(e, t) {
        return t.weekdaysShortRegex(e)
    }),
    Z("dddd", function(e, t) {
        return t.weekdaysRegex(e)
    }),
    ie(["dd", "ddd", "dddd"], function(e, t, i, n) {
        var r = i._locale.weekdaysParse(e, n, i._strict);
        null != r ? t.d = r : d(i).invalidWeekday = e
    }),
    ie(["d", "e", "E"], function(e, t, i, n) {
        t[n] = b(e)
    });
    var vr = "Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_")
      , _r = "Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_")
      , br = "Su_Mo_Tu_We_Th_Fr_Sa".split("_")
      , Sr = Jn
      , Er = Jn
      , Pr = Jn;
    $("H", ["HH", 2], 0, "hour"),
    $("h", ["hh", 2], 0, ze),
    $("k", ["kk", 2], 0, Ge),
    $("hmm", 0, 0, function() {
        return "" + ze.apply(this) + X(this.minutes(), 2)
    }),
    $("hmmss", 0, 0, function() {
        return "" + ze.apply(this) + X(this.minutes(), 2) + X(this.seconds(), 2)
    }),
    $("Hmm", 0, 0, function() {
        return "" + this.hours() + X(this.minutes(), 2)
    }),
    $("Hmmss", 0, 0, function() {
        return "" + this.hours() + X(this.minutes(), 2) + X(this.seconds(), 2)
    }),
    Xe("a", !0),
    Xe("A", !1),
    M("hour", "h"),
    F("hour", 13),
    Z("a", $e),
    Z("A", $e),
    Z("H", jn),
    Z("h", jn),
    Z("HH", jn, Bn),
    Z("hh", jn, Bn),
    Z("hmm", Hn),
    Z("hmmss", zn),
    Z("Hmm", Hn),
    Z("Hmmss", zn),
    te(["H", "HH"], rr),
    te(["a", "A"], function(e, t, i) {
        i._isPm = i._locale.isPM(e),
        i._meridiem = e
    }),
    te(["h", "hh"], function(e, t, i) {
        t[rr] = b(e),
        d(i).bigHour = !0
    }),
    te("hmm", function(e, t, i) {
        var n = e.length - 2;
        t[rr] = b(e.substr(0, n)),
        t[sr] = b(e.substr(n)),
        d(i).bigHour = !0
    }),
    te("hmmss", function(e, t, i) {
        var n = e.length - 4
          , r = e.length - 2;
        t[rr] = b(e.substr(0, n)),
        t[sr] = b(e.substr(n, 2)),
        t[or] = b(e.substr(r)),
        d(i).bigHour = !0
    }),
    te("Hmm", function(e, t, i) {
        var n = e.length - 2;
        t[rr] = b(e.substr(0, n)),
        t[sr] = b(e.substr(n))
    }),
    te("Hmmss", function(e, t, i) {
        var n = e.length - 4
          , r = e.length - 2;
        t[rr] = b(e.substr(0, n)),
        t[sr] = b(e.substr(n, 2)),
        t[or] = b(e.substr(r))
    });
    var Tr, Cr = /[ap]\.?m?\.?/i, Ar = U("Hours", !0), wr = {
        calendar: Tn,
        longDateFormat: Cn,
        invalidDate: An,
        ordinal: wn,
        ordinalParse: Rn,
        relativeTime: On,
        months: dr,
        monthsShort: fr,
        week: yr,
        weekdays: vr,
        weekdaysMin: br,
        weekdaysShort: _r,
        meridiemParse: Cr
    }, Rr = {}, Or = {}, Ir = /^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/, Lr = /^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/, kr = /Z|[+-]\d\d(?::?\d\d)?/, Dr = [["YYYYYY-MM-DD", /[+-]\d{6}-\d\d-\d\d/], ["YYYY-MM-DD", /\d{4}-\d\d-\d\d/], ["GGGG-[W]WW-E", /\d{4}-W\d\d-\d/], ["GGGG-[W]WW", /\d{4}-W\d\d/, !1], ["YYYY-DDD", /\d{4}-\d{3}/], ["YYYY-MM", /\d{4}-\d\d/, !1], ["YYYYYYMMDD", /[+-]\d{10}/], ["YYYYMMDD", /\d{8}/], ["GGGG[W]WWE", /\d{4}W\d{3}/], ["GGGG[W]WW", /\d{4}W\d{2}/, !1], ["YYYYDDD", /\d{7}/]], Nr = [["HH:mm:ss.SSSS", /\d\d:\d\d:\d\d\.\d+/], ["HH:mm:ss,SSSS", /\d\d:\d\d:\d\d,\d+/], ["HH:mm:ss", /\d\d:\d\d:\d\d/], ["HH:mm", /\d\d:\d\d/], ["HHmmss.SSSS", /\d\d\d\d\d\d\.\d+/], ["HHmmss,SSSS", /\d\d\d\d\d\d,\d+/], ["HHmmss", /\d\d\d\d\d\d/], ["HHmm", /\d\d\d\d/], ["HH", /\d\d/]], Mr = /^\/?Date\((\-?\d+)/i;
    e.createFromInputFallback = P("value provided is not in a recognized ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.", function(e) {
        e._d = new Date(e._i + (e._useUTC ? " UTC" : ""))
    }),
    e.ISO_8601 = function() {}
    ;
    var xr = P("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/", function() {
        var e = vt.apply(null, arguments);
        return this.isValid() && e.isValid() ? e < this ? this : e : p()
    })
      , Br = P("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/", function() {
        var e = vt.apply(null, arguments);
        return this.isValid() && e.isValid() ? e > this ? this : e : p()
    })
      , Fr = function() {
        return Date.now ? Date.now() : +new Date
    };
    Ct("Z", ":"),
    Ct("ZZ", ""),
    Z("Z", qn),
    Z("ZZ", qn),
    te(["Z", "ZZ"], function(e, t, i) {
        i._useUTC = !0,
        i._tzm = At(qn, e)
    });
    var Vr = /([\+\-]|\d\d)/gi;
    e.updateOffset = function() {}
    ;
    var Ur = /^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/
      , jr = /^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;
    Ut.fn = Et.prototype;
    var Hr = Gt(1, "add")
      , zr = Gt(-1, "subtract");
    e.defaultFormat = "YYYY-MM-DDTHH:mm:ssZ",
    e.defaultFormatUtc = "YYYY-MM-DDTHH:mm:ss[Z]";
    var Gr = P("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.", function(e) {
        return void 0 === e ? this.localeData() : this.locale(e)
    });
    $(0, ["gg", 2], 0, function() {
        return this.weekYear() % 100
    }),
    $(0, ["GG", 2], 0, function() {
        return this.isoWeekYear() % 100
    }),
    Ci("gggg", "weekYear"),
    Ci("ggggg", "weekYear"),
    Ci("GGGG", "isoWeekYear"),
    Ci("GGGGG", "isoWeekYear"),
    M("weekYear", "gg"),
    M("isoWeekYear", "GG"),
    F("weekYear", 1),
    F("isoWeekYear", 1),
    Z("G", Yn),
    Z("g", Yn),
    Z("GG", jn, Bn),
    Z("gg", jn, Bn),
    Z("GGGG", Xn, Vn),
    Z("gggg", Xn, Vn),
    Z("GGGGG", $n, Un),
    Z("ggggg", $n, Un),
    ie(["gggg", "ggggg", "GGGG", "GGGGG"], function(e, t, i, n) {
        t[n.substr(0, 2)] = b(e)
    }),
    ie(["gg", "GG"], function(t, i, n, r) {
        i[r] = e.parseTwoDigitYear(t)
    }),
    $("Q", 0, "Qo", "quarter"),
    M("quarter", "Q"),
    F("quarter", 7),
    Z("Q", xn),
    te("Q", function(e, t) {
        t[ir] = 3 * (b(e) - 1)
    }),
    $("D", ["DD", 2], "Do", "date"),
    M("date", "D"),
    F("date", 9),
    Z("D", jn),
    Z("DD", jn, Bn),
    Z("Do", function(e, t) {
        return e ? t._ordinalParse : t._ordinalParseLenient
    }),
    te(["D", "DD"], nr),
    te("Do", function(e, t) {
        t[nr] = b(e.match(jn)[0], 10)
    });
    var Xr = U("Date", !0);
    $("DDD", ["DDDD", 3], "DDDo", "dayOfYear"),
    M("dayOfYear", "DDD"),
    F("dayOfYear", 4),
    Z("DDD", Gn),
    Z("DDDD", Fn),
    te(["DDD", "DDDD"], function(e, t, i) {
        i._dayOfYear = b(e)
    }),
    $("m", ["mm", 2], 0, "minute"),
    M("minute", "m"),
    F("minute", 14),
    Z("m", jn),
    Z("mm", jn, Bn),
    te(["m", "mm"], sr);
    var $r = U("Minutes", !1);
    $("s", ["ss", 2], 0, "second"),
    M("second", "s"),
    F("second", 15),
    Z("s", jn),
    Z("ss", jn, Bn),
    te(["s", "ss"], or);
    var Wr = U("Seconds", !1);
    $("S", 0, 0, function() {
        return ~~(this.millisecond() / 100)
    }),
    $(0, ["SS", 2], 0, function() {
        return ~~(this.millisecond() / 10)
    }),
    $(0, ["SSS", 3], 0, "millisecond"),
    $(0, ["SSSS", 4], 0, function() {
        return 10 * this.millisecond()
    }),
    $(0, ["SSSSS", 5], 0, function() {
        return 100 * this.millisecond()
    }),
    $(0, ["SSSSSS", 6], 0, function() {
        return 1e3 * this.millisecond()
    }),
    $(0, ["SSSSSSS", 7], 0, function() {
        return 1e4 * this.millisecond()
    }),
    $(0, ["SSSSSSSS", 8], 0, function() {
        return 1e5 * this.millisecond()
    }),
    $(0, ["SSSSSSSSS", 9], 0, function() {
        return 1e6 * this.millisecond()
    }),
    M("millisecond", "ms"),
    F("millisecond", 16),
    Z("S", Gn, xn),
    Z("SS", Gn, Bn),
    Z("SSS", Gn, Fn);
    var Yr;
    for (Yr = "SSSS"; Yr.length <= 9; Yr += "S")
        Z(Yr, Wn);
    for (Yr = "S"; Yr.length <= 9; Yr += "S")
        te(Yr, Ni);
    var Kr = U("Milliseconds", !1);
    $("z", 0, 0, "zoneAbbr"),
    $("zz", 0, 0, "zoneName");
    var qr = y.prototype;
    qr.add = Hr,
    qr.calendar = Wt,
    qr.clone = Yt,
    qr.diff = ti,
    qr.endOf = pi,
    qr.format = oi,
    qr.from = ai,
    qr.fromNow = ci,
    qr.to = li,
    qr.toNow = hi,
    qr.get = z,
    qr.invalidAt = Pi,
    qr.isAfter = Kt,
    qr.isBefore = qt,
    qr.isBetween = Zt,
    qr.isSame = Jt,
    qr.isSameOrAfter = Qt,
    qr.isSameOrBefore = ei,
    qr.isValid = Si,
    qr.lang = Gr,
    qr.locale = ui,
    qr.localeData = di,
    qr.max = Br,
    qr.min = xr,
    qr.parsingFlags = Ei,
    qr.set = G,
    qr.startOf = fi,
    qr.subtract = zr,
    qr.toArray = vi,
    qr.toObject = _i,
    qr.toDate = yi,
    qr.toISOString = ri,
    qr.inspect = si,
    qr.toJSON = bi,
    qr.toString = ni,
    qr.unix = gi,
    qr.valueOf = mi,
    qr.creationData = Ti,
    qr.year = gr,
    qr.isLeapYear = ye,
    qr.weekYear = Ai,
    qr.isoWeekYear = wi,
    qr.quarter = qr.quarters = ki,
    qr.month = he,
    qr.daysInMonth = ue,
    qr.week = qr.weeks = we,
    qr.isoWeek = qr.isoWeeks = Re,
    qr.weeksInYear = Oi,
    qr.isoWeeksInYear = Ri,
    qr.date = Xr,
    qr.day = qr.days = xe,
    qr.weekday = Be,
    qr.isoWeekday = Fe,
    qr.dayOfYear = Di,
    qr.hour = qr.hours = Ar,
    qr.minute = qr.minutes = $r,
    qr.second = qr.seconds = Wr,
    qr.millisecond = qr.milliseconds = Kr,
    qr.utcOffset = Ot,
    qr.utc = Lt,
    qr.local = kt,
    qr.parseZone = Dt,
    qr.hasAlignedHourOffset = Nt,
    qr.isDST = Mt,
    qr.isLocal = Bt,
    qr.isUtcOffset = Ft,
    qr.isUtc = Vt,
    qr.isUTC = Vt,
    qr.zoneAbbr = Mi,
    qr.zoneName = xi,
    qr.dates = P("dates accessor is deprecated. Use date instead.", Xr),
    qr.months = P("months accessor is deprecated. Use month instead", he),
    qr.years = P("years accessor is deprecated. Use year instead", gr),
    qr.zone = P("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/", It),
    qr.isDSTShifted = P("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information", xt);
    var Zr = R.prototype;
    Zr.calendar = O,
    Zr.longDateFormat = I,
    Zr.invalidDate = L,
    Zr.ordinal = k,
    Zr.preparse = Vi,
    Zr.postformat = Vi,
    Zr.relativeTime = D,
    Zr.pastFuture = N,
    Zr.set = A,
    Zr.months = se,
    Zr.monthsShort = oe,
    Zr.monthsParse = ce,
    Zr.monthsRegex = fe,
    Zr.monthsShortRegex = de,
    Zr.week = Te,
    Zr.firstDayOfYear = Ae,
    Zr.firstDayOfWeek = Ce,
    Zr.weekdays = Le,
    Zr.weekdaysMin = De,
    Zr.weekdaysShort = ke,
    Zr.weekdaysParse = Me,
    Zr.weekdaysRegex = Ve,
    Zr.weekdaysShortRegex = Ue,
    Zr.weekdaysMinRegex = je,
    Zr.isPM = We,
    Zr.meridiem = Ye,
    Je("en", {
        ordinalParse: /\d{1,2}(th|st|nd|rd)/,
        ordinal: function(e) {
            var t = e % 10
              , i = 1 === b(e % 100 / 10) ? "th" : 1 === t ? "st" : 2 === t ? "nd" : 3 === t ? "rd" : "th";
            return e + i
        }
    }),
    e.lang = P("moment.lang is deprecated. Use moment.locale instead.", Je),
    e.langData = P("moment.langData is deprecated. Use moment.localeData instead.", tt);
    var Jr = Math.abs
      , Qr = sn("ms")
      , es = sn("s")
      , ts = sn("m")
      , is = sn("h")
      , ns = sn("d")
      , rs = sn("w")
      , ss = sn("M")
      , os = sn("y")
      , as = an("milliseconds")
      , cs = an("seconds")
      , ls = an("minutes")
      , hs = an("hours")
      , us = an("days")
      , ds = an("months")
      , fs = an("years")
      , ps = Math.round
      , ms = {
        s: 45,
        m: 45,
        h: 22,
        d: 26,
        M: 11
    }
      , gs = Math.abs
      , ys = Et.prototype;
    return ys.abs = Yi,
    ys.add = qi,
    ys.subtract = Zi,
    ys.as = nn,
    ys.asMilliseconds = Qr,
    ys.asSeconds = es,
    ys.asMinutes = ts,
    ys.asHours = is,
    ys.asDays = ns,
    ys.asWeeks = rs,
    ys.asMonths = ss,
    ys.asYears = os,
    ys.valueOf = rn,
    ys._bubble = Qi,
    ys.get = on,
    ys.milliseconds = as,
    ys.seconds = cs,
    ys.minutes = ls,
    ys.hours = hs,
    ys.days = us,
    ys.weeks = cn,
    ys.months = ds,
    ys.years = fs,
    ys.humanize = fn,
    ys.toISOString = pn,
    ys.toString = pn,
    ys.toJSON = pn,
    ys.locale = ui,
    ys.localeData = di,
    ys.toIsoString = P("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)", pn),
    ys.lang = Gr,
    $("X", 0, 0, "unix"),
    $("x", 0, 0, "valueOf"),
    Z("x", Yn),
    Z("X", Zn),
    te("X", function(e, t, i) {
        i._d = new Date(1e3 * parseFloat(e, 10))
    }),
    te("x", function(e, t, i) {
        i._d = new Date(b(e))
    }),
    e.version = "2.16.0",
    t(vt),
    e.fn = qr,
    e.min = bt,
    e.max = St,
    e.now = Fr,
    e.utc = h,
    e.unix = Bi,
    e.months = zi,
    e.isDate = o,
    e.locale = Je,
    e.invalid = p,
    e.duration = Ut,
    e.isMoment = v,
    e.weekdays = Xi,
    e.parseZone = Fi,
    e.localeData = tt,
    e.isDuration = Pt,
    e.monthsShort = Gi,
    e.weekdaysMin = Wi,
    e.defineLocale = Qe,
    e.updateLocale = et,
    e.locales = it,
    e.weekdaysShort = $i,
    e.normalizeUnits = x,
    e.relativeTimeRounding = un,
    e.relativeTimeThreshold = dn,
    e.calendarFormat = $t,
    e.prototype = qr,
    e
}),
function(e, t) {
    "object" == typeof exports && "undefined" != typeof module && "function" == typeof require ? t(require("../moment")) : "function" == typeof define && define.amd ? define(["../moment"], t) : t(e.moment)
}(this, function(e) {
    "use strict";
    var t = "ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_")
      , i = "ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_")
      , n = e.defineLocale("es", {
        months: "enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),
        monthsShort: function(e, n) {
            return /-MMM-/.test(n) ? i[e.month()] : t[e.month()]
        },
        monthsParseExact: !0,
        weekdays: "domingo_lunes_martes_miércoles_jueves_viernes_sábado".split("_"),
        weekdaysShort: "dom._lun._mar._mié._jue._vie._sáb.".split("_"),
        weekdaysMin: "do_lu_ma_mi_ju_vi_sá".split("_"),
        weekdaysParseExact: !0,
        longDateFormat: {
            LT: "H:mm",
            LTS: "H:mm:ss",
            L: "DD/MM/YYYY",
            LL: "D [de] MMMM [de] YYYY",
            LLL: "D [de] MMMM [de] YYYY H:mm",
            LLLL: "dddd, D [de] MMMM [de] YYYY H:mm"
        },
        calendar: {
            sameDay: function() {
                return "[hoy a la" + (1 !== this.hours() ? "s" : "") + "] LT"
            },
            nextDay: function() {
                return "[mañana a la" + (1 !== this.hours() ? "s" : "") + "] LT"
            },
            nextWeek: function() {
                return "dddd [a la" + (1 !== this.hours() ? "s" : "") + "] LT"
            },
            lastDay: function() {
                return "[ayer a la" + (1 !== this.hours() ? "s" : "") + "] LT"
            },
            lastWeek: function() {
                return "[el] dddd [pasado a la" + (1 !== this.hours() ? "s" : "") + "] LT"
            },
            sameElse: "L"
        },
        relativeTime: {
            future: "en %s",
            past: "hace %s",
            s: "unos segundos",
            m: "un minuto",
            mm: "%d minutos",
            h: "una hora",
            hh: "%d horas",
            d: "un día",
            dd: "%d días",
            M: "un mes",
            MM: "%d meses",
            y: "un año",
            yy: "%d años"
        },
        ordinalParse: /\d{1,2}º/,
        ordinal: "%dº",
        week: {
            dow: 1,
            doy: 4
        }
    });
    return n
}),
function(e, t) {
    "object" == typeof exports && "object" == typeof module ? module.exports = t() : "function" == typeof define && define.amd ? define([], t) : "object" == typeof exports ? exports.pp = t() : e.pp = t()
}(this, function() {
    return function(e) {
        function t(n) {
            if (i[n])
                return i[n].exports;
            var r = i[n] = {
                i: n,
                l: !1,
                exports: {}
            };
            return e[n].call(r.exports, r, r.exports, t),
            r.l = !0,
            r.exports
        }
        var i = {};
        return t.m = e,
        t.c = i,
        t.i = function(e) {
            return e
        }
        ,
        t.d = function(e, i, n) {
            t.o(e, i) || Object.defineProperty(e, i, {
                configurable: !1,
                enumerable: !0,
                get: n
            })
        }
        ,
        t.n = function(e) {
            var i = e && e.__esModule ? function() {
                return e["default"]
            }
            : function() {
                return e
            }
            ;
            return t.d(i, "a", i),
            i
        }
        ,
        t.o = function(e, t) {
            return Object.prototype.hasOwnProperty.call(e, t)
        }
        ,
        t.p = "assets/",
        t(t.s = 285)
    }([function(e, t, i) {
        "use strict";
        var n = i(13)
          , r = i(245)
          , s = i(72)
          , o = function() {
            function e(e) {
                this._isScalar = !1,
                e && (this._subscribe = e)
            }
            return e.prototype.lift = function(t) {
                var i = new e;
                return i.source = this,
                i.operator = t,
                i
            }
            ,
            e.prototype.subscribe = function(e, t, i) {
                var n = this.operator
                  , s = r.toSubscriber(e, t, i);
                if (n ? n.call(s, this) : s.add(this._subscribe(s)),
                s.syncErrorThrowable && (s.syncErrorThrowable = !1,
                s.syncErrorThrown))
                    throw s.syncErrorValue;
                return s
            }
            ,
            e.prototype.forEach = function(e, t) {
                var i = this;
                if (t || (n.root.Rx && n.root.Rx.config && n.root.Rx.config.Promise ? t = n.root.Rx.config.Promise : n.root.Promise && (t = n.root.Promise)),
                !t)
                    throw new Error("no Promise impl found");
                return new t(function(t, n) {
                    var r = i.subscribe(function(t) {
                        if (r)
                            try {
                                e(t)
                            } catch (i) {
                                n(i),
                                r.unsubscribe()
                            }
                        else
                            e(t)
                    }, n, t)
                }
                )
            }
            ,
            e.prototype._subscribe = function(e) {
                return this.source.subscribe(e)
            }
            ,
            e.prototype[s.$$observable] = function() {
                return this
            }
            ,
            e.create = function(t) {
                return new e(t)
            }
            ,
            e
        }();
        t.Observable = o
    }
    , function(e, t, i) {
        "use strict";
        function n(e) {
            h.GLOBAL_LEVEL = e
        }
        function r(e) {
            h.GLOBAL_SINKS = e
        }
        function s(e) {
            h.GLOBAL_SINKS.push(e)
        }
        var o = i(8);
        !function(e) {
            e[e.ALL = -2147483648] = "ALL",
            e[e.TRACE = 1e3] = "TRACE",
            e[e.INFO = 3e3] = "INFO",
            e[e.WARN = 4e3] = "WARN",
            e[e.ERROR = 5e3] = "ERROR",
            e[e.FATAL = 6e3] = "FATAL",
            e[e.NONE = 2147483647] = "NONE"
        }(t.LogLevel || (t.LogLevel = {}));
        var a = t.LogLevel;
        t.setLogLevel = n,
        t.setLogSinks = r,
        t.addLogSink = s;
        var c = function() {
            function e() {}
            return e.prototype.log = function(t, i, n) {
                n.unshift(i + ":"),
                e.funcMap[t].apply(console, n)
            }
            ,
            e.funcMap = (t = {},
            t[a.TRACE] = console.debug.bind(console),
            t[a.INFO] = console.info.bind(console),
            t[a.WARN] = console.warn.bind(console),
            t[a.ERROR] = console.error.bind(console),
            t[a.FATAL] = console.error.bind(console, "FATAL!"),
            t),
            e;
            var t
        }();
        t.ConsoleSink = c;
        var l = function() {
            function e() {}
            return e.prototype.log = function(e, t, i) {
                i = i.map(function(e) {
                    return o.isObject(e) ? JSON.stringify(e, null, 2) : e
                }),
                c.funcMap[e].call(console, t + ": " + i.join(","))
            }
            ,
            e
        }();
        t.STBConsoleSink = l;
        var h = function() {
            function e(e, t) {
                void 0 === t && (t = {}),
                this._sinks = [],
                this.level = t.level,
                this._name = e,
                this._sinks = t.sinks || []
            }
            return e.prototype._log = function(t, i) {
                var n = this
                  , r = this.level || e.GLOBAL_LEVEL
                  , s = this._sinks.length ? this._sinks : e.GLOBAL_SINKS;
                r !== a.NONE && (r === a.ALL || t >= r) && s.forEach(function(e) {
                    return e.log(t, n._name, i.slice())
                })
            }
            ,
            e.prototype.trace = function() {
                for (var e = [], t = 0; t < arguments.length; t++)
                    e[t - 0] = arguments[t];
                this._log(a.TRACE, e)
            }
            ,
            e.prototype.info = function() {
                for (var e = [], t = 0; t < arguments.length; t++)
                    e[t - 0] = arguments[t];
                this._log(a.INFO, e)
            }
            ,
            e.prototype.warn = function() {
                for (var e = [], t = 0; t < arguments.length; t++)
                    e[t - 0] = arguments[t];
                this._log(a.WARN, e)
            }
            ,
            e.prototype.error = function() {
                for (var e = [], t = 0; t < arguments.length; t++)
                    e[t - 0] = arguments[t];
                this._log(a.ERROR, e)
            }
            ,
            e.prototype.fatal = function() {
                for (var e = [], t = 0; t < arguments.length; t++)
                    e[t - 0] = arguments[t];
                this._log(a.FATAL, e)
            }
            ,
            e.GLOBAL_LEVEL = a.TRACE,
            e.GLOBAL_SINKS = [new c],
            e
        }();
        t.Logger = h
    }
    , function(e, t, i) {
        "use strict";
        function n(e) {
            C = e,
            C.mediator = O;
            for (var t in A)
                A.hasOwnProperty(t) && A[t].options.autostart && h(t)
        }
        function r() {
            d(),
            C = null,
            w = null,
            A = {},
            R = {},
            O = new S
        }
        function s(e) {
            P.extend(R, e)
        }
        function o(e) {
            return !!A[e]
        }
        function a(e, t, i) {
            if ("function" == typeof t) {
                var n = e[0] === e[0].toUpperCase();
                t = n ? new t : t()
            }
            _(e, t) && (A[e] = {
                instance: t,
                apis: [],
                options: i || {},
                destroyCbs: [],
                onDestroy: function(e) {
                    this.destroyCbs.push(e)
                }
            })
        }
        function c() {
            return O
        }
        function l(e, t, i) {
            i = i || {},
            i.plugin = !0,
            a(e, t, i)
        }
        function h(e) {
            for (var t = [], i = 1; i < arguments.length; i++)
                t[i - 1] = arguments[i];
            var n = A[e];
            if (!n)
                return void I.error("Cannot start module " + e + ". No module registered by that name.");
            var r = new L(C,n)
              , s = [r].concat(Array.prototype.slice.call(arguments, 1))
              , o = n.instance;
            return n.sandbox = r,
            o.init.apply(o, s),
            I.info(e + " started."),
            g(n),
            o
        }
        function u(e) {
            var t = A[e];
            if (!t)
                return void I.error("Cannot stop module " + e + ". No module registered by that name.");
            y(t),
            v(t);
            var i = t;
            i.instance.destroy(i.sandbox),
            i.destroyCbs.length && i.destroyCbs.forEach(function(e) {
                return e()
            }),
            I.info(e + " stopped.")
        }
        function d() {
            for (var e in A)
                A.hasOwnProperty(e) && A[e].options.autostart && u(e);
        }
        function f(e) {
            return void 0 === e && (e = {}),
            function(t) {
                return a(t.name, t, e)
            }
        }
        function p(e, t, i) {
            return w.push(t),
            i
        }
        function m(e, t) {
            w.push(t)
        }
        function g(e) {
            e.options.children && e.options.children.forEach(function(t) {
                A[t].parent = e.instance,
                h(t)
            })
        }
        function y(e) {
            e.options.children && e.options.children.forEach(function(e) {
                u(e)
            })
        }
        function v(e) {
            e.apis.forEach(function(e) {
                delete C[e]
            })
        }
        function _(e, t) {
            return t.init && t.destroy ? "function" == typeof t.init && "function" == typeof t.destroy || (I.error(e + ": init and destroy properties must be functions."),
            !1) : (I.error(e + ": both an init and destroy function must be defined."),
            !1)
        }
        function b(e) {
            return T.Observable.fromEvent(O, e)
        }
        var S = i(41)
          , E = i(1)
          , P = i(8)
          , T = i(0);
        i(181),
        i(22);
        var C, A = {}, w = [], R = {}, O = new S, I = new E.Logger("Application");
        t.init = n,
        t.destroy = r,
        t.inject = s,
        t.contains = o,
        t.registerModule = a,
        t.appMediator = c,
        t.registerPlugin = l,
        t.startModule = h,
        t.stopModule = u,
        t.stopModules = d,
        t.register = f,
        t.expose = p,
        t.exposeProp = m;
        var L = function() {
            function e(e, t) {
                if (this._api = e,
                this._mod = t,
                this._mod) {
                    var i = T.Observable.bindCallback(this._mod.onDestroy.bind(this._mod));
                    this._destroyed = i()
                }
                this._init(e)
            }
            return e.prototype._init = function(e) {
                var t = this;
                P.extend(this, R);
                var i = w || [];
                i.forEach(function(i) {
                    "function" == typeof e[i] ? t._setFunction(i) : t._setProperty(i)
                })
            }
            ,
            e.prototype._setFunction = function(e) {
                this[e] = function() {
                    return this.api[e].apply(this._api, arguments)
                }
            }
            ,
            e.prototype._setProperty = function(e) {
                Object.defineProperty(this, e, {
                    get: function() {
                        return this._api[e]
                    }
                })
            }
            ,
            e.prototype.publish = function() {
                O.publish.apply(O, arguments)
            }
            ,
            e.prototype.subscribe = function() {
                return O.subscribe.apply(O, arguments)
            }
            ,
            e.prototype.remove = function() {
               O.remove.apply(O, arguments)
            }
            ,
            e.prototype.addAPI = function(e, t) {
                this._mod.options.plugin ? (C[e] = t,
                this._mod.apis.push(e)) : I.warn("Must register as a plugin to add an API")
            }
            ,
            Object.defineProperty(e.prototype, "parent", {
                get: function() {
                    return this._mod.parent
                },
                enumerable: !0,
                configurable: !0
            }),
            Object.defineProperty(e.prototype, "api", {
                get: function() {
                    return C
                },
                enumerable: !0,
                configurable: !0
            }),
            Object.defineProperty(e.prototype, "destroyed", {
                get: function() {
                    return this._destroyed
                },
                enumerable: !0,
                configurable: !0
            }),
            e
        }();
        t.Sandbox = L,
        t.toObservable = b
    }
    , function(e, t, i) {
        "use strict";
        t.MILLISECONDS_PER_SECOND = 1e3,
        t.BYTES_PER_KILOBYTE = 1024,
        t.FFWD_SET_POSITION_DELAY = 500,
        t.ZOOM_SETTING_NONE = "none",
        t.ZOOM_SETTING_FULL = "full",
        t.STATUS_IDLE = "idle",
        t.STATUS_COMPLETE = "complete",
        t.STATUS_ERROR = "error",
        t.STATUS_INITIALIZED = "initialized",
        t.STATUS_INITIALIZING = "initializing",
        t.STATUS_PREPARING = "preparing",
        t.STATUS_PREPARED = "prepared",
        t.STATUS_PAUSED = "paused",
        t.STATUS_PLAYING = "playing",
        t.STATUS_READY = "ready",
        t.STATUS_SEEKING = "seeking",
        t.STATUS_RELEASED = "released",
        t.STATUS_BUFFERING = "buffering",
        t.STATUS_STOPPING = "stopping",
        t.STATUS_STOPPED = "stopped",
        t.STATUS_SEGMENT_END = "segment_ended",
        t.PRIORITY_TOP = 0,
        t.PRIORITY_HIGH = 1,
        t.PRIORITY_MID = 2,
        t.PRIORITY_LOW = 3
    }
    , function(e, t, i) {
        "use strict";
        function n(e, t, i, n) {
            return d.on(e, t, i, n)
        }
        function r(e, t) {
            d.remove(e, t)
        }
        function s(e) {
            d.publish(e.type, e)
        }
        function o(e) {
            return l.Observable.fromEvent(d, e)
        }
        var a = this && this.__extends || function(e, t) {
            function i() {
                this.constructor = e
            }
            for (var n in t)
                t.hasOwnProperty(n) && (e[n] = t[n]);
            e.prototype = null === t ? Object.create(t) : (i.prototype = t.prototype,
            new i)
        }
          , c = i(1)
          , l = i(0);
        i(22);
        var h = i(41)
          , u = new c.Logger("PlayerPlatformAPIEvent")
          , d = new h;
        t.AD_BREAK_COMPLETE = "AdBreakComplete",
        t.AD_BREAK_EXITED = "AdBreakExited",
        t.AD_BREAK_START = "AdBreakStart",
        t.AD_BREAK_UPCOMING = "AdBreakUpcoming",
        t.AD_COMPLETE = "AdComplete",
        t.AD_ERROR = "AdError",
        t.AD_EXITED = "AdExited",
        t.AD_PROGRESS = "AdProgress",
        t.AD_SEEK = "AdSeek",
        t.AD_START = "AdStart",
        t.AD_SKIPPED = "AdSkipped",
        t.ADS_SKIPPED = "AdsSkipped",
        t.BITRATE_CHANGED = "BitrateChanged",
        t.BUFFER_COMPLETE = "BufferComplete",
        t.BUFFER_START = "BufferStart",
        t.DROPPED_FPS_CHANGED = "DroppedFPSChanged",
        t.DURATION_CHANGED = "DurationChanged",
        t.FPS_CHANGED = "FPSChanged",
        t.FRAGMENT_INFO = "FragmentInfo",
        t.MEDIA_DAI_FALLBACK = "MediaDaiFallback",
        t.MEDIA_ENDED = "MediaEnded",
        t.MEDIA_FAILED = "MediaFailed",
        t.MEDIA_OPENED = "MediaOpened",
        t.MEDIA_RETRY = "MediaRetry",
        t.MEDIA_PROGRESS = "MediaProgress",
        t.MEDIA_WARNING = "MediaWarning",
        t.MISSING_DRM_TOKEN = "MissingDRMToken",
        t.NUMBER_OF_ALTERNATIVE_AUDIO_STREAMS_CHANGED = "NumberOfAlternativeAudioStreamsChanged",
        t.NUMBER_OF_CLOSED_CAPTIONS_STREAMS_CHANGED = "NumberOfClosedCaptionsStreamsChanged",
        t.PLAYBACK_SPEED_CHANGED = "PlaybackSpeedChanged",
        t.PLAYBACK_SPEEDS_CHANGED = "PlaybackSpeedsChanged",
        t.PLAYBACK_STARTED = "PlaybackStarted",
        t.PLAY_STATE_CHANGED = "PlayStateChanged",
        t.SEEK_COMPLETE = "SeekComplete",
        t.SEEK_START = "SeekStart",
        t.DRM_METADATA = "DRMMetadata",
        t.EMERGENCY_ALERT_IDENTIFIED = "EmergencyAlertIdentified",
        t.EMERGENCY_ALERT_EXEMPTED = "EmergencyAlertExempted",
        t.EMERGENCY_ALERT_STARTED = "EmergencyAlertStarted",
        t.EMERGENCY_ALERT_COMPLETE = "EmergencyAlertComplete",
        t.EMERGENCY_ALERT_FAILURE = "EmergencyAlertFailure",
        t.EMERGENCY_ALERT_ERRORED = "EmergencyAlertErrored",
        t.MEDIA_WARNING_TRICKMODE_DISALLOWED = 70,
        t.SPEED_CHANGE_USER_REQUESTED = 0,
        t.SPEED_CHANGE_PROGRAM_BOUNDARY = 1,
        t.SPEED_CHANGE_TSB_BOUNDARY = 2,
        t.SPEED_CHANGE_AD_BOUNDARY = 3;
        var f = function() {
            function e(e) {
                this.type = e
            }
            return e
        }();
        t.PlayerPlatformAPIEvent = f;
        var p = function(e) {
            function i(i) {
                e.call(this, t.AD_BREAK_COMPLETE),
                this.videoAdBreak = i,
                u.trace("new AdBreakCompleteEvent")
            }
            return a(i, e),
            i.fromTrackerEvent = function(e) {
                return u.info("Tracking: AdBreakCompleteEvent", JSON.stringify(e.progress)),
                new i(e.trackable)
            }
            ,
            i
        }(f);
        t.AdBreakCompleteEvent = p;
        var m = function(e) {
            function i(i) {
                u.trace("new AdBreakExitedEvent"),
                e.call(this, t.AD_BREAK_EXITED),
                this.videoAdBreak = i
            }
            return a(i, e),
            i.fromTrackerEvent = function(e) {
                return u.info("Tracking: AdBreakExitedEvent", JSON.stringify(e.progress)),
                new i(e.trackable)
            }
            ,
            i
        }(f);
        t.AdBreakExitedEvent = m;
        var g = function(e) {
            function i(i) {
                e.call(this, t.AD_BREAK_START),
                this.videoAdBreak = i,
                u.trace("new AdBreakStartEvent")
            }
            return a(i, e),
            i.fromTrackerEvent = function(e) {
                return u.info("Tracking: AdBreakStartEvent", JSON.stringify(e.progress)),
                new i(e.trackable)
            }
            ,
            i
        }(f);
        t.AdBreakStartEvent = g;
        var y = function(e) {
            function i(i) {
                e.call(this, t.AD_BREAK_UPCOMING),
                this.videoAdBreak = i,
                u.trace("new AdBreakUpcomingEvent")
            }
            return a(i, e),
            i.fromTrackerEvent = function(e) {
                return u.info("Tracking: AdBreakUpcomingEvent", JSON.stringify(e.progress)),
                new i(e.trackable)
            }
            ,
            i
        }(f);
        t.AdBreakUpcomingEvent = y;
        var v = function(e) {
            function i(i, n, r, s) {
                u.trace("new AdCompleteEvent"),
                e.call(this, t.AD_COMPLETE),
                this.videoAd = i,
                this.progress = n,
                this.rate = r,
                this.position = s
            }
            return a(i, e),
            i.fromTrackerEvent = function(e) {
                var t = e.progress
                  , n = e.trackable
                  , r = t.prev < t.next ? n.duration : 0;
                return u.info("Tracking: AdCompleteEvent", JSON.stringify(e.progress)),
                new i(n,n.getPercentageComplete(t.next),t.nextRate,r)
            }
            ,
            i
        }(f);
        t.AdCompleteEvent = v;
        var _ = function(e) {
            function i(i, n) {
                e.call(this, t.AD_ERROR),
                u.trace("new AdErrorEvent"),
                this.videoAd = i,
                this.error = n
            }
            return a(i, e),
            i
        }(f);
        t.AdErrorEvent = _;
        var b = function(e) {
            function i(i, n, r, s) {
                u.trace("new AdExitedEvent"),
                e.call(this, t.AD_EXITED),
                this.videoAd = i,
                this.progress = n,
                this.rate = r,
                this.position = s
            }
            return a(i, e),
            i.fromTrackerEvent = function(e) {
                var t = e.progress
                  , n = e.trackable
                  , r = t.prev - n.startTime;
                return u.info("Tracking: AdExitedEvent", JSON.stringify(e.progress)),
                new i(n,n.getPercentageComplete(t.prev),t.nextRate,r)
            }
            ,
            i
        }(f);
        t.AdExitedEvent = b;
        var S = function(e) {
            function i(i, n, r, s) {
                e.call(this, t.AD_PROGRESS),
                this.videoAd = i,
                this.progress = n,
                this.rate = r,
                this.position = s
            }
            return a(i, e),
            i.fromTrackerEvent = function(e) {
                var t = e.progress
                  , n = e.trackable
                  , r = t.next - n.startTime;
                return new i(n,n.getPercentageComplete(t.next),t.nextRate,r)
            }
            ,
            i
        }(f);
        t.AdProgressEvent = S;
        var E = function(e) {
            function i(i) {
                u.trace("new AdSeekEvent"),
                e.call(this, t.AD_SEEK),
                this.videoAd = i
            }
            return a(i, e),
            i
        }(f);
        t.AdSeekEvent = E;
        var P = function(e) {
            function i(i, n) {
                e.call(this, t.AD_SKIPPED),
                this.videoAd = i,
                this.rate = n
            }
            return a(i, e),
            i.fromTrackerEvent = function(e) {
                return new i(e.trackable,e.progress.nextRate)
            }
            ,
            i
        }(f);
        t.AdSkippedEvent = P;
        var T = function(e) {
            function i(i, n, r, s) {
                u.trace("new AdStartEvent"),
                e.call(this, t.AD_START),
                this.videoAd = i,
                this.progress = n,
                this.rate = r,
                this.position = s
            }
            return a(i, e),
            i.fromTrackerEvent = function(e) {
                var t = e.progress
                  , n = e.trackable
                  , r = t.seeking ? t.next - n.startTime : t.prev < t.next ? 0 : n.duration;
                return u.info("Tracking: AdStartEvent", JSON.stringify(e.progress)),
                new i(n,n.getPercentageComplete(t.next),t.nextRate,r)
            }
            ,
            i
        }(f);
        t.AdStartEvent = T;
        var C = function(e) {
            function i(i, n) {
                e.call(this, t.ADS_SKIPPED),
                this.videoAds = i,
                this.rate = n
            }
            return a(i, e),
            i
        }(f);
        t.AdsSkippedEvent = C;
        var A = function(e) {
            function i(i, n, r, s) {
                u.trace("new BitrateChangedEvent"),
                e.call(this, t.BITRATE_CHANGED),
                this.bitRate = isNaN(i) ? 0 : i,
                this.changeReason = n,
                this.height = s,
                this.width = r
            }
            return a(i, e),
            i
        }(f);
        t.BitrateChangedEvent = A;
        var w = function(e) {
            function i() {
                u.trace("new BufferCompleteEvent"),
                e.call(this, t.BUFFER_COMPLETE)
            }
            return a(i, e),
            i
        }(f);
        t.BufferCompleteEvent = w;
        var R = function(e) {
            function i() {
                u.trace("new BufferStartEvent"),
                e.call(this, t.BUFFER_START)
            }
            return a(i, e),
            i
        }(f);
        t.BufferStartEvent = R;
        var O = function(e) {
            function i(i) {
                e.call(this, t.DROPPED_FPS_CHANGED),
                this.droppedfps = i
            }
            return a(i, e),
            i
        }(f);
        t.DroppedFPSChangedEvent = O;
        var I = function(e) {
            function i(i) {
                e.call(this, t.DURATION_CHANGED),
                this.duration = i
            }
            return a(i, e),
            i
        }(f);
        t.DurationChangedEvent = I;
        var L = function(e) {
            function i(i) {
                e.call(this, t.FPS_CHANGED),
                this.fps = i
            }
            return a(i, e),
            i
        }(f);
        t.FPSChangedEvent = L;
        var k = function(e) {
            function i(i, n, r, s) {
                e.call(this, t.FRAGMENT_INFO),
                this.downloadDuration = i,
                this.fragmentSize = n,
                this.fragmentUrl = r,
                this.fragmentDuration = s
            }
            return a(i, e),
            i
        }(f);
        t.FragmentInfoEvent = k;
        var D = function(e) {
            function i() {
                u.trace("new MediaEndedEvent"),
                e.call(this, t.MEDIA_ENDED)
            }
            return a(i, e),
            i
        }(f);
        t.MediaEndedEvent = D;
        var N = function(e) {
            function i(i, n) {
                void 0 === n && (n = !0),
                u.trace("new MediaFailedEvent"),
                e.call(this, t.MEDIA_FAILED),
                this.error = i,
                this.retry = n
            }
            return a(i, e),
            i
        }(f);
        t.MediaFailedEvent = N;
        var M = function(e) {
            function i(i) {
                u.trace("new MediaRetryEvent"),
                e.call(this, t.MEDIA_RETRY),
                this.data = i,
                this.retryCount = i.retryCount
            }
            return a(i, e),
            i
        }(f);
        t.MediaRetryEvent = M;
        var x = function(e) {
            function i(i) {
                u.trace("new MediaDaiFallbackEvent"),
                e.call(this, t.MEDIA_DAI_FALLBACK),
                this.data = i
            }
            return a(i, e),
            i
        }(f);
        t.MediaDaiFallbackEvent = x;
        var B = function(e) {
            function i(i, n, r, s, o, a, c, l) {
                u.trace("new MediaOpenedEvent"),
                e.call(this, t.MEDIA_OPENED),
                this.mediaType = i,
                this.playbackSpeeds = n,
                this.availableAudioLanguages = r,
                this.width = s,
                this.height = o,
                this.openingLatency = a,
                this.hasDRM = c,
                this.hasCC = l
            }
            return a(i, e),
            i
        }(f);
        t.MediaOpenedEvent = B;
        var F = function(e) {
            function i(i, n, r, s, o) {
                e.call(this, t.MEDIA_PROGRESS),
                this.position = i,
                this.playbackSpeed = n,
                this.startposition = r,
                this.endposition = s,
                this.updateinterval = o
            }
            return a(i, e),
            i
        }(f);
        t.MediaProgressEvent = F;
        var V = function(e) {
            function i(i) {
                u.trace("new MediaWarningEvent"),
                e.call(this, t.MEDIA_WARNING),
                i.isWarning = !0,
                this.error = i
            }
            return a(i, e),
            i
        }(f);
        t.MediaWarningEvent = V;
        var U = function(e) {
            function i(i) {
                u.trace("new MissingDRMTokenEvent"),
                e.call(this, t.MISSING_DRM_TOKEN),
                this.asset = i
            }
            return a(i, e),
            i
        }(f);
        t.MissingDRMTokenEvent = U;
        var j = function(e) {
            function i(i) {
                u.trace("new NumberOfAlternativeAudioStreamsChangedEvent"),
                e.call(this, t.NUMBER_OF_ALTERNATIVE_AUDIO_STREAMS_CHANGED),
                this.numberOfAlternativeAudioStreams = i
            }
            return a(i, e),
            i
        }(f);
        t.NumberOfAlternativeAudioStreamsChangedEvent = j;
        var H = function(e) {
            function i(i) {
                u.trace("new NumberOfClosedCaptionsStreamsChanged"),
                e.call(this, t.NUMBER_OF_CLOSED_CAPTIONS_STREAMS_CHANGED),
                this.numberOfClosedCaptionsStreams = i
            }
            return a(i, e),
            i
        }(f);
        t.NumberOfClosedCaptionsStreamsChanged = H;
        var z = function(e) {
            function i(i, n) {
                u.trace("new PlaybackSpeedChangedEvent"),
                e.call(this, t.PLAYBACK_SPEED_CHANGED),
                this.playbackSpeed = i,
                this.reason = n || t.SPEED_CHANGE_USER_REQUESTED
            }
            return a(i, e),
            i
        }(f);
        t.PlaybackSpeedChangedEvent = z;
        var G = function(e) {
            function i(i) {
                u.trace("new PlaybackSpeedsChangedEvent: " + JSON.stringify(i)),
                e.call(this, t.PLAYBACK_SPEEDS_CHANGED),
                this.playbackSpeeds = i
            }
            return a(i, e),
            i
        }(f);
        t.PlaybackSpeedsChangedEvent = G;
        var X = function(e) {
            function i() {
                u.trace("new PlaybackStarted"),
                e.call(this, t.PLAYBACK_STARTED)
            }
            return a(i, e),
            i
        }(f);
        t.PlaybackStartedEvent = X;
        var $ = function(e) {
            function i(i) {
                u.trace("new PlayStateChangedEvent"),
                e.call(this, t.PLAY_STATE_CHANGED),
                this.playState = i
            }
            return a(i, e),
            i
        }(f);
        t.PlayStateChangedEvent = $;
        var W = function(e) {
            function i(i) {
                u.trace("new SeekCompleteEvent"),
                e.call(this, t.SEEK_COMPLETE),
                this.position = i
            }
            return a(i, e),
            i
        }(f);
        t.SeekCompleteEvent = W;
        var Y = function(e) {
            function i(i) {
                u.trace("new SeekStartEvent"),
                e.call(this, t.SEEK_START),
                this.position = i
            }
            return a(i, e),
            i
        }(f);
        t.SeekStartEvent = Y;
        var K = function(e) {
            function i() {
                u.trace("new DRMMetadataEvent"),
                e.call(this, t.DRM_METADATA)
            }
            return a(i, e),
            i
        }(f);
        t.DRMMetadataEvent = K;
        var q = function(e) {
            function i(i, n) {
                u.trace("new EmergencyAlertIdentifiedEvent"),
                e.call(this, t.EMERGENCY_ALERT_IDENTIFIED),
                this.easLanguage = i,
                this.easURI = n
            }
            return a(i, e),
            i
        }(f);
        t.EmergencyAlertIdentifiedEvent = q;
        var Z = function(e) {
            function i(i, n) {
                u.trace("new EmergencyAlertExemptedEvent"),
                e.call(this, t.EMERGENCY_ALERT_EXEMPTED),
                this.easLanguage = i,
                this.easURI = n
            }
            return a(i, e),
            i
        }(f);
        t.EmergencyAlertExemptedEvent = Z;
        var J = function(e) {
            function i(i, n) {
                u.trace("new EmergencyAlertStartedEvent"),
                e.call(this, t.EMERGENCY_ALERT_STARTED),
                this.easLanguage = i,
                this.easURI = n
            }
            return a(i, e),
            i
        }(f);
        t.EmergencyAlertStartedEvent = J;
        var Q = function(e) {
            function i(i, n) {
                u.trace("new EmergencyAlertCompleteEvent"),
                e.call(this, t.EMERGENCY_ALERT_COMPLETE),
                this.easLanguage = i,
                this.easURI = n
            }
            return a(i, e),
            i
        }(f);
        t.EmergencyAlertCompleteEvent = Q;
        var ee = function(e) {
            function i(i, n, r) {
                u.trace("new EmergencyAlertFailureEvent"),
                e.call(this, t.EMERGENCY_ALERT_FAILURE),
                this.easCode = i,
                this.easLanguage = n,
                this.easURI = r
            }
            return a(i, e),
            i
        }(f);
        t.EmergencyAlertFailureEvent = ee;
        var te = function(e) {
            function i(i, n, r) {
                u.trace("new EmergencyAlertErroredEvent"),
                e.call(this, t.EMERGENCY_ALERT_ERRORED),
                this.easCode = i,
                this.easLanguage = n,
                this.easURI = r
            }
            return a(i, e),
            i
        }(f);
        t.EmergencyAlertErroredEvent = te,
        t.addEventListener = n,
        t.removeEventListener = r,
        t.dispatchEvent = s,
        t.on = n,
        t.off = r,
        t.emit = s,
        t.toObservable = o
    }
    , function(e, t, i) {
        "use strict";
        var n = this && this.__extends || function(e, t) {
            function i() {
                this.constructor = e
            }
            for (var n in t)
                t.hasOwnProperty(n) && (e[n] = t[n]);
            e.prototype = null === t ? Object.create(t) : (i.prototype = t.prototype,
            new i)
        }
          , r = i(74)
          , s = i(17)
          , o = i(178)
          , a = i(73)
          , c = function(e) {
            function t(i, n, r) {
                switch (e.call(this),
                this.syncErrorValue = null,
                this.syncErrorThrown = !1,
                this.syncErrorThrowable = !1,
                this.isStopped = !1,
                arguments.length) {
                case 0:
                    this.destination = o.empty;
                    break;
                case 1:
                    if (!i) {
                        this.destination = o.empty;
                        break
                    }
                    if ("object" == typeof i) {
                        i instanceof t ? (this.destination = i,
                        this.destination.add(this)) : (this.syncErrorThrowable = !0,
                        this.destination = new l(this,i));
                        break
                    }
                default:
                    this.syncErrorThrowable = !0,
                    this.destination = new l(this,i,n,r)
                }
            }
            return n(t, e),
            t.prototype[a.$$rxSubscriber] = function() {
                return this
            }
            ,
            t.create = function(e, i, n) {
                var r = new t(e,i,n);
                return r.syncErrorThrowable = !1,
                r
            }
            ,
            t.prototype.next = function(e) {
                this.isStopped || this._next(e)
            }
            ,
            t.prototype.error = function(e) {
                this.isStopped || (this.isStopped = !0,
                this._error(e))
            }
            ,
            t.prototype.complete = function() {
                this.isStopped || (this.isStopped = !0,
                this._complete())
            }
            ,
            t.prototype.unsubscribe = function() {
                this.closed || (this.isStopped = !0,
                e.prototype.unsubscribe.call(this))
            }
            ,
            t.prototype._next = function(e) {
                this.destination.next(e)
            }
            ,
            t.prototype._error = function(e) {
                this.destination.error(e),
                this.unsubscribe()
            }
            ,
            t.prototype._complete = function() {
                this.destination.complete(),
                this.unsubscribe()
            }
            ,
            t
        }(s.Subscription);
        t.Subscriber = c;
        var l = function(e) {
            function t(t, i, n, s) {
                e.call(this),
                this._parent = t;
                var o, a = this;
                r.isFunction(i) ? o = i : i && (a = i,
                o = i.next,
                n = i.error,
                s = i.complete,
                r.isFunction(a.unsubscribe) && this.add(a.unsubscribe.bind(a)),
                a.unsubscribe = this.unsubscribe.bind(this)),
                this._context = a,
                this._next = o,
                this._error = n,
                this._complete = s
            }
            return n(t, e),
            t.prototype.next = function(e) {
                if (!this.isStopped && this._next) {
                    var t = this._parent;
                    t.syncErrorThrowable ? this.__tryOrSetError(t, this._next, e) && this.unsubscribe() : this.__tryOrUnsub(this._next, e)
                }
            }
            ,
            t.prototype.error = function(e) {
                if (!this.isStopped) {
                    var t = this._parent;
                    if (this._error)
                        t.syncErrorThrowable ? (this.__tryOrSetError(t, this._error, e),
                        this.unsubscribe()) : (this.__tryOrUnsub(this._error, e),
                        this.unsubscribe());
                    else {
                        if (!t.syncErrorThrowable)
                            throw this.unsubscribe(),
                            e;
                        t.syncErrorValue = e,
                        t.syncErrorThrown = !0,
                        this.unsubscribe()
                    }
                }
            }
            ,
            t.prototype.complete = function() {
                if (!this.isStopped) {
                    var e = this._parent;
                    this._complete ? e.syncErrorThrowable ? (this.__tryOrSetError(e, this._complete),
                    this.unsubscribe()) : (this.__tryOrUnsub(this._complete),
                    this.unsubscribe()) : this.unsubscribe()
                }
            }
            ,
            t.prototype.__tryOrUnsub = function(e, t) {
                try {
                    e.call(this._context, t)
                } catch (i) {
                    throw this.unsubscribe(),
                    i
                }
            }
            ,
            t.prototype.__tryOrSetError = function(e, t, i) {
                try {
                    t.call(this._context, i)
                } catch (n) {
                    return e.syncErrorValue = n,
                    e.syncErrorThrown = !0,
                    !0
                }
                return !1
            }
            ,
            t.prototype._unsubscribe = function() {
                var e = this._parent;
                this._context = null,
                this._parent = null,
                e.unsubscribe()
            }
            ,
            t
        }(c)
    }
    , function(e, t, i) {
        "use strict";
        function n(e) {
            for (var t = [], i = 1; i < arguments.length; i++)
                t[i - 1] = arguments[i];
            if (!t.length || !e)
                return e;
            for (var r = 0, s = t; r < s.length; r++)
                for (var o = s[r], a = 0, c = Object.keys(o); a < c.length; a++) {
                    var l = c[a];
                    e[l] && "object" == typeof o[l] ? e[l] = n(e[l], o[l]) : void 0 !== o[l] && (e[l] = o[l])
                }
            return e
        }
        var r, s = i(49), o = i(41), a = i(1), c = i(8), l = i(170), h = function() {
            function e() {
                this.values = {},
                this._logger = new a.Logger("ConfigurationManager"),
                this._mediator = new o
            }
            return e.prototype.addEventListener = function(e, t, i) {
                return this._mediator.on(e, t, {}, i)
            }
            ,
            e.prototype.removeEventListener = function(e, t) {
                this._mediator.off(e, t)
            }
            ,
            e.prototype.onSuccess = function(t, i) {
                return this.addEventListener(e.SUCCESS, t, i)
            }
            ,
            e.prototype.onFailure = function(t, i) {
                return this.addEventListener(e.ERROR, t, i)
            }
            ,
            e.prototype.isReady = function() {
                return this._isReady
            }
            ,
            e.prototype.loadConfiguration = function(t, i) {
                var n = this;
                void 0 === t && (t = l),
                this._logger.trace("loadConfiguration: " + JSON.stringify(t, null, 2)),
                "string" == typeof t ? this.load(t, function(r) {
                    return r ? void (i ? n.loadConfiguration(i) : (n._isReady = !1,
                    n._logger.error("Error loading config file at " + t),
                    n._mediator.publish(e.ERROR, r.toString(), t))) : void n.success()
                }) : (this.loadValues(t),
                this.success())
            }
            ,
            e.prototype.extendConfiguration = function() {
                for (var e = [], t = 0; t < arguments.length; t++)
                    e[t - 0] = arguments[t];
                for (var i = 0, r = e; i < r.length; i++) {
                    var s = r[i]
                      , o = this.values[s];
                    o && "object" == typeof o && (this.values = n({}, this.values, o, this.values.user || {}))
                }
            }
            ,
            e.prototype.destroy = function() {
                this.values = {},
                this._isReady = !1,
                r = null
            }
            ,
            e.prototype.get = function(e, t) {
                var i = t;
                return this.values.hasOwnProperty(e) ? i = this.values[e] : (this._logger.warn("get: " + e + " not found, using default value: " + t),
                i = t),
                i
            }
            ,
            e.prototype.getByAssetType = function(e, t, i) {
                var n = c.getNestedProperty(this.values, e + "." + t);
                return n ? n : (this._logger.warn("get: " + t + " not found, using default value: " + i),
                i)
            }
            ,
            e.prototype.update = function(e, t) {
                this.values.user || (this.values.user = {}),
                "string" == typeof e ? this.values.user[e] = t : n(this.values.user, e),
                n(this.values, this.values.user)
            }
            ,
            e.getInstance = function() {
                return r || (r = new e),
                r
            }
            ,
            e.prototype.load = function(e, t) {
                var i = this;
                s.get(e).end(function(e, n) {
                    if (e || !n.text)
                        return void t(e || "no response text");
                    try {
                        i.loadValues(JSON.parse(n.text))
                    } catch (r) {
                        return void t(r.toString())
                    }
                    t()
                })
            }
            ,
            e.prototype.loadValues = function(t) {
                this.values = n({}, l, t),
                this.values.defaultAsset = this.loadDefaultParams(this.values),
                this.extendConfiguration(e.DEFAULT_ASSET)
            }
            ,
            e.prototype.success = function() {
                this._isReady = !0,
                this._mediator.publish(e.SUCCESS, this.values)
            }
            ,
            e.prototype.loadDefaultParams = function(e) {
                var t = l.defaultAsset;
                if (e.defaultAsset)
                    return n({}, t, e.defaultAsset);
                var i = Object.keys(t)
                  , r = i.filter(function(t) {
                    return e.hasOwnProperty(t)
                }).reduce(function(t, i) {
                    return t[i] = e[i],
                    t
                }, {});
                return n({}, t, r)
            }
            ,
            e.PLAYER_NETWORK_REQUEST_TIMEOUT = "playerNetworkRequestTimeout",
            e.HEARTBEAT_INTERVAL = "heartbeatInterval",
            e.AUTOPLAY = "autoplay",
            e.MAXIMUM_BITRATE = "maximumBitrate",
            e.MINIMUM_BITRATE = "minimumBitrate",
            e.INITIAL_BITRATE = "initialBitrate",
            e.INITIAL_POLICY = "initialPolicy",
            e.INITIAL_BUFFER_TIME = "initialBufferTime",
            e.PLAYING_VOD_BUFFER_TIME = "playingVODBufferTime",
            e.PLAYING_LINEAR_BUFFER_TIME = "playingLinearBufferTime",
            e.PLAYING_POLICY = "playingPolicy",
            e.RETRY_INTERVAL = "retryInterval",
            e.MAXIMUM_RETRIES = "maximumRetries",
            e.MANIFEST_MANIPULATOR_RETRIES = "manifestManipulatorRetries",
            e.MANIFEST_MANIPULATOR_TIMEOUT = "manifestManipulatorTimeout",
            e.NETWORK_DOWN_TIMEOUT = "networkDownTimeout",
            e.RETRY_ON_MEDIA_FAILED = "retryOnMediaFailed",
            e.UPDATE_INTERVAL = "updateInterval",
            e.PARTNER_ID = "partnerId",
            e.ENABLE_ADS = "enableAds",
            e.ENABLE_ADS_VERSION = "enableAdsVersion",
            e.WATERMARK = "watermark",
            e.DEFAULT_ENGINE = "defaultEngine",
            e.DD_PLUS = "ddPlus",
            e.CROSS_STREAM_PREVENTION = "crossStreamPrevention",
            e.TRICKPLAY_MAX_FPS = "trickPlayMaxFps",
            e.CBS_SWF_URL = "cbsSwfUrl",
            e.CBS_CHROMELESS_PATH = "cbsChromelessPath",
            e.CBS_PARTNER = "cbsPartner",
            e.DISNEY_SWF_URL = "disneySwfUrl",
            e.DISNEY_CHROMELESS_PATH = "disneyChromelessPath",
            e.DISNEY_PARTNER = "disneyPartner",
            e.DRM_SWF_URL = "drmSwfUrl",
            e.ESPN_SWF_URL = "espnSwfUrl",
            e.ESPN_CHROMELESS_PATH = "espnChromelessPath",
            e.ESPN_PARTNER = "espnPartner",
            e.ESPN_CONFIG_URL = "espnConfigUrl",
            e.GLOBAL_TOKENS_URL = "globalTokensUrl",
            e.SWF_URL = "swfUrl",
            e.HULU_NEW_SITE_URL_STD = "huluNewSiteUrlStd",
            e.HULU_NEW_SITE_URL_WIDE = "huluNewSiteUrlWide",
            e.EAS_NETWORK_REQUEST_TIMEOUT = "easNetworkRequestTimeout",
            e.ZIPS_TO_FIPS_END_POINT = "zipToFipsEndPoint",
            e.ALERT_SERVICE_END_POINT = "alertServiceEndPoint",
            e.EAS_UPDATE_INTERVAL = "easUpdateInterval",
            e.EAS_ALERT_REPEAT = "easAlertRepeat",
            e.EAS_ALERT_FONT_SIZE = "easAlertFontSize",
            e.EAS_ALERT_FONT = "easAlertFont",
            e.EAS_ENABLED = "easEnabled",
            e.ANALYTICS_NETWORK_REQUEST_TIMEOUT = "analyticsNetworkRequestTimeout",
            e.ANALYTICS_END_POINT = "analyticsEndPoint",
            e.ANALYTICS_PROTOCOL = "analyticsProtocol",
            e.ANALYTICS_DEVICE_TYPE = "analyticsDeviceType",
            e.MAX_BATCH_SIZE = "maxBatchSize",
            e.MAX_QUEUE_SIZE = "maxQueueSize",
            e.BATCH_INTERVAL = "batchInterval",
            e.DRM_ENABLED = "drmEnabled",
            e.DRM_NETWORK_REQUEST_TIMEOUT = "drmNetworkRequestTimeout",
            e.CIMA_END_POINT = "cimaEndPoint",
            e.METADATA_END_POINT = "metadataEndPoint",
            e.PRODUCT_TYPE = "productType",
            e.DOMAIN_ID = "domainId",
            e.ZONE_ID = "zoneId",
            e.CUSTOM_PARAMS = "customParams",
            e.AUDITUDE_TIMEOUT = "auditudeTimeout",
            e.HANDLE_CLICKS = "handleClicks",
            e.PLACEMENT_REQUEST_END_POINT = "placementRequestEndPoint",
            e.PLACEMENT_STATUS_NOTIFICATION_URL_END_POINT = "placementStatusNotificationEndPoint",
            e.TIMEOUT = 1e4,
            e.ZOOM = "zoom",
            e.AUDIO_LANGUAGE = "audioLanguage",
            e.DEFAULT_ASSET = "defaultAsset",
            e.DEFAULT_INITIAL_BUFFER_TIME = 250,
            e.DEFAULT_PLAYING_BUFFER_TIME = 12e3,
            e.DEFAULT_PLAYING_VOD_BUFFER_TIME = 12e3,
            e.DEFAULT_PLAYING_LINEAR_BUFFER_TIME = 12e3,
            e.ERROR = "configurationFailure",
            e.ERROR_EVENT_TYPE = e.ERROR,
            e.SUCCESS = "configurationLoaded",
            e.SUCCESS_EVENT_TYPE = e.SUCCESS,
            e
        }();
        t.ConfigurationManager = h
    }
    , function(e, t, i) {
        var n = i(84)("wks")
          , r = i(63)
          , s = i(9).Symbol
          , o = "function" == typeof s
          , a = e.exports = function(e) {
            return n[e] || (n[e] = o && s[e] || (o ? s : r)("Symbol." + e))
        }
        ;
        a.store = n
    }
    , function(e, t, i) {
        "use strict";
        function n(e) {
            for (var t = [], i = 1; i < arguments.length; i++)
                t[i - 1] = arguments[i];
            var n = arguments.length;
            if (n < 2 || !e)
                return e;
            for (var r = 1; r < n; r++)
                for (var s = arguments[r], o = Object.keys(s), a = o.length, c = 0; c < a; c++) {
                    var l = o[c];
                    e[l] = s[l]
                }
            return e
        }
        function r(e) {
            var t = typeof e;
            return "function" === t || "object" === t && !!e
        }
        function s(e) {
            for (var t = /[?&]([^=#]+)=([^&#]*)/g, i = {}, n = t.exec(e); n; )
                i[n[1]] = decodeURIComponent(n[2]),
                n = t.exec(e);
            return i
        }
        function o(e, t) {
            return void 0 === e && (e = ""),
            e.split("?")[0] + "?" + a(t)
        }
        function a(e) {
            return Object.keys(e).map(function(t) {
                return encodeURIComponent(t) + "=" + encodeURIComponent(e[t])
            }).join("&")
        }
        function c(e) {
            for (var t = window.location.search.substring(1), i = t.split("&"), n = 0; n < i.length; n++) {
                var r = i[n].split("=");
                if (decodeURIComponent(r[0]) == e && r[1])
                    return decodeURIComponent(r[1])
            }
            console.warn("getQueryVariable: Query variable " + e + " not found")
        }
        function l(e, t) {
            return Object.keys(e).filter(function(i) {
                return e[i] === t
            })[0]
        }
        function h(e, t) {
            if (e && "object" == typeof e) {
                if ("string" == typeof t) {
                    t = t.replace(/\[(\d+)\]/g, ".$1");
                    var i = t.split(".");
                    return i.reduce(function(e, t) {
                        return e && e[t]
                    }, e)
                }
                return "number" == typeof t ? e[t] : e
            }
            return e
        }
        function u(e, t) {
            if (!e || !t)
                return !1;
            if (e.length != t.length)
                return !1;
            for (var i = 0, n = e.length; i < n; i++)
                if (e[i] !== t[i])
                    return !1;
            return !0
        }
        function d() {
            var e = function() {
                return Math.floor(65536 * (1 + Math.random())).toString(16).substring(1)
            };
            return "" + e() + e() + "-" + e() + "-" + e() + "-" + e() + "-" + e() + e() + e()
        }
        function f(e) {
            var t = e || new Date
              , i = -t.getTimezoneOffset()
              , n = i >= 0 ? "+" : "-"
              , r = function(e) {
                var t = Math.abs(Math.floor(e));
                return (t < 10 ? "0" : "") + t
            }
              , s = function(e) {
                var t = Math.abs(Math.floor(e));
                return (t < 10 ? "00" : t < 100 ? "0" : "") + t
            };
            return t.getFullYear() + "-" + r(t.getMonth() + 1) + "-" + r(t.getDate()) + "T" + r(t.getHours()) + ":" + r(t.getMinutes()) + ":" + r(t.getSeconds()) + "." + s(t.getMilliseconds()) + n + r(i / 60) + ":" + r(i % 60)
        }
        function p(e) {
            (new Image).src = e
        }
        function m() {
            return Math.floor(Math.random() * _)
        }
        function g() {
            var e = ""
              , t = m();
            return 0 != (t & b) && (t &= ~b,
            e += "-"),
            e += y([v(t), m().toString()])
        }
        function y(e) {
            for (var t = Math.max.apply(null, e.map(function(e) {
                return e.length
            })), i = [], n = 1, r = 0; n <= t; ) {
                var s = "";
                e.forEach(function(e) {
                    e.length - n >= 0 && (r += +e.charAt(e.length - n))
                }),
                s = r.toString(),
                i.unshift(s.charAt(s.length - 1)),
                r = Math.floor(r / 10),
                n += 1
            }
            return r && i.unshift(r.toString()),
            i.join("")
        }
        function v(e) {
            if (e >= Math.pow(2, 53) / 9)
                throw "unsupported number for 32b shift.";
            for (var t = Math.pow(2, 32).toString(), i = [], n = 0; n < t.length; n++) {
                var r = e * +t.charAt(n) + Array(t.length - n).join("0");
                i.push(r)
            }
            return y(i)
        }
        t.extend = n,
        t.isObject = r,
        t.parseQueryParams = s,
        t.replaceQueryParams = o,
        t.toQueryParams = a,
        t.getQueryVariable = c,
        t.keyForValue = l,
        t.getNestedProperty = h,
        t.arrayEquals = u,
        t.createGUID = d,
        t.formatLocalDateTimeStamp = f,
        t.imageSource = p;
        var _ = Math.pow(2, 32) - 1
          , b = 2147483648;
        t.randomLong = g,
        t.sumToString = y,
        t.thirtyTwoBitShiftToString = v
    }
    , function(e, t) {
        var i = e.exports = "undefined" != typeof window && window.Math == Math ? window : "undefined" != typeof self && self.Math == Math ? self : Function("return this")();
        "number" == typeof __g && (__g = i)
    }
    , function(e, t, i) {
        "use strict";
        t.MPX_ERROR = 7510;
        var n = function() {
            function e(e, t, i, n) {
                void 0 === n && (n = !1),
                this.major = e,
                this.minor = t,
                this.description = i,
                this.isWarning = n
            }
            return Object.defineProperty(e.prototype, "code", {
                get: function() {
                    return void 0 === this.minor || null === this.minor ? "" + this.major : this.major + "." + this.minor
                },
                enumerable: !0,
                configurable: !0
            }),
            e.prototype.toString = function() {
                return this.description ? "[" + this.code + "] " + this.description : "[" + this.code + "]"
            }
            ,
            e
        }();
        t.PPError = n
    }
    , function(e, t) {
        var i;
        i = function() {
            return this
        }();
        try {
            i = i || Function("return this")() || (0,
            eval)("this")
        } catch (n) {
            "object" == typeof window && (i = window)
        }
        e.exports = i
    }
    , function(e, t, i) {
        "use strict";
        var n = i(0)
          , r = i(235);
        n.Observable.prototype.takeUntil = r.takeUntil
    }
    , function(e, t, i) {
        "use strict";
        (function(e) {
            var i = {
                "boolean": !1,
                "function": !0,
                object: !0,
                number: !1,
                string: !1,
                undefined: !1
            };
            t.root = i[typeof self] && self || i[typeof window] && window;
            var n = i[typeof e] && e;
            !n || n.global !== n && n.window !== n || (t.root = n)
        }
        ).call(t, i(11))
    }
    , function(e, t, i) {
        "use strict";
        var n = this && this.__extends || function(e, t) {
            function i() {
                this.constructor = e
            }
            for (var n in t)
                t.hasOwnProperty(n) && (e[n] = t[n]);
            e.prototype = null === t ? Object.create(t) : (i.prototype = t.prototype,
            new i)
        }
          , r = i(0)
          , s = i(5)
          , o = i(17)
          , a = i(98)
          , c = i(180)
          , l = i(73)
          , h = function(e) {
            function t(t) {
                e.call(this, t),
                this.destination = t
            }
            return n(t, e),
            t
        }(s.Subscriber);
        t.SubjectSubscriber = h;
        var u = function(e) {
            function t() {
                e.call(this),
                this.observers = [],
                this.closed = !1,
                this.isStopped = !1,
                this.hasError = !1,
                this.thrownError = null
            }
            return n(t, e),
            t.prototype[l.$$rxSubscriber] = function() {
                return new h(this)
            }
            ,
            t.prototype.lift = function(e) {
                var t = new d(this,this);
                return t.operator = e,
                t
            }
            ,
            t.prototype.next = function(e) {
                if (this.closed)
                    throw new a.ObjectUnsubscribedError;
                if (!this.isStopped)
                    for (var t = this.observers, i = t.length, n = t.slice(), r = 0; r < i; r++)
                        n[r].next(e)
            }
            ,
            t.prototype.error = function(e) {
                if (this.closed)
                    throw new a.ObjectUnsubscribedError;
                this.hasError = !0,
                this.thrownError = e,
                this.isStopped = !0;
                for (var t = this.observers, i = t.length, n = t.slice(), r = 0; r < i; r++)
                    n[r].error(e);
                this.observers.length = 0
            }
            ,
            t.prototype.complete = function() {
                if (this.closed)
                    throw new a.ObjectUnsubscribedError;
                this.isStopped = !0;
                for (var e = this.observers, t = e.length, i = e.slice(), n = 0; n < t; n++)
                    i[n].complete();
                this.observers.length = 0
            }
            ,
            t.prototype.unsubscribe = function() {
                this.isStopped = !0,
                this.closed = !0,
                this.observers = null
            }
            ,
            t.prototype._subscribe = function(e) {
                if (this.closed)
                    throw new a.ObjectUnsubscribedError;
                return this.hasError ? (e.error(this.thrownError),
                o.Subscription.EMPTY) : this.isStopped ? (e.complete(),
                o.Subscription.EMPTY) : (this.observers.push(e),
                new c.SubjectSubscription(this,e))
            }
            ,
            t.prototype.asObservable = function() {
                var e = new r.Observable;
                return e.source = this,
                e
            }
            ,
            t.create = function(e, t) {
                return new d(e,t)
            }
            ,
            t
        }(r.Observable);
        t.Subject = u;
        var d = function(e) {
            function t(t, i) {
                e.call(this),
                this.destination = t,
                this.source = i
            }
            return n(t, e),
            t.prototype.next = function(e) {
                var t = this.destination;
                t && t.next && t.next(e)
            }
            ,
            t.prototype.error = function(e) {
                var t = this.destination;
                t && t.error && this.destination.error(e)
            }
            ,
            t.prototype.complete = function() {
                var e = this.destination;
                e && e.complete && this.destination.complete()
            }
            ,
            t.prototype._subscribe = function(e) {
                var t = this.source;
                return t ? this.source.subscribe(e) : o.Subscription.EMPTY
            }
            ,
            t
        }(u);
        t.AnonymousSubject = d
    }
    , function(e, t, i) {
        "use strict";
        var n = i(1)
          , r = function() {
            function e(e) {
                void 0 === e && (e = []),
                this.logger = new n.Logger("VideoAdBreak"),
                this.ads = [],
                e.forEach(this.addAd.bind(this))
            }
            return Object.defineProperty(e.prototype, "startTime", {
                get: function() {
                    return this.ads[0] ? this.ads[0].startTime : 0
                },
                enumerable: !0,
                configurable: !0
            }),
            Object.defineProperty(e.prototype, "duration", {
                get: function() {
                    return this.ads.reduce(function(e, t) {
                        return e + t.duration
                    }, 0)
                },
                enumerable: !0,
                configurable: !0
            }),
            Object.defineProperty(e.prototype, "endTime", {
                get: function() {
                    return this.startTime + this.duration
                },
                enumerable: !0,
                configurable: !0
            }),
            Object.defineProperty(e.prototype, "watched", {
                get: function() {
                    for (var e = 0, t = this.ads; e < t.length; e++) {
                        var i = t[e];
                        if (!i.watched)
                            return !1
                    }
                    return !0
                },
                set: function(e) {
                    for (var t = 0, i = this.ads; t < i.length; t++) {
                        var n = i[t];
                        e ? e && 0 === n.seenCount && (n.seenCount = 1) : n.seenCount = 0
                    }
                },
                enumerable: !0,
                configurable: !0
            }),
            Object.defineProperty(e.prototype, "adCount", {
                get: function() {
                    return this.ads.length
                },
                enumerable: !0,
                configurable: !0
            }),
            e.prototype.addAd = function(e) {
                return this.logger.trace("addAd"),
                (!this.ads.length || e.startTime === this.endTime || this.startTime === e.endTime) && (this.ads.push(e),
                this.ads = this.ads.sort(function(e, t) {
                    return e.startTime - t.startTime
                }),
                !0)
            }
            ,
            e.prototype.containsAd = function(e) {
                var t = !1;
                this.logger.trace("containsAd");
                for (var i = 0; i < this.ads.length; ++i)
                    if (this.ads[i] === e) {
                        t = !0,
                        this.logger.trace("containsAd: returning true!");
                        break
                    }
                return t
            }
            ,
            e.prototype.coversLocation = function(e) {
                var t = !1;
                return this.startTime !== -1 && this.startTime <= e && e < this.endTime && (t = !0),
                t
            }
            ,
            e.prototype.isInRange = function(e, t) {
                return e <= this.startTime && this.startTime <= t
            }
            ,
            e.prototype.getAdByTime = function(e) {
                var t, i;
                for (this.logger.trace("getAdByTime: " + e),
                i = 0; i < this.ads.length; ++i)
                    if (this.ads[i].coversLocation(e)) {
                        t = this.ads[i];
                        break
                    }
                return t
            }
            ,
            e.prototype.getAdById = function(e) {
                var t, i;
                for (this.logger.trace("getAdById: " + e),
                i = 0; i < this.ads.length; ++i)
                    if (this.ads[i].id === e) {
                        t = this.ads[i];
                        break
                    }
                return t
            }
            ,
            e.prototype.speedIsAllowed = function(e) {
                for (var t = 0, i = this.ads; t < i.length; t++) {
                    var n = i[t];
                    if (!n.speedIsAllowed(e))
                        return this.logger.trace("speedIsAllowed: false -- speed=" + e),
                        !1
                }
                return this.logger.trace("speedIsAllowed: true -- speed=" + e),
                !0
            }
            ,
            e.prototype.seekIsAllowed = function(e, t) {
                for (var i = 0, n = this.ads; i < n.length; i++) {
                    var r = n[i];
                    if (!r.seekIsAllowed(e, t))
                        return this.logger.trace("seekIsAllowed: false -- target=" + t),
                        !1
                }
                return this.logger.trace("seekIsAllowed: true -- target=" + t),
                !0
            }
            ,
            e.prototype.getSeekLimit = function(e, t) {
                var i = this.seekIsAllowed(e, t);
                return i ? t : this.coversLocation(e) ? e : this.startTime
            }
            ,
            e
        }();
        t.VideoAdBreak = r
    }
    , function(e, t, i) {
        "use strict";
        var n = this && this.__extends || function(e, t) {
            function i() {
                this.constructor = e
            }
            for (var n in t)
                t.hasOwnProperty(n) && (e[n] = t[n]);
            e.prototype = null === t ? Object.create(t) : (i.prototype = t.prototype,
            new i)
        }
          , r = i(5)
          , s = function(e) {
            function t() {
                e.apply(this, arguments)
            }
            return n(t, e),
            t.prototype.notifyNext = function(e, t, i, n, r) {
                this.destination.next(t)
            }
            ,
            t.prototype.notifyError = function(e, t) {
                this.destination.error(e)
            }
            ,
            t.prototype.notifyComplete = function(e) {
                this.destination.complete()
            }
            ,
            t
        }(r.Subscriber);
        t.OuterSubscriber = s
    }
    , function(e, t, i) {
        "use strict";
        var n = i(48)
          , r = i(243)
          , s = i(74)
          , o = i(34)
          , a = i(24)
          , c = i(242)
          , l = function() {
            function e(e) {
                this.closed = !1,
                e && (this._unsubscribe = e)
            }
            return e.prototype.unsubscribe = function() {
                var e, t = !1;
                if (!this.closed) {
                    this.closed = !0;
                    var i = this
                      , l = i._unsubscribe
                      , h = i._subscriptions;
                    if (this._subscriptions = null,
                    s.isFunction(l)) {
                        var u = o.tryCatch(l).call(this);
                        u === a.errorObject && (t = !0,
                        (e = e || []).push(a.errorObject.e))
                    }
                    if (n.isArray(h))
                        for (var d = -1, f = h.length; ++d < f; ) {
                            var p = h[d];
                            if (r.isObject(p)) {
                                var u = o.tryCatch(p.unsubscribe).call(p);
                                if (u === a.errorObject) {
                                    t = !0,
                                    e = e || [];
                                    var m = a.errorObject.e;
                                    m instanceof c.UnsubscriptionError ? e = e.concat(m.errors) : e.push(m)
                                }
                            }
                        }
                    if (t)
                        throw new c.UnsubscriptionError(e)
                }
            }
            ,
            e.prototype.add = function(t) {
                if (!t || t === e.EMPTY)
                    return e.EMPTY;
                if (t === this)
                    return this;
                var i = t;
                switch (typeof t) {
                case "function":
                    i = new e(t);
                case "object":
                    if (i.closed || "function" != typeof i.unsubscribe)
                        break;
                    this.closed ? i.unsubscribe() : (this._subscriptions || (this._subscriptions = [])).push(i);
                    break;
                default:
                    throw new Error("unrecognized teardown " + t + " added to Subscription.")
                }
                return i
            }
            ,
            e.prototype.remove = function(t) {
                if (null != t && t !== this && t !== e.EMPTY) {
                    var i = this._subscriptions;
                    if (i) {
                        var n = i.indexOf(t);
                        n !== -1 && i.splice(n, 1)
                    }
                }
            }
            ,
            e.EMPTY = function(e) {
                return e.closed = !0,
                e
            }(new e),
            e
        }();
        t.Subscription = l
    }
    , function(e, t, i) {
        "use strict";
        var n = i(0)
          , r = i(95);
        n.Observable.prototype.map = r.map
    }
    , function(e, t, i) {
        "use strict";
        function n(e, t, i, n) {
            var u = new l.InnerSubscriber(e,i,n);
            if (u.closed)
                return null;
            if (t instanceof a.Observable)
                return t._isScalar ? (u.next(t.value),
                u.complete(),
                null) : t.subscribe(u);
            if (s.isArray(t)) {
                for (var d = 0, f = t.length; d < f && !u.closed; d++)
                    u.next(t[d]);
                u.closed || u.complete()
            } else {
                if (o.isPromise(t))
                    return t.then(function(e) {
                        u.closed || (u.next(e),
                        u.complete())
                    }, function(e) {
                        return u.error(e)
                    }).then(null, function(e) {
                        r.root.setTimeout(function() {
                            throw e
                        })
                    }),
                    u;
                if ("function" == typeof t[c.$$iterator])
                    for (var p = t[c.$$iterator](); ; ) {
                        var m = p.next();
                        if (m.done) {
                            u.complete();
                            break
                        }
                        if (u.next(m.value),
                        u.closed)
                            break
                    }
                else if ("function" == typeof t[h.$$observable]) {
                    var g = t[h.$$observable]();
                    if ("function" == typeof g.subscribe)
                        return g.subscribe(new l.InnerSubscriber(e,i,n));
                    u.error(new Error("invalid observable"))
                } else
                    u.error(new TypeError("unknown type returned"))
            }
            return null
        }
        var r = i(13)
          , s = i(48)
          , o = i(101)
          , a = i(0)
          , c = i(71)
          , l = i(177)
          , h = i(72);
        t.subscribeToResult = n
    }
    , function(e, t, i) {
        var n = i(39);
        e.exports = function(e) {
            if (!n(e))
                throw TypeError(e + " is not an object!");
            return e
        }
    }
    , function(e, t, i) {
        var n = i(40)
          , r = i(83);
        e.exports = i(27) ? function(e, t, i) {
            return n.f(e, t, r(1, i))
        }
        : function(e, t, i) {
            return e[t] = i,
            e
        }
    }
    , function(e, t, i) {
        "use strict";
        var n = i(0)
          , r = i(211);
        n.Observable.fromEvent = r.fromEvent
    }
    , function(e, t, i) {
        "use strict";
        var n = i(0)
          , r = i(224);
        n.Observable.prototype.filter = r.filter
    }
    , function(e, t, i) {
        "use strict";
        t.errorObject = {
            e: {}
        }
    }
    , function(e, t, i) {
        "use strict";
        var n = i(1)
          , r = i(108)
          , s = function() {
            function e(e, t, i, r) {
                void 0 === r && (r = {}),
                this.logger = new n.Logger("VideoAd"),
                this.seenCount = 0,
                this.vpaid = !1,
                this.restrictions = [],
                r = r || {},
                this.id = e,
                this.startTime = t,
                this.duration = i,
                this.clickThrough = r.clickThrough,
                this.companionAds = r.companionAds || [],
                this.vpaid = r.vpaid || !1
            }
            return Object.defineProperty(e.prototype, "watched", {
                get: function() {
                    return this.seenCount > 0
                },
                enumerable: !0,
                configurable: !0
            }),
            Object.defineProperty(e.prototype, "endTime", {
                get: function() {
                    return this.startTime + this.duration
                },
                enumerable: !0,
                configurable: !0
            }),
            Object.defineProperty(e.prototype, "seekable", {
                get: function() {
                    return !this.restrictions.filter(function(e) {
                        return e.mode === r["default"].MODE_FFWD
                    }).length
                },
                enumerable: !0,
                configurable: !0
            }),
            Object.defineProperty(e.prototype, "pausable", {
                get: function() {
                    return !this.restrictions.filter(function(e) {
                        return e.mode === r["default"].MODE_PAUSE
                    }).length
                },
                enumerable: !0,
                configurable: !0
            }),
            Object.defineProperty(e.prototype, "restrictionLimits", {
                get: function() {
                    return this.restrictions.reduce(function(e, t) {
                        return e[t.mode] = t.limit,
                        e
                    }, new r.RestrictionLimits)
                },
                enumerable: !0,
                configurable: !0
            }),
            e.prototype.coversLocation = function(e) {
                var t = !1;
                return this.startTime !== -1 && this.startTime <= e && e < this.endTime && (t = !0),
                t
            }
            ,
            e.prototype.isInRange = function(e, t) {
                return e <= this.startTime && this.startTime <= t
            }
            ,
            e.prototype.incrementSeenCount = function() {
                this.logger.trace("incrementSeenCount: " + this.seenCount),
                ++this.seenCount
            }
            ,
            e.prototype.getPercentageComplete = function(e) {
                var t = 0;
                return t = e < this.startTime || 0 === this.duration ? 0 : e > this.startTime + this.duration ? 100 : (e - this.startTime) / this.duration * 100
            }
            ,
            e.prototype.speedIsAllowed = function(e) {
                if (1 === e)
                    return !0;
                if (0 === e)
                    return this.pausable;
                var t = this.restrictionLimits
                  , i = e < 0 ? t.rewind : t.fastForward;
                return i >= 0 && this.seenCount >= i
            }
            ,
            e.prototype.seekIsAllowed = function(e, t) {
                var i = e < t
                  , n = this.restrictionLimits
                  , r = i ? n.fastForward : n.rewind
                  , s = r >= 0 && this.seenCount >= r;
                return this.logger.trace("seekIsAllowed: " + s + " -- target=" + t + ", limit=" + r + ", seenCount=" + this.seenCount),
                s
            }
            ,
            e
        }();
        t.VideoAd = s
    }
    , function(e, t) {
        var i = e.exports = {
            version: "2.4.0"
        };
        "number" == typeof __e && (__e = i)
    }
    , function(e, t, i) {
        e.exports = !i(79)(function() {
            return 7 != Object.defineProperty({}, "a", {
                get: function() {
                    return 7
                }
            }).a
        })
    }
    , function(e, t) {
        var i = {}.hasOwnProperty;
        e.exports = function(e, t) {
            return i.call(e, t)
        }
    }
    , function(e, t) {
        e.exports = {}
    }
    , function(e, t, i) {
        var n = i(9)
          , r = i(21)
          , s = i(28)
          , o = i(63)("src")
          , a = "toString"
          , c = Function[a]
          , l = ("" + c).split(a);
        i(26).inspectSource = function(e) {
            return c.call(e)
        }
        ,
        (e.exports = function(e, t, i, a) {
            var c = "function" == typeof i;
            c && (s(i, "name") || r(i, "name", t)),
            e[t] !== i && (c && (s(i, o) || r(i, o, e[t] ? "" + e[t] : l.join(String(t)))),
            e === n ? e[t] = i : a ? e[t] ? e[t] = i : r(e, t, i) : (delete e[t],
            r(e, t, i)))
        }
        )(Function.prototype, a, function() {
            return "function" == typeof this && this[o] || c.call(this)
        })
    }
    , function(e, t, i) {
        "use strict";
        var n = i(0)
          , r = i(96);
        n.Observable.prototype.merge = r.merge
    }
    , function(e, t, i) {
        "use strict";
        var n = this && this.__extends || function(e, t) {
            function i() {
                this.constructor = e
            }
            for (var n in t)
                t.hasOwnProperty(n) && (e[n] = t[n]);
            e.prototype = null === t ? Object.create(t) : (i.prototype = t.prototype,
            new i)
        }
          , r = i(0)
          , s = function(e) {
            function t(t) {
                e.call(this),
                this.scheduler = t
            }
            return n(t, e),
            t.create = function(e) {
                return new t(e)
            }
            ,
            t.dispatch = function(e) {
                var t = e.subscriber;
                t.complete()
            }
            ,
            t.prototype._subscribe = function(e) {
                var i = this.scheduler;
                return i ? i.schedule(t.dispatch, 0, {
                    subscriber: e
                }) : void e.complete()
            }
            ,
            t
        }(r.Observable);
        t.EmptyObservable = s
    }
    , function(e, t, i) {
        "use strict";
        function n(e) {
            return e && "function" == typeof e.schedule
        }
        t.isScheduler = n
    }
    , function(e, t, i) {
        "use strict";
        function n() {
            try {
                return s.apply(this, arguments)
            } catch (e) {
                return o.errorObject.e = e,
                o.errorObject
            }
        }
        function r(e) {
            return s = e,
            n
        }
        var s, o = i(24);
        t.tryCatch = r
    }
    , function(e, t, i) {
        "use strict";
        var n = function() {
            function e() {
                this.version = "0.1"
            }
            return e.prototype.getVersion = function() {
                return this.version
            }
            ,
            e.prototype.getDefaultStyle = function() {
                return {
                    fontStyle: e.FONTSTYLE_MONOSPACED_SERIF,
                    textEdgeColor: e.COLOR_WHITE,
                    textEdgeStyle: e.EDGE_NONE,
                    textForegroundColor: e.COLOR_WHITE,
                    textForegroundOpacity: e.OPACITY_SOLID,
                    textBackgroundColor: e.COLOR_BLACK,
                    textBackgroundOpacity: e.OPACITY_TRANSPARENT,
                    penItalicized: "false",
                    penUnderline: "false",
                    penSize: e.PENSIZE_STANDARD,
                    windowBorderEdgeColor: e.COLOR_BLACK,
                    windowBorderEdgeStyle: e.EDGE_NONE,
                    windowFillColor: e.COLOR_BLACK,
                    windowFillOpacity: e.OPACITY_TRANSPARENT,
                    bottomInset: e.INSET_DEFAULT
                }
            }
            ,
            e.prototype.toFontSize = function(t) {
                switch (t) {
                case e.PENSIZE_STANDARD:
                    return e.STANDARD_FONT_SIZE;
                case e.PENSIZE_SMALL:
                    return Math.round(e.STANDARD_FONT_SIZE * e.SMALL_SCALE);
                case e.PENSIZE_LARGE:
                    return Math.round(e.STANDARD_FONT_SIZE * e.LARGE_SCALE)
                }
            }
            ,
            e.prototype.toFontSizeByVideoHeight = function(t, i) {
                var n = 1;
                switch (t) {
                case e.PENSIZE_STANDARD:
                    n = 1;
                    break;
                case e.PENSIZE_SMALL:
                    n = .75;
                    break;
                case e.PENSIZE_LARGE:
                    n = 42 / 32
                }
                return Math.round(.0533 * i / 1.3 * n)
            }
            ,
            e.prototype.toPenSize = function(t) {
                return t <= Math.round(e.STANDARD_FONT_SIZE * e.SMALL_SCALE) ? e.PENSIZE_SMALL : t >= Math.round(e.STANDARD_FONT_SIZE * e.LARGE_SCALE) ? e.PENSIZE_LARGE : e.PENSIZE_STANDARD
            }
            ,
            e.prototype.colorNameToHexValue = function(t) {
                return e.COLOR_NAME_MAP[t]
            }
            ,
            e.prototype.hexValueToColorName = function(t) {
                return e.COLOR_HEX_MAP[t]
            }
            ,
            e.COLOR_DEFAULT = "default",
            e.COLOR_BLACK = "black",
            e.COLOR_BLUE = "blue",
            e.COLOR_CYAN = "cyan",
            e.COLOR_GRAY = "gray",
            e.COLOR_GREEN = "green",
            e.COLOR_MAGENTA = "magenta",
            e.COLOR_RED = "red",
            e.COLOR_WHITE = "white",
            e.COLOR_YELLOW = "yellow",
            e.COLOR_BRIGHT_BLUE = "bright_blue",
            e.COLOR_BRIGHT_CYAN = "bright_cyan",
            e.COLOR_BRIGHT_GREEN = "bright_green",
            e.COLOR_BRIGHT_MAGENTA = "bright_magenta",
            e.COLOR_BRIGHT_RED = "bright_red",
            e.COLOR_BRIGHT_WHITE = "bright_white",
            e.COLOR_BRIGHT_YELLOW = "bright_yellow",
            e.COLOR_DARK_BLUE = "dark_blue",
            e.COLOR_DARK_CYAN = "dark_cyan",
            e.COLOR_DARK_GREEN = "dark_green",
            e.COLOR_DARK_MAGENTA = "dark_magenta",
            e.COLOR_DARK_RED = "dark_red",
            e.COLOR_DARK_YELLOW = "dark_yellow",
            e.EDGE_NONE = "none",
            e.EDGE_RAISED = "raised",
            e.EDGE_DEPRESSED = "depressed",
            e.EDGE_UNIFORM = "uniform",
            e.EDGE_DROP_SHADOW_LEFT = "drop_shadow_left",
            e.EDGE_DROP_SHADOW_RIGHT = "drop_shadow_right",
            e.FONTSTYLE_DEFAULT = "default",
            e.FONTSTYLE_MONOSPACED_SERIF = "monospaced_serif",
            e.FONTSTYLE_PROPORTIONAL_SERIF = "proportional_serif",
            e.FONTSTYLE_MONOSPACED_SANSERIF = "monospaced_sanserif",
            e.FONTSTYLE_PROPORTIONAL_SANSERIF = "proportional_sanserif",
            e.FONTSTYLE_CASUAL = "casual",
            e.FONTSTYLE_CURSIVE = "cursive",
            e.FONTSTYLE_SMALL_CAPITALS = "smallcaps",
            e.OPACITY_SOLID = "solid",
            e.OPACITY_FLASH = "flash",
            e.OPACITY_TRANSLUCENT = "translucent",
            e.OPACITY_TRANSPARENT = "transparent",
            e.PENSIZE_SMALL = "small",
            e.PENSIZE_STANDARD = "standard",
            e.PENSIZE_LARGE = "large",
            e.INSET_DEFAULT = "0",
            e.INSET_PIXEL_STRING = "pixelValue",
            e.INSET_PERCENT_STRING = "percentvalue%",
            e.SMALL_SCALE = .8,
            e.STANDARD_SCALE = 1,
            e.LARGE_SCALE = 1.2,
            e.STANDARD_FONT_SIZE = 26,
            e.COLOR_NAME_MAP = {
                "default": "#ffffff",
                black: "#000000",
                blue: "#0000c0",
                gray: "#808080",
                green: "#00c000",
                cyan: "#00c0c0",
                red: "#c00000",
                magenta: "#c000c0",
                yellow: "#c0c000",
                white: "#c0c0c0",
                bright_blue: "#0000ff",
                bright_cyan: "#00ffff",
                bright_green: "#00ff00",
                bright_magenta: "#ff00ff",
                bright_red: "#ff0000",
                bright_white: "#ffffff",
                bright_yellow: "#ffff00",
                dark_blue: "#000040",
                dark_cyan: "#004040",
                dark_green: "#004000",
                dark_magenta: "#400040",
                dark_red: "#400000",
                dark_yellow: "#404000"
            },
            e.COLOR_HEX_MAP = {
                "#000000": "black",
                "#000040": "dark_blue",
                "#0000c0": "blue",
                "#0000ff": "bright_blue",
                "#004000": "dark_green",
                "#004040": "dark_cyan",
                "#00c000": "green",
                "#00c0c0": "cyan",
                "#00ff00": "bright_green",
                "#00ffff": "bright_cyan",
                "#400000": "dark_red",
                "#400040": "dark_magenta",
                "#404000": "dark_yellow",
                "#808080": "gray",
                "#c00000": "red",
                "#c000c0": "magenta",
                "#c0c000": "yellow",
                "#c0c0c0": "white",
                "#ff0000": "bright_red",
                "#ff00ff": "bright_magenta",
                "#ffff00": "bright_yellow",
                "#ffffff": "bright_white"
            },
            e
        }();
        t.PlayerPlatformCCStyle = n
    }
    , function(e, t, i) {
        "use strict";
        var n = this && this.__extends || function(e, t) {
            function i() {
                this.constructor = e
            }
            for (var n in t)
                t.hasOwnProperty(n) && (e[n] = t[n]);
            e.prototype = null === t ? Object.create(t) : (i.prototype = t.prototype,
            new i)
        }
          , r = i(10)
          , s = i(1)
          , o = i(4)
          , a = i(3)
          , c = i(25)
          , l = i(15)
          , h = i(8)
          , u = i(251)
          , d = i(0);
        i(183),
        i(43),
        i(188),
        i(44),
        i(18),
        i(12);
        var f = i(3)
          , p = function() {
            function e() {
                this.subscribedTags = [],
                this.adBreaks = [],
                this.ads = [],
                this.logger = new s.Logger("AdManager")
            }
            return e.prototype.init = function(e, t, i) {
                return void 0 === t && (t = {}),
                void 0 === i && (i = !1),
                this.sandbox = e,
                this.cfg = t,
                e.addAPI("getTimeline", this.getTimeline.bind(this)),
                e.addAPI("getMediaSegments", this.getMediaSegments.bind(this)),
                e.addAPI("getSupportedPlaybackSpeeds", this.getSupportedPlaybackSpeeds.bind(this)),
                e.subscribe("api:setAsset", this.onSetAsset, {
                    priority: a.PRIORITY_MID
                }, this),
                i && (this.handleAdEvents(),
                e.subscribe("api:setPosition", this.onSetPosition, {
                    priority: a.PRIORITY_HIGH
                }, this),
                e.subscribe("api:setSpeed", this.onSetSpeed, {
                    priority: a.PRIORITY_HIGH
                }, this),
                e.subscribe("api:pause", this.onPause, {
                    priority: a.PRIORITY_HIGH
                }, this)),
                this
            }
            ,
            e.prototype.destroy = function(e) {
                e.remove("api:setAsset", this.onSetAsset),
                e.remove("api:setPosition", this.onSetPosition),
                e.remove("api:setSpeed", this.onSetSpeed),
                e.remove("api:pause", this.onPause),
                o.removeEventListener(o.MEDIA_ENDED, this.onMediaEnded),
                o.removeEventListener(o.MEDIA_OPENED, this.onMediaOpened),
                o.removeEventListener(o.PLAYBACK_SPEED_CHANGED, this.onPlaybackSpeedChanged),
                o.removeEventListener(o.AD_BREAK_COMPLETE, this.onAdBreakComplete),
                o.removeEventListener(o.AD_BREAK_EXITED, this.onAdBreakExited),
                o.removeEventListener(o.AD_COMPLETE, this.onAdComplete),
                o.removeEventListener(o.AD_BREAK_UPCOMING, this.onUpcomingAdBreak),
                this.playspeedChanged && this.playspeedChanged.unsubscribe(),
                this.reset()
            }
            ,
            e.prototype.handleAdEvents = function() {
                o.addEventListener(o.MEDIA_ENDED, this.onMediaEnded, {}, this),
                o.addEventListener(o.MEDIA_OPENED, this.onMediaOpened, {
                    priority: a.PRIORITY_HIGH
                }, this),
                o.addEventListener(o.PLAYBACK_SPEED_CHANGED, this.onPlaybackSpeedChanged, {
                    priority: a.PRIORITY_HIGH
                }, this),
                o.addEventListener(o.AD_BREAK_COMPLETE, this.onAdBreakComplete, {
                    priority: a.PRIORITY_HIGH
                }, this),
                o.addEventListener(o.AD_BREAK_EXITED, this.onAdBreakExited, {
                    priority: a.PRIORITY_HIGH
                }, this),
                o.addEventListener(o.AD_COMPLETE, this.onAdComplete, {
                    priority: a.PRIORITY_HIGH
                }, this),
                o.addEventListener(o.AD_BREAK_UPCOMING, this.onUpcomingAdBreak, {
                    priority: a.PRIORITY_HIGH
                }, this)
            }
            ,
            e.prototype.onSetAsset = function(e) {
                this.reset(),
                e.isContentPosition && (this.logger.warn("Modifying resumePosition with ad offset."),
                this.logger.warn("Original position: ", e.resumePosition),
                e.resumePosition += this.getAdBreakDeltaFrom(e.resumePosition),
                this.logger.warn("New position: ", e.resumePosition)),
                this.asset = e,
                e.adMetadata = this.getMetadata(),
                e.subscribedTags = this.subscribedTags.concat(e.subscribedTags)
            }
            ,
            e.prototype.onSetPosition = function(e, t, i) {
                if (!t) {
                    i.stopPropagation();
                    var n = this.sandbox.getCurrentPosition()
                      , s = this.getNewSeekPosition(n, e);
                    if (s === n || this.upcomingAdBreak) {
                        this.logger.info("setPosition: seek disallowed by AdManager");
                        var a = new r.PPError(o.MEDIA_WARNING_TRICKMODE_DISALLOWED,null,"seek not allowed by current segment");
                        return void o.dispatchEvent(new o.MediaWarningEvent(a))
                    }
                    s !== e && (this.deferredSeek = e,
                    this.logger.info("setPosition: deferredSeek = target")),
                    this.logger.info("setPosition: start=" + n + " target=" + e + " limit=" + s),
                    this.sandbox.publish("ads:setPosition", s)
                }
            }
            ,
            e.prototype.onSetSpeed = function(e, t) {
                var i = this.getCurrentAd();
                if (i && !i.speedIsAllowed(e) || 1 !== e && this.upcomingAdBreak) {
                    this.logger.info("setSpeed: speed disallowed by TrickModeRestriction"),
                    t.stopPropagation();
                    var n = new r.PPError(o.MEDIA_WARNING_TRICKMODE_DISALLOWED,null,"speed change not allowed by current segment");
                    o.dispatchEvent(new o.MediaWarningEvent(n))
                } else if (!i && e > 1) {
                    var s = this.getTrickModeDisallowedAdInRange(e);
                    s && (this.logger.info("Starting playback of trickmode restricted Ad"),
                    t.stopPropagation(),
                    this.sandbox.publish("api:setPosition", s.startTime))
                }
            }
            ,
            e.prototype.onPause = function(e) {
                var t = this.getCurrentAd();
                if (t && !t.pausable) {
                    this.logger.info("pause disallowed by TrickModeRestriction"),
                    e.stopPropagation();
                    var i = new r.PPError(o.MEDIA_WARNING_TRICKMODE_DISALLOWED,null,"pause not allowed by current ad");
                    o.dispatchEvent(new o.MediaWarningEvent(i))
                }
            }
            ,
            e.prototype.onMediaOpened = function(e) {
                this.setupSpeedsChangedEvent(),
                e.numAds = this.ads.length
            }
            ,
            e.prototype.addAd = function(e, t, i, n) {
                void 0 === n && (n = {}),
                this.logger.trace("addAd: id=" + e + " time=" + t + " duration=" + i + " options=" + JSON.stringify(n)),
                this.ads.push(new c.VideoAd(e,t,i,n))
            }
            ,
            e.prototype.adCoversLocation = function(e) {
                for (var t = 0; t < this.adBreaks.length; ++t)
                    if (this.adBreaks[t].coversLocation(e))
                        return !0;
                return !1
            }
            ,
            e.prototype.getResumePositionNoAds = function(e) {
                var t = this.adBreaks.filter(function(t) {
                    return t.coversLocation(e) && (e = t.endTime),
                    t.endTime <= e
                });
                if (!t.length)
                    return e;
                for (var i = 0, n = 0, r = t; n < r.length; n++) {
                    var s = r[n];
                    i += s.duration
                }
                return e - i
            }
            ,
            e.prototype.getClosestAdBreak = function(e) {
                for (var t, i = 0, n = this.adBreaks; i < n.length; i++) {
                    var r = n[i];
                    e >= r.startTime && (!t || r.startTime >= t.startTime) && (t = r)
                }
                return t
            }
            ,
            e.prototype.onAdBreakComplete = function() {
                1 === this.sandbox.getCurrentPlaybackSpeed() && this.deferredSeek && !this.adCoversLocation(this.deferredSeek) && this.sandbox.publish("ads:setPosition", this.deferredSeek),
                this.deferredSeek = null
            }
            ,
            e.prototype.onAdBreakExited = function() {
                this.deferredSeek = null
            }
            ,
            e.prototype.onAdComplete = function(e) {
                1 === e.rate && e.videoAd.incrementSeenCount()
            }
            ,
            e.prototype.onPlaybackSpeedChanged = function(e) {
                this.upcomingAdBreak && !this.upcomingAdBreak.speedIsAllowed(this.currentPlaybackSpeed) && (e.reason = o.SPEED_CHANGE_AD_BOUNDARY,
                this.upcomingAdBreak = null),
                this.currentPlaybackSpeed = e.playbackSpeed
            }
            ,
            e.prototype.onUpcomingAdBreak = function(e) {
                var t = e.videoAdBreak
                  , i = this.sandbox.getCurrentPlaybackSpeed();
                t.speedIsAllowed(i) || this.sandbox.publish("api:setPosition", e.videoAdBreak.startTime)
            }
            ,
            e.prototype.onMediaEnded = function() {
                this.deferredSeek = null
            }
            ,
            e.prototype.getMetadata = function() {
                return {
                    adType: this.type
                }
            }
            ,
            e.prototype.getTimeline = function() {
                return this.adBreaks
            }
            ,
            e.prototype.getSupportedPlaybackSpeeds = function() {
                var e = this.sandbox.player.getSupportedPlaybackSpeeds()
                  , t = this.getCurrentAd();
                return t ? e.filter(function(e) {
                    return t.speedIsAllowed(e)
                }) : e
            }
            ,
            e.prototype.isAdPlaying = function() {
                return !!this.getCurrentAdBreak()
            }
            ,
            e.prototype.getNewSeekPosition = function(e, t) {
                return t
            }
            ,
            e.prototype.reset = function() {
                this.deferredSeek = null,
                this.ads = []
            }
            ,
            e.prototype.getCurrentAdBreak = function() {
                var e = this;
                return this.adBreaks.filter(function(t) {
                    return t.coversLocation(e.sandbox.getCurrentPosition())
                })[0]
            }
            ,
            e.prototype.getCurrentAd = function() {
                var e = this;
                return this.adBreaks.map(function(e) {
                    return e.ads
                }).reduce(function(e, t) {
                    return e.concat(t)
                }, []).filter(function(t) {
                    return t.coversLocation(e.sandbox.getCurrentPosition())
                })[0]
            }
            ,
            e.prototype.getTrickModeDisallowedAdInRange = function(e) {
                var t = this.sandbox.getCurrentPosition();
                return this.adBreaks.map(function(e) {
                    return e.ads
                }).reduce(function(e, t) {
                    return e.concat(t)
                }, []).filter(function(i) {
                    return !i.speedIsAllowed(e) && i.isInRange(t, t + e * f.MILLISECONDS_PER_SECOND)
                })[0]
            }
            ,
            e.prototype.getMediaSegments = function() {
                return this.ads.length && !this.adBreaks.length && (this.adBreaks = e.sortIntoAdBreaks(this.ads)),
                this.adBreaks.length ? (this.logger.trace("creating media segments"),
                u.MediaSegment.createSegments(this.adBreaks, this.sandbox.asset, this.sandbox.getDuration())) : []
            }
            ,
            e.prototype.getAdBreakDeltaFrom = function(e) {
                void 0 === e && (e = 0);
                var t = 0;
                return this.adBreaks.forEach(function(i) {
                    e >= i.endTime ? t += i.duration : e > i.startTime && (t -= e - i.startTime)
                }),
                t
            }
            ,
            e.sortIntoAdBreaks = function(e) {
                return e.length ? e.sort(function(e, t) {
                    return e.startTime - t.startTime
                }).reduce(function(e, t) {
                    var i = e[e.length - 1];
                    return i.addAd(t) || (i = new l.VideoAdBreak,
                    i.addAd(t),
                    e.push(i)),
                    e
                }, [new l.VideoAdBreak]) : []
            }
            ,
            e.prototype.setupSpeedsChangedEvent = function() {
                var e = this
                  , t = this.sandbox.streams
                  , i = t.adStarts
                  , n = t.adCompletes
                  , r = t.adExiteds;
                this.playspeedChanged = d.Observable.merge(i, n, r).takeUntil(this.sandbox.streams.getPlayState(a.STATUS_IDLE)).map(function() {
                    return e.getSupportedPlaybackSpeeds()
                }).distinctUntilChanged(h.arrayEquals).map(function(e) {
                    return new o.PlaybackSpeedsChangedEvent(e)
                })["catch"](function(t, i) {
                    return e.logger.error("error firing speeds changed:", t),
                    d.Observable.empty()
                }).subscribe(o.emit)
            }
            ,
            e.prototype.getContentFactory = function() {
                return null
            }
            ,
            e.prototype.hasContentFactory = function() {
                return !1
            }
            ,
            e
        }();
        t.AdManager = p;
        var m = function(e) {
            function t() {
                e.apply(this, arguments)
            }
            return n(t, e),
            t.prototype.getClosestStartTime = function(e) {
                return e.startTime
            }
            ,
            t.prototype.getNewSeekPosition = function(e, t) {
                if (this.isAdPlaying() && !this.getCurrentAdBreak().watched && t > e)
                    return e;
                var i = this.getClosestAdBreak(t);
                return i && e > i.endTime ? t : i && !i.watched ? this.getClosestStartTime(i) : t
            }
            ,
            t
        }(p);
        t.SeekRestrictedAdManager = m
    }
    , function(e, t) {
        var i = {}.toString;
        e.exports = function(e) {
            return i.call(e).slice(8, -1)
        }
    }
    , function(e, t, i) {
        var n = i(55);
        e.exports = function(e, t, i) {
            if (n(e),
            void 0 === t)
                return e;
            switch (i) {
            case 1:
                return function(i) {
                    return e.call(t, i)
                }
                ;
            case 2:
                return function(i, n) {
                    return e.call(t, i, n)
                }
                ;
            case 3:
                return function(i, n, r) {
                    return e.call(t, i, n, r)
                }
            }
            return function() {
                return e.apply(t, arguments)
            }
        }
    }
    , function(e, t) {
        e.exports = function(e) {
            return "object" == typeof e ? null !== e : "function" == typeof e
        }
    }
    , function(e, t, i) {
        var n = i(20)
          , r = i(140)
          , s = i(160)
          , o = Object.defineProperty;
        t.f = i(27) ? Object.defineProperty : function(e, t, i) {
            if (n(e),
            t = s(t, !0),
            n(i),
            r)
                try {
                    return o(e, t, i)
                } catch (a) {}
            if ("get"in i || "set"in i)
                throw TypeError("Accessors not supported!");
            return "value"in i && (e[t] = i.value),
            e
        }
    }
    , function(e, t, i) {
        (function(t) {
            e.exports = i(t.env.MEDIATOR_JS_COV ? 171 : 172)
        }
        ).call(t, i(173))
    }
    , function(e, t, i) {
        "use strict";
        var n = i(0)
          , r = i(210);
        n.Observable.from = r.from
    }
    , function(e, t, i) {
        "use strict";
        var n = i(0)
          , r = i(213);
        n.Observable.merge = r.merge
    }
    , function(e, t, i) {
        "use strict";
        var n = i(0)
          , r = i(94);
        n.Observable.prototype.distinctUntilChanged = r.distinctUntilChanged
    }
    , function(e, t, i) {
        "use strict";
        var n = i(0)
          , r = i(233);
        n.Observable.prototype.switchMap = r.switchMap
    }
    , function(e, t, i) {
        "use strict";
        var n = i(0)
          , r = i(234);
        n.Observable.prototype.take = r.take
    }
    , function(e, t, i) {
        "use strict";
        var n = this && this.__extends || function(e, t) {
            function i() {
                this.constructor = e
            }
            for (var n in t)
                t.hasOwnProperty(n) && (e[n] = t[n]);
            e.prototype = null === t ? Object.create(t) : (i.prototype = t.prototype,
            new i)
        }
          , r = i(0)
          , s = i(68)
          , o = i(32)
          , a = i(33)
          , c = function(e) {
            function t(t, i) {
                e.call(this),
                this.array = t,
                this.scheduler = i,
                i || 1 !== t.length || (this._isScalar = !0,
                this.value = t[0])
            }
            return n(t, e),
            t.create = function(e, i) {
                return new t(e,i)
            }
            ,
            t.of = function() {
                for (var e = [], i = 0; i < arguments.length; i++)
                    e[i - 0] = arguments[i];
                var n = e[e.length - 1];
                a.isScheduler(n) ? e.pop() : n = null;
                var r = e.length;
                return r > 1 ? new t(e,n) : 1 === r ? new s.ScalarObservable(e[0],n) : new o.EmptyObservable(n)
            }
            ,
            t.dispatch = function(e) {
                var t = e.array
                  , i = e.index
                  , n = e.count
                  , r = e.subscriber;
                return i >= n ? void r.complete() : (r.next(t[i]),
                void (r.closed || (e.index = i + 1,
                this.schedule(e))))
            }
            ,
            t.prototype._subscribe = function(e) {
                var i = 0
                  , n = this.array
                  , r = n.length
                  , s = this.scheduler;
                if (s)
                    return s.schedule(t.dispatch, 0, {
                        array: n,
                        index: i,
                        count: r,
                        subscriber: e
                    });
                for (var o = 0; o < r && !e.closed; o++)
                    e.next(n[o]);
                e.complete()
            }
            ,
            t
        }(r.Observable);
        t.ArrayObservable = c
    }
    , function(e, t, i) {
        "use strict";
        t.isArray = Array.isArray || function(e) {
            return e && "number" == typeof e.length
        }
    }
    , function(e, t, i) {
        function n() {}
        function r(e) {
            var t = {}.toString.call(e);
            switch (t) {
            case "[object File]":
            case "[object Blob]":
            case "[object FormData]":
                return !0;
            default:
                return !1
            }
        }
        function s(e) {
            if (!_(e))
                return e;
            var t = [];
            for (var i in e)
                null != e[i] && o(t, i, e[i]);
            return t.join("&")
        }
        function o(e, t, i) {
            return Array.isArray(i) ? i.forEach(function(i) {
                o(e, t, i)
            }) : void e.push(encodeURIComponent(t) + "=" + encodeURIComponent(i))
        }
        function a(e) {
            for (var t, i, n = {}, r = e.split("&"), s = 0, o = r.length; s < o; ++s)
                i = r[s],
                t = i.split("="),
                n[decodeURIComponent(t[0])] = decodeURIComponent(t[1]);
            return n
        }
        function c(e) {
            var t, i, n, r, s = e.split(/\r?\n/), o = {};
            s.pop();
            for (var a = 0, c = s.length; a < c; ++a)
                i = s[a],
                t = i.indexOf(":"),
                n = i.slice(0, t).toLowerCase(),
                r = S(i.slice(t + 1)),
                o[n] = r;
            return o
        }
        function l(e) {
            return /[\/+]json\b/.test(e)
        }
        function h(e) {
            return e.split(/ *; */).shift()
        }
        function u(e) {
            return y(e.split(/ *; */), function(e, t) {
                var i = t.split(/ *= */)
                  , n = i.shift()
                  , r = i.shift();
                return n && r && (e[n] = r),
                e
            }, {})
        }
        function d(e, t) {
            t = t || {},
            this.req = e,
            this.xhr = this.req.xhr,
            this.text = "HEAD" != this.req.method && ("" === this.xhr.responseType || "text" === this.xhr.responseType) || "undefined" == typeof this.xhr.responseType ? this.xhr.responseText : null,
            this.statusText = this.req.xhr.statusText,
            this.setStatusProperties(this.xhr.status),
            this.header = this.headers = c(this.xhr.getAllResponseHeaders()),
            this.header["content-type"] = this.xhr.getResponseHeader("content-type"),
            this.setHeaderProperties(this.header),
            this.body = "HEAD" != this.req.method ? this.parseBody(this.text ? this.text : this.xhr.response) : null
        }
        function f(e, t) {
            var i = this;
            this._query = this._query || [],
            this.method = e,
            this.url = t,
            this.header = {},
            this._header = {},
            this.on("end", function() {
                var e = null
                  , t = null;
                try {
                    t = new d(i)
                } catch (n) {
                    return e = new Error("Parser is unable to parse the response"),
                    e.parse = !0,
                    e.original = n,
                    e.rawResponse = i.xhr && i.xhr.responseText ? i.xhr.responseText : null,
                    e.statusCode = i.xhr && i.xhr.status ? i.xhr.status : null,
                    i.callback(e)
                }
                if (i.emit("response", t),
                e)
                    return i.callback(e, t);
                if (t.status >= 200 && t.status < 300)
                    return i.callback(e, t);
                var r = new Error(t.statusText || "Unsuccessful HTTP response");
                r.original = e,
                r.response = t,
                r.status = t.status,
                i.callback(r, t)
            })
        }
        function p(e, t) {
            var i = b("DELETE", e);
            return t && i.end(t),
            i
        }
        var m, g = i(134), y = i(174), v = i(246), _ = i(102);
        m = "undefined" != typeof window ? window : "undefined" != typeof self ? self : this;
        var b = e.exports = i(247).bind(null, f);
        b.getXHR = function() {
            if (!(!m.XMLHttpRequest || m.location && "file:" == m.location.protocol && m.ActiveXObject))
                return new XMLHttpRequest;
            try {
                return new ActiveXObject("Microsoft.XMLHTTP")
            } catch (e) {}
            try {
                return new ActiveXObject("Msxml2.XMLHTTP.6.0")
            } catch (e) {}
            try {
                return new ActiveXObject("Msxml2.XMLHTTP.3.0")
            } catch (e) {}
            try {
                return new ActiveXObject("Msxml2.XMLHTTP")
            } catch (e) {}
            return !1
        }
        ;
        var S = "".trim ? function(e) {
            return e.trim()
        }
        : function(e) {
            return e.replace(/(^\s*|\s*$)/g, "")
        }
        ;
        b.serializeObject = s,
        b.parseString = a,
        b.types = {
            html: "text/html",
            json: "application/json",
            xml: "application/xml",
            urlencoded: "application/x-www-form-urlencoded",
            form: "application/x-www-form-urlencoded",
            "form-data": "application/x-www-form-urlencoded"
        },
        b.serialize = {
            "application/x-www-form-urlencoded": s,
            "application/json": JSON.stringify
        },
        b.parse = {
            "application/x-www-form-urlencoded": a,
            "application/json": JSON.parse
        },
        d.prototype.get = function(e) {
            return this.header[e.toLowerCase()]
        }
        ,
        d.prototype.setHeaderProperties = function(e) {
            var t = this.header["content-type"] || "";
            this.type = h(t);
            var i = u(t);
            for (var n in i)
                this[n] = i[n]
        }
        ,
        d.prototype.parseBody = function(e) {
            var t = b.parse[this.type];
            return !t && l(this.type) && (t = b.parse["application/json"]),
            t && e && (e.length || e instanceof Object) ? t(e) : null
        }
        ,
        d.prototype.setStatusProperties = function(e) {
            1223 === e && (e = 204);
            var t = e / 100 | 0;
            this.status = this.statusCode = e,
            this.statusType = t,
            this.info = 1 == t,
            this.ok = 2 == t,
            this.clientError = 4 == t,
            this.serverError = 5 == t,
            this.error = (4 == t || 5 == t) && this.toError(),
            this.accepted = 202 == e,
            this.noContent = 204 == e,
            this.badRequest = 400 == e,
            this.unauthorized = 401 == e,
            this.notAcceptable = 406 == e,
            this.notFound = 404 == e,
            this.forbidden = 403 == e
        }
        ,
        d.prototype.toError = function() {
            var e = this.req
              , t = e.method
              , i = e.url
              , n = "cannot " + t + " " + i + " (" + this.status + ")"
              , r = new Error(n);
            return r.status = this.status,
            r.method = t,
            r.url = i,
            r
        }
        ,
        b.Response = d,
        g(f.prototype);
        for (var E in v)
            f.prototype[E] = v[E];
        f.prototype.abort = function() {
            if (!this.aborted)
                return this.aborted = !0,
                this.xhr && this.xhr.abort(),
                this.clearTimeout(),
                this.emit("abort"),
                this
        }
        ,
        f.prototype.type = function(e) {
            return this.set("Content-Type", b.types[e] || e),
            this
        }
        ,
        f.prototype.responseType = function(e) {
            return this._responseType = e,
            this
        }
        ,
        f.prototype.accept = function(e) {
            return this.set("Accept", b.types[e] || e),
            this
        }
        ,
        f.prototype.auth = function(e, t, i) {
            switch (i || (i = {
                type: "basic"
            }),
            i.type) {
            case "basic":
                var n = btoa(e + ":" + t);
                this.set("Authorization", "Basic " + n);
                break;
            case "auto":
                this.username = e,
                this.password = t
            }
            return this
        }
        ,
        f.prototype.query = function(e) {
            return "string" != typeof e && (e = s(e)),
            e && this._query.push(e),
            this
        }
        ,
        f.prototype.attach = function(e, t, i) {
            return this._getFormData().append(e, t, i || t.name),
            this
        }
        ,
        f.prototype._getFormData = function() {
            return this._formData || (this._formData = new m.FormData),
            this._formData
        }
        ,
        f.prototype.send = function(e) {
            var t = _(e)
              , i = this._header["content-type"];
            if (t && _(this._data))
                for (var n in e)
                    this._data[n] = e[n];
            else
                "string" == typeof e ? (i || this.type("form"),
                i = this._header["content-type"],
                "application/x-www-form-urlencoded" == i ? this._data = this._data ? this._data + "&" + e : e : this._data = (this._data || "") + e) : this._data = e;
            return !t || r(e) ? this : (i || this.type("json"),
            this)
        }
        ,
        d.prototype.parse = function(e) {
            return m.console && console.warn("Client-side parse() method has been renamed to serialize(). This method is not compatible with superagent v2.0"),
            this.serialize(e),
            this
        }
        ,
        d.prototype.serialize = function(e) {
            return this._parser = e,
            this
        }
        ,
        f.prototype.callback = function(e, t) {
            var i = this._callback;
            this.clearTimeout(),
            i(e, t)
        }
        ,
        f.prototype.crossDomainError = function() {
            var e = new Error("Request has been terminated\nPossible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.");
            e.crossDomain = !0,
            e.status = this.status,
            e.method = this.method,
            e.url = this.url,
            this.callback(e)
        }
        ,
        f.prototype.timeoutError = function() {
            var e = this._timeout
              , t = new Error("timeout of " + e + "ms exceeded");
            t.timeout = e,
            this.callback(t)
        }
        ,
        f.prototype.withCredentials = function() {
            return this._withCredentials = !0,
            this
        }
        ,
        f.prototype.end = function(e) {
            var t = this
              , i = this.xhr = b.getXHR()
              , s = this._query.join("&")
              , o = this._timeout
              , a = this._formData || this._data;
            this._callback = e || n,
            i.onreadystatechange = function() {
                if (4 == i.readyState) {
                    var e;
                    try {
                        e = i.status
                    } catch (n) {
                        e = 0
                    }
                    if (0 == e) {
                        if (t.timedout)
                            return t.timeoutError();
                        if (t.aborted)
                            return;
                        return t.crossDomainError()
                    }
                    t.emit("end")
                }
            }
            ;
            var c = function(e) {
                e.total > 0 && (e.percent = e.loaded / e.total * 100),
                e.direction = "download",
                t.emit("progress", e)
            };
            this.hasListeners("progress") && (i.onprogress = c);
            try {
                i.upload && this.hasListeners("progress") && (i.upload.onprogress = c)
            } catch (h) {}
            if (o && !this._timer && (this._timer = setTimeout(function() {
                t.timedout = !0,
                t.abort()
            }, o)),
            s && (s = b.serializeObject(s),
            this.url += ~this.url.indexOf("?") ? "&" + s : "?" + s),
            this.username && this.password ? i.open(this.method, this.url, !0, this.username, this.password) : i.open(this.method, this.url, !0),
            this._withCredentials && (i.withCredentials = !0),
            "GET" != this.method && "HEAD" != this.method && "string" != typeof a && !r(a)) {
                var u = this._header["content-type"]
                  , d = this._parser || b.serialize[u ? u.split(";")[0] : ""];
                !d && l(u) && (d = b.serialize["application/json"]),
                d && (a = d(a))
            }
            for (var f in this.header)
                null != this.header[f] && i.setRequestHeader(f, this.header[f]);
            return this._responseType && (i.responseType = this._responseType),
            this.emit("request", this),
            i.send("undefined" != typeof a ? a : null),
            this
        }
        ,
        b.Request = f,
        b.get = function(e, t, i) {
            var n = b("GET", e);
            return "function" == typeof t && (i = t,
            t = null),
            t && n.query(t),
            i && n.end(i),
            n
        }
        ,
        b.head = function(e, t, i) {
            var n = b("HEAD", e);
            return "function" == typeof t && (i = t,
            t = null),
            t && n.send(t),
            i && n.end(i),
            n
        }
        ,
        b.del = p,
        b["delete"] = p,
        b.patch = function(e, t, i) {
            var n = b("PATCH", e);
            return "function" == typeof t && (i = t,
            t = null),
            t && n.send(t),
            i && n.end(i),
            n
        }
        ,
        b.post = function(e, t, i) {
            var n = b("POST", e);
            return "function" == typeof t && (i = t,
            t = null),
            t && n.send(t),
            i && n.end(i),
            n
        }
        ,
        b.put = function(e, t, i) {
            var n = b("PUT", e);
            return "function" == typeof t && (i = t,
            t = null),
            t && n.send(t),
            i && n.end(i),
            n
        }
    }
    , function(e, t, i) {
        "use strict";
        var n = i(3)
          , r = i(2)
          , s = i(1)
          , o = i(115)
          , a = function() {
            function e() {
                this._playbackCount = 0,
                this._uuid = o.generateUUID(),
                this._customTraceId = !1,
                this._logger = new s.Logger("SessionManager"),
                e._instance = this,
                this.moneyTrace = new o.MoneyTrace({
                    traceId: this.playbackSessionId,
                    parentId: "0"
                })
            }
            return Object.defineProperty(e, "instance", {
                get: function() {
                    return e._instance
                },
                enumerable: !0,
                configurable: !0
            }),
            e.prototype.init = function(e) {
                return e.subscribe("api:setAsset", this.onSetAsset, {
                    priority: n.PRIORITY_HIGH
                }, this),
                this
            }
            ,
            e.prototype.destroy = function(t) {
                t.remove("api:setAsset", this.onSetAsset),
                e._instance = void 0
            }
            ,
            e.prototype.setCustomTraceId = function(e) {
                this._customTraceId = e
            }
            ,
            e.prototype.isEASAsset = function(e) {
                return Boolean(e.easPath)
            }
            ,
            e.prototype.onSetAsset = function(e) {
                this.isEASAsset(e) || this.incrementPlaybackCount(e)
            }
            ,
            e.prototype.incrementPlaybackCount = function(e) {
                e !== this._lastNonEAS && (this._playbackCount++,
                this._customTraceId || (this.moneyTrace.traceId = this.playbackSessionId)),
                this._lastNonEAS = e
            }
            ,
            Object.defineProperty(e.prototype, "playbackCount", {
                get: function() {
                    return this._playbackCount
                },
                enumerable: !0,
                configurable: !0
            }),
            Object.defineProperty(e.prototype, "sessionId", {
                get: function() {
                    return this._uuid
                },
                enumerable: !0,
                configurable: !0
            }),
            Object.defineProperty(e.prototype, "playbackSessionId", {
                get: function() {
                    return this._uuid + "-" + this._playbackCount
                },
                enumerable: !0,
                configurable: !0
            }),
            e
        }();
        t.SessionManager = a,
        r.registerModule("SessionManager", a, {
            autostart: !0
        })
    }
    , function(e, t, i) {
        "use strict";
        function n(e) {
            return t.AssetTypeMapping[e] || e
        }
        var r = this && this.__extends || function(e, t) {
            function i() {
                this.constructor = e
            }
            for (var n in t)
                t.hasOwnProperty(n) && (e[n] = t[n]);
            e.prototype = null === t ? Object.create(t) : (i.prototype = t.prototype,
            new i)
        }
          , s = this && this.__decorate || function(e, t, i, n) {
            var r, s = arguments.length, o = s < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, i) : n;
            if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                o = Reflect.decorate(e, t, i, n);
            else
                for (var a = e.length - 1; a >= 0; a--)
                    (r = e[a]) && (o = (s < 3 ? r(o) : s > 3 ? r(t, i, o) : r(t, i)) || o);
            return s > 3 && o && Object.defineProperty(t, i, o),
            o
        }
          , o = i(1)
          , a = i(6)
          , c = i(107)
          , l = i(8)
          , h = i(117)
          , u = /.*(\.(m3u8|mpd|f4m|mp4))\??/
          , d = /tsb\?((clientId=[^&]*&recordedUrl=[^&]*)|(recordedUrl=[^&]*&clientId=[^&]*)){1}/;
        t.AssetEngine = {
            GENERIC: "generic",
            FLASH: "flash",
            PSDK: "psdk",
            DASH_MEDIA: "dashmedia",
            CBS: "cbs",
            HULU: "hulu",
            ESPN: "espn",
            DISNEY: "disney",
            NBCUNI: "nbcUni",
            HTML5: "html5",
            TVSDK: "tvsdk"
        },
        t.RESUME_FROM_LIVE_POINT = -1,
        t.RESUME_FROM_START = 0,
        t.AssetUrlType = {
            URLTYPE_M3U: "m3u8",
            URLTYPE_MPD: "mpd",
            URLTYPE_F4M: "f4m",
            URLTYPE_MP4: "mp4"
        },
        t.AssetTypeMapping = {
            CDVR: "cDvr",
            DEFAULT: "defaultAsset",
            LINEAR: "Linear",
            T6_LINEAR: "title6Linear",
            T6_VOD: "title6Vod",
            TVE_LINEAR: "tveLinear",
            TVE_VOD: "tveVod",
            VOD: "Vod"
        };
        var f = function() {
            function e(e, i) {
                void 0 === i && (i = {}),
                this.urls = [],
                this.subscribedTags = [],
                this._logger = new o.Logger("Asset"),
                this._logger.trace("new Asset: url=" + e + " contentOptions=" + JSON.stringify(i, null, 2)),
                this.contentOptions = i,
                this._url = e,
                this.adMetadata = {},
                this.assetEngine = i.assetEngine || t.AssetEngine.GENERIC,
                this.assetType = n(i.assetType),
                this.resumePosition = i.resumePosition || 0,
                this.isContentPosition = "boolean" != typeof i.isContentPosition || i.isContentPosition,
                this.assetId = i.assetId,
                this.providerId = i.providerId,
                this.streamId = i.streamId,
                this.recordingId = i.recordingId,
                this.mediaId = i.mediaId,
                this.platformId = i.platformId,
                this.easPath = i.easPath,
                this.drmKey = i.drmKey,
                this.endPosition = i.endPosition,
                this.surround = i.surround,
                this.mediaGuid = i.mediaGuid,
                this.html5 = i.html5,
                this.flashFallback = i.flashFallback,
                this.aspectRatio = i.aspectRatio,
                this.preventRedirect = i.preventRedirect,
                this.preventModify = i.preventModify,
                this.isRetry = i.isRetry,
                this.serviceZip = i.serviceZip,
                this.encryptedServiceZip = i.encryptedServiceZip,
                this._prepareDDPlusUrl(),
                this.providerId && this.assetId || this.mediaGuid || this.recordingId || this.streamId || this.mediaId && this.platformId || this.easPath || this._logger.warn("Warning! No asset identifiers provided in content options")
            }
            return e.prototype.modifyUrl = function(e) {
                this.url = e(this.url)
            }
            ,
            Object.defineProperty(e.prototype, "url", {
                get: function() {
                    return this._url
                },
                set: function(e) {
                    if (e !== this.url) {
                        if (this.preventModify)
                            return void this._logger.warn("preventModify option set to true, cannot modify asset URL");
                        this._logger.info("Changing URL: " + e),
                        this.urls.push(this._url),
                        this._url = e
                    }
                },
                enumerable: !0,
                configurable: !0
            }),
            Object.defineProperty(e.prototype, "id", {
                get: function() {
                    return this.assetId || this.streamId || this.recordingId
                },
                enumerable: !0,
                configurable: !0
            }),
            e.prototype.getUrlType = function() {
                for (var e, i, n, r, s = Object.keys(t.AssetUrlType), o = /[^0-9A-Za-z]/, a = this.url.toLowerCase(), c = s.length, l = 0; l < c; l++) {
                    var h = s[l]
                      , u = t.AssetUrlType[h].length;
                    if (i = a.lastIndexOf(t.AssetUrlType[s[l]]),
                    i !== -1 && i > 0 && (n = a.charAt(i - 1),
                    r = a.charAt(i + u),
                    o.test(n) && ("" === r || o.test(r)))) {
                        e = t.AssetUrlType[s[l]];
                        break
                    }
                }
                return e
            }
            ,
            e.prototype.toCcr = function(e) {
                var t = this;
                return this.preventRedirect ? void e(null, this._url) : void c.getCcrUrl(this._url, function(i, n) {
                    t._logger.trace("toCcr: setting new URL: " + n),
                    t._url = n,
                    e(i, n)
                })
            }
            ,
            e.prototype.isVOD = function() {
                return void 0 !== this.assetId && void 0 !== this.providerId && !this.streamId && !this.recordingId
            }
            ,
            e.prototype.isCDVR = function() {
                return void 0 !== this.recordingId && null !== this.recordingId
            }
            ,
            e.prototype.shouldRetry = function() {
                return !c.isXtvApi(this.url) && !this.recordingId
            }
            ,
            e.prototype.getQueryParameter = function(e) {
                return l.parseQueryParams(this._url)[e]
            }
            ,
            e.prototype.shouldStartFromLivePoint = function(e) {
                return "live" === e && !this.isCDVR() && !this.isVOD()
            }
            ,
            e.prototype._prepareDDPlusUrl = function() {
                if (this._isDDPlus() && !this.preventModify) {
                    var e = u.exec(this.url);
                    if (!e || !e.length)
                        return this._logger.error("Could not match URL, not appending eac3"),
                        void (this.surround = !1);
                    this._logger.info("Adding -eac3 to manifest URL"),
                    this.modifyUrl(function(t) {
                        return t.replace(e[1], "-eac3" + e[1])
                    })
                }
            }
            ,
            e.prototype._isDDPlus = function() {
                var e = n(this.contentOptions.assetType)
                  , t = a.ConfigurationManager.getInstance().getByAssetType(e, a.ConfigurationManager.DD_PLUS, !1);
                return t || this.contentOptions.surround && !this.contentOptions.preventModify
            }
            ,
            e.isFOGUrl = function(e) {
                return d.test(e)
            }
            ,
            e.create = function(t, i) {
                return void 0 === i && (i = {}),
                e.isFOGUrl(t) ? new p(t,i) : new e(t,i)
            }
            ,
            s([h.deprecatedProp("backwards compatibility with previously stored positions")], e.prototype, "isContentPosition", void 0),
            e
        }();
        t.Asset = f;
        var p = function(e) {
            function t() {
                e.apply(this, arguments)
            }
            return r(t, e),
            t.prototype.modifyUrl = function(e) {
                var t = l.parseQueryParams(this.url);
                t.recordedUrl = e(t.recordedUrl),
                this.url = l.replaceQueryParams(this.url, t)
            }
            ,
            t
        }(f);
        t.FOGAsset = p
    }
    , function(e, t, i) {
        "use strict";
        var n = this && this.__extends || function(e, t) {
            function i() {
                this.constructor = e
            }
            for (var n in t)
                t.hasOwnProperty(n) && (e[n] = t[n]);
            e.prototype = null === t ? Object.create(t) : (i.prototype = t.prototype,
            new i)
        }
          , r = i(114)
          , s = i(53)
          , o = i(248)
          , a = function(e) {
            function t() {
                e.apply(this, arguments),
                this.flashObjectId = "viper-flash-object",
                this.flashPlayerId = "viper-player"
            }
            return n(t, e),
            t.prototype.initPlayer = function(e, t, i, n) {
                var s = this
                  , a = {
                    quality: "high",
                    bgcolor: "#000000",
                    allowscriptaccess: "always",
                    allowfullscreen: "true",
                    wmode: r.getWmode()
                }
                  , c = {
                    id: this.flashPlayerId,
                    name: this.flashPlayerId,
                    align: "middle"
                };
                t && i || this.logger.warn("SWF width or height set to 0 and may not embed properly."),
                o.embedSWF(e, this.flashObjectId, t, i, "0", "", n, a, c, function(e) {
                    if (!e.success || !e.ref)
                        throw new Error("Failed to embed Flash player.");
                    s.player = e.ref
                })
            }
            ,
            t.prototype.setupDom = function(e) {
                var t = document.createElement("div");
                t.id = "viper-player-container",
                e.appendChild(t);
                var i = document.createElement("div");
                return i.id = this.flashObjectId,
                t.appendChild(i),
                t
            }
            ,
            t
        }(s.BasePlayer);
        t.BaseFlashPlayer = a
    }
    , function(e, t, i) {
        "use strict";
        var n = function() {
            function e() {
                this.playerReadyCallbacks = [],
                this.subs = [],
                this.playerReady = !1
            }
            return e.prototype.init = function(e) {
                return this.sandbox = e,
                this.subs = [e.subscribe("api:play", this.play, {}, this), e.subscribe("api:pause", this.pause, {}, this), e.subscribe("api:stop", this.stop, {}, this), e.subscribe("api:setAsset", this.setAsset, {}, this), e.subscribe("api:setPosition", this.setPosition, {}, this), e.subscribe("api:setAutoPlay", this.setAutoPlay, {}, this), e.subscribe("api:setVolume", this.setVolume, {}, this), e.subscribe("api:setSpeed", this.setSpeed, {}, this), e.subscribe("api:setBlock", this.setBlock, {}, this), e.subscribe("api:setScale", this.setScale, {}, this), e.subscribe("api:setDimensionsOfVideo", this.setDimensionsOfVideo, {}, this), e.subscribe("api:setInitialBitrate", this.setInitialBitrate, {}, this), e.subscribe("api:setBitrateRange", this.setBitrateRange, {}, this), e.subscribe("api:setBitratePolicy", this.setBitratePolicy, {}, this), e.subscribe("api:setInitialBufferTime", this.setInitialBufferTime, {}, this), e.subscribe("api:setPlayingVODBufferTime", this.setPlayingVODBufferTime, {}, this), e.subscribe("api:setPlayingLinearBufferTime", this.setPlayingLinearBufferTime, {}, this), e.subscribe("api:setPreferredZoomSetting", this.setPreferredZoomSetting, {}, this), e.subscribe("api:setPreferredAudioLanguage", this.setPreferredAudioLanguage, {}, this), e.subscribe("api:setClosedCaptionsEnabled", this.setClosedCaptionsEnabled, {}, this), e.subscribe("api:setClosedCaptionsStyle", this.setClosedCaptionsStyle, {}, this), e.subscribe("api:setClosedCaptionsTrack", this.setClosedCaptionsTrack, {}, this), e.subscribe("api:setCurrentTimeUpdateInterval", this.setCurrentTimeUpdateInterval, {}, this), e.subscribe("api:setOffset", this.setOffset, {}, this), e.subscribe("api:seekToLive", this.seekToLive, {}, this), e.subscribe("api:setAudioOnly", this.setAudioOnly, {}, this), e.subscribe("ads:setPosition", this.setPosition, {}, this)],
                this
            }
            ,
            e.prototype.destroy = function(e) {
                this.playerReady = !1,
                this.stop(),
                this.subs.forEach(function(t) {
                    e.remove(t.channel.namespace, t.fn)
                })
            }
            ,
            e.prototype.onPlayerReady = function(e) {
                this.playerReady ? e.call(this, this.player) : this.playerReadyCallbacks.push(e)
            }
            ,
            e.prototype.setPlayerReady = function() {
                this.playerReady = !0;
                for (var e = 0; e < this.playerReadyCallbacks.length; e++) {
                    var t = this.playerReadyCallbacks[e];
                    if (t && "function" == typeof t)
                        try {
                            t.call(this, this.player)
                        } catch (i) {
                            this.logger.error("onPlayerReady callback failed: " + i)
                        }
                }
                this.playerReadyCallbacks = []
            }
            ,
            e.prototype.getAssetEngineType = function() {
                return this.assetEngine
            }
            ,
            e.prototype.getAutoPlay = function() {
                return this.autoPlay
            }
            ,
            e.prototype.getAvailableBitrates = function() {
                return []
            }
            ,
            e.prototype.getAvailableAudioLanguages = function() {
                return []
            }
            ,
            e.prototype.getAvailableClosedCaptionTracks = function() {
                return []
            }
            ,
            e.prototype.getBitrateRange = function() {
                return []
            }
            ,
            e.prototype.getBufferFilledLength = function() {
                return -1
            }
            ,
            e.prototype.getBufferTime = function() {
                return -1
            }
            ,
            e.prototype.getClosedCaptionsStatus = function() {
                return !1
            }
            ,
            e.prototype.getCurrentAudioLanguage = function() {
                return null
            }
            ,
            e.prototype.getCurrentBitrate = function() {
                return 0
            }
            ,
            e.prototype.getCurrentClosedCaptionsStyle = function() {
                return null
            }
            ,
            e.prototype.getCurrentClosedCaptionTrack = function() {
                return null
            }
            ,
            e.prototype.getCurrentDroppedFrames = function() {
                return -1
            }
            ,
            e.prototype.getCurrentFPS = function() {
                return 0
            }
            ,
            e.prototype.getCurrentPlaybackSpeed = function() {
                return -1
            }
            ,
            e.prototype.getCurrentPosition = function() {
                return 0
            }
            ,
            e.prototype.getDuration = function() {
                return -1
            }
            ,
            e.prototype.getEndPosition = function() {
                return -1
            }
            ,
            e.prototype.getInitialBitrate = function() {
                return -1
            }
            ,
            e.prototype.getPlayerStatus = function() {
                return ""
            }
            ,
            e.prototype.getSeenCount = function() {
                return -1
            }
            ,
            e.prototype.getStartPosition = function() {
                return -1
            }
            ,
            e.prototype.getSupportedClosedCaptionsOptions = function() {
                return null
            }
            ,
            e.prototype.getSupportedPlaybackSpeeds = function() {
                return []
            }
            ,
            e.prototype.getVersion = function() {
                return ""
            }
            ,
            e.prototype.getVideoHeight = function() {
                return -1
            }
            ,
            e.prototype.getVideoWidth = function() {
                return -1
            }
            ,
            e.prototype.getVideoType = function() {
                return ""
            }
            ,
            e.prototype.getVolume = function() {
                return 0
            }
            ,
            e.prototype.hasCC = function() {
                return !1
            }
            ,
            e.prototype.hasDRM = function() {
                return !1
            }
            ,
            e.prototype.shouldFallback = function(e) {
                return !1
            }
            ,
            e.prototype.setAsset = function(e) {}
            ,
            e.prototype.setVolume = function(e) {}
            ,
            e.prototype.setPosition = function(e) {}
            ,
            e.prototype.seekToLive = function() {}
            ,
            e.prototype.setAutoPlay = function(e) {
                this.autoPlay = e
            }
            ,
            e.prototype.setBitratePolicy = function(e) {}
            ,
            e.prototype.setBitrateRange = function(e, t) {}
            ,
            e.prototype.setBlock = function(e) {}
            ,
            e.prototype.setClosedCaptionsEnabled = function(e) {}
            ,
            e.prototype.setClosedCaptionsStyle = function(e) {}
            ,
            e.prototype.setClosedCaptionsTrack = function(e) {}
            ,
            e.prototype.setCurrentTimeUpdateInterval = function(e) {}
            ,
            e.prototype.setDimensionsOfVideo = function(e, t) {}
            ,
            e.prototype.setInitialBitrate = function(e) {}
            ,
            e.prototype.setInitialBufferTime = function(e) {}
            ,
            e.prototype.setOffset = function(e, t) {}
            ,
            e.prototype.setPlayingLinearBufferTime = function(e) {}
            ,
            e.prototype.setPlayingVODBufferTime = function(e) {}
            ,
            e.prototype.setPreferredAudioLanguage = function(e) {}
            ,
            e.prototype.setPreferredZoomSetting = function(e) {}
            ,
            e.prototype.setScale = function(e, t) {}
            ,
            e.prototype.setSpeed = function(e, t) {}
            ,
            e.prototype.setAudioOnly = function(e) {}
            ,
            e.prototype.stop = function() {}
            ,
            e.prototype.play = function() {}
            ,
            e.prototype.pause = function() {}
            ,
            e
        }();
        t.BasePlayer = n
    }
    , function(e, t) {
        t.X2JS = function(e) {
            "use strict";
            function t() {
                void 0 === e.escapeMode && (e.escapeMode = !0),
                e.attributePrefix = e.attributePrefix || "_",
                e.arrayAccessForm = e.arrayAccessForm || "none",
                e.emptyNodeForm = e.emptyNodeForm || "text",
                void 0 === e.enableToStringFunc && (e.enableToStringFunc = !0),
                e.arrayAccessFormPaths = e.arrayAccessFormPaths || [],
                void 0 === e.skipEmptyTextNodesForObj && (e.skipEmptyTextNodesForObj = !0),
                void 0 === e.stripWhitespaces && (e.stripWhitespaces = !0),
                e.datetimeAccessFormPaths = e.datetimeAccessFormPaths || [],
                void 0 === e.useDoubleQuotes && (e.useDoubleQuotes = !1),
                e.xmlElementsFilter = e.xmlElementsFilter || [],
                e.jsonPropertiesFilter = e.jsonPropertiesFilter || [],
                void 0 === e.keepCData && (e.keepCData = !1)
            }
            function i() {}
            function n(e) {
                var t = e.localName;
                return null == t && (t = e.baseName),
                null != t && "" != t || (t = e.nodeName),
                t
            }
            function r(e) {
                return e.prefix
            }
            function s(e) {
                return "string" == typeof e ? e.replace(/&/g, "&amp;").replace(/</g, "&lt;").replace(/>/g, "&gt;").replace(/"/g, "&quot;").replace(/'/g, "&apos;") : e
            }
            function o(e, t, i, n) {
                for (var r = 0; r < e.length; r++) {
                    var s = e[r];
                    if ("string" == typeof s) {
                        if (s == n)
                            break
                    } else if (s instanceof RegExp) {
                        if (s.test(n))
                            break
                    } else if ("function" == typeof s && s(t, i, n))
                        break
                }
                return r != e.length
            }
            function a(t, i, n) {
                switch (e.arrayAccessForm) {
                case "property":
                    t[i]instanceof Array ? t[i + "_asArray"] = t[i] : t[i + "_asArray"] = [t[i]]
                }
                !(t[i]instanceof Array) && e.arrayAccessFormPaths.length > 0 && o(e.arrayAccessFormPaths, t, i, n) && (t[i] = [t[i]])
            }
            function c(e) {
                var t = e.split(/[-T:+Z]/g)
                  , i = new Date(t[0],t[1] - 1,t[2])
                  , n = t[5].split(".");
                if (i.setHours(t[3], t[4], n[0]),
                n.length > 1 && i.setMilliseconds(n[1]),
                t[6] && t[7]) {
                    var r = 60 * t[6] + Number(t[7])
                      , s = /\d\d-\d\d:\d\d$/.test(e) ? "-" : "+";
                    r = 0 + ("-" == s ? -1 * r : r),
                    i.setMinutes(i.getMinutes() - r - i.getTimezoneOffset())
                } else
                    e.indexOf("Z", e.length - 1) !== -1 && (i = new Date(Date.UTC(i.getFullYear(), i.getMonth(), i.getDate(), i.getHours(), i.getMinutes(), i.getSeconds(), i.getMilliseconds())));
                return i
            }
            function l(t, i, n) {
                if (e.datetimeAccessFormPaths.length > 0) {
                    var r = n.split(".#")[0];
                    return o(e.datetimeAccessFormPaths, t, i, r) ? c(t) : t
                }
                return t
            }
            function h(t, i, n, r) {
                return !(i == C.ELEMENT_NODE && e.xmlElementsFilter.length > 0) || o(e.xmlElementsFilter, t, n, r)
            }
            function u(t, i) {
                if (t.nodeType == C.DOCUMENT_NODE) {
                    for (var s = new Object, o = t.childNodes, c = 0; c < o.length; c++) {
                        var d = o.item(c);
                        if (d.nodeType == C.ELEMENT_NODE) {
                            var f = n(d);
                            s[f] = u(d, f)
                        }
                    }
                    return s
                }
                if (t.nodeType == C.ELEMENT_NODE) {
                    var s = new Object;
                    s.__cnt = 0;
                    for (var o = t.childNodes, c = 0; c < o.length; c++) {
                        var d = o.item(c)
                          , f = n(d);
                        if (d.nodeType != C.COMMENT_NODE) {
                            var p = i + "." + f;
                            h(s, d.nodeType, f, p) && (s.__cnt++,
                            null == s[f] ? (s[f] = u(d, p),
                            a(s, f, p)) : (null != s[f] && (s[f]instanceof Array || (s[f] = [s[f]],
                            a(s, f, p))),
                            s[f][s[f].length] = u(d, p)))
                        }
                    }
                    for (var m = 0; m < t.attributes.length; m++) {
                        var g = t.attributes.item(m);
                        s.__cnt++,
                        s[e.attributePrefix + g.name] = g.value
                    }
                    var y = r(t);
                    return null != y && "" != y && (s.__cnt++,
                    s.__prefix = y),
                    null != s["#text"] && (s.__text = s["#text"],
                    s.__text instanceof Array && (s.__text = s.__text.join("\n")),
                    e.stripWhitespaces && (s.__text = s.__text.trim()),
                    delete s["#text"],
                    "property" == e.arrayAccessForm && delete s["#text_asArray"],
                    s.__text = l(s.__text, f, i + "." + f)),
                    null != s["#cdata-section"] && (s.__cdata = s["#cdata-section"],
                    delete s["#cdata-section"],
                    "property" == e.arrayAccessForm && delete s["#cdata-section_asArray"]),
                    0 == s.__cnt && "text" == e.emptyNodeForm ? s = "" : 1 == s.__cnt && null != s.__text ? s = s.__text : 1 != s.__cnt || null == s.__cdata || e.keepCData ? s.__cnt > 1 && null != s.__text && e.skipEmptyTextNodesForObj && (e.stripWhitespaces && "" == s.__text || "" == s.__text.trim()) && delete s.__text : s = s.__cdata,
                    delete s.__cnt,
                    !e.enableToStringFunc || null == s.__text && null == s.__cdata || (s.toString = function() {
                        return (null != this.__text ? this.__text : "") + (null != this.__cdata ? this.__cdata : "")
                    }
                    ),
                    s
                }
                if (t.nodeType == C.TEXT_NODE || t.nodeType == C.CDATA_SECTION_NODE)
                    return t.nodeValue
            }
            function d(t, i, n, r) {
                var o = "<" + (null != t && null != t.__prefix ? t.__prefix + ":" : "") + i;
                if (null != n)
                    for (var a = 0; a < n.length; a++) {
                        var c = n[a]
                          , l = t[c];
                        e.escapeMode && (l = s(l)),
                        o += " " + c.substr(e.attributePrefix.length) + "=",
                        o += e.useDoubleQuotes ? '"' + l + '"' : "'" + l + "'"
                    }
                return o += r ? "/>" : ">"
            }
            function f(e, t) {
                return "</" + (null != e.__prefix ? e.__prefix + ":" : "") + t + ">"
            }
            function p(e, t) {
                return e.indexOf(t, e.length - t.length) !== -1
            }
            function m(t, i) {
                return !!("property" == e.arrayAccessForm && p(i.toString(), "_asArray") || 0 == i.toString().indexOf(e.attributePrefix) || 0 == i.toString().indexOf("__") || t[i]instanceof Function)
            }
            function g(e) {
                var t = 0;
                if (e instanceof Object)
                    for (var i in e)
                        m(e, i) || t++;
                return t
            }
            function y(t, i, n) {
                return 0 == e.jsonPropertiesFilter.length || "" == n || o(e.jsonPropertiesFilter, t, i, n)
            }
            function v(t) {
                var i = [];
                if (t instanceof Object)
                    for (var n in t)
                        n.toString().indexOf("__") == -1 && 0 == n.toString().indexOf(e.attributePrefix) && i.push(n);
                return i
            }
            function _(t) {
                var i = "";
                return null != t.__cdata && (i += "<![CDATA[" + t.__cdata + "]]>"),
                null != t.__text && (i += e.escapeMode ? s(t.__text) : t.__text),
                i
            }
            function b(t) {
                var i = "";
                return t instanceof Object ? i += _(t) : null != t && (i += e.escapeMode ? s(t) : t),
                i
            }
            function S(e, t) {
                return "" === e ? t : e + "." + t
            }
            function E(e, t, i, n) {
                var r = "";
                if (0 == e.length)
                    r += d(e, t, i, !0);
                else
                    for (var s = 0; s < e.length; s++)
                        r += d(e[s], t, v(e[s]), !1),
                        r += P(e[s], S(n, t)),
                        r += f(e[s], t);
                return r
            }
            function P(e, t) {
                var i = ""
                  , n = g(e);
                if (n > 0)
                    for (var r in e)
                        if (!m(e, r) && ("" == t || y(e, r, S(t, r)))) {
                            var s = e[r]
                              , o = v(s);
                            if (null == s || void 0 == s)
                                i += d(s, r, o, !0);
                            else if (s instanceof Object)
                                if (s instanceof Array)
                                    i += E(s, r, o, t);
                                else if (s instanceof Date)
                                    i += d(s, r, o, !1),
                                    i += s.toISOString(),
                                    i += f(s, r);
                                else {
                                    var a = g(s);
                                    a > 0 || null != s.__text || null != s.__cdata ? (i += d(s, r, o, !1),
                                    i += P(s, S(t, r)),
                                    i += f(s, r)) : i += d(s, r, o, !0)
                                }
                            else
                                i += d(s, r, o, !1),
                                i += b(s),
                                i += f(s, r)
                        }
                return i += b(e)
            }
            var T = "1.2.0";
            e = e || {},
            t(),
            i();
            var C = {
                ELEMENT_NODE: 1,
                TEXT_NODE: 3,
                CDATA_SECTION_NODE: 4,
                COMMENT_NODE: 8,
                DOCUMENT_NODE: 9
            };
            this.parseXmlString = function(e) {
                var t = window.ActiveXObject || "ActiveXObject"in window;
                if (void 0 === e)
                    return null;
                var i;
                if (window.DOMParser) {
                    var n = new window.DOMParser
                      , r = null;
                    if (!t)
                        try {
                            r = n.parseFromString("INVALID", "text/xml").getElementsByTagName("parsererror")[0].namespaceURI
                        } catch (s) {
                            r = null
                        }
                    try {
                        i = n.parseFromString(e, "text/xml"),
                        null != r && i.getElementsByTagNameNS(r, "parsererror").length > 0 && (i = null)
                    } catch (s) {
                        i = null
                    }
                } else
                    0 == e.indexOf("<?") && (e = e.substr(e.indexOf("?>") + 2)),
                    i = new ActiveXObject("Microsoft.XMLDOM"),
                    i.async = "false",
                    i.loadXML(e);
                return i
            }
            ,
            this.asArray = function(e) {
                return void 0 === e || null == e ? [] : e instanceof Array ? e : [e]
            }
            ,
            this.toXmlDateTime = function(e) {
                return e instanceof Date ? e.toISOString() : "number" == typeof e ? new Date(e).toISOString() : null
            }
            ,
            this.asDateTime = function(e) {
                return "string" == typeof e ? c(e) : e
            }
            ,
            this.xml2json = function(e) {
                return u(e)
            }
            ,
            this.xml_str2json = function(e) {
                var t = this.parseXmlString(e);
                return null != t ? this.xml2json(t) : null
            }
            ,
            this.json2xml_str = function(e) {
                return P(e, "")
            }
            ,
            this.json2xml = function(e) {
                var t = this.json2xml_str(e);
                return this.parseXmlString(t)
            }
            ,
            this.getVersion = function() {
                return T
            }
        }
    }
    , function(e, t) {
        e.exports = function(e) {
            if ("function" != typeof e)
                throw TypeError(e + " is not a function!");
            return e
        }
    }
    , function(e, t, i) {
        var n = i(37)
          , r = i(7)("toStringTag")
          , s = "Arguments" == n(function() {
            return arguments
        }())
          , o = function(e, t) {
            try {
                return e[t]
            } catch (i) {}
        };
        e.exports = function(e) {
            var t, i, a;
            return void 0 === e ? "Undefined" : null === e ? "Null" : "string" == typeof (i = o(t = Object(e), r)) ? i : s ? n(t) : "Object" == (a = n(t)) && "function" == typeof t.callee ? "Arguments" : a
        }
    }
    , function(e, t) {
        e.exports = function(e) {
            if (void 0 == e)
                throw TypeError("Can't call method on  " + e);
            return e
        }
    }
    , function(e, t, i) {
        var n = i(39)
          , r = i(9).document
          , s = n(r) && n(r.createElement);
        e.exports = function(e) {
            return s ? r.createElement(e) : {}
        }
    }
    , function(e, t, i) {
        var n = i(40).f
          , r = i(28)
          , s = i(7)("toStringTag");
        e.exports = function(e, t, i) {
            e && !r(e = i ? e : e.prototype, s) && n(e, s, {
                configurable: !0,
                value: t
            })
        }
    }
    , function(e, t, i) {
        var n = i(84)("keys")
          , r = i(63);
        e.exports = function(e) {
            return n[e] || (n[e] = r(e))
        }
    }
    , function(e, t) {
        var i = Math.ceil
          , n = Math.floor;
        e.exports = function(e) {
            return isNaN(e = +e) ? 0 : (e > 0 ? n : i)(e)
        }
    }
    , function(e, t, i) {
        var n = i(142)
          , r = i(57);
        e.exports = function(e) {
            return n(r(e))
        }
    }
    , function(e, t) {
        var i = 0
          , n = Math.random();
        e.exports = function(e) {
            return "Symbol(".concat(void 0 === e ? "" : e, ")_", (++i + n).toString(36))
        }
    }
    , function(e, t) {
        !function(e, t) {
            function i(e) {
                var t = e;
                this.log = function(e) {
                    console.log("[CPC][ " + t + "] " + e)
                }
                ,
                this.warn = function(e) {
                    console.warn("[CPC][" + t + "] " + e)
                }
                ,
                this.error = function(e) {
                    console.error("[CPC][" + t + "] " + e)
                }
            }
            function n(t, i) {
                function n(e) {
                    i.show()
                }
                function r(i) {
                    var n = new e.Event.VideoSelectedEvent(e.Event.RELATED_VIDEO_SELECTED,i.data.nextItem.getGuid(),i.data.nextItem.getPermalink(),i.data.nextItem.getClipId(),(!1));
                    t.dispatchEvent(n)
                }
                function s() {
                    t.addEventListener("VIDEO_COMPLETED", n),
                    t.addEventListener(d.COUNTDOWN_COMPLETE, r)
                }
                this.init = function() {
                    s(),
                    i.init()
                }
            }
            function r(e, t, i, n) {
                function r() {
                    return f.getCurrentContentMetadata()
                }
                function s() {
                    return r().getShowName()
                }
                function o() {
                    return r().isFullEpisode()
                }
                function a() {
                    return r().getGuid()
                }
                function c() {
                    return encodeURIComponent(s().replace(/:/g, "\\:"))
                }
                function l(e, t) {
                    for (var i = 0; i < t.length; i++)
                        if (t[i] === e)
                            return i;
                    return -1
                }
                function h() {
                    var e = p.getGuidList();
                    return e ? e[(l(a(), e) + 1) % e.length] : String(e)
                }
                function u() {
                    return String(g.carouselID)
                }
                function d(e) {
                    return e = e.replace(/\[GUID\]/g, a()),
                    e = e.replace(/\[NEXT_GUID\]/g, h()),
                    e = e.replace(/\[SHOW_NAME\]/g, c()),
                    e = e.replace(/\[IS_FULLEPISODE\]/g, o()),
                    e = e.replace(/\[CAROUSEL_ID\]/g, u())
                }
                var f = e
                  , p = t
                  , m = i
                  , g = n;
                this.getTokenizedString = function() {
                    return d(m)
                }
            }
            function s(e, t, i) {
                function n(e) {
                    o(l.parse(e))
                }
                function r(e) {
                    a(e)
                }
                function s() {
                    return c.newRequest(n, r)
                }
                var o, a, c = e, l = t, h = i;
                this.getData = function(e, t) {
                    o = e,
                    a = t,
                    s().fetch(h.getTokenizedString())
                }
            }
            function o(e, t, i) {
                function n() {
                    return u.getCurrentContentMetadata()
                }
                function r() {
                    return n().getGuid()
                }
                function s(e) {
                    e.setCurrentItem(e.getItemByGuid(r())),
                    h.setPlaylist(e),
                    a()
                }
                function o(e) {
                    console.log("PlaylistMediator::onPlaylistFail. data: " + e),
                    c(e)
                }
                var a, c, l = e, h = t, u = i;
                this.updatePlaylist = function(e, t) {
                    a = e,
                    c = t,
                    l.getData(s, o)
                }
            }
            function a(e, t, i, n) {
                function r(e) {
                    u.setReplayThumbnail(e),
                    a()
                }
                function s() {
                    var e = u.getPlaylist().getCurrentItem();
                    e ? r(e.getReplayThumbnail()) : h.getData(r, o)
                }
                function o(e) {
                    console.log("ReplayThumbnailMediator::onFail. data: " + e),
                    c(e)
                }
                var a, c, l = e, h = t, u = i;
                this.updatePlaylist = function(e, t) {
                    a = e,
                    c = t,
                    l.updatePlaylist(s, t)
                }
            }
            function c(e, t, i, n, r, s) {
                function o() {
                    clearInterval(C)
                }
                function a() {
                    u(),
                    o(),
                    A = n.totalCountdownSeconds(),
                    l(A),
                    C = setInterval(f, 1e3)
                }
                function c(e) {
                    0 > e && (e = 0);
                    var t = Math.floor(e / 60)
                      , i = e % 60;
                    return 1 > t && (t = ""),
                    10 > i && (i = "0" + i),
                    t + ":" + i
                }
                function l(e) {
                    P("#countdownTimeRemaining").text(c(e))
                }
                function h() {
                    var e = new d(d.COUNTDOWN_COMPLETE,m().getNexItem());
                    t.dispatchEvent(e)
                }
                function u() {
                    var e = new d(d.COUNTDOWN_STARTED,m().getNexItem());
                    t.dispatchEvent(e)
                }
                function f() {
                    l(--A),
                    0 >= A && (o(),
                    h())
                }
                function p() {
                    O.hide(),
                    g().show(),
                    t.pause(!1)
                }
                function m() {
                    return n.getPlaylist()
                }
                function g() {
                    return P("#" + e)
                }
                function y() {
                    return g().parent()
                }
                function v() {
                    var e = w / R
                      , t = P(y()).width() / P(y()).height();
                    e > t ? (P("#upNextImage").width(P(y()).width()),
                    P("#upNextImage").height(P(y()).width() / e)) : (P("#upNextImage").width(P(y()).height() * e),
                    P("#upNextImage").height(P(y()).height())),
                    P("#upNextImage").css("left", Math.floor(P(y()).width() / 2 - P("#upNextImage").width() / 2) + "px"),
                    P("#upNextImage").css("top", Math.floor(P(y()).height() / 2 - P("#upNextImage").height() / 2) + "px")
                }
                function _() {
                    w = this.width,
                    R = this.height,
                    P("#upNextImageContainer").append(this),
                    v(),
                    P(y()).resize(v)
                }
                function b(e) {
                    P("#upNextImage").remove(),
                    P("<img src='" + e + "' id='upNextImage' />").load(_)
                }
                function S() {
                    var e = y().width()
                      , t = y().height();
                    480 > e ? (P(".authNkeyicon").width("138%"),
                    P(".authNkeyicon").height("auto"),
                    P(".authNkeyiconContainer").css("padding-right", "5%"),
                    P(".authNkeyiconContainer").css("padding-left", "5%"),
                    P(".textContainer").css("top", "30%")) : 768 > e ? (P(".authNkeyicon").width("125%"),
                    P(".authNkeyicon").height("auto"),
                    P(".authNkeyiconContainer").css("padding-right", "2%"),
                    P(".authNkeyiconContainer").css("padding-left", "2%"),
                    P(".textContainer").css("top", "37%")) : (P(".authNkeyicon").width("100%"),
                    P(".authNkeyicon").height("auto"),
                    P(".authNkeyiconContainer").css("padding-right", "2%"),
                    P(".authNkeyiconContainer").css("padding-left", "2%"),
                    P(".textContainer").css("top", "37%")),
                    160 >= t ? (P(".upNext").css("font-size", "13px"),
                    P(".upNext").css("font-weight", "bold"),
                    P(".seriesTitle").css("font-size", "15px"),
                    P(".assetTitle").css("font-size", "15px"),
                    P(".seasonInfo").css("font-size", "10px"),
                    P(".countdown").css("font-size", "12px"),
                    P(".replayImageContainer").css("bottom", "0px"),
                    P(".replayImageContainer").css("left", "5px"),
                    P(".episodeInfo").css("margin-top", "5px")) : 180 > t ? (P(".upNext").css("font-size", "15px"),
                    P(".upNext").css("font-weight", "bold"),
                    P(".seriesTitle").css("font-size", "18px"),
                    P(".assetTitle").css("font-size", "18px"),
                    P(".seasonInfo").css("font-size", "12px"),
                    P(".countdown").css("font-size", "15px"),
                    P(".replayImageContainer").css("bottom", "0px"),
                    P(".replayImageContainer").css("left", "10px"),
                    P(".episodeInfo").css("margin-top", "11px")) : 230 >= t ? (P(".upNext").css("font-size", "18px"),
                    P(".upNext").css("font-weight", "normal"),
                    P(".seriesTitle").css("font-size", "22px"),
                    P(".assetTitle").css("font-size", "22px"),
                    P(".seasonInfo").css("font-size", "15px"),
                    P(".countdown").css("font-size", "20px"),
                    P(".replayImageContainer").css("bottom", "0px"),
                    P(".replayImageContainer").css("left", "19px"),
                    P(".episodeInfo").css("margin-top", "11px")) : (P(".upNext").css("font-size", "20px"),
                    P(".upNext").css("font-weight", "normal"),
                    P(".seriesTitle").css("font-size", "29px"),
                    P(".assetTitle").css("font-size", "29px"),
                    P(".seasonInfo").css("font-size", "18px"),
                    P(".countdown").css("font-size", "25px"),
                    P(".replayImageContainer").css("bottom", "15px"),
                    P(".replayImageContainer").css("left", "19px"),
                    P(".episodeInfo").css("margin-top", "11px"))
                }
                function E(e) {
                    if (P = e,
                    T) {
                        P("<style>.endCardBackground{background:rgba(0,0,0,1); width:100%; height:100%; top:0px; left:0px; position:absolute} .endCardContainer { background-color:#000000; color:#ffffff; } .textContainer { position: absolute; top:37%; text-align:center; width: 100%; margin-left: auto; margin-right: auto; } .episodeInfo { margin-top:11px; } #upNextImage { position:absolute; opacity:0.48; filter:alpha(opacity=48); } .replayImageContainer { position: absolute; bottom: 15px; left: 19px; padding:10px; background-color:rgba(0, 0, 0, 0.44); width:18%; } .replayImageBackground { position:relative; background-color:#000000; height:auto; width:100%; } #replayThumbnail { opacity:0.76; filter:alpha(opacity=76); border:1px solid #cccccc; width:100%; } #replayImage { position: absolute; left: 52%; top: 65%; cursor: pointer; width: 45%; } .upNext { font-family:Arial, Helvetica, sans-serif; font-size: 20px; color:#d9d9d9; text-shadow: 1px 1px 5px rgba(0, 0, 0, 0.75); } .authNkeyiconContainer{ float:right; padding:2%; } .authNkeyicon{ width:100%; height:auto; position: relative; filter: alpha(opacity=1); } .authNkeyicon img{ width:100%; height:auto; } .seriesTitle { font-family:Arial, Helvetica, sans-serif; font-size: 29px; color:#ffffff; text-shadow: 1px 1px 5px rgba(0, 0, 0, 0.75); font-weight:bold; margin-right: 11px; } .assetTitle { font-family:Arial, Helvetica, sans-serif; font-size: 29px; color:#ffffff; text-shadow: 1px 1px 5px rgba(0, 0, 0, 0.75); } .seasonInfo { margin-top:2px; font-family:Helvetica, Arial, sans-serif; font-size: 18px; color:#cccccc; text-shadow: 1px 1px 5px rgba(0, 0, 0, 0.75); } .countdown { margin-top:4px; font-family:Arial, Helvetica, sans-serif; font-size: 25px; color:#ffffff; text-shadow: 1px 1px 5px rgba(0, 0, 0, 0.75); font-weight:bold; } } }</style>").appendTo("head"),
                        g().after(O.getCardContent()),
                        S(),
                        P(y()).resize(S),
                        b(m().getNexItem().getUpNextImage()),
                        a(),
                        P("#seriesTitle").text(m().getNexItem().getSeriesTitle()),
                        P("#assetTitle").text(m().getNexItem().getAssetTitle()),
                        P("#seasonInfo").text("Season " + m().getNexItem().getSeasonNumber() + " Episode " + m().getNexItem().getEpisodeNumber()),
                        P("#replayThumbnail").attr("src", n.getReplayThumbnail());
                        var t = m().getNexItem().getEntitlementStatus();
                        if ("auth" === t && !n.isAuthenticatedUser()) {
                            var i = "<img src='" + s + "'>";
                            P("#authNkeyicon").html(i)
                        }
                        P("#replayImage").click(p)
                    }
                }
                var P, T, C, A, w, R, O = this;
                this.getCardContent = function() {
                    var e = "<div id='endCard' class='endCardContainer'>";
                    return e += "<div class='endCardBackground'></div>",
                    e += "<div id='upNextImageContainer'><!-- <img id='upNextImage'/> goes here --></div>",
                    e += "<div id='authNkeyiconContainer' class='authNkeyiconContainer'><div id='authNkeyicon' class='authNkeyicon'></div></div>",
                    e += "<div class='textContainer'>",
                    e += "<div class='upNext'>Up Next</div>",
                    e += "<div class='episodeInfo'><span class='seriesTitle' id='seriesTitle'></span><span class='assetTitle' id='assetTitle'></span></div>",
                    e += "<div class='seasonInfo' id='seasonInfo'></div>",
                    e += "<div class='countdown' id='countdownTimeRemaining'></div>",
                    e += "</div>",
                    e += "<div class='replayImageContainer'>",
                    e += "<div class='replayImageBackground'>",
                    e += "<img id='replayThumbnail'/>",
                    e += "<img src='" + r + "' id='replayImage' />",
                    e += "</div>",
                    e += "</div>",
                    e += "</div>"
                }
                ,
                this.show = function(e) {
                    T = !0,
                    i.getJQuery(E)
                }
                ,
                this.hide = function() {
                    T && P("#endCard").remove(),
                    T = !1,
                    o()
                }
                ,
                this.init = function() {}
            }
            function l(t, i, n, r) {
                function s() {
                    return p.getCurrentContentMetadata()
                }
                function o(e) {
                    m.setGuidList(e)
                }
                function a(e) {
                    console.log("onFeedFail. data: " + e)
                }
                function c() {
                    return !s().hasException()
                }
                function l() {
                    f.removeEventListener(e.Event.STATE_CHANGE, u)
                }
                function h() {
                    l(),
                    c() && g.getData(o, a)
                }
                function u(t) {
                    t.data.playerState === e.VideoState.STATE_PLAYING && h()
                }
                function d() {
                    f.addEventListener(e.Event.STATE_CHANGE, u)
                }
                var f = t
                  , p = i
                  , m = n
                  , g = r;
                this.init = function() {
                    d()
                }
            }
            function h(e, t, i) {
                function n(e) {
                    console.log("MPXFeedMediator::onPlaylistFail. data: " + e)
                }
                function r() {
                    a.show(s.lastShowState)
                }
                var s = this
                  , o = e
                  , a = t
                  , c = i;
                this.show = function(e) {
                    s.lastShowState = e,
                    c.updatePlaylist(r, n)
                }
                ,
                this.hide = function() {
                    a.hide()
                }
                ,
                this.getView = function() {
                    return a
                }
                ,
                this.init = function() {
                    o.init(),
                    a.init()
                }
            }
            function u(e) {
                var t = e;
                this.init = function() {
                    t.setGuidList([])
                }
            }
            function d(e, t) {
                this.type = e,
                this.data = {
                    nextItem: t
                }
            }
            function f() {
                this.getParserForData = function(e) {
                    return e.entries ? new S : new b
                }
            }
            function p(e) {
                this.getShowName = function() {
                    var t = 0 === e.showName.toLowerCase().indexOf("series/") ? 7 : 0;
                    return e.showName.slice(t)
                }
                ,
                this.isFullEpisode = function() {
                    return e.fullEpisode
                }
                ,
                this.getGuid = function() {
                    return e.videoId
                }
                ,
                this.hasException = function() {
                    return !1
                }
            }
            function m(e) {
                this.getCurrentContentMetadata = function() {
                    return e
                }
            }
            function g(e) {
                function t(e) {
                    return new r(V,U,e,F)
                }
                function i() {
                    return new l(x,V,U,y())
                }
                function d() {
                    return new u(U)
                }
                function g() {
                    return new c(N,x,e,U,M.replayImage,M.signinKey)
                }
                function y() {
                    return new s(new z(e),new T,t(M.guidFeed))
                }
                function _() {
                    return new s(new z(e),new C,t(M.replayThumbnailFeed))
                }
                function b() {
                    return new s(new z(e),new P,t(M.feedURL))
                }
                function S() {
                    return new s(new z(e),new E(new f),t(M.carouselEndPoint))
                }
                function A() {
                    return new o(b(),U,V)
                }
                function w() {
                    return new o(S(),U,V)
                }
                function R() {
                    return new a(A(),_(),U,V)
                }
                function O() {
                    return new a(w(),_(),U,V)
                }
                function I() {
                    return new h(i(),g(),R())
                }
                function L() {
                    return new h(d(),g(),O())
                }
                function k() {
                    return F.carouselID ? L() : I()
                }
                function D() {
                    return U = new v(F,j),
                    V = new m(new p(B)),
                    new n(x,k())
                }
                var N, M, x, B, F, V, U, j = null;
                this.getNewEndCard = function(e, t, i, n, r) {
                    return N = e,
                    M = t,
                    x = i,
                    B = n,
                    F = r,
                    M ? D() : te.getInstance()
                }
            }
            function y(e) {
                var t = e;
                this.getUpNextImage = function() {
                    return t.upNextImage
                }
                ,
                this.getGuid = function() {
                    return t.guid
                }
                ,
                this.getMediaAvailableDate = function() {
                    return t.mediaAvailableDate
                }
                ,
                this.getSeriesTitle = function() {
                    return t.seriesTitle
                }
                ,
                this.getAssetTitle = function() {
                    return t.assetTitle
                }
                ,
                this.getSeasonNumber = function() {
                    return t.seasonNumber
                }
                ,
                this.getEpisodeNumber = function() {
                    return t.episodeNumber
                }
                ,
                this.getReplayThumbnail = function() {
                    return t.replayThumbnail
                }
                ,
                this.getClipId = function() {
                    return t.clipId
                }
                ,
                this.getPermalink = function() {
                    return t.permalink
                }
                ,
                this.getReleaseURL = function() {
                    return t.releaseURL
                }
                ,
                this.getCueInPoint = function() {
                    return t.cueInPoint
                }
                ,
                this.getEntitlementStatus = function() {
                    return t.entitlement
                }
            }
            function v(e, t) {
                function i(e) {
                    return !isNaN(parseFloat(e) && isFinite(e))
                }
                function n(e) {
                    return i(e) && e > 0
                }
                function r() {
                    return n(c.endCardSeconds) ? c.endCardSeconds : 10
                }
                var s, o, a, c = e, l = t;
                this.isAuthenticatedUser = function() {
                    return l.getIsAuthenticated()
                }
                ,
                this.totalCountdownSeconds = function() {
                    return Math.round(r())
                }
                ,
                this.setGuidList = function(e) {
                    s = e
                }
                ,
                this.getGuidList = function() {
                    return s
                }
                ,
                this.setPlaylist = function(e) {
                    o = e
                }
                ,
                this.getPlaylist = function() {
                    return o
                }
                ,
                this.setReplayThumbnail = function(e) {
                    a = e
                }
                ,
                this.getReplayThumbnail = function() {
                    return a
                }
            }
            function _() {
                function e() {
                    for (var e = 0; e < t.length; e++)
                        if (t[e] === i)
                            return e;
                    return -1
                }
                var t = []
                  , i = null;
                this.getNexItem = function() {
                    return e() < t.length - 1 ? t[e() + 1] : t[0];
                }
                ,
                this.getCurrentItem = function() {
                    return i
                }
                ,
                this.getItemByGuid = function(e) {
                    for (var i = 0; i < t.length; i++)
                        if (t[i].getGuid() === e)
                            return t[i];
                    return null
                }
                ,
                this.setCurrentItem = function(e) {
                    i = e
                }
                ,
                this.addItem = function(e) {
                    t.push(e)
                }
            }
            function b() {
                this.parse = function(e) {
                    for (var t = new _, i = 0; i < e.items.length; i++) {
                        var n = new w(e.items[i]);
                        t.addItem(new y(n))
                    }
                    return t
                }
            }
            function S() {
                this.parse = function(e) {
                    for (var t = new _, i = 0; i < e.entries.length; i++) {
                        var n = new A(e.entries[i]);
                        t.addItem(new y(n))
                    }
                    return t
                }
            }
            function E(e) {
                var t = e;
                this.parse = function(e) {
                    return t.getParserForData(e).parse(e)
                }
            }
            function P() {
                this.parse = function(e) {
                    for (var t = new _, i = 0; i < e.entries.length; i++) {
                        var n = new R(e.entries[i]);
                        t.addItem(new y(n))
                    }
                    return t
                }
            }
            function T() {
                this.parse = function(e) {
                    for (var i = [], n = 0; n < e.entries.length; n++) {
                        var r = e.entries[n].guid;
                        r !== t && null !== r && i.push(r)
                    }
                    return i
                }
            }
            function C() {
                this.parse = function(e) {
                    var t = e.entries[0];
                    return t.media$thumbnails[0] ? t.media$thumbnails[0].plfile$url : ""
                }
            }
            function A(e) {
                function t() {
                    var e = o.media$categories[0].media$name
                      , t = 0 === e.toLowerCase().indexOf("series/") ? 7 : 0;
                    return e.slice(t)
                }
                function i() {
                    return o.plmedia$defaultThumbnailUrl.big
                }
                function n() {
                    return o.plmedia$defaultThumbnailUrl.small
                }
                function r() {
                    return o.releaseUrl
                }
                function s() {
                    return o.nbcu$entitlement
                }
                var o = e;
                this.entitlement = s(),
                this.guid = o.guid,
                this.mediaAvailableDate = o.media$availableDate,
                this.upNextImage = i(),
                this.seriesTitle = t(),
                this.assetTitle = o.title,
                this.seasonNumber = o.pl1$seasonNumber,
                this.episodeNumber = o.pl1$episodeNumber,
                this.replayThumbnail = n(),
                this.clipId = o.nbcu$clipId,
                this.permalink = o.nbcu$permalink,
                this.releaseURL = r(),
                this.cueInPoint = o.cueInPoint
            }
            function w(e) {
                function t() {
                    var e = s.mediaCategories[0]
                      , t = 0 === e.toLowerCase().indexOf("series/") ? 7 : 0;
                    return e.slice(t)
                }
                function i() {
                    return s.imageURL
                }
                function n() {
                    return s.thumbnailURL
                }
                function r() {
                    return s.mainReleaseURL
                }
                var s = e;
                this.entitlement = s.entitlement,
                this.guid = s.guid,
                this.mediaAvailableDate = s.availableDate,
                this.upNextImage = i(),
                this.seriesTitle = t(),
                this.assetTitle = s.title,
                this.seasonNumber = s.seasonNumber,
                this.episodeNumber = s.episodeNumber,
                this.replayThumbnail = n(),
                this.clipId = s.nbcu$clipId,
                this.permalink = s.permalink,
                this.releaseURL = r(),
                this.cueInPoint = s.cueInPoint
            }
            function R(e) {
                function t() {
                    var e = l.media$categories[0].media$name
                      , t = 0 === e.toLowerCase().indexOf("series/") ? 7 : 0;
                    return e.slice(t)
                }
                function i(e, t) {
                    for (var i = 0; i < t.length; i++)
                        if (t[i] === e)
                            return !0;
                    return !1
                }
                function n(e, t) {
                    for (var n = !0, r = 0; r < t.length; r++) {
                        var s = t[r];
                        i(s, e.plfile$assetTypes) || (n = !1)
                    }
                    return n
                }
                function r(e) {
                    for (var t = l.media$thumbnails, i = 0; i < t.length; i++) {
                        var r = t[i];
                        if (n(r, e))
                            return r.plfile$url
                    }
                    return ""
                }
                function s() {
                    return r(["Thumbnail", "Standard"])
                }
                function o() {
                    for (var e = l.media$content, t = 0, i = 0; i < e.length; i++)
                        e[i].plfile$bitrate > e[t].plfile$bitrate && (t = i);
                    return e[t]
                }
                function a() {
                    return o().plfile$url
                }
                function c() {
                    return l.nbcu$entitlement
                }
                var l = e;
                this.entitlement = c(),
                this.guid = l.guid,
                this.mediaAvailableDate = l.media$availableDate,
                this.upNextImage = l.plmedia$defaultThumbnailUrl,
                this.seriesTitle = t(),
                this.assetTitle = l.title,
                this.seasonNumber = l.nbcu$seasonNumber,
                this.episodeNumber = l.nbcu$productionNumber,
                this.replayThumbnail = s(),
                this.clipId = l.nbcu$clipId,
                this.permalink = l.nbcu$permalink,
                this.releaseURL = a(),
                this.cueInPoint = l.cueInPoint
            }
            function O(t, i, n) {
                function r(t) {
                    u = t,
                    i.dispatchEvent(new e.Event.ConfigLoadedEvent(e.Event.CONFIG_LOADED,u))
                }
                function s(e) {
                    return e = e.replace(/\[KEY\]/g, c)
                }
                function o() {
                    h.ajax({
                        type: "GET",
                        url: s(d),
                        headers: {
                            Accept: "application/cpc.config-v2+json",
                            Authorization: "CONFIG-TOKEN token=" + l
                        }
                    }).done(r)
                }
                function a(e) {
                    h = e,
                    o()
                }
                var c, l, h, u, d = n;
                this.loadConfig = function(e, i) {
                    u = null,
                    c = e,
                    l = i,
                    t.getJQuery(a)
                }
                ,
                this.getCurrentConfig = function() {
                    return u
                }
                ,
                this.addEventListener = function(e, t) {
                    i.addEventListener(e, t)
                }
                ,
                this.removeEventListener = function(e, t) {
                    i.removeEventListener(e, t)
                }
                ,
                this.dispatchEvent = function(e) {
                    i.dispatchEvent(e)
                }
            }
            function I(i, n) {
                function r() {
                    var e = []
                      , i = y().options;
                    if (i)
                        for (var n = 0; n < i.length; n++) {
                            var r = i[n];
                            A[r] !== t && e.push(r + "=" + A[r])
                        }
                    return e.length > 0 ? "?" + e.join("&") : ""
                }
                function s() {
                    return R
                }
                function o() {
                    return s() ? R[String(A.mvpdId).toUpperCase()] : null
                }
                function a() {
                    var e = o();
                    return e ? e.ssid_label : null
                }
                function c() {
                    var e = o();
                    return e && e.hasOwnProperty("anvato_key") ? e.anvato_key : null
                }
                function l() {
                    var e = o();
                    return !!e && e.showPlayerControls
                }
                function h() {
                    var e = o();
                    return e && e.hasOwnProperty("rsn_key") ? e.rsn_key : null
                }
                function u() {
                    var e = o();
                    return e && e.hasOwnProperty("rsn_as") ? e.rsn_as : null
                }
                function d(e) {
                    return e = e.replace(/\[MEDIA_PID\]/g, T.mediaPid),
                    e = e.replace(/\[HTML_ID\]/g, P),
                    e = e.replace(/\[VIDEO_ID\]/g, T.videoId),
                    e = e.replace(/\"\[AUTOPLAY\]\"/g, Boolean(A.autoPlay)),
                    e = e.replace(/\"\[SHARE_ENABLED\]\"/g, !Boolean(A.excludeSharing)),
                    e = e.replace(/\[QUERYSTRING_OPTIONS\]/g, r()),
                    e = e.replace(/\[ANVACK_VALUE\]/g, c()),
                    e = e.replace(/\[SITE_SECTION\]/g, A.fwsitesection),
                    e = e.replace(/\[MVPD_ID\]/g, A.mvpdId),
                    e = e.replace(/\[MVPD_LABEL\]/g, a()),
                    e = e.replace(/\"\[SHOW_CONTROLS\]\"/g, l()),
                    e = e.replace(/\[MAX_RATING\]/g, A.userMaxRating),
                    e = e.replace(/\[MVPD_HOMEZIP\]/g, A.mvpdServiceZip),
                    e = e.replace(/\[MVPD_ENCRYPTED_HOMEZIP\]/g, A.mvpdEncryptedServiceZip),
                    e = e.replace(/\"\[START_POSITION\]\"/g, A.sp || 0),
                    e = e.replace(/\[EXTERNAL_ADVERTISER_ID\]/g, T.externalAdvertiserId),
                    e = e.replace(/\[RSN_KEY\]/g, h()),
                    e = e.replace(/\[RSN_AS\]/g, u()),
                    e = e.replace(/\[USER_GUID\]/g, A.userGuid)
                }
                function f() {
                    return T.videoId === e.StreamType.LIVE ? e.StreamType.LIVE : e.StreamType.VOD
                }
                function p() {
                    return m() && T.fullEpisode
                }
                function m() {
                    return f() === e.StreamType.VOD
                }
                function g() {
                    return w && w[f()] && w[f()][C]
                }
                function y() {
                    return g() ? w[f()][C] : null
                }
                function v() {
                    return p() ? "longform" : "shortform"
                }
                function _(e) {
                    return e === ne.ANVATO || e === ne.MPX || e === ne.MPX_P3 || e === ne.MPX_MVPD || e === ne.PRIMETIME_RSN
                }
                function b(e) {
                    return _(e.PlayerType)
                }
                function S(e, t, i) {
                    var n = g()
                      , r = y()
                      , s = v();
                    if (n) {
                        if (b(r))
                            return r;
                        if (r.players) {
                            var o = r.players[s];
                            if (o) {
                                if (b(o))
                                    return o;
                                if (o.disableEndCard) {
                                    if (i && i.disableEndCard && b(o.disableEndCard))
                                        return o.disableEndCard;
                                    if (b(o["default"]))
                                        return o["default"]
                                }
                            }
                        }
                    }
                    throw new Error("Unable to retrieve valid player object. Check your configuration's account object for a valid PlayerType.")
                }
                function E(e) {
                    var t = {};
                    for (var i in e)
                        t[i] = e[i];
                    return t
                }
                var P, T, C, A, w = i, R = n;
                this.getPlayerObject = function(e, t, i, n) {
                    P = e,
                    C = t,
                    T = i,
                    A = n || {};
                    var r = E(S(t, i, n));
                    for (var s in r)
                        "string" == typeof r[s] && (r[s] = d(r[s]));
                    return r
                }
                ,
                this.getPlayerType = function(e, t, i, n) {
                    return this.getPlayerObject(e, t, i, n).PlayerType
                }
            }
            function L(t, i) {
                function n() {
                    return l === e.StreamType.LIVE ? e.StreamType.LIVE : e.StreamType.VOD
                }
                function r() {
                    for (var e = t.channelsConfig, i = 0; i < e.length; i++)
                        if (e[i].id === c)
                            return e[i];
                    return null
                }
                function s() {
                    var t = r();
                    return n() === e.StreamType.LIVE ? t.live.playerModule : t.vod.playerModule
                }
                function o() {
                    for (var e = s(), i = t.modules, n = 0; n < i.length; n++)
                        if (i[n].name === e)
                            return i[n].specificConfig;
                    return null
                }
                function a(e) {
                    return e.hasOwnProperty("anvpdata") && "string" != typeof e.anvpdata && (e.anvpdata = JSON.stringify(e.anvpdata)),
                    e
                }
                var c, l;
                this.resolve = function(e, t) {
                    c = e,
                    l = t,
                    i[n()][c] = a(o())
                }
            }
            function k(e, t, i, n) {
                function r() {
                    return u.anvload
                }
                function s() {
                    return u.anvpdata
                }
                function o() {
                    return d
                }
                function a(e) {
                    l = e,
                    c()
                }
                function c() {
                    var e, t, i, n = l.Deferred();
                    return e = document.createElement("script"),
                    e.type = "text/javascript",
                    e.src = r(),
                    e.setAttribute("data-anvp", s()),
                    e.onload = function() {
                        clearTimeout(i),
                        i = setTimeout(l.proxy(n, "rejectWith", "AnvatoPlayer: Player Timeout"), h),
                        window.anvp = window.anvp || {},
                        anvp[o()] = anvp[o()] || {},
                        f.setPlayerInstance(anvp[o()]),
                        anvp.listener = f.globalListener,
                        anvp[o()].onReady = function(e) {
                            clearTimeout(i),
                            f.onReady(e),
                            n.resolve(e, s())
                        }
                    }
                    ,
                    e.onerror = l.proxy(n, "rejectWith", "AnvatoPlayer: SDK Error"),
                    i = setTimeout(l.proxy(n, "rejectWith", "AnvatoPlayer: SDK Timeout"), h),
                    t = document.body || document.getElementsByTagName("body")[0],
                    t.appendChild(e),
                    n
                }
                var l, h = 5e3, u = e, d = t, f = i;
                this.execute = function() {
                    n.getJQuery(a)
                }
            }
            function D(e, t, i) {
                this.getEmbedStrategy = function(n, r, s, o) {
                    var a;
                    switch (n.PlayerType) {
                    case ne.MPX:
                    case ne.MPX_P3:
                        a = new M(n,r,s,i,e);
                        break;
                    case ne.MPX_MVPD:
                        a = new F(n,r,s,i,e);
                        break;
                    case ne.ANVATO:
                        var c = new k(n,r,s,i);
                        a = new B(c,n,r,i,t);
                        break;
                    case ne.PRIMETIME_RSN:
                        a = new V(n,r,s,i,t);
                        break;
                    default:
                        a = new N(r,i)
                    }
                    return n.enableBlackout === !0 ? new x(a,n,o,r,s,i) : a
                }
            }
            function N(e, t) {
                function i() {
                    t.getJQuery(n)
                }
                function n(e) {
                    s = e,
                    r()
                }
                function r() {
                    s("#" + e).replaceWith("<div id='" + e + "'>unable to locate configuration</div>")
                }
                var s;
                this.execute = function() {
                    i()
                }
            }
            function M(e, t, i, n, r) {
                function s() {
                    return f.playerURL
                }
                function o() {
                    return f.controllerURL
                }
                function a() {
                    var e, t;
                    e = document.createElement("script"),
                    e.type = "text/javascript",
                    e.src = o(),
                    e.onload = function() {
                        r.setPDK($pdk),
                        u()
                    }
                    ,
                    t = document.body || document.getElementsByTagName("body")[0],
                    t.appendChild(e)
                }
                function c() {
                    n.getJQuery(l)
                }
                function l(e) {
                    d = e,
                    h()
                }
                function h() {
                    r.getPDK() ? u() : a()
                }
                function u() {
                    var e = d("<iframe allowfullscreen  ></iframe>");
                    e.attr("id", p),
                    e.attr("width", "100%"),
                    e.attr("height", "100%"),
                    e.attr("frameBorder", "0"),
                    e.attr("style", "border:0;"),
                    e.attr("src", s()),
                    d("#" + p).replaceWith(e),
                    m.bind(p)
                }
                var d, f = e, p = t, m = i;
                this.execute = function() {
                    c()
                }
            }
            function x(t, i, n, r, s, o) {
                function a() {
                    o.getJQuery(c)
                }
                function c(e) {
                    d = e,
                    l()
                }
                function l() {
                    f = new j(o,r),
                    f.addEventListener(e.Event.BLACKOUT_STATUS, h),
                    f.setMvpdId(n.mvpdId),
                    f.setResourceId(i.resourceId),
                    f.monitorBlackout(s, i.blackoutServiceURL, i.blackoutKey),
                    u()
                }
                function h(t) {
                    console.warn("BlackoutStrategy onBlackoutStatus. Entitled? " + t.data.entitled),
                    f.removeEventListener(e.Event.BLACKOUT_STATUS, h),
                    p.dispatchEvent(t)
                }
                function u() {
                    t.execute()
                }
                var d, f, p = s;
                this.execute = function() {
                    a()
                }
            }
            function B(e, t, i, n, r, s) {
                function o() {
                    return t.getFlashURL
                }
                function a() {
                    return t.unsupportedDeviceURL
                }
                function c() {
                    var e = s.userAgent || s.vendor || window.opera;
                    return /(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|android|ipad|playbook|silk|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0, 4))
                }
                function l() {
                    return y.hasFlashPlayerVersion("1")
                }
                function h(e) {
                    g = e,
                    p()
                }
                function u(e) {
                    y = e,
                    p()
                }
                function d() {
                    return l() && !c()
                }
                function f() {
                    var e = c() ? a() : o()
                      , t = g("<iframe allowfullscreen  ></iframe>");
                    t.attr("id", i),
                    t.attr("width", "100%"),
                    t.attr("height", "100%"),
                    t.attr("src", e),
                    g("#" + i).replaceWith(t)
                }
                function p() {
                    g && y && (d() ? m() : f())
                }
                function m() {
                    e.execute()
                }
                s || (s = navigator);
                var g, y;
                this.execute = function() {
                    n.getJQuery(h),
                    r.getSwfObject(u)
                }
            }
            function F(t, i, n, r, s) {
                function o() {
                    return m.playerURL
                }
                function a() {
                    return m.controllerURL
                }
                function c() {
                    var e, t;
                    e = document.createElement("script"),
                    e.type = "text/javascript",
                    e.src = a(),
                    e.onload = function() {
                        s.setPDK($pdk),
                        d()
                    }
                    ,
                    t = document.body || document.getElementsByTagName("body")[0],
                    t.appendChild(e)
                }
                function l() {
                    r.getJQuery(h)
                }
                function h(e) {
                    p = e,
                    u()
                }
                function u() {
                    s.getPDK() ? d() : c()
                }
                function d() {
                    var e = p("<iframe allowfullscreen  ></iframe>");
                    e.attr("id", g),
                    e.attr("width", "100%"),
                    e.attr("height", "100%"),
                    e.attr("frameBorder", "0"),
                    e.attr("style", "border:0;"),
                    e.attr("src", o()),
                    p("#" + g).replaceWith(e),
                    y.bind(g)
                }
                function f(e) {
                    y.setReleaseURL(m.releaseURL)
                }
                var p, m = t, g = i, y = n;
                this.execute = function() {
                    y.addEventListener(e.Event.PLAYER_LOADED, f),
                    l()
                }
            }
            function V(e, t, i, n, r) {
                function s() {
                    return e.controllerURL
                }
                function o() {
                    var e, t;
                    e = document.createElement("script"),
                    e.type = "text/javascript",
                    e.src = s(),
                    e.onload = function() {
                        h()
                    }
                    ,
                    t = document.body || document.getElementsByTagName("body")[0],
                    t.appendChild(e)
                }
                function a() {
                    n.getJQuery(c),
                    r.getSwfObject(l),
                    o()
                }
                function c(e) {
                    d = e,
                    h()
                }
                function l(e) {
                    f = e,
                    h()
                }
                function h() {
                    d && f && "undefined" != typeof RSN && u()
                }
                function u() {
                    i.setPlayerInstance(new RSN.core.Player(t,d)),
                    i.setPlayerConfig(e)
                }
                var d, f;
                this.execute = function() {
                    a()
                }
            }
            function U(t, i, n) {
                function r(e) {
                    var t = a.getRequestUrl();
                    console.log("[BlackoutService] Request URL: " + t),
                    e.getJSON(t, function(e) {
                        d(e)
                    }).fail(function(e) {
                        u(e)
                    })
                }
                var s, o = t, a = this, c = i, l = n, h = new EventDispatcher;
                this.getRequestUrl = function() {
                    var e = c + s + "?format=jsonp&anvack=" + l;
                    return c.search("stage") >= 0 && (e += "&returnDebugInfo=1"),
                    e += "&callback=?"
                }
                ,
                this.doRequest = function(e) {
                    s = e,
                    o.getJQuery(r)
                }
                ,
                this.addEventListener = function(e, t) {
                    h.addEventListener(e, t)
                }
                ,
                this.removeEventListener = function(e, t) {
                    h.removeEventListener(e, t)
                }
                ;
                var u = function(t) {
                    console.warn("[BlackoutService] Service failed. HTTP Status:" + t.status);
                    var i = new e.Event.BlackoutEvent(e.Event.BLACKOUT_STATUS);
                    i.data.entitled = !1,
                    i.data.isError = !0,
                    i.data.responseObject = t,
                    h.dispatchEvent(i)
                }
                  , d = function(t) {
                    console.log("[BlackoutService] Response. " + t),
                    console.log(t);
                    var i = new e.Event.BlackoutEvent(e.Event.BLACKOUT_STATUS,(!1),(!1),{});
                    i.data.entitled = !1,
                    i.data.responseObject = t,
                    i.data.isError = !1,
                    "false" === t.blackout ? i.data.entitled = !0 : "true" === t.blackout ? console.warn("[BlackoutService] Response contains blackout=true. Stream will be blocked.") : t.hasOwnProperty("exception") ? (console.warn("[BlackoutService] Response contains an exception. Request may be malformed."),
                    i.data.isError = !0) : t || (console.warn("[BlackoutService] Response is an Error. The response is totally empty of content."),
                    i.data.isError = !0,
                    i.data.responseObject = {
                        error: "[BlackoutService] The service returned an empty string."
                    }),
                    h.dispatchEvent(i)
                }
            }
            function j(t, i, n) {
                function r() {
                    console.warn("[EntitlementManager] Blackout is in play. Halt Stream."),
                    a.unload(),
                    u.getJQuery(s)
                }
                function s(e) {
                    e("#" + i).replaceWith('<div id="' + i + '" style="height:100%;width:100%;background-color:#000"><img style="width:100%;" src="' + o + '" alt="This content is not available due to a regional blackout."></img></div>')
                }
                var o = "//client-cloudpath.nbcuni.com/current/resources/blackout_slate.png";
                n && (o = n);
                var a, c, l, h, u = t, d = new EventDispatcher, f = function(t) {
                    if ("AnvatoInStreamCaptionEvent708" !== t.data.type && "AnvatoInStreamCaptionEvent708" !== t.type && "AnvatoInStreamAdContentIdentificationEvent" === t.data.type) {
                        console.log("[EntitlementManager] InstreamDebug type:" + t.data.type),
                        console.log(t.data),
                        a.removeEventListener(e.Event.INSTREAM_DATA, f);
                        var i = t.data.data.cuepoint.parameters;
                        i.hasOwnProperty("upip") && g(i.upip)
                    }
                }, p = function(e) {
                    if ("AnvatoInStreamCaptionEvent708" !== e.data.type && "AnvatoInStreamCaptionEvent708" !== e.type && "AnvatoInStreamAdProgramBeginEvent" === e.data.type) {
                        console.log("[EntitlementManager] InstreamDebug type:" + e.data.type),
                        console.log(e.data);
                        var t = e.data.data.cuepoint.parameters;
                        t.hasOwnProperty("nrb") && (console.log("[EntitlementManager] params.nrb = " + t.nrb),
                        (0 === t.nrb || "0" === t.nrb) && g(t.upip))
                    }
                }, m = function(t) {
                    t.data.entitled ? console.log("[EntitlementManager] Blackout not enforced. Proceed.") : r();
                    var i = new e.Event.BlackoutEvent(e.Event.BLACKOUT_STATUS);
                    i.data = t.data,
                    d.dispatchEvent(i)
                }, g = function(e) {
                    console.warn("[EntitlementManager] checkForBlackout upip: " + e),
                    h.doRequest(e)
                };
                this.setMvpdId = function(e) {
                    c = e
                }
                ,
                this.setResourceId = function(e) {
                    l = e
                }
                ,
                this.monitorBlackout = function(t, i, n) {
                    a = t,
                    a.addEventListener(e.Event.INSTREAM_DATA, f),
                    a.addEventListener(e.Event.INSTREAM_DATA, p),
                    h = new U(u,i,n),
                    h.addEventListener(e.Event.BLACKOUT_STATUS, m)
                }
                ,
                this.addEventListener = function(e, t) {
                    d.addEventListener(e, t)
                }
                ,
                this.removeEventListener = function(e, t) {
                    d.removeEventListener(e, t)
                }
            }
            function H(e, t, i) {
                function n(e) {
                    s = e,
                    r()
                }
                function r() {
                    if (s.support.cors = !0,
                    window.XDomainRequest) {
                        var e = new XDomainRequest;
                        e.onload = function() {
                            a(s.parseJSON(e.responseText))
                        }
                        ,
                        e.onprogress = function() {}
                        ,
                        e.ontimeout = function() {}
                        ,
                        e.onerror = function() {}
                        ,
                        e.timeout = 2e4,
                        e.open("GET", o),
                        e.send()
                    } else
                        s.getJSON(o).done(a).fail(c)
                }
                var s, o, a = t, c = i;
                this.fetch = function(t) {
                    o = t,
                    e.getJQuery(n)
                }
            }
            function s(e, t, i) {
                function n(e) {
                    o(l.parse(e))
                }
                function r(e) {
                    a(e)
                }
                function s() {
                    return c.newRequest(n, r)
                }
                var o, a, c = e, l = t, h = i;
                this.getData = function(e, t) {
                    o = e,
                    a = t,
                    s().fetch(h.getTokenizedString())
                }
            }
            function z(e) {
                this.newRequest = function(t, i) {
                    return new H(e,t,i)
                }
            }
            function G(t, n) {
                function r(e) {
                    var t = e.replace(/^#/, "");
                    t = "0x" + t;
                    var i = parseInt(t);
                    return i
                }
                function s(e) {
                    var t = {
                        r: (16711680 & e) >> 16,
                        g: (65280 & e) >> 8,
                        b: 255 & e
                    }
                      , i = o(t.r)
                      , n = o(t.g)
                      , r = o(t.b)
                      , s = "#" + i + n + r;
                    return s
                }
                function o(e) {
                    var t = e.toString(16);
                    return 1 === t.length && (t = "0" + t),
                    t
                }
                function a(e) {
                    n.dispatchEvent({
                        type: e.name,
                        data: e
                    })
                }
                function c(t) {
                    var i;
                    if (P.log("Parent received the event: " + JSON.stringify(t)),
                    "PLAYING_START" === t.name)
                        n.dispatchEvent({
                            type: e.Event.PLAYBACK_STARTED,
                            data: null
                        });
                    else if ("COMPANION_AVAILABLE" === t.name && t.args && t.args.length > 4)
                        g(t.args);
                    else if ("PREVIEW_STATUS" === t.name && t.args && t.args.length)
                        i = {
                            type: e.Event.PREVIEW_STATUS,
                            data: {
                                preview_state: t.args[0],
                                preview_id: t.args[1],
                                expiration_time: t.args[2],
                                message: "Remaining time for the preview has changed."
                            }
                        },
                        n.dispatchEvent(i);
                    else if ("AUTHENTICATION_STATUS" === t.name && t.args && t.args.length)
                        i = {
                            type: e.Event.AUTHENTICATION_STATUS,
                            data: {
                                isAuthenticated: t.args[0],
                                authenticator: t.args[1],
                                message: "Authentication status has changed."
                            }
                        },
                        n.dispatchEvent(i);
                    else if ("AUTHORIZATION_STATUS" === t.name && t.args && t.args.length)
                        i = {
                            type: e.Event.AUTHORIZATION_STATUS,
                            data: {
                                isAuthorized: t.args[0],
                                authorizer: t.args[1],
                                token: t.args[2],
                                error_code: t.args[3],
                                message: "Authorization status has changed."
                            }
                        },
                        n.dispatchEvent(i);
                    else if ("PROVIDER_SELECTED" === t.name && t.args && t.args.length)
                        i = {
                            type: e.Event.PROVIDER_SELECTED,
                            data: {
                                provider_id: t.args[0],
                                message: "User selected a provider/previously selected provider has been set."
                            }
                        },
                        n.dispatchEvent(i);
                    else if ("PICKER_REQUESTED" === t.name)
                        i = {
                            type: e.Event.PICKER_REQUESTED,
                            data: {
                                message: "MVPD picker has been requested."
                            }
                        },
                        n.dispatchEvent(i);
                    else if ("AD_STARTED" === t.name)
                        p(t.args);
                    else if ("AD_COMPLETED" === t.name)
                        m(t.args);
                    else if ("FIRST_FRAME_READY" === t.name)
                        n.dispatchEvent({
                            type: e.Event.FIRST_FRAME_READY,
                            data: null
                        });
                    else if ("USER_INTERACTION" === t.name)
                        f(t.args);
                    else if ("PROVIDER_IFRAME_INJECTED" === t.name)
                        n.dispatchEvent({
                            type: e.Event.PROVIDER_IFRAME_INJECTED,
                            data: null
                        });
                    else if ("PREVIEW_EXPIRED" === t.name)
                        n.dispatchEvent({
                            type: e.Event.PREVIEW_EXPIRED,
                            data: null
                        });
                    else if ("STATE_CHANGE" === t.name)
                        d(t.args);
                    else if ("PROGRAM_CHANGED" === t.name)
                        u(t.args);
                    else if ("SEGMENT_TYPE_CHANGED" === t.name)
                        h(t.args);
                    else if ("POPUP_BLOCKED" === t.name)
                        n.dispatchEvent({
                            type: e.Event.POPUP_BLOCKED,
                            data: null
                        });
                    else if ("MUTED" === t.name || "UNMUTED" === t.name) {
                        var r = "MUTED" === t.name
                          , s = new e.Event.MuteEvent(e.Event.MUTE_EVENT,r);
                        n.dispatchEvent(s)
                    } else
                        a(t)
                }
                function l(e) {
                    b = _,
                    _ = e
                }
                function h(t) {
                    switch (l(t[0]),
                    b) {
                    case e.SegmentType.AD:
                    case e.SegmentType.SLATE:
                        n.dispatchEvent({
                            type: e.Event.AD_BREAK_COMPLETED,
                            data: null
                        });
                        break;
                    case e.SegmentType.MASTER:
                        n.dispatchEvent({
                            type: e.Event.SEGMENT_COMPLETED,
                            data: null
                        })
                    }
                    var i = new e.Event.SegmentTypeChangedEvent(e.Event.SEGMENT_TYPE_CHANGED,_);
                    switch (n.dispatchEvent(i),
                    _) {
                    case e.SegmentType.AD:
                    case e.SegmentType.SLATE:
                        n.dispatchEvent({
                            type: e.Event.AD_BREAK_STARTED,
                            data: null
                        });
                        break;
                    case e.SegmentType.MASTER:
                        n.dispatchEvent({
                            type: e.Event.SEGMENT_STARTED,
                            data: null
                        })
                    }
                }
                function u(t) {
                    var i = {
                        programId: t[0],
                        title: t[2].title,
                        description: t[2].description
                    }
                      , r = new e.Event.ProgramChangedEvent(e.Event.PROGRAM_CHANGED,i);
                    n.dispatchEvent(r)
                }
                function d(t) {
                    var i = new e.Event.VideoStateChangeEvent(e.Event.STATE_CHANGE,t[0]);
                    n.dispatchEvent(i)
                }
                function f(t) {
                    var i = new e.Event.UserInteractionEvent(e.Event.USER_INTERACTION,t[0]);
                    n.dispatchEvent(i)
                }
                function p(t) {
                    var i = new e.Event.AdEvent(e.Event.AD_LOAD_START,t[0]);
                    n.dispatchEvent(i),
                    i = new e.Event.AdEvent(e.Event.AD_STARTED,t[0]),
                    n.dispatchEvent(i)
                }
                function m(t) {
                    var i = new e.Event.AdEvent(e.Event.AD_COMPLETED,t[0]);
                    n.dispatchEvent(i)
                }
                function g(t) {
                    var i = t[0]
                      , r = t[2]
                      , s = t[3]
                      , o = t[4]
                      , a = decodeURIComponent(o.data)
                      , c = o.clickTarget
                      , l = "ad_" + r + "x" + s + "_1"
                      , h = "";
                    "static" === i ? h = "<a href='" + c + "' target='_blank'><img src='" + a + "' width='" + r + "' height='" + s + "'></a>" : P.warn("NEEDS PAYLOAD TYPE: " + i);
                    var u = new e.Event.CompanionAdEvent(e.Event.COMPANION_AD,h,l,Number((new Date).valueOf()));
                    n.dispatchEvent(u)
                }
                var y, v, _, b, S = this, E = t, P = new i("AnvatoWrapper");
                S.subtitleStyle = new e.SubtitleStyle,
                this.setPlayerInstance = function(e) {
                    y = e
                }
                ,
                this.onReady = function(t) {
                    S.setPlayerInstance(t),
                    y.setListener(c),
                    v = !0;
                    var i = {
                        type: e.Event.PLAYER_LOADED,
                        data: {}
                    };
                    n.dispatchEvent(i);
                    var r = {
                        type: e.Event.PLAYBACK_READY,
                        data: {}
                    };
                    n.dispatchEvent(r)
                }
                ,
                this.dispatchEvent = function(e) {
                    n.dispatchEvent(e)
                }
                ,
                this.pause = function(e) {
                    e ? y.pause() : y.play()
                }
                ,
                this.addEventListener = function(e, t) {
                    n.addEventListener(e, t)
                }
                ,
                this.removeEventListener = function(e, t) {
                    n.removeEventListener(e, t)
                }
                ,
                this.setReleaseURL = function(e) {
                    P.warn("setReleaseURL  is not implemented. Called with value: " + e)
                }
                ,
                this.setToken = function(e) {
                    P.warn("setToken  is not implemented. Called with token: " + e)
                }
                ,
                this.authenticate = function() {
                    y.authenticate()
                }
                ,
                this.mute = function() {
                    y.mute()
                }
                ,
                this.unmute = function() {
                    y.unmute()
                }
                ,
                this.unload = function() {
                    y && y.unload()
                }
                ,
                this.hideControlBar = function() {
                    y.hideControlBar()
                }
                ,
                this.showControlBar = function() {
                    y.showControlBar()
                }
                ,
                this.setSelectedProvider = function(e) {
                    y.setSelectedProvider(e)
                }
                ,
                this.getCaptionsEnabled = function() {
                    y.getCaptionState(function(t) {
                        var i = new e.Event.CaptionStateEvent(e.Event.CAPTION_STATE_EVENT,t);
                        n.dispatchEvent(i)
                    })
                }
                ,
                this.setCaptionsEnabled = function(e) {
                    e ? y.showCaption() : y.hideCaption()
                }
                ,
                this.getVolume = function() {
                    y.getVolume(function(t) {
                        var i = new e.Event.VolumeEvent(e.Event.VOLUME_EVENT,t);
                        n.dispatchEvent(i)
                    })
                }
                ,
                this.setVolume = function(e) {
                    y.setVolume(e)
                }
                ,
                this.goLive = function() {
                    y.goLive()
                }
                ,
                this.setSubtitleStyle = function(e) {
                    y.setCCFontFamily(e.fontFamily),
                    y.setCCFontScale(e.fontScale),
                    y.setCCBold(e.bold),
                    y.setCCBackgroundOpacity(e.backgroundOpacity),
                    y.setCCTextOpacity(e.opacity),
                    y.setCCHighlightOpacity(0);
                    var t = 0;
                    switch (e.fontEdge) {
                    case "DropShadow":
                        t = 1;
                        break;
                    case "Raised":
                        t = 2;
                        break;
                    case "Depressed":
                        t = 3;
                        break;
                    case "Uniform":
                        t = 4;
                        break;
                    default:
                        t = 0
                    }
                    if (y.setCCEdgeType(t),
                    7 === e.fontEdgeColor.length) {
                        var i = r(e.fontEdgeColor);
                        y.setCCEdgeColor(i)
                    }
                    if (7 === e.fontColor.length) {
                        var n = r(e.fontColor);
                        y.setCCTextColor(n)
                    }
                    if (7 === e.backgroundColor.length) {
                        var s = r(e.backgroundColor);
                        y.setCCBackgroundColor(s)
                    }
                }
                ,
                this.getSubtitleStyle = function() {
                    y.getCCFontFamily(function(e) {
                        S.subtitleStyle.fontFamily = e
                    }),
                    y.getCCFontSize(function(e) {
                        S.subtitleStyle.fontSize = e
                    }),
                    y.getCCFontScale(function(e) {
                        S.subtitleStyle.fontScale = e
                    }),
                    y.getCCBold(function(e) {
                        S.subtitleStyle.bold = e
                    }),
                    y.getCCBackgroundOpacity(function(e) {
                        S.subtitleStyle.backgroundOpacity = e
                    }),
                    y.getCCTextOpacity(function(e) {
                        S.subtitleStyle.opacity = e
                    }),
                    y.getCCEdgeType(function(e) {
                        var t = e;
                        switch (t) {
                        case 1:
                            S.subtitleStyle.fontEdge = "DropShadow";
                            break;
                        case 2:
                            S.subtitleStyle.fontEdge = "Raised";
                            break;
                        case 3:
                            S.subtitleStyle.fontEdge = "Depressed";
                            break;
                        case 4:
                            S.subtitleStyle.fontEdge = "Uniform";
                            break;
                        default:
                            S.subtitleStyle.fontEdge = "None"
                        }
                    }),
                    y.getCCEdgeColor(function(e) {
                        var t = e;
                        S.subtitleStyle.fontEdgeColor = s(t)
                    }),
                    y.getCCTextColor(function(e) {
                        var t = e;
                        S.subtitleStyle.fontColor = s(t)
                    }),
                    y.getCCBackgroundColor(function(e) {
                        var t = e;
                        S.subtitleStyle.backgroundColor = s(t)
                    });
                    var t = new e.Event.SubtitleEvent(e.Event.SUBTITLE_STYLE,S.subtitleStyle);
                    setTimeout(function() {
                        n.dispatchEvent(t)
                    }, 1e3)
                }
                ,
                this.globalListener = function(e) {
                    console.log("globalListener " + JSON.stringify(e)),
                    v || e.sender !== E || c(e)
                }
            }
            function X(n, r) {
                function s(e) {
                    return e && e.baseClip && e.baseClip.isAd
                }
                function o(t) {
                    var i = t.data.clip || t.data;
                    if (s(i)) {
                        var n = new e.Event.AdEvent(e.Event.AD_STARTED,i.id);
                        r.dispatchEvent(n)
                    }
                }
                function a(t) {
                    var i = t.data.clip || t.data;
                    if (s(i)) {
                        var n = new e.Event.AdEvent(e.Event.AD_COMPLETED,i.id);
                        r.dispatchEvent(n)
                    }
                }
                function c(t) {
                    x.removeEventListener("OnShowControls", c),
                    x.removeEventListener("OnMediaPlaying", c),
                    r.dispatchEvent({
                        type: e.Event.FIRST_FRAME_READY,
                        data: t
                    })
                }
                function l(t) {
                    r.dispatchEvent(new e.Event.ProgramChangedEvent(e.Event.PROGRAM_CHANGED,{
                        programId: t.data.event_id,
                        title: t.data.title,
                        description: t.data.description
                    }))
                }
                function h(t) {
                    var i = new e.Event.UserInteractionEvent(e.Event.USER_INTERACTION,t);
                    r.dispatchEvent(i)
                }
                function u(e) {
                    "OnShowFullScreen" === e.type && e.data && h("fullScreenEnter")
                }
                function d(t) {
                    if (B !== t) {
                        B = t;
                        var i = new e.Event.VideoStateChangeEvent(e.Event.STATE_CHANGE,B);
                        r.dispatchEvent(i)
                    }
                }
                function f(e) {
                    e.data.release && e.data.release.captions && e.data.release.captions.length ? e.data.release.captions[0].hasOwnProperty("language") && (U = e.data.release.captions[0].language) : U = t
                }
                function p(t) {
                    switch (t.type) {
                    case "OnMediaPause":
                        d(e.VideoState.STATE_PAUSED);
                        break;
                    case "OnMediaBuffer":
                        d(e.VideoState.STATE_BUFFERING);
                        break;
                    case "OnMediaStart":
                    case "OnMediaPlay":
                    case "OnMediaUnpause":
                        d(e.VideoState.STATE_PLAYING);
                        break;
                    case "OnMediaLoadStart":
                        d(e.VideoState.STATE_LOADING)
                    }
                }
                function m(e) {
                    V = F,
                    F = e
                }
                function g(t) {
                    if (F !== t) {
                        switch (m(t),
                        V) {
                        case e.SegmentType.AD:
                        case e.SegmentType.SLATE:
                            r.dispatchEvent({
                                type: e.Event.AD_BREAK_COMPLETED,
                                data: null
                            })
                        }
                        var i = new e.Event.SegmentTypeChangedEvent(e.Event.SEGMENT_TYPE_CHANGED,F);
                        switch (r.dispatchEvent(i),
                        F) {
                        case e.SegmentType.AD:
                        case e.SegmentType.SLATE:
                            r.dispatchEvent({
                                type: e.Event.AD_BREAK_STARTED,
                                data: null
                            })
                        }
                    }
                }
                function y(t) {
                    var i = t.data.clip || t.data;
                    g(s(i) ? e.SegmentType.AD : e.SegmentType.MASTER)
                }
                function v(t) {
                    var i = t.data.clip || t.data;
                    s(i) || r.dispatchEvent({
                        type: e.Event.SEGMENT_STARTED,
                        data: null
                    })
                }
                function _(t) {
                    var i = t.data.clip || t.data;
                    s(i) || r.dispatchEvent({
                        type: e.Event.SEGMENT_COMPLETED,
                        data: null
                    })
                }
                function b(t) {
                    r.dispatchEvent(new e.Event.PlayerErrorEvent(e.Event.PLAYER_ERROR,null,t.data.message,(!0)))
                }
                function S(t) {
                    r.dispatchEvent(new e.Event.VideoSelectedEvent(e.Event.RELATED_VIDEO_SELECTED,t.data.guid,t.data.permalink,t.data.clipId,t.data.clicked))
                }
                function E(e) {
                    r.dispatchEvent(e)
                }
                function P(t) {
                    var i = t.data.clip || t.data;
                    if (s(i)) {
                        var n = new e.Event.AdEvent(e.Event.AD_LOAD_START,i.id);
                        r.dispatchEvent(n)
                    }
                }
                function T(t) {
                    var i = {
                        type: e.Event.AUTHORIZATION_STATUS,
                        data: {
                            isAuthorized: !1,
                            authorizer: "",
                            token: "",
                            error_code: "",
                            message: "Authorization status has changed."
                        }
                    };
                    r.dispatchEvent(i)
                }
                function C(t) {
                    var i = {
                        type: e.Event.AUTHORIZATION_STATUS,
                        data: {
                            isAuthorized: !0,
                            authorizer: "",
                            token: "",
                            error_code: "",
                            message: "Authorization status has changed."
                        }
                    };
                    r.dispatchEvent(i)
                }
                function A(t) {
                    if ("AnvatoInStreamCaptionEvent708" !== t.data.type && "AnvatoInStreamCaptionEvent708" !== t.type) {
                        var i = {
                            type: e.Event.INSTREAM_DATA,
                            data: t.data
                        };
                        r.dispatchEvent(i),
                        "AnvatoInStreamAdProgramBeginEvent" === t.data.type && x.addEventListener("InStreamMetadataEvent", w)
                    }
                }
                function w(t) {
                    if ("AnvatoInStreamCaptionEvent708" !== t.data.type && "AnvatoInStreamCaptionEvent708" !== t.type && "AnvatoInStreamContentBeaconEvent" === t.data.type) {
                        x.removeEventListener("InStreamMetadataEvent", w);
                        var i = {
                            programId: t.data.data.event_id,
                            title: t.data.data.title,
                            description: t.data.data.description
                        }
                          , n = new e.Event.ProgramChangedEvent(e.Event.PROGRAM_CHANGED,i);
                        r.dispatchEvent(n),
                        H.log("ProgramChangedEvent:" + i.title)
                    }
                }
                function R(t) {
                    var i = {
                        type: e.Event.PLAYER_LOADED,
                        data: {}
                    };
                    r.dispatchEvent(i)
                }
                function O(t) {
                    var i = {
                        type: e.Event.PLAYBACK_READY,
                        data: {}
                    };
                    r.dispatchEvent(i)
                }
                function I(t) {
                    x.removeEventListener("OnMediaPlaying", I);
                    var i = {
                        type: e.Event.PLAYBACK_STARTED,
                        data: {}
                    };
                    r.dispatchEvent(i)
                }
                function L(t) {
                    var i = {
                        type: e.Event.MUTE_EVENT,
                        data: {
                            muted: t.data
                        }
                    };
                    r.dispatchEvent(i)
                }
                function k(e) {
                    this.currentVolume = e.data / 100
                }
                function D(t) {
                    x.removeEventListener("OnGetSubtitleLanguage", D),
                    r.dispatchEvent({
                        type: e.Event.CAPTION_STATE_EVENT,
                        data: {
                            enabled: "none" !== t.data.langCode,
                            language: t.data.langCode
                        }
                    })
                }
                function N(e) {}
                function M() {
                    x.addEventListener("OnPlayerLoaded", R),
                    x.addEventListener("OnMediaPlaying", I),
                    x.addEventListener("OnMediaLoadStart", P),
                    x.addEventListener("RelatedVideoSelected", S),
                    x.addEventListener("OnMediaError", b),
                    x.addEventListener("OnReleaseError", b),
                    x.addEventListener("OnVersionError", b),
                    x.addEventListener("OnMediaEnd", _),
                    x.addEventListener("OnMediaEnd", a),
                    x.addEventListener("OnMediaStart", y),
                    x.addEventListener("OnMediaStart", v),
                    x.addEventListener("OnMediaStart", o),
                    x.addEventListener("AnvatoInStreamContentBeaconEvent", l),
                    x.addEventListener("OnShowControls", c),
                    x.addEventListener("OnMediaPlaying", c),
                    x.addEventListener("OnShowFullScreen", u),
                    x.addEventListener("OnLoadReleaseUrl", f),
                    x.addEventListener("OnReleaseStart", f),
                    x.addEventListener("OnMediaBuffer", p),
                    x.addEventListener("OnMediaStart", p),
                    x.addEventListener("OnMediaPlay", p),
                    x.addEventListener("OnMediaLoadStart", p),
                    x.addEventListener("OnMediaPause", p),
                    x.addEventListener("OnMediaUnpause", p),
                    x.addEventListener("OnMute", L),
                    x.addEventListener("OnSetVolume", k),
                    x.addEventListener(e.Event.COMPANION_AD, E),
                    x.addEventListener("OnSetToken", C),
                    x.addEventListener("auth_token_failed", T),
                    x.addEventListener("auth_success", C),
                    x.addEventListener("InStreamMetadataEvent", A),
                    x.addEventListener("InStreamMetadataEvent", w),
                    x.addEventListener("OnShowPlayOverlay", O),
                    x.addEventListener("OnGetSubtitleStyle", N)
                }
                var x, B, F, V, U, j = this, H = new i("PDKPlayerWrapper"), z = null;
                this.currentVolume,
                this.bind = function(e) {
                    x = n.getPDK().bind(e),
                    M(),
                    null != z && (j.setReleaseURL(z),
                    z = null)
                }
                ,
                this.setReleaseURL = function(e) {
                    H.log("setReleaseURL: " + e),
                    "undefined" != typeof x ? (j.clearCurrentRelease(),
                    x.setReleaseURL(e)) : z = e
                }
                ,
                this.clearCurrentRelease = function() {
                    H.log("clearCurrentRelease"),
                    j.unload()
                }
                ,
                this.addEventListener = function(e, t) {
                    r.addEventListener(e, t)
                }
                ,
                this.removeEventListener = function(e, t) {
                    r.removeEventListener(e, t)
                }
                ,
                this.setToken = function(e, t) {
                    H.log("setToken: " + e),
                    x.setToken(e, t)
                }
                ,
                this.pause = function(e) {
                    H.log("pause"),
                    e || x.clickPlayButton(),
                    x.pause(e)
                }
                ,
                this.unload = function() {
                    H.log("[PDKPlayerWrapper] Unload."),
                    x && x.clearCurrentRelease()
                }
                ,
                this.mute = function() {
                    x.mute(!0)
                }
                ,
                this.unmute = function() {
                    x.mute(!1)
                }
                ,
                this.authenticate = function() {
                    H.warn("authenticate is not implemented.")
                }
                ,
                this.setSelectedProvider = function(e) {
                    H.warn("setSelectedProvider is not implemented. Called with provider: " + e)
                }
                ,
                this.setCaptionsEnabled = function(e) {
                    U && e ? x.setSubtitleLanguage(U) : x.setSubtitleLanguage("none"),
                    x.setShowSubtitles(e)
                }
                ,
                this.getCaptionsEnabled = function() {
                    x.addEventListener("OnGetSubtitleLanguage", D),
                    x.getSubtitleLanguage()
                }
                ,
                this.showControlBar = function() {
                    H.warn("showControlBar is not implemented.")
                }
                ,
                this.hideControlBar = function() {
                    H.warn("hideControlBar is not implemented.")
                }
                ,
                this.getVolume = function() {
                    var t = {
                        type: e.Event.VOLUME_EVENT,
                        data: {
                            level: this.currentVolume
                        }
                    };
                    r.dispatchEvent(t)
                }
                ,
                this.setVolume = function(e) {
                    x.setVolume(100 * e)
                }
                ,
                this.goLive = function() {
                    x.seekToPercentage(100)
                }
                ,
                this.setSubtitleStyle = function(e) {
                    x.setSubtitleStyle(e)
                }
                ,
                this.getSubtitleStyle = function(e) {
                    x.getSubtitleStyle()
                }
                ,
                this.dispatchEvent = function(e) {
                    r.dispatchEvent(e)
                }
                ,
                this.dispatchFakeBlackoutEntitledNo = function() {
                    var t = JSON.parse('{"type":"AnvatoInStreamAdProgramBeginEvent","data":{"cuepoint":{"time":"28805.563000","parameters":{"arc":"0","upip":"3450358439","nrb":"0","der":"0","wda":"0","type":"prg"},"type":"event","name":"program_begin"}}}')
                      , i = {
                        type: e.Event.INSTREAM_DATA,
                        data: t
                    };
                    r.dispatchEvent(i)
                }
                ,
                this.dispatchFakeBlackoutEntitledYes = function() {
                    var t = JSON.parse('{"type":"AnvatoInStreamAdProgramBeginEvent","data":{"cuepoint":{"time":"28805.563000","parameters":{"arc":"0","upip":"3450358439","nrb":"1","der":"0","wda":"0","type":"prg"},"type":"event","name":"program_begin"}}}')
                      , i = {
                        type: e.Event.INSTREAM_DATA,
                        data: t
                    };
                    r.dispatchEvent(i)
                }
            }
            function $(e) {
                this.getNewWrapper = function(t, i, n) {
                    switch (t) {
                    case ne.ANVATO:
                        return new G(i,new EventDispatcher);
                    case ne.MPX:
                    case ne.MPX_MVPD:
                    case ne.MPX_P3:
                        return new X(e,new EventDispatcher);
                    case ne.PRIMETIME_RSN:
                        return new Y(n,new EventDispatcher);
                    default:
                        throw new Error("Unexpected playerType value. Expected either " + ne.ANVATO + " or " + ne.MPX + " or " + ne.MPX_P3 + " or " + ne.MPX_MVPD + " or " + ne.PRIMETIME_RSN + ". Supplied value is " + t)
                    }
                }
            }
            function W() {
                function e(e) {
                    m = p.getCCFontOptions(),
                    g = p.getCCFontSizeOptions(),
                    y = p.getCCFontEdgeOptions(),
                    v = p.getCCColorOptions()
                }
                function t(e) {
                    return 1 > e ? "small" : e > 1 ? "large" : "medium"
                }
                function i(e) {
                    switch (e.toUpperCase()) {
                    case "#000000":
                        return "black";
                    case "#808080":
                        return "gray";
                    case "#C0C0C0":
                        return "white";
                    case "#FFFFFF":
                        return "bright_white";
                    case "#C00000":
                        return "red";
                    case "#400000":
                        return "dark_red";
                    case "#FF0000":
                        return "bright_red";
                    case "#00C000":
                        return "green";
                    case "#004000":
                        return "dark_green";
                    case "#00FF00":
                        return "bright_green";
                    case "#0000C0":
                        return "blue";
                    case "#000040":
                        return "dark_blue";
                    case "#0000FF":
                        return "bright_blue";
                    case "#C0C000":
                        return "yellow";
                    case "#404000":
                        return "dark_yellow";
                    case "#FFFF00":
                        return "bright_yellow";
                    case "#C000C0":
                        return "magenta";
                    case "#400040":
                        return "dark_magenta";
                    case "#FF00FF":
                        return "bright_magenta";
                    case "#00C0C0":
                        return "cyan";
                    case "#004040":
                        return "dark_cyan";
                    case "#00FFFF":
                        return "bright_cyan";
                    default:
                        return "default"
                    }
                }
                function n(e) {
                    switch (e) {
                    case "Arial":
                    case "Arial Black":
                    case "Impact":
                    case "Verdana":
                    case "Tahoma":
                        return "proportional_without_serifs";
                    case "Georgia":
                    case "Palatino":
                    case "Times New Roman":
                        return "proportional_with_serifs";
                    case "Courier New":
                        return "monospaced_with_serifs";
                    default:
                        return "default"
                    }
                }
                function r(e) {
                    switch (e.toLowerCase()) {
                    case "none":
                    case "depressed":
                    case "raised":
                    case "uniform":
                        return e.toLowerCase();
                    case "dropshadow":
                        return "drop_shadow_right";
                    default:
                        return "default"
                    }
                }
                function s(e) {
                    return Math.min(Math.max(100 * e, 0), 100)
                }
                function o(e) {
                    p.setCCStyle({
                        font: e
                    })
                }
                function a(e) {
                    p.setCCStyle({
                        backgroundOpacity: e
                    })
                }
                function c(e) {
                    p.setCCStyle({
                        fontOpacity: e
                    })
                }
                function l(e) {
                    if (e) {
                        var t = {};
                        t.size = e,
                        p.setCCStyle(t)
                    }
                }
                function h(e) {
                    if (e) {
                        var t = {};
                        t.fontEdge = e,
                        p.setCCStyle(t)
                    }
                }
                function u(e) {
                    if (e) {
                        var t = {};
                        t.edgeColor = e,
                        p.setCCStyle(t)
                    }
                }
                function d(e) {
                    if (e) {
                        var t = {};
                        t.fontColor = e,
                        p.setCCStyle(t)
                    }
                }
                function f(e) {
                    if (e) {
                        var t = {};
                        t.backgroundColor = e,
                        p.setCCStyle(t)
                    }
                }
                var p, m, g, y, v;
                this.setPlayerInstance = function(t) {
                    p = t,
                    p.addEventListener(re.events.Event.CHANNEL_CHANGING, e)
                }
                ,
                this.setSubtitleStyle = function(e) {
                    u(i(e.fontEdgeColor)),
                    d(i(e.fontColor)),
                    f(i(e.backgroundColor)),
                    h(r(e.fontEdge)),
                    l(t(e.fontScale)),
                    c(s(e.opacity)),
                    a(s(e.backgroundOpacity)),
                    o(n(e.fontFamily))
                }
                ,
                this.getSubtitleStyle = function() {}
            }
            function Y(t, i) {
                function n(t) {
                    if (t.status === re.MediaPlayerStatus.PLAYING) {
                        f.removeEventListener(re.events.Event.PLAYBACK_STATUS_CHANGED, n);
                        var r = {
                            type: e.Event.PLAYBACK_STARTED,
                            data: {}
                        };
                        i.dispatchEvent(r)
                    }
                }
                function r(t) {
                    if (m !== t) {
                        m = t;
                        var n = new e.Event.VideoStateChangeEvent(e.Event.STATE_CHANGE,m);
                        i.dispatchEvent(n)
                    }
                }
                function s(t) {
                    switch (t.status) {
                    case re.MediaPlayerStatus.PAUSED:
                        r(e.VideoState.STATE_PAUSED);
                        break;
                    case re.MediaPlayerStatus.PLAYING:
                        r(e.VideoState.STATE_PLAYING);
                        break;
                    case re.MediaPlayerStatus.INITIALIZING:
                    case re.MediaPlayerStatus.PREPARING:
                        r(e.VideoState.STATE_LOADING)
                    }
                }
                function o(e) {
                    g = e.endTime
                }
                function a(t) {
                    if (y !== t.event_id) {
                        y = t.event_id;
                        var n = {
                            programId: t.event_id,
                            title: t.title,
                            description: t.description
                        }
                          , r = new e.Event.ProgramChangedEvent(e.Event.PROGRAM_CHANGED,n);
                        i.dispatchEvent(r)
                    }
                }
                function c(e) {
                    return e.hasOwnProperty("key") && "beacon" === e.key
                }
                function l(e) {
                    c(e) && a(e.eventInfo.payload)
                }
                function h(t) {
                    var n = "undefined" != typeof t.data && "undefined" != typeof t.data.entitled && "yes" === t.data.entitled
                      , r = "undefined" != typeof t.data ? t.data : {
                        message: f.getBlackoutMessage()
                    }
                      , s = new e.Event.BlackoutEvent(e.Event.BLACKOUT_STATUS,n,(!1),r);
                    i.dispatchEvent(s)
                }
                function u() {
                    f && p && (f.addEventListener(re.events.Event.BLACKOUT, h),
                    f.addEventListener(re.events.Event.PLAYBACK_STATUS_CHANGED, n),
                    f.addEventListener(re.events.Event.PLAYBACK_STATUS_CHANGED, s),
                    f.addEventListener(re.events.Event.PLAY_RANGE_CHANGED, o),
                    f.addEventListener(re.events.Event.EVENT_INFO_METADATA, l),
                    f.addEventListener(re.events.Event.CONFIG_LOADED, d),
                    f.loadConfig(p.rsn_key, p.rsn_as))
                }
                function d(e) {
                    f.removeEventListener(re.events.Event.CONFIG_LOADED),
                    f.setUserInfo(p.userGuid, p.homeZip),
                    f.loadEvent("now", t)
                }
                var f, p, m, g, y, v = new W;
                this.setPlayerInstance = function(e) {
                    f = e,
                    v.setPlayerInstance(f),
                    u()
                }
                ,
                this.setPlayerConfig = function(e) {
                    p = e,
                    u()
                }
                ,
                this.addEventListener = function(e, t) {
                    i.addEventListener(e, t)
                }
                ,
                this.removeEventListener = function(e, t) {
                    i.removeEventListener(e, t)
                }
                ,
                this.setToken = function(e) {}
                ,
                this.setReleaseURL = function(e) {}
                ,
                this.authenticate = function() {}
                ,
                this.setSelectedProvider = function(e) {}
                ,
                this.mute = function() {
                    f.getIsMuted() || f.toggleMute()
                }
                ,
                this.unmute = function() {
                    f.getIsMuted() && f.toggleMute()
                }
                ,
                this.unload = function() {}
                ,
                this.showControlBar = function() {}
                ,
                this.hideControlBar = function() {}
                ,
                this.setSubtitleStyle = function(e) {
                    v.setSubtitleStyle(e)
                }
                ,
                this.getSubtitleStyle = function() {}
                ,
                this.play = function() {
                    f.play()
                }
                ,
                this.pause = function(e) {
                    e ? f.pause() : f.play()
                }
                ,
                this.setCaptionsEnabled = function(e) {
                    e !== f.getIsCCEnabled() && f.toggleCC()
                }
                ,
                this.getCaptionsEnabled = function() {
                    i.dispatchEvent({
                        type: e.Event.CAPTION_STATE_EVENT,
                        data: {
                            enabled: f.getIsCCEnabled(),
                            language: f.getIsCCEnabled() ? "en" : "none"
                        }
                    })
                }
                ,
                this.setVolume = function(e) {
                    f.setVolume(e)
                }
                ,
                this.getVolume = function() {
                    i.dispatchEvent({
                        type: e.Event.VOLUME_EVENT,
                        data: {
                            level: f.getVolume()
                        }
                    })
                }
                ,
                this.goLive = function() {
                    isNaN(g) || f.seekToTime(g)
                }
            }
            function K() {
                function e() {
                    return "function" == typeof i && "function" == typeof i().on && "function" == typeof i.ajax && "function" == typeof i.attr && "function" == typeof i().replaceWith && "function" == typeof i.Deferred && "function" == typeof i.proxy
                }
                function t(e) {
                    var t, r;
                    t = document.createElement("script"),
                    t.type = "text/javascript",
                    t.src = "//code.jquery.com/jquery-1.11.2.min.js",
                    t.onload = function() {
                        i = n ? jQuery.noConflict(!0) : jQuery,
                        e(i)
                    }
                    ,
                    r = document.head || document.getElementsByTagName("head")[0],
                    r.appendChild(t)
                }
                var i, n;
                "function" == typeof jQuery && (i = jQuery,
                n = !0),
                this.getJQuery = function(n) {
                    e() ? n(i) : t(n)
                }
            }
            function q() {
                var e = "undefined" != typeof $pdk ? $pdk : null;
                this.getPDK = function() {
                    return e
                }
                ,
                this.setPDK = function(t) {
                    e = t
                }
            }
            function Z() {
                function e() {
                    return "undefined" != typeof swfobject && "function" == typeof swfobject.embedSWF && "function" == typeof swfobject.hasFlashPlayerVersion
                }
                function t(e) {
                    var t, i;
                    t = document.createElement("script"),
                    t.type = "text/javascript",
                    t.src = "//ajax.googleapis.com/ajax/libs/swfobject/2.2/swfobject.js",
                    t.onload = function() {
                        e(swfobject)
                    }
                    ,
                    i = document.body || document.getElementsByTagName("body")[0],
                    i.appendChild(t)
                }
                this.getSwfObject = function(i) {
                    e() ? i(swfobject) : t(i)
                }
            }
            function J(e) {
                var t = new i("Player")
                  , n = e
                  , r = new EventDispatcher
                  , s = null
                  , o = function(e) {
                    r.dispatchEvent(e)
                };
                this.addEventListener = function(e, i) {
                    t.log("addEventListener: " + e),
                    r.addEventListener(e, i),
                    n && n.hasOwnProperty("addEventListener") && n.addEventListener(e, o)
                }
                ,
                this.removeEventListener = function(e, t) {
                    r.removeEventListener(e, t),
                    n && n.hasOwnProperty("removeEventListener") && n.removeEventListener(e, o)
                }
                ,
                this.setToken = function(e, i) {
                    t.log("setToken:" + e),
                    i || (i = "authToken"),
                    s = e,
                    n && n.setToken(s, i)
                }
                ,
                this.setReleaseURL = function(e) {
                    t.log("setReleaseURL"),
                    n.setReleaseURL(e)
                }
                ,
                this.authenticate = function() {
                    t.log("authenticate"),
                    n.authenticate()
                }
                ,
                this.setSelectedProvider = function(e) {
                    t.log("setSelectedProvider"),
                    n.setSelectedProvider(e)
                }
                ,
                this.mute = function() {
                    t.log("mute"),
                    n.mute()
                }
                ,
                this.unmute = function() {
                    t.log("unmute"),
                    n.unmute()
                }
                ,
                this.unload = function() {
                    t.log("unload"),
                    n.unload()
                }
                ,
                this.showControlBar = function() {
                    t.log("showControlBar"),
                    n.showControlBar()
                }
                ,
                this.hideControlBar = function() {
                    t.log("hideControlBar"),
                    n.hideControlBar()
                }
                ,
                this.setSubtitleStyle = function(e) {
                    console.log("[CPC] subtitle style: %O", e),
                    n.setSubtitleStyle(e)
                }
                ,
                this.getSubtitleStyle = function() {
                    console.log("[CPC] getSubtitleStyle"),
                    n.getSubtitleStyle()
                }
                ,
                this.play = function() {
                    t.log("play"),
                    n.pause(!1)
                }
                ,
                this.pause = function(e) {
                    t.log("pause"),
                    n.pause(e)
                }
                ,
                this.setCaptionsEnabled = function(e) {
                    t.log("setCaptionsEnabled"),
                    n.setCaptionsEnabled(e)
                }
                ,
                this.getCaptionsEnabled = function() {
                    t.log("getCaptionsEnabled"),
                    n.getCaptionsEnabled()
                }
                ,
                this.setVolume = function(e) {
                    t.log("setVolume"),
                    n.setVolume(e)
                }
                ,
                this.getVolume = function() {
                    t.log("getVolume"),
                    n.getVolume()
                }
                ,
                this.goLive = function() {
                    t.log("goLive"),
                    n.goLive()
                }
                ,
                this.dispatchFakeBlackoutEntitledNo = function() {
                    n.dispatchFakeBlackoutEntitledNo()
                }
                ,
                this.dispatchFakeBlackoutEntitledYes = function() {
                    n.dispatchFakeBlackoutEntitledYes()
                }
            }
            function Q() {
                e.Config = e.Config || {
                    LIVE: {},
                    VOD: {}
                },
                le = new q,
                he = new Z,
                ue = new K,
                oe = new I(e.Config,ie),
                ae = new $(le),
                ce = new D(le,he,ue),
                de = new g(ue),
                fe = new O(ue,new EventDispatcher,"https://ws-cloudpath.nbcuni.com:443/cpc/ws/services/config?key=[KEY]"),
                se = !0
            }
            function ee(t) {
                function i(t, i, n, r) {
                    var s = new L(fe.getCurrentConfig(),e.Config);
                    return s.resolve(i, n.videoId),
                    e.load(t, i, n, r)
                }
                function n(t) {
                    fe.removeEventListener(e.Event.CONFIG_LOADED, n),
                    r.loadEvent = i,
                    r.dispatchEvent(t)
                }
                var r = this;
                this.addEventListener = t.addEventListener,
                this.removeEventListener = t.removeEventListener,
                this.dispatchEvent = t.dispatchEvent,
                this.loadConfig = function(t, i) {
                    se || Q(),
                    fe.addEventListener(e.Event.CONFIG_LOADED, n),
                    fe.loadConfig(t, i)
                }
                ,
                this.loadEvent = function(e, t, i, n) {}
            }
            "undefined" == typeof window.console && (console = {},
            console.log = function() {}
            ,
            console.warn = function() {}
            ,
            console.error = function() {}
            ,
            console.time = function() {}
            ,
            console.timeEnd = function() {}
            ,
            console.info = function() {}
            ),
            window.EventDispatcher = function() {}
            ,
            EventDispatcher.prototype = {
                constructor: EventDispatcher,
                apply: function(e) {
                    e.addEventListener = EventDispatcher.prototype.addEventListener,
                    e.hasEventListener = EventDispatcher.prototype.hasEventListener,
                    e.removeEventListener = EventDispatcher.prototype.removeEventListener,
                    e.dispatchEvent = EventDispatcher.prototype.dispatchEvent
                },
                addEventListener: function(e, i) {
                    this._listeners === t && (this._listeners = {});
                    var n = this._listeners;
                    n[e] === t && (n[e] = []),
                    -1 === n[e].indexOf(i) && n[e].push(i)
                },
                hasEventListener: function(e, i) {
                    if (this._listeners === t)
                        return !1;
                    var n = this._listeners;
                    return n[e] !== t && -1 !== n[e].indexOf(i)
                },
                removeEventListener: function(e, i) {
                    if (this._listeners !== t) {
                        var n = this._listeners
                          , r = n[e];
                        if (r !== t) {
                            var s = r.indexOf(i);
                            -1 !== s && r.splice(s, 1)
                        }
                    }
                },
                dispatchEvent: function(e) {
                    if (this._listeners !== t) {
                        var i = this._listeners
                          , n = i[e.type];
                        if (n !== t) {
                            e.target = this;
                            for (var r = [], s = n.length, o = 0; s > o; o++)
                                n[o] !== t && (r[o] = n[o]);
                            for (var a = 0; a < r.length; a++)
                                r[a].call(this, e)
                        }
                    }
                }
            },
            e.SubtitleStyle = function() {
                this.backgroundColor = "#000000",
                this.backgroundOpacity = 1,
                this.bold = !1,
                this.fontColor = "#FFFFFF",
                this.fontEdge = "None",
                this.fontEdgeColor = "#000000",
                this.fontFamily = "Arial",
                this.fontScale = 1,
                this.opacity = 1
            }
            ;
            var te = function() {
                "use strict";
                function e() {
                    if (t)
                        throw new Error("NullEndCard is a singleton. Use NullEndCard.getInstance() instead.");
                    this.init = function() {}
                    ,
                    t = this
                }
                var t;
                return e.getInstance = function() {
                    return t || new e
                }
                ,
                e
            }();
            d.COUNTDOWN_COMPLETE = "countdownComplete",
            d.COUNTDOWN_STARTED = "countdownStarted",
            e.Config = {
                LIVE: {
                    NBC: {
                        PlayerType: "ANVATO",
                        getFlashURL: "//tve-nbc.nbcuni.com/player/GetFlash_New.html",
                        unsupportedDeviceURL: "//tve-nbc.nbcuni.com/player/UnsupportedDevice_New.html?guid=[VIDEO_ID]",
                        anvload: "//up.nbc.anvato.net/vodprod/scripts/anvload.js",
                        anvpdata: '{"adPing":true, "pInstance":"[HTML_ID]", "control":"[SHOW_CONTROLS]", "info":"[SHOW_CONTROLS]", "width":"100%", "height":"100%", "mcp":"nbclocal", "video":"nbc", "accessKey": "[ANVACK_VALUE]","accessControl": {"preview":false,"geoLocation": true, "parentalControl": true, "authenticator": "alternate","token": "DYNAMIC_TOKEN","mvpd": "[MVPD_ID]","tveCheck": true},"user": {"homeZip": "[MVPD_HOMEZIP]","encryptedHomeZip": "[MVPD_ENCRYPTED_HOMEZIP]","maxRating": "[MAX_RATING]"},"plugins": {"freewheel": {"serverSide": {"networkId": "169843","profileId": "169843:nbcu_anvato_web","siteSectionId": "nbc_[MVPD_LABEL]_web_live","videoAssetId": "nbc_Live_12345","companion": "slid=300companion&slau=FW%20Video-300x60&ptgt=p&flag=+cmpn&w=300&h=60;","eventType": "Network"}}},"debug": 0}'
                    },
                    NBC_STAGE: {
                        PlayerType: "ANVATO",
                        getFlashURL: "//tve-staging-nbc.nbcuni.com/player/stage/GetFlash_New.html",
                        unsupportedDeviceURL: "//tve-staging-nbc.nbcuni.com/player/stage/UnsupportedDevice_New.html?guid=[VIDEO_ID]",
                        anvload: "//up.nbc.anvato.net/vodstage/scripts/anvload.js",
                        anvpdata: '{"adPing":true, "pInstance":"[HTML_ID]", "control":"[SHOW_CONTROLS]", "info":"[SHOW_CONTROLS]", "width":"100%", "height":"100%", "mcp":"nbclocal", "video":"nbc", "accessKey": "[ANVACK_VALUE]","accessControl": {"preview":false,"geoLocation": true, "parentalControl": true, "authenticator": "alternate","token": "DYNAMIC_TOKEN","mvpd": "[MVPD_ID]","tveCheck": true},"user": {"homeZip": "[MVPD_HOMEZIP]","encryptedHomeZip": "[MVPD_ENCRYPTED_HOMEZIP]","maxRating": "[MAX_RATING]"},"plugins": {"freewheel": {"serverSide": {"networkId": "169843","profileId": "169843:nbcu_anvato_web","siteSectionId": "nbc_[MVPD_LABEL]_web_live","videoAssetId": "nbc_Live_12345","companion": "slid=300companion&slau=FW%20Video-300x60&ptgt=p&flag=+cmpn&w=300&h=60;","eventType": "Network"}}},"debug": 0}'
                    },
                    NBC_DEV: {
                        PlayerType: "ANVATO",
                        getFlashURL: "//tve-dev.nbcuni.com/nbc/player/GetFlash_New.html",
                        unsupportedDeviceURL: "//tve-dev.nbcuni.com/nbc/player/UnsupportedDevice_New.html?guid=[VIDEO_ID]",
                        anvload: "//up.nbc.anvato.net/dev/scripts/anvload.js",
                        anvpdata: '{"adPing":true, "pInstance":"[HTML_ID]", "control":"[SHOW_CONTROLS]", "info":"[SHOW_CONTROLS]", "width":"100%", "height":"100%", "mcp":"nbclocal", "video":"nbc", "accessKey": "[ANVACK_VALUE]","accessControl": {"preview":false,"geoLocation": true, "parentalControl": true, "authenticator": "alternate","token": "DYNAMIC_TOKEN","mvpd": "[MVPD_ID]","tveCheck": true},"user": {"homeZip": "[MVPD_HOMEZIP]","encryptedHomeZip": "[MVPD_ENCRYPTED_HOMEZIP]","maxRating": "[MAX_RATING]"},"plugins": {"freewheel": {"serverSide": {"networkId": "169843","profileId": "169843:nbcu_anvato_web","siteSectionId": "nbc_[MVPD_LABEL]_web_live","videoAssetId": "nbc_Live_12345","companion": "slid=300companion&slau=FW%20Video-300x60&ptgt=p&flag=+cmpn&w=300&h=60;","eventType": "Network"}}},"debug": 0}'
                    },
                    BRAVO: {
                        PlayerType: "MPX_MVPD",
                        controllerURL: "//player.theplatform.com/pdk/HNK2IC/tpPdkController.js",
                        playerURL: "//tve-common.nbcuni.com/web/restricted/player.php?pid=HNK2IC/live_v2",
                        releaseURL: "http://link.theplatform.com/s/HNK2IC/quz8FdTA1vK3",
                        options: ["autoPlay", "fwsitesection", "mvpdId"]
                    },
                    BRAVO_STAGE: {
                        PlayerType: "MPX_MVPD",
                        controllerURL: "//player.theplatform.com/pdk/dCK2IC/tpPdkController.js",
                        playerURL: "//tve-staging-common.nbcuni.com/web/restricted/player.php?pid=dCK2IC/live_v2_stage",
                        releaseURL: "http://link.theplatform.com/s/dCK2IC/EX6gzsO2V_FG",
                        options: ["autoPlay", "fwsitesection", "mvpdId"]
                    },
                    CNBC: {
                        PlayerType: "MPX_MVPD",
                        controllerURL: "//player.theplatform.com/pdk/HNK2IC/tpPdkController.js",
                        playerURL: "//tve-common.nbcuni.com/web/restricted/player.php?pid=HNK2IC/live_v2",
                        releaseURL: "http://link.theplatform.com/s/HNK2IC/Zq2lQTv11HMM",
                        options: ["autoPlay", "fwsitesection", "mvpdId"]
                    },
                    CNBC_STAGE: {
                        PlayerType: "MPX_MVPD",
                        controllerURL: "//player.theplatform.com/pdk/dCK2IC/tpPdkController.js",
                        playerURL: "//tve-staging-common.nbcuni.com/web/restricted/player.php?pid=dCK2IC/live_v2_stage",
                        releaseURL: "http://link.theplatform.com/s/dCK2IC/Acyxw81OlXJb",
                        options: ["autoPlay", "fwsitesection", "mvpdId"]
                    },
                    csn_bay_area: {
                        PlayerType: "PRIMETIME_RSN",
                        controllerURL: "//client-cloudpath.nbcuni.com/rsn/current/RSN/RSNPlayer.libs.concat.min.js",
                        rsn_key: "[RSN_KEY]",
                        rsn_as: "[RSN_AS]",
                        homeZip: "[MVPD_HOMEZIP]",
                        encryptedHomeZip: "[MVPD_ENCRYPTED_HOMEZIP]",
                        userGuid: "[USER_GUID]"
                    },
                    csn_california: {
                        PlayerType: "PRIMETIME_RSN",
                        controllerURL: "//client-cloudpath.nbcuni.com/rsn/current/RSN/RSNPlayer.libs.concat.min.js",
                        rsn_key: "[RSN_KEY]",
                        rsn_as: "[RSN_AS]",
                        homeZip: "[MVPD_HOMEZIP]",
                        encryptedHomeZip: "[MVPD_ENCRYPTED_HOMEZIP]",
                        userGuid: "[USER_GUID]"
                    },
                    csn_chicago: {
                        PlayerType: "PRIMETIME_RSN",
                        controllerURL: "//client-cloudpath.nbcuni.com/rsn/current/RSN/RSNPlayer.libs.concat.min.js",
                        rsn_key: "[RSN_KEY]",
                        rsn_as: "[RSN_AS]",
                        homeZip: "[MVPD_HOMEZIP]",
                        encryptedHomeZip: "[MVPD_ENCRYPTED_HOMEZIP]",
                        userGuid: "[USER_GUID]"
                    },
                    "csn_mid-atlantic": {
                        PlayerType: "PRIMETIME_RSN",
                        controllerURL: "//client-cloudpath.nbcuni.com/rsn/current/RSN/RSNPlayer.libs.concat.min.js",
                        rsn_key: "[RSN_KEY]",
                        rsn_as: "[RSN_AS]",
                        homeZip: "[MVPD_HOMEZIP]",
                        encryptedHomeZip: "[MVPD_ENCRYPTED_HOMEZIP]",
                        userGuid: "[USER_GUID]"
                    },
                    csn_new_england: {
                        PlayerType: "PRIMETIME_RSN",
                        controllerURL: "//client-cloudpath.nbcuni.com/rsn/current/RSN/RSNPlayer.libs.concat.min.js",
                        rsn_key: "[RSN_KEY]",
                        rsn_as: "[RSN_AS]",
                        homeZip: "[MVPD_HOMEZIP]",
                        encryptedHomeZip: "[MVPD_ENCRYPTED_HOMEZIP]",
                        userGuid: "[USER_GUID]"
                    },
                    csn_northwest: {
                        PlayerType: "PRIMETIME_RSN",
                        controllerURL: "//client-cloudpath.nbcuni.com/rsn/current/RSN/RSNPlayer.libs.concat.min.js",
                        rsn_key: "[RSN_KEY]",
                        rsn_as: "[RSN_AS]",
                        homeZip: "[MVPD_HOMEZIP]",
                        encryptedHomeZip: "[MVPD_ENCRYPTED_HOMEZIP]",
                        userGuid: "[USER_GUID]"
                    },
                    csn_philadelphia: {
                        PlayerType: "PRIMETIME_RSN",
                        controllerURL: "//client-cloudpath.nbcuni.com/rsn/current/RSN/RSNPlayer.libs.concat.min.js",
                        rsn_key: "[RSN_KEY]",
                        rsn_as: "[RSN_AS]",
                        homeZip: "[MVPD_HOMEZIP]",
                        encryptedHomeZip: "[MVPD_ENCRYPTED_HOMEZIP]",
                        userGuid: "[USER_GUID]"
                    },
                    E: {
                        PlayerType: "MPX_MVPD",
                        controllerURL: "//player.theplatform.com/pdk/HNK2IC/tpPdkController.js",
                        playerURL: "//tve-common.nbcuni.com/web/restricted/player.php?pid=HNK2IC/live_v2",
                        releaseURL: "http://link.theplatform.com/s/HNK2IC/eQg2KfUu5mbd",
                        options: ["autoPlay", "fwsitesection", "mvpdId"]
                    },
                    E_STAGE: {
                        PlayerType: "MPX_MVPD",
                        controllerURL: "//player.theplatform.com/pdk/dCK2IC/tpPdkController.js",
                        playerURL: "//tve-staging-common.nbcuni.com/web/restricted/player.php?pid=dCK2IC/live_v2_stage",
                        releaseURL: "http://link.theplatform.com/s/dCK2IC/dHQX9mzaZYdq",
                        options: ["autoPlay", "fwsitesection", "mvpdId"]
                    },
                    ESQUIRE: {
                        PlayerType: "MPX_MVPD",
                        controllerURL: "//player.theplatform.com/pdk/HNK2IC/tpPdkController.js",
                        playerURL: "//tve-common.nbcuni.com/web/restricted/player.php?pid=HNK2IC/live_v2",
                        releaseURL: "http://link.theplatform.com/s/HNK2IC/d_mCY0sKPVYE",
                        options: ["autoPlay", "fwsitesection", "mvpdId"]
                    },
                    ESQUIRE_STAGE: {
                        PlayerType: "MPX_MVPD",
                        controllerURL: "//player.theplatform.com/pdk/dCK2IC/tpPdkController.js",
                        playerURL: "//tve-staging-common.nbcuni.com/web/restricted/player.php?pid=dCK2IC/live_v2_stage",
                        releaseURL: "http://link.theplatform.com/s/dCK2IC/BiIW7mMGi9_p",
                        options: ["autoPlay", "fwsitesection", "mvpdId"]
                    },
                    GOLF: {
                        PlayerType: "MPX_MVPD",
                        controllerURL: "//player.theplatform.com/pdk/HNK2IC/tpPdkController.js",
                        playerURL: "//tve-common.nbcuni.com/web/restricted/player.php?pid=HNK2IC/live_v2",
                        releaseURL: "http://link.theplatform.com/s/HNK2IC/UHZCtpXzMsbE",
                        options: ["autoPlay", "fwsitesection", "mvpdId"]
                    },
                    GOLF_STAGE: {
                        PlayerType: "MPX_MVPD",
                        controllerURL: "//player.theplatform.com/pdk/dCK2IC/tpPdkController.js",
                        playerURL: "//tve-staging-common.nbcuni.com/web/restricted/player.php?pid=dCK2IC/live_v2_stage",
                        releaseURL: "http://link.theplatform.com/s/dCK2IC/p8hBG19HQTkw",
                        options: ["autoPlay", "fwsitesection", "mvpdId"]
                    },
                    MSNBC: {
                        PlayerType: "MPX_MVPD",
                        controllerURL: "//player.theplatform.com/pdk/HNK2IC/tpPdkController.js",
                        playerURL: "//tve-common.nbcuni.com/web/restricted/player.php?pid=HNK2IC/live_v2",
                        releaseURL: "http://link.theplatform.com/s/HNK2IC/iEBTHLWuubMr",
                        options: ["autoPlay", "fwsitesection", "mvpdId"]
                    },
                    MSNBC_STAGE: {
                        PlayerType: "MPX_MVPD",
                        controllerURL: "//player.theplatform.com/pdk/dCK2IC/tpPdkController.js",
                        playerURL: "//tve-staging-common.nbcuni.com/web/restricted/player.php?pid=dCK2IC/live_v2_stage",
                        releaseURL: "http://link.theplatform.com/s/dCK2IC/dgE2BvVvndeT",
                        options: ["autoPlay", "fwsitesection", "mvpdId"]
                    },
                    NBCUNIVERSO: {
                        PlayerType: "MPX_MVPD",
                        controllerURL: "//player.theplatform.com/pdk/HNK2IC/tpPdkController.js",
                        playerURL: "//tve-common.nbcuni.com/web/restricted/player.php?pid=HNK2IC/live_v2",
                        releaseURL: "http://link.theplatform.com/s/HNK2IC/y_cYK9aH9d7_",
                        options: ["autoPlay", "fwsitesection", "mvpdId"]
                    },
                    NBCUNIVERSO_STAGE: {
                        PlayerType: "MPX_MVPD",
                        controllerURL: "//player.theplatform.com/pdk/dCK2IC/tpPdkController.js",
                        playerURL: "//tve-staging-common.nbcuni.com/web/restricted/player.php?pid=dCK2IC/live_v2_stage",
                        releaseURL: "http://link.theplatform.com/s/dCK2IC/h0KFf8oTdD4D",
                        options: ["autoPlay", "fwsitesection", "mvpdId"]
                    },
                    OXYGEN: {
                        PlayerType: "MPX_MVPD",
                        controllerURL: "//player.theplatform.com/pdk/HNK2IC/tpPdkController.js",
                        playerURL: "//tve-common.nbcuni.com/web/restricted/player.php?pid=HNK2IC/live_v2",
                        releaseURL: "http://link.theplatform.com/s/HNK2IC/4AB_2Jo_lYeK",
                        options: ["autoPlay", "fwsitesection", "mvpdId"]
                    },
                    OXYGEN_STAGE: {
                        PlayerType: "MPX_MVPD",
                        controllerURL: "//player.theplatform.com/pdk/dCK2IC/tpPdkController.js",
                        playerURL: "//tve-staging-common.nbcuni.com/web/restricted/player.php?pid=dCK2IC/live_v2_stage",
                        releaseURL: "http://link.theplatform.com/s/dCK2IC/vNVVjLw0fBOj",
                        options: ["autoPlay", "fwsitesection", "mvpdId"]
                    },
                    SPORTS: {
                        PlayerType: "MPX_MVPD",
                        controllerURL: "//player.theplatform.com/pdk/HNK2IC/tpPdkController.js",
                        playerURL: "//tve-common.nbcuni.com/web/restricted/player.php?pid=HNK2IC/live_v2&mvpdId=[MVPD_ID]",
                        releaseURL: "http://link.theplatform.com/s/HNK2IC/2ebxsCCzcCXX",
                        options: ["autoPlay", "fwsitesection", "mvpdId"]
                    },
                    SPORTS_STAGE: {
                        PlayerType: "MPX_MVPD",
                        controllerURL: "//player.theplatform.com/pdk/dCK2IC/tpPdkController.js",
                        playerURL: "//tve-staging-common.nbcuni.com/web/restricted/player.php?pid=dCK2IC/live_v2_stage&mvpdId=[MVPD_ID]",
                        releaseURL: "http://link.theplatform.com/s/dCK2IC/y5GH5rs8AZxj",
                        options: ["autoPlay", "fwsitesection", "mvpdId"]
                    },
                    SPROUT: {
                        PlayerType: "MPX_MVPD",
                        controllerURL: "//player.theplatform.com/pdk/HNK2IC/tpPdkController.js",
                        playerURL: "//tve-common.nbcuni.com/web/restricted/player.php?pid=HNK2IC/live_v2",
                        releaseURL: "http://link.theplatform.com/s/HNK2IC/21Qqbahw3qeX",
                        options: ["autoPlay", "fwsitesection", "mvpdId"]
                    },
                    SPROUT_STAGE: {
                        PlayerType: "MPX_MVPD",
                        controllerURL: "//player.theplatform.com/pdk/dCK2IC/tpPdkController.js",
                        playerURL: "//tve-staging-common.nbcuni.com/web/restricted/player.php?pid=dCK2IC/live_v2_stage",
                        releaseURL: "http://link.theplatform.com/s/dCK2IC/QpbMXzH_7r__",
                        options: ["autoPlay", "fwsitesection", "mvpdId"]
                    },
                    SYFY: {
                        PlayerType: "MPX_MVPD",
                        controllerURL: "//player.theplatform.com/pdk/HNK2IC/tpPdkController.js",
                        playerURL: "//tve-common.nbcuni.com/web/restricted/player.php?pid=HNK2IC/live_v2",
                        releaseURL: "http://link.theplatform.com/s/HNK2IC/GN441rJMhvvJ",
                        options: ["autoPlay", "fwsitesection", "mvpdId"]
                    },
                    SYFY_STAGE: {
                        PlayerType: "MPX_MVPD",
                        controllerURL: "//player.theplatform.com/pdk/dCK2IC/tpPdkController.js",
                        playerURL: "//tve-staging-common.nbcuni.com/web/restricted/player.php?pid=dCK2IC/live_v2_stage",
                        releaseURL: "http://link.theplatform.com/s/dCK2IC/wXb3rERKgKBN",
                        options: ["autoPlay", "fwsitesection", "mvpdId"]
                    },
                    tcn_philadelphia: {
                        PlayerType: "PRIMETIME_RSN",
                        controllerURL: "//client-cloudpath.nbcuni.com/rsn/current/RSN/RSNPlayer.libs.concat.min.js",
                        rsn_key: "[RSN_KEY]",
                        rsn_as: "[RSN_AS]",
                        homeZip: "[MVPD_HOMEZIP]",
                        encryptedHomeZip: "[MVPD_ENCRYPTED_HOMEZIP]",
                        userGuid: "[USER_GUID]"
                    },
                    USA: {
                        PlayerType: "MPX_MVPD",
                        controllerURL: "//player.theplatform.com/pdk/HNK2IC/tpPdkController.js",
                        playerURL: "//tve-common.nbcuni.com/web/restricted/player.php?pid=HNK2IC/live_v2",
                        releaseURL: "http://link.theplatform.com/s/HNK2IC/zS2LedyDq974",
                        options: ["autoPlay", "fwsitesection", "mvpdId"]
                    },
                    USA_STAGE: {
                        PlayerType: "MPX_MVPD",
                        controllerURL: "//player.theplatform.com/pdk/dCK2IC/tpPdkController.js",
                        playerURL: "//tve-staging-common.nbcuni.com/web/restricted/player.php?pid=dCK2IC/live_v2_stage",
                        releaseURL: "http://link.theplatform.com/s/dCK2IC/ycMwrpabTbt1",
                        options: ["autoPlay", "fwsitesection", "mvpdId"]
                    }
                }
            };
            var ie = {
                ARMSTRONG: {
                    rsn_key: "ARMSTRONG_RSN",
                    rsn_as: "sQkraUaBnqZLQxoCHWMayW8YvX"
                },
                AUTH_ATLANTICBB_NET: {
                    anvato_key: "nbcu_comcast_comcast_web_prod_074080762ad4ce956b26b43fb22abf153443a8c4",
                    ssid_label: "atlantic",
                    showPlayerControls: !1
                },
                ATT: {
                    rsn_key: "ATT_RSN",
                    rsn_as: "FfDpRfjR7rZH7fu6BnwJFnqpJn",
                    anvato_key: "nbcu_comcast_comcast_web_prod_074080762ad4ce956b26b43fb22abf153443a8c4",
                    ssid_label: "att",
                    showPlayerControls: !1
                },
                CABLEVISION: {
                    anvato_key: "nbcu_comcast_comcast_web_prod_074080762ad4ce956b26b43fb22abf153443a8c4",
                    ssid_label: "cablevision",
                    showPlayerControls: !1
                },
                AUTH_CENTURYLINK_NET: {
                    rsn_key: "CENTURY_LINK",
                    rsn_as: "1I2qjWb8A67WgPgCaAo22dv87puGa3fP",
                    anvato_key: "nbcu_comcast_comcast_web_prod_074080762ad4ce956b26b43fb22abf153443a8c4",
                    ssid_label: "centurylink",
                    showPlayerControls: !1
                },
                CHARTER: {
                    anvato_key: "nbcu_comcast_comcast_web_prod_074080762ad4ce956b26b43fb22abf153443a8c4",
                    ssid_label: "charter",
                    showPlayerControls: !1
                },
                COMCAST_SSO: {
                    rsn_key: "COMCAST_RSN",
                    rsn_as: "PrxRyWEo3GfCqZgtS5Zq5frpHD",
                    anvato_key: "nbcu_comcast_comcast_web_prod_074080762ad4ce956b26b43fb22abf153443a8c4",
                    ssid_label: "xfinity",
                    showPlayerControls: !1
                },
                DISH: {
                    rsn_key: "DISH_RSN",
                    rsn_as: "ryTXE149RxgA53UPZX23rdg51CzhWZGB",
                    anvato_key: "nbcu_comcast_comcast_web_prod_074080762ad4ce956b26b43fb22abf153443a8c4",
                    ssid_label: "dish",
                    showPlayerControls: !1
                },
                DTV: {
                    anvato_key: "nbcu_comcast_comcast_web_prod_074080762ad4ce956b26b43fb22abf153443a8c4",
                    ssid_label: "directv",
                    showPlayerControls: !1
                },
                GOOGLE: {
                    rsn_key: "GOOGLE_RSN",
                    rsn_as: "5b5uPHIWXV38hKZnKK8fUTxO2PGpV222"
                },
                MEDIACOM: {
                    rsn_key: "MEDIACOM_RSN",
                    rsn_as: "sQkraUaBnqZLQxoCHWMayW8YvX"
                },
                SONY: {
                    anvato_key: "nbcu_comcast_comcast_web_prod_074080762ad4ce956b26b43fb22abf153443a8c4",
                    ssid_label: "att",
                    showPlayerControls: !1
                },
                SUDDENLINK: {
                    anvato_key: "nbcu_comcast_comcast_web_prod_074080762ad4ce956b26b43fb22abf153443a8c4",
                    ssid_label: "suddenlink",
                    showPlayerControls: !1
                },
                SUREWEST: {
                    rsn_key: "SUREWEST_RSN",
                    rsn_as: "fQsXt50327EPcPEOVmWVJqb1o63amS0c"
                },
                TWC: {
                    rsn_key: "TWC_RSN",
                    rsn_as: "pY098oXJ0X174VW6IKge56I3leZ5LvaU",
                    anvato_key: "nbcu_comcast_comcast_web_prod_074080762ad4ce956b26b43fb22abf153443a8c4",
                    ssid_label: "twc",
                    showPlayerControls: !1
                },
                VERIZON: {
                    rsn_key: "VERIZON_RSN",
                    rsn_as: "CGpZhToLLgjFmQW2bz8kuzyi4F",
                    anvato_key: "nbcu_comcast_comcast_web_prod_074080762ad4ce956b26b43fb22abf153443a8c4",
                    ssid_label: "verizon",
                    showPlayerControls: !1
                },
                WOW: {
                    anvato_key: "nbcu_comcast_comcast_web_prod_074080762ad4ce956b26b43fb22abf153443a8c4",
                    ssid_label: "wideopenwest",
                    showPlayerControls: !1
                }
            };
            e.MVPDPartners = {
                ARMSTRONG: "Armstrong",
                ATLANTICBB: "auth_atlanticbb_net",
                ATT: "ATT",
                CENTURYLINK: "auth_centurylink_net",
                CHARTER: "Charter",
                COMCAST: "Comcast_SSO",
                DIRECTV: "DTV",
                DISH: "Dish",
                GOOGLE: "Google",
                MEDIACOM: "Mediacom",
                OPTIMUM: "Cablevision",
                SONY: "SONY",
                SUDDENLINK: "suddenlink",
                SUREWEST: "Surewest",
                TWC: "twc",
                VERIZON: "Verizon",
                WOW: "wow"
            },
            e.Account = {},
            e.Account.NBC = "NBC",
            e.Account.NBC_STAGE = "NBC_STAGE",
            e.Account.NBC_DEV = "NBC_DEV",
            e.Account.GOLF = "GOLF",
            e.Account.SPORTS = "SPORTS",
            e.Account.BRAVO = "BRAVO",
            e.Account.CNBC = "CNBC",
            e.Account.CSN_BAY_AREA = "csn_bay_area",
            e.Account.CSN_CALIFORNIA = "csn_california",
            e.Account.CSN_CHICAGO = "csn_chicago",
            e.Account.CSN_MID_ATLANTIC = "csn_mid-atlantic",
            e.Account.CSN_NEW_ENGLAND = "csn_new_england",
            e.Account.CSN_NORTHWEST = "csn_northwest",
            e.Account.CSN_PHILADELPHIA = "csn_philadelphia",
            e.Account.E = "E",
            e.Account.ESQUIRE = "ESQUIRE",
            e.Account.MUN2 = "MUN2",
            e.Account.MSNBC = "MSNBC",
            e.Account.NBCUNIVERSO = "NBCUNIVERSO",
            e.Account.OXYGEN = "OXYGEN",
            e.Account.SPROUT = "SPROUT",
            e.Account.SYFY = "SYFY",
            e.Account.TCN_PHILADELPHIA = "tcn_philadelphia",
            e.Account.TELEMUNDO = "TELEMUNDO",
            e.Account.USA = "USA",
            e.Account.MVPD = "MVPD",
            e.Account.MVPDCOMPANION = "MVPDCOMPANION",
            e.Account.GOLF_STAGE = "GOLF_STAGE",
            e.Account.NBCUNIVERSO_STAGE = "NBCUNIVERSO_STAGE",
            e.Account.SPORTS_STAGE = "SPORTS_STAGE",
            e.Account.BRAVO_STAGE = "BRAVO_STAGE",
            e.Account.CNBC_STAGE = "CNBC_STAGE",
            e.Account.E_STAGE = "E_STAGE",
            e.Account.ESQUIRE_STAGE = "ESQUIRE_STAGE",
            e.Account.MUN2_STAGE = "MUN2_STAGE",
            e.Account.MSNBC_STAGE = "MSNBC_STAGE",
            e.Account.OXYGEN_STAGE = "OXYGEN_STAGE",
            e.Account.SPROUT_STAGE = "SPROUT_STAGE",
            e.Account.SYFY_STAGE = "SYFY_STAGE",
            e.Account.USA_STAGE = "USA_STAGE",
            e.Account.MVPD_STAGE = "MVPD_STAGE",
            e.Account.UNIHD = "UNIHD",
            e.ContentInitializationObject = function() {
                var e = this;
                this.videoId,
                this.mediaPid,
                this.externalAdvertiserId,
                this.fullEpisode,
                this.showName,
                this.toString = function() {
                    var t = "NBCUniCPC.ContentInitializationObject {";
                    return t += "videoId:" + e.videoId,
                    t += ", mediaPid:" + e.mediaPid,
                    t += ", externalAdvertiserId:" + e.externalAdvertiserId,
                    t += ", fullEpisode:" + e.fullEpisode,
                    t += ", showName:" + e.showName,
                    t + "}"
                }
            }
            ,
            e.Event = {
                ConfigLoadedEvent: function(e, t) {
                    this.type = e,
                    this.data = {
                        config: t
                    }
                },
                CompanionAdEvent: function(e, t, i, n) {
                    this.type = e,
                    this.data = {
                        message: t,
                        holderId: i,
                        timestamp: n
                    }
                },
                AdEvent: function(e, t) {
                    this.type = e,
                    this.data = {
                        id: t
                    }
                },
                UserInteractionEvent: function(e, t) {
                    this.type = e,
                    this.data = {
                        interactionType: t
                    }
                },
                VideoStateChangeEvent: function(e, t) {
                    this.type = e,
                    this.data = {
                        playerState: t
                    }
                },
                ProgramChangedEvent: function(e, t) {
                    this.type = e,
                    this.data = {
                        programId: t.programId,
                        title: t.title,
                        description: t.description
                    }
                },
                SegmentTypeChangedEvent: function(e, t) {
                    this.type = e,
                    this.data = {
                        segmentType: t
                    }
                },
                PlayerErrorEvent: function(e, t, i, n) {
                    this.type = e,
                    this.data = {
                        errorCode: t,
                        errorDefinition: i,
                        isCritical: n
                    }
                },
                VideoSelectedEvent: function(e, t, i, n, r) {
                    this.type = e,
                    this.data = {
                        guid: t,
                        permalink: i,
                        clipId: n,
                        clicked: r
                    }
                },
                BlackoutEvent: function(e, t, i, n) {
                    this.type = e,
                    this.data = {
                        entitled: t,
                        isError: i,
                        responseObject: n
                    }
                },
                MuteEvent: function(e, t) {
                    this.type = e,
                    this.data = {
                        muted: t
                    }
                },
                CaptionStateEvent: function(e, t, i) {
                    this.type = e,
                    this.data = {
                        enabled: t,
                        langCode: i
                    }
                },
                VolumeEvent: function(e, t) {
                    this.type = e,
                    this.data = {
                        level: t
                    }
                },
                SubtitleEvent: function(e, t) {
                    this.type = e,
                    this.data = {
                        subtitleStyle: t
                    }
                }
            },
            e.Event.COMPANION_AD = "companion_ad",
            e.Event.CONFIG_LOADED = "CONFIG_LOADED",
            e.Event.RELATED_VIDEO_SELECTED = "RelatedVideoSelected",
            e.Event.AUTHENTICATION_STATUS = "AUTHENTICATION_STATUS",
            e.Event.PROVIDER_SELECTED = "PROVIDER_SELECTED",
            e.Event.AUTHORIZATION_STATUS = "AUTHORIZATION_STATUS",
            e.Event.BLACKOUT_STATUS = "BLACKOUT_STATUS",
            e.Event.MUTE_EVENT = "MUTE_EVENT",
            e.Event.VOLUME_EVENT = "VOLUME_EVENT",
            e.Event.CAPTION_STATE_EVENT = "CAPTION_STATE_EVENT",
            e.Event.USER_INTERACTION = "USER_INTERACTION",
            e.Event.PROVIDER_IFRAME_INJECTED = "PROVIDER_IFRAME_INJECTED",
            e.Event.PROVIDER_IFRAME_INJECTED = "PROVIDER_IFRAME_REMOVED",
            e.Event.PREVIEW_STATUS = "PREVIEW_STATUS",
            e.Event.PREVIEW_EXPIRED = "PREVIEW_EXPIRED",
            e.Event.PICKER_REQUESTED = "PICKER_REQUESTED",
            e.Event.STATE_CHANGE = "STATE_CHANGE",
            e.Event.FIRST_FRAME_READY = "FIRST_FRAME_READY",
            e.Event.PROGRAM_CHANGED = "PROGRAM_CHANGED",
            e.Event.SEGMENT_TYPE_CHANGED = "SEGMENT_TYPE_CHANGED",
            e.Event.SEGMENT_STARTED = "SEGMENT_STARTED",
            e.Event.SEGMENT_COMPLETED = "SEGMENT_COMPLETED",
            e.Event.POPUP_BLOCKED = "POPUP_BLOCKED",
            e.Event.PLAYER_ERROR = "PLAYER_ERROR",
            e.Event.AD_BREAK_STARTED = "AD_BREAK_STARTED",
            e.Event.AD_BREAK_COMPLETED = "AD_BREAK_COMPLETED",
            e.Event.AD_LOAD_START = "AD_LOAD_START",
            e.Event.AD_STARTED = "AD_STARTED",
            e.Event.AD_COMPLETED = "AD_COMPLETED",
            e.Event.INSTREAM_DATA = "INSTREAM_DATA",
            e.Event.PLAYER_LOADED = "PLAYER_LOADED",
            e.Event.PLAYBACK_READY = "PLAYBACK_READY",
            e.Event.PLAYBACK_STARTED = "PLAYBACK_STARTED",
            e.Event.SUBTITLE_STYLE = "SUBTITLE_STYLE",
            e.PlayerParameters = function() {
                var e = this;
                this.autoPlay,
                this.carouselID,
                this.dfp_300,
                this.dfp_728,
                this.disableEndCard,
                this.endCardSeconds,
                this.excludeSharing,
                this.fwautoplay,
                this.fwsitesection,
                this.mvpdId,
                this.mvpdEncryptedServiceZip,
                this.mvpdServiceZip,
                this.userMaxRating,
                this.krux_user,
                this.krux_segment,
                this.sequenceCompleteStrategy,
                this.sp,
                this.station,
                this.suppressCompanions,
                this.resourceId,
                this.userGuid,
                this.toString = function() {
                    var t = "NBCUniCPC.PlayerParameters {";
                    return t += "autoPlay:" + e.autoPlay,
                    t += ", carouselID:" + e.carouselID,
                    t += ", dfp_300:" + e.dfp_300,
                    t += ", dfp_728:" + e.dfp_728,
                    t += ", disableEndCard:" + e.disableEndCard,
                    t += ", endCardSeconds:" + e.endCardSeconds,
                    t += ", excludeSharing:" + e.excludeSharing,
                    t += ", fwautoplay:" + e.fwautoplay,
                    t += ", fwsitesection:" + e.fwsitesection,
                    t += ", mvpdId:" + e.mvpdId,
                    t += ", mvpdServiceZip:" + e.mvpdServiceZip,
                    t += ", mvpdEncryptedServiceZip:" + e.mvpdEncryptedServiceZip,
                    t += ", userMaxRating:" + e.userMaxRating,
                    t += ", krux_user:" + e.krux_user,
                    t += ", krux_segment:" + e.krux_segment,
                    t += ", sequenceCompleteStrategy:" + e.sequenceCompleteStrategy,
                    t += ", sp:" + e.sp,
                    t += ", station:" + e.station,
                    t += ", suppressCompanions:" + e.suppressCompanions,
                    t += ", resourceId:" + e.resourceId,
                    t += ", userGuid:" + e.userGuid,
                    t + "}"
                }
            }
            ;
            var ne = {
                ANVATO: "ANVATO",
                MPX: "MPX",
                MPX_P3: "MPX_P3",
                MPX_MVPD: "MPX_MVPD",
                PRIMETIME_RSN: "PRIMETIME_RSN"
            }
              , re = re || {};
            re.events = re.events || {},
            re.events.Event = {
                ERROR_EVENT: "errorEvent",
                CONFIG_LOADED: "configLoaded",
                CHANNEL_CHANGING: "channelChanging",
                PLAYBACK_STATUS_CHANGED: "playbackStatusChanged",
                CURRENT_TIME_CHANGED: "currentTimeChanged",
                DURATION_CHANGED: "durationChanged",
                PLAY_RANGE_CHANGED: "playRangeChanged",
                METADATA_EVENT: "timedMetadataReceived",
                EVENT_INFO_METADATA: "eventInfoMetadataReceived",
                BLACKOUT: "blackedOutEvent"
            },
            re.events.ADEvent = {
                AD_BREAK_STARTED: "adBreakStarted",
                AD_BREAK_COMPLETED: "adBreakCompleted",
                AD_STARTED: "adStarted",
                AD_COMPLETED: "adCompleted",
                AD_PROGRESS: "adProgress"
            },
            re.events.PlayerEvent = {
                PLAYER_PLAY: "playerPlay",
                PLAYER_PAUSE: "playerPause",
                PLAYER_SEEK_CHANGED: "playerSeekChange",
                PLAYER_VOLUME_CHANGED: "playerVolumeChanged",
                PLAYER_MUTE_STATE_CHANGED: "playerMuteStateChanged",
                PLAYER_SCREEN_STATE_CHANGED: "playerScreenStateChanges",
                PLAYER_CLOSED_CAPTION_STATE_CHANGED: "playerClosedCaptionStateChanged"
            },
            re.MediaPlayerStatus = {
                COMPLETED: "complete",
                ERROR: "error",
                IDLE: "idle",
                INITIALIZED: "initialized",
                INITIALIZING: "initializing",
                PAUSED: "paused",
                PLAYING: "playing",
                PREPARED: "prepared",
                PREPARING: "preparing",
                RELEASED: "released",
                SEEKING: "seeking"
            },
            e.SegmentStatus = {
                START: "start",
                COMPLETE: "complete"
            },
            e.SegmentType = {
                MASTER: "master",
                SLATE: "slate",
                AD: "ad"
            },
            e.StreamType = {
                LIVE: "LIVE",
                VOD: "VOD"
            },
            e.VideoState = {
                STATE_LOADING: "videoLoading",
                STATE_BUFFERING: "videoBuffering",
                STATE_PLAYING: "videoPlay",
                STATE_PAUSED: "videoPause"
            };
            var se, oe, ae, ce, le, he, ue, de, fe;
            e.load = function(e, t, i, n) {
                if (!e || !t || !i)
                    throw new Error("[CPC] load() requires an htmlId, account, and content object");
                se || Q();
                var r = oe.getPlayerObject(e, t, i, n)
                  , s = ae.getNewWrapper(r.PlayerType, e, t);
                de.getNewEndCard(e, r.endCardConfig, s, i, n).init();
                var o = ce.getEmbedStrategy(r, e, s, n);
                o.execute();
                var a = new J(s);
                return a
            }
            ,
            e.ready = !0,
            e.onReady = function() {}
            ,
            e.controller = new ee(new EventDispatcher),
            e.onReady()
        }(window.NBCUniCPC = window.NBCUniCPC || {}),
        e.exports = NBCUniCPC
    }
    , function(e, t, i) {
        "use strict";
        var n = i(0)
          , r = i(223);
        n.Observable.prototype["do"] = r._do,
        n.Observable.prototype._do = r._do
    }
    , function(e, t, i) {
        "use strict";
        var n = i(0)
          , r = i(229);
        n.Observable.prototype.pairwise = r.pairwise
    }
    , function(e, t, i) {
        "use strict";
        var n = i(0)
          , r = i(236);
        n.Observable.prototype.withLatestFrom = r.withLatestFrom
    }
    , function(e, t, i) {
        "use strict";
        var n = this && this.__extends || function(e, t) {
            function i() {
                this.constructor = e
            }
            for (var n in t)
                t.hasOwnProperty(n) && (e[n] = t[n]);
            e.prototype = null === t ? Object.create(t) : (i.prototype = t.prototype,
            new i)
        }
          , r = i(0)
          , s = function(e) {
            function t(t, i) {
                e.call(this),
                this.value = t,
                this.scheduler = i,
                this._isScalar = !0,
                i && (this._isScalar = !1)
            }
            return n(t, e),
            t.create = function(e, i) {
                return new t(e,i)
            }
            ,
            t.dispatch = function(e) {
                var t = e.done
                  , i = e.value
                  , n = e.subscriber;
                return t ? void n.complete() : (n.next(i),
                void (n.closed || (e.done = !0,
                this.schedule(e))))
            }
            ,
            t.prototype._subscribe = function(e) {
                var i = this.value
                  , n = this.scheduler;
                return n ? n.schedule(t.dispatch, 0, {
                    done: !1,
                    value: i,
                    subscriber: e
                }) : (e.next(i),
                void (e.closed || e.complete()))
            }
            ,
            t
        }(r.Observable);
        t.ScalarObservable = s
    }
    , function(e, t, i) {
        "use strict";
        function n(e) {
            return void 0 === e && (e = Number.POSITIVE_INFINITY),
            this.lift(new a(e))
        }
        var r = this && this.__extends || function(e, t) {
            function i() {
                this.constructor = e
            }
            for (var n in t)
                t.hasOwnProperty(n) && (e[n] = t[n]);
            e.prototype = null === t ? Object.create(t) : (i.prototype = t.prototype,
            new i)
        }
          , s = i(16)
          , o = i(19);
        t.mergeAll = n;
        var a = function() {
            function e(e) {
                this.concurrent = e
            }
            return e.prototype.call = function(e, t) {
                return t._subscribe(new c(e,this.concurrent))
            }
            ,
            e
        }();
        t.MergeAllOperator = a;
        var c = function(e) {
            function t(t, i) {
                e.call(this, t),
                this.concurrent = i,
                this.hasCompleted = !1,
                this.buffer = [],
                this.active = 0
            }
            return r(t, e),
            t.prototype._next = function(e) {
                this.active < this.concurrent ? (this.active++,
                this.add(o.subscribeToResult(this, e))) : this.buffer.push(e)
            }
            ,
            t.prototype._complete = function() {
                this.hasCompleted = !0,
                0 === this.active && 0 === this.buffer.length && this.destination.complete()
            }
            ,
            t.prototype.notifyComplete = function(e) {
                var t = this.buffer;
                this.remove(e),
                this.active--,
                t.length > 0 ? this._next(t.shift()) : 0 === this.active && this.hasCompleted && this.destination.complete()
            }
            ,
            t
        }(s.OuterSubscriber);
        t.MergeAllSubscriber = c
    }
    , function(e, t, i) {
        "use strict";
        var n = i(238)
          , r = i(239);
        t.async = new r.AsyncScheduler(n.AsyncAction)
    }
    , function(e, t, i) {
        "use strict";
        var n = i(13)
          , r = n.root.Symbol;
        if ("function" == typeof r)
            r.iterator ? t.$$iterator = r.iterator : "function" == typeof r["for"] && (t.$$iterator = r["for"]("iterator"));
        else if (n.root.Set && "function" == typeof (new n.root.Set)["@@iterator"])
            t.$$iterator = "@@iterator";
        else if (n.root.Map)
            for (var s = Object.getOwnPropertyNames(n.root.Map.prototype), o = 0; o < s.length; ++o) {
                var a = s[o];
                if ("entries" !== a && "size" !== a && n.root.Map.prototype[a] === n.root.Map.prototype.entries) {
                    t.$$iterator = a;
                    break
                }
            }
        else
            t.$$iterator = "@@iterator"
    }
    , function(e, t, i) {
        "use strict";
        function n(e) {
            var t, i = e.Symbol;
            return "function" == typeof i ? i.observable ? t = i.observable : (t = i("observable"),
            i.observable = t) : t = "@@observable",
            t
        }
        var r = i(13);
        t.getSymbolObservable = n,
        t.$$observable = n(r.root)
    }
    , function(e, t, i) {
        "use strict";
        var n = i(13)
          , r = n.root.Symbol;
        t.$$rxSubscriber = "function" == typeof r && "function" == typeof r["for"] ? r["for"]("rxSubscriber") : "@@rxSubscriber"
    }
    , function(e, t, i) {
        "use strict";
        function n(e) {
            return "function" == typeof e
        }
        t.isFunction = n
    }
    , function(e, t, i) {
        "use strict";
        !function(e) {
            e[e.START = 0] = "START",
            e[e.COMPLETE = 1] = "COMPLETE",
            e[e.ENTER = 2] = "ENTER",
            e[e.EXIT = 3] = "EXIT",
            e[e.PROGRESS = 4] = "PROGRESS",
            e[e.SKIPPED = 5] = "SKIPPED",
            e[e.INTERRUPT = 6] = "INTERRUPT",
            e[e.UPCOMING = 7] = "UPCOMING"
        }(t.TrackerEventType || (t.TrackerEventType = {}));
        t.TrackerEventType
    }
    , function(e, t, i) {
        "use strict";
        var n = i(1)
          , r = function() {
            function e(e, t, i, r) {
                void 0 === i && (i = ""),
                void 0 === r && (r = []),
                this.name = e,
                this.time = t,
                this.content = i,
                this._requiredFields = r,
                this.metadata = {},
                this._logger = new n.Logger("HlsTag"),
                this._parseContent(),
                this._logContentWarnings()
            }
            return e.prototype._parseContent = function() {
                var e = this;
                if (this.content) {
                    var t = this.name + ":";
                    0 === this.content.indexOf(t) && (this.content = this.content.substr(this.content.indexOf(":") + 1));
                    var i = this.content.split(",");
                    i.forEach(function(t) {
                        var i = t.split("=");
                        e.metadata[i[0]] = i[1]
                    })
                }
            }
            ,
            e.prototype._logContentWarnings = function() {
                var e = this
                  , t = Object.keys(this.metadata);
                this._requiredFields.filter(function(e) {
                    return t.indexOf(e) === -1
                }).forEach(function(t) {
                    return e._logger.warn("Required field " + t + " missing from " + e.name + " tag")
                })
            }
            ,
            e
        }();
        t.HlsTag = r
    }
    , function(e, t) {
        e.exports = "constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")
    }
    , function(e, t, i) {
        var n = i(9)
          , r = i(26)
          , s = i(21)
          , o = i(30)
          , a = i(38)
          , c = "prototype"
          , l = function(e, t, i) {
            var h, u, d, f, p = e & l.F, m = e & l.G, g = e & l.S, y = e & l.P, v = e & l.B, _ = m ? n : g ? n[t] || (n[t] = {}) : (n[t] || {})[c], b = m ? r : r[t] || (r[t] = {}), S = b[c] || (b[c] = {});
            m && (i = t);
            for (h in i)
                u = !p && _ && void 0 !== _[h],
                d = (u ? _ : i)[h],
                f = v && u ? a(d, n) : y && "function" == typeof d ? a(Function.call, d) : d,
                _ && o(_, h, d, e & l.U),
                b[h] != d && s(b, h, f),
                y && S[h] != d && (S[h] = d)
        };
        n.core = r,
        l.F = 1,
        l.G = 2,
        l.S = 4,
        l.P = 8,
        l.B = 16,
        l.W = 32,
        l.U = 64,
        l.R = 128,
        e.exports = l
    }
    , function(e, t) {
        e.exports = function(e) {
            try {
                return !!e()
            } catch (t) {
                return !0
            }
        }
    }
    , function(e, t, i) {
        e.exports = i(9).document && document.documentElement
    }
    , function(e, t, i) {
        "use strict";
        var n = i(82)
          , r = i(78)
          , s = i(30)
          , o = i(21)
          , a = i(28)
          , c = i(29)
          , l = i(145)
          , h = i(59)
          , u = i(151)
          , d = i(7)("iterator")
          , f = !([].keys && "next"in [].keys())
          , p = "@@iterator"
          , m = "keys"
          , g = "values"
          , y = function() {
            return this
        };
        e.exports = function(e, t, i, v, _, b, S) {
            l(i, t, v);
            var E, P, T, C = function(e) {
                if (!f && e in O)
                    return O[e];
                switch (e) {
                case m:
                    return function() {
                        return new i(this,e)
                    }
                    ;
                case g:
                    return function() {
                        return new i(this,e)
                    }
                }
                return function() {
                    return new i(this,e)
                }
            }, A = t + " Iterator", w = _ == g, R = !1, O = e.prototype, I = O[d] || O[p] || _ && O[_], L = I || C(_), k = _ ? w ? C("entries") : L : void 0, D = "Array" == t ? O.entries || I : I;
            if (D && (T = u(D.call(new e)),
            T !== Object.prototype && (h(T, A, !0),
            n || a(T, d) || o(T, d, y))),
            w && I && I.name !== g && (R = !0,
            L = function() {
                return I.call(this)
            }
            ),
            n && !S || !f && !R && O[d] || o(O, d, L),
            c[t] = L,
            c[A] = y,
            _)
                if (E = {
                    values: w ? L : C(g),
                    keys: b ? L : C(m),
                    entries: k
                },
                S)
                    for (P in E)
                        P in O || s(O, P, E[P]);
                else
                    r(r.P + r.F * (f || R), t, E);
            return E
        }
    }
    , function(e, t) {
        e.exports = !1
    }
    , function(e, t) {
        e.exports = function(e, t) {
            return {
                enumerable: !(1 & e),
                configurable: !(2 & e),
                writable: !(4 & e),
                value: t
            }
        }
    }
    , function(e, t, i) {
        var n = i(9)
          , r = "__core-js_shared__"
          , s = n[r] || (n[r] = {});
        e.exports = function(e) {
            return s[e] || (s[e] = {})
        }
    }
    , function(e, t, i) {
        var n, r, s, o = i(38), a = i(141), c = i(80), l = i(58), h = i(9), u = h.process, d = h.setImmediate, f = h.clearImmediate, p = h.MessageChannel, m = 0, g = {}, y = "onreadystatechange", v = function() {
            var e = +this;
            if (g.hasOwnProperty(e)) {
                var t = g[e];
                delete g[e],
                t()
            }
        }, _ = function(e) {
            v.call(e.data)
        };
        d && f || (d = function(e) {
            for (var t = [], i = 1; arguments.length > i; )
                t.push(arguments[i++]);
            return g[++m] = function() {
                a("function" == typeof e ? e : Function(e), t)
            }
            ,
            n(m),
            m
        }
        ,
        f = function(e) {
            delete g[e]
        }
        ,
        "process" == i(37)(u) ? n = function(e) {
            u.nextTick(o(v, e, 1))
        }
        : p ? (r = new p,
        s = r.port2,
        r.port1.onmessage = _,
        n = o(s.postMessage, s, 1)) : h.addEventListener && "function" == typeof postMessage && !h.importScripts ? (n = function(e) {
            h.postMessage(e + "", "*")
        }
        ,
        h.addEventListener("message", _, !1)) : n = y in l("script") ? function(e) {
            c.appendChild(l("script"))[y] = function() {
                c.removeChild(this),
                v.call(e)
            }
        }
        : function(e) {
            setTimeout(o(v, e, 1), 0)
        }
        ),
        e.exports = {
            set: d,
            clear: f
        }
    }
    , function(e, t, i) {
        var n = i(61)
          , r = Math.min;
        e.exports = function(e) {
            return e > 0 ? r(n(e), 9007199254740991) : 0
        }
    }
    , function(e, t, i) {
        var n = i(167);
        e.exports = n(navigator.userAgent)
    }
    , function(e, t, i) {
        "use strict";
        var n = i(0)
          , r = function() {
            function e(e, t, i) {
                this.kind = e,
                this.value = t,
                this.exception = i,
                this.hasValue = "N" === e
            }
            return e.prototype.observe = function(e) {
                switch (this.kind) {
                case "N":
                    return e.next && e.next(this.value);
                case "E":
                    return e.error && e.error(this.exception);
                case "C":
                    return e.complete && e.complete()
                }
            }
            ,
            e.prototype["do"] = function(e, t, i) {
                var n = this.kind;
                switch (n) {
                case "N":
                    return e && e(this.value);
                case "E":
                    return t && t(this.exception);
                case "C":
                    return i && i()
                }
            }
            ,
            e.prototype.accept = function(e, t, i) {
                return e && "function" == typeof e.next ? this.observe(e) : this["do"](e, t, i)
            }
            ,
            e.prototype.toObservable = function() {
                var e = this.kind;
                switch (e) {
                case "N":
                    return n.Observable.of(this.value);
                case "E":
                    return n.Observable["throw"](this.exception);
                case "C":
                    return n.Observable.empty()
                }
                throw new Error("unexpected notification kind value")
            }
            ,
            e.createNext = function(t) {
                return "undefined" != typeof t ? new e("N",t) : this.undefinedValueNotification
            }
            ,
            e.createError = function(t) {
                return new e("E",(void 0),t)
            }
            ,
            e.createComplete = function() {
                return this.completeNotification
            }
            ,
            e.completeNotification = new e("C"),
            e.undefinedValueNotification = new e("N",(void 0)),
            e
        }();
        t.Notification = r
    }
    , function(e, t, i) {
        "use strict";
        var n = i(0)
          , r = i(225);
        n.Observable.prototype.first = r.first
    }
    , function(e, t, i) {
        "use strict";
        var n = i(0)
          , r = i(226);
        n.Observable.prototype.mapTo = r.mapTo
    }
    , function(e, t, i) {
        "use strict";
        var n = i(0)
          , r = i(227);
        n.Observable.prototype.mergeMap = r.mergeMap,
        n.Observable.prototype.flatMap = r.mergeMap
    }
    , function(e, t, i) {
        "use strict";
        var n = i(0)
          , r = i(230);
        n.Observable.prototype.share = r.share
    }
    , function(e, t, i) {
        "use strict";
        var n = this && this.__extends || function(e, t) {
            function i() {
                this.constructor = e
            }
            for (var n in t)
                t.hasOwnProperty(n) && (e[n] = t[n]);
            e.prototype = null === t ? Object.create(t) : (i.prototype = t.prototype,
            new i)
        }
          , r = i(14)
          , s = i(0)
          , o = i(5)
          , a = i(17)
          , c = function(e) {
            function t(t, i) {
                e.call(this),
                this.source = t,
                this.subjectFactory = i,
                this._refCount = 0
            }
            return n(t, e),
            t.prototype._subscribe = function(e) {
                return this.getSubject().subscribe(e)
            }
            ,
            t.prototype.getSubject = function() {
                var e = this._subject;
                return e && !e.isStopped || (this._subject = this.subjectFactory()),
                this._subject
            }
            ,
            t.prototype.connect = function() {
                var e = this._connection;
                return e || (e = this._connection = new a.Subscription,
                e.add(this.source.subscribe(new l(this.getSubject(),this))),
                e.closed ? (this._connection = null,
                e = a.Subscription.EMPTY) : this._connection = e),
                e
            }
            ,
            t.prototype.refCount = function() {
                return this.lift(new h(this))
            }
            ,
            t
        }(s.Observable);
        t.ConnectableObservable = c;
        var l = function(e) {
            function t(t, i) {
                e.call(this, t),
                this.connectable = i
            }
            return n(t, e),
            t.prototype._error = function(t) {
                this._unsubscribe(),
                e.prototype._error.call(this, t)
            }
            ,
            t.prototype._complete = function() {
                this._unsubscribe(),
                e.prototype._complete.call(this)
            }
            ,
            t.prototype._unsubscribe = function() {
                var e = this.connectable;
                if (e) {
                    this.connectable = null;
                    var t = e._connection;
                    e._refCount = 0,
                    e._subject = null,
                    e._connection = null,
                    t && t.unsubscribe()
                }
            }
            ,
            t
        }(r.SubjectSubscriber)
          , h = function() {
            function e(e) {
                this.connectable = e
            }
            return e.prototype.call = function(e, t) {
                var i = this.connectable;
                i._refCount++;
                var n = new u(e,i)
                  , r = t._subscribe(n);
                return n.closed || (n.connection = i.connect()),
                r
            }
            ,
            e
        }()
          , u = function(e) {
            function t(t, i) {
                e.call(this, t),
                this.connectable = i
            }
            return n(t, e),
            t.prototype._unsubscribe = function() {
                var e = this.connectable;
                if (!e)
                    return void (this.connection = null);
                this.connectable = null;
                var t = e._refCount;
                if (t <= 0)
                    return void (this.connection = null);
                if (e._refCount = t - 1,
                t > 1)
                    return void (this.connection = null);
                var i = this.connection
                  , n = e._connection;
                this.connection = null,
                !n || i && n !== i || n.unsubscribe()
            }
            ,
            t
        }(o.Subscriber)
    }
    , function(e, t, i) {
        "use strict";
        function n(e, t) {
            return this.lift(new c(e,t))
        }
        var r = this && this.__extends || function(e, t) {
            function i() {
                this.constructor = e
            }
            for (var n in t)
                t.hasOwnProperty(n) && (e[n] = t[n]);
            e.prototype = null === t ? Object.create(t) : (i.prototype = t.prototype,
            new i)
        }
          , s = i(5)
          , o = i(34)
          , a = i(24);
        t.distinctUntilChanged = n;
        var c = function() {
            function e(e, t) {
                this.compare = e,
                this.keySelector = t
            }
            return e.prototype.call = function(e, t) {
                return t._subscribe(new l(e,this.compare,this.keySelector))
            }
            ,
            e
        }()
          , l = function(e) {
            function t(t, i, n) {
                e.call(this, t),
                this.keySelector = n,
                this.hasKey = !1,
                "function" == typeof i && (this.compare = i)
            }
            return r(t, e),
            t.prototype.compare = function(e, t) {
                return e === t
            }
            ,
            t.prototype._next = function(e) {
                var t = this.keySelector
                  , i = e;
                if (t && (i = o.tryCatch(this.keySelector)(e),
                i === a.errorObject))
                    return this.destination.error(a.errorObject.e);
                var n = !1;
                if (this.hasKey) {
                    if (n = o.tryCatch(this.compare)(this.key, i),
                    n === a.errorObject)
                        return this.destination.error(a.errorObject.e)
                } else
                    this.hasKey = !0;
                Boolean(n) === !1 && (this.key = i,
                this.destination.next(e))
            }
            ,
            t
        }(s.Subscriber)
    }
    , function(e, t, i) {
        "use strict";
        function n(e, t) {
            if ("function" != typeof e)
                throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");
            return this.lift(new o(e,t))
        }
        var r = this && this.__extends || function(e, t) {
            function i() {
                this.constructor = e
            }
            for (var n in t)
                t.hasOwnProperty(n) && (e[n] = t[n]);
            e.prototype = null === t ? Object.create(t) : (i.prototype = t.prototype,
            new i)
        }
          , s = i(5);
        t.map = n;
        var o = function() {
            function e(e, t) {
                this.project = e,
                this.thisArg = t
            }
            return e.prototype.call = function(e, t) {
                return t._subscribe(new a(e,this.project,this.thisArg))
            }
            ,
            e
        }();
        t.MapOperator = o;
        var a = function(e) {
            function t(t, i, n) {
                e.call(this, t),
                this.project = i,
                this.count = 0,
                this.thisArg = n || this
            }
            return r(t, e),
            t.prototype._next = function(e) {
                var t;
                try {
                    t = this.project.call(this.thisArg, e, this.count++)
                } catch (i) {
                    return void this.destination.error(i)
                }
                this.destination.next(t)
            }
            ,
            t
        }(s.Subscriber)
    }
    , function(e, t, i) {
        "use strict";
        function n() {
            for (var e = [], t = 0; t < arguments.length; t++)
                e[t - 0] = arguments[t];
            return e.unshift(this),
            r.apply(this, e)
        }
        function r() {
            for (var e = [], t = 0; t < arguments.length; t++)
                e[t - 0] = arguments[t];
            var i = Number.POSITIVE_INFINITY
              , n = null
              , r = e[e.length - 1];
            return a.isScheduler(r) ? (n = e.pop(),
            e.length > 1 && "number" == typeof e[e.length - 1] && (i = e.pop())) : "number" == typeof r && (i = e.pop()),
            1 === e.length ? e[0] : new s.ArrayObservable(e,n).lift(new o.MergeAllOperator(i))
        }
        var s = i(47)
          , o = i(69)
          , a = i(33);
        t.merge = n,
        t.mergeStatic = r
    }
    , function(e, t, i) {
        "use strict";
        function n(e, t) {
            var i;
            return i = "function" == typeof e ? e : function() {
                return e
            }
            ,
            t ? new r.MulticastObservable(this,i,t) : new s.ConnectableObservable(this,i)
        }
        var r = i(202)
          , s = i(93);
        t.multicast = n
    }
    , function(e, t, i) {
        "use strict";
        var n = this && this.__extends || function(e, t) {
            function i() {
                this.constructor = e
            }
            for (var n in t)
                t.hasOwnProperty(n) && (e[n] = t[n]);
            e.prototype = null === t ? Object.create(t) : (i.prototype = t.prototype,
            new i)
        }
          , r = function(e) {
            function t() {
                var t = e.call(this, "object unsubscribed");
                this.name = t.name = "ObjectUnsubscribedError",
                this.stack = t.stack,
                this.message = t.message
            }
            return n(t, e),
            t
        }(Error);
        t.ObjectUnsubscribedError = r
    }
    , function(e, t, i) {
        "use strict";
        function n(e) {
            return e instanceof Date && !isNaN(+e)
        }
        t.isDate = n
    }
    , function(e, t, i) {
        "use strict";
        function n(e) {
            return !r.isArray(e) && e - parseFloat(e) + 1 >= 0
        }
        var r = i(48);
        t.isNumeric = n
    }
    , function(e, t, i) {
        "use strict";
        function n(e) {
            return e && "function" != typeof e.subscribe && "function" == typeof e.then
        }
        t.isPromise = n
    }
    , function(e, t) {
        function i(e) {
            return null != e && "object" == typeof e
        }
        e.exports = i
    }
    , function(e, t, i) {
        "use strict";
        var n = i(2)
          , r = i(4)
          , s = i(1)
          , o = i(3)
          , a = i(10)
          , c = i(14);
        i(187),
        i(23),
        i(31),
        i(18),
        i(12);
        var l = function() {
            function e() {
                this._logger = new s.Logger("CrossStreamPreventionHandler")
            }
            return e.prototype.init = function(t) {
                this._stopStreams(),
                this._sandbox = t;
                var i = t.config.crossStreamPrevention || e.CROSS_STREAM_PREVENTION_MODE_NONE;
                if (i === e.CROSS_STREAM_PREVENTION_MODE_CHECKIFPRESENT || i === e.CROSS_STREAM_PREVENTION_MODE_FAILIFMISSING) {
                    var n = i === e.CROSS_STREAM_PREVENTION_MODE_FAILIFMISSING;
                    this._logger.trace("Initializing CSP with setting: " + i),
                    this._startStreams(n)
                } else
                    i === e.CROSS_STREAM_PREVENTION_MODE_NONE ? this._logger.trace("CSP turned off, aborting init") : this._logger.warn("Unknown CSP setting: " + i);
                return this
            }
            ,
            e.prototype.destroy = function(e) {
                this._stopStreams()
            }
            ,
            e.prototype._stopStreams = function() {
                this._destroyedNotifier && (this._destroyedNotifier.next(!0),
                this._destroyedNotifier.complete(),
                this._destroyedNotifier = void 0)
            }
            ,
            e._isLinearAsset = function(e) {
                return e.streamId > ""
            }
            ,
            e._isCSPTag = function(t) {
                return t.name === e.CROSS_STREAM_PREVENTION_TAG
            }
            ,
            e._getAssetTagForAsset = function(t) {
                return t.subscribedTags.push(e.CROSS_STREAM_PREVENTION_TAG),
                {
                    asset: t
                }
            }
            ,
            e._getAssetTagForTag = function(e) {
                return {
                    tag: e
                }
            }
            ,
            e.prototype._parseContentId = function(e) {
                var t = e.content;
                return t.substr(t.lastIndexOf(":") + 1)
            }
            ,
            e.prototype._getErrorForMostRecentAssetTag = function(e, t) {
                return t.asset && t.tag && t.asset.streamId !== this._parseContentId(t.tag) ? this._failMismatched(t.tag) : e && !t.tag && t.asset ? this._failMissing() : null
            }
            ,
            e.prototype._getMostRecentAsset = function(e) {
                for (var t = {}; e.length; ) {
                    var i = e.pop();
                    if (i.asset) {
                        t.asset = i.asset;
                        break
                    }
                    t.tag = i.tag
                }
                return t
            }
            ,
            e.prototype._startStreams = function(t) {
                this._destroyedNotifier = new c.Subject;
                var i = this._sandbox.streams.setAssets.filter(e._isLinearAsset).map(e._getAssetTagForAsset).takeUntil(this._destroyedNotifier)
                  , n = this._sandbox.streams.getPlayState(o.STATUS_INITIALIZED).takeUntil(this._destroyedNotifier)
                  , s = this._sandbox.streams.tags.filter(e._isCSPTag).map(e._getAssetTagForTag).takeUntil(this._destroyedNotifier);
                i.merge(s).buffer(n).map(this._getMostRecentAsset.bind(this)).map(this._getErrorForMostRecentAssetTag.bind(this, t)).filter(Boolean).takeUntil(this._destroyedNotifier).subscribe(r.emit)
            }
            ,
            e.prototype._failMissing = function() {
                return this._logger.error("CSP failed, missing CSP tag"),
                this._sandbox.publish("api:stop"),
                new r.MediaFailedEvent(new a.PPError(8002,0,"CSP failed, missing CSP tag.",(!1)))
            }
            ,
            e.prototype._failMismatched = function(e) {
                return this._logger.error("CSP failed", e),
                this._sandbox.publish("api:stop"),
                new r.MediaFailedEvent(new a.PPError(8002,1,"CSP failed, identifiers to do not match.",(!1)))
            }
            ,
            e.CROSS_STREAM_PREVENTION_TAG = "#EXT-X-CONTENT-IDENTIFIER",
            e.CROSS_STREAM_PREVENTION_MODE_NONE = "None",
            e.CROSS_STREAM_PREVENTION_MODE_CHECKIFPRESENT = "CheckIfPresent",
            e.CROSS_STREAM_PREVENTION_MODE_FAILIFMISSING = "FailIfMissing",
            e
        }();
        t.CrossStreamPreventionHandler = l,
        n.registerModule("CrossStreamPreventionHandler", l)
    }
    , function(e, t, i) {
        "use strict";
        var n = i(4)
          , r = i(2)
          , s = i(6)
          , o = i(1)
          , a = i(0);
        i(22),
        i(45),
        i(12),
        i(191),
        i(89);
        var c = function() {
            function e() {
                this.logger = new o.Logger("NetworkDownHandler")
            }
            return e.prototype.init = function(t) {
                var i = this;
                return this.networkDownTimeout = t.config[s.ConfigurationManager.NETWORK_DOWN_TIMEOUT],
                this.logger.trace("NetworkDownHandler init : networkDownTimeout=" + this.networkDownTimeout),
                a.Observable.fromEvent(n, n.BUFFER_COMPLETE).switchMap(function() {
                    return r.toObservable(e.CHANNEL_NAME).first().delay(i.networkDownTimeout)
                }).takeUntil(t.destroyed).subscribe(function(e) {
                    return n.emit(new n.MediaFailedEvent(e))
                }),
                this
            }
            ,
            e.prototype.destroy = function(e) {}
            ,
            e.CHANNEL_NAME = "player:networkDown",
            e
        }();
        t.NetworkDownHandler = c,
        r.registerModule("NetworkDownHandler", c)
    }
    , function(e, t, i) {
        "use strict";
        var n = this && this.__extends || function(e, t) {
            function i() {
                this.constructor = e
            }
            for (var n in t)
                t.hasOwnProperty(n) && (e[n] = t[n]);
            e.prototype = null === t ? Object.create(t) : (i.prototype = t.prototype,
            new i)
        }
          , r = i(1)
          , s = i(35)
          , o = function(e) {
            function t() {
                e.apply(this, arguments),
                this.logger = new r.Logger("PPCCOptions"),
                this.currentStyle = this.defaultPPCCStyle()
            }
            return n(t, e),
            t.prototype.getStyle = function() {
                return this.currentStyle
            }
            ,
            t.prototype.setStyle = function(e) {
                this.currentStyle = e
            }
            ,
            t.prototype.toPPFont = function(e) {
                switch (e) {
                case s.PlayerPlatformCCStyle.FONTSTYLE_CASUAL:
                    return "Tahoma,sans-serif";
                case s.PlayerPlatformCCStyle.FONTSTYLE_CURSIVE:
                    return "Comic Sans MS,cursive,sans-serif";
                case s.PlayerPlatformCCStyle.FONTSTYLE_MONOSPACED_SANSERIF:
                    return "Lucida Console,sans-serif";
                case s.PlayerPlatformCCStyle.FONTSTYLE_MONOSPACED_SERIF:
                    return "Courier New,serif";
                case s.PlayerPlatformCCStyle.FONTSTYLE_PROPORTIONAL_SANSERIF:
                    return "Arial,sans-serif";
                case s.PlayerPlatformCCStyle.FONTSTYLE_PROPORTIONAL_SERIF:
                    return "Times New Roman,serif";
                default:
                    return this.logger.warn("Unsupported font style: " + e),
                    "Courier New,serif"
                }
            }
            ,
            t.prototype.fromPPFont = function(e) {
                switch (e) {
                case "Arial,sans-serif":
                    return s.PlayerPlatformCCStyle.FONTSTYLE_PROPORTIONAL_SANSERIF;
                case "Comic Sans MS,cursive,sans-serif":
                    return s.PlayerPlatformCCStyle.FONTSTYLE_CURSIVE;
                case "Courier New,serif":
                    return s.PlayerPlatformCCStyle.FONTSTYLE_MONOSPACED_SERIF;
                case "Lucida Console,sans-serif":
                    return s.PlayerPlatformCCStyle.FONTSTYLE_MONOSPACED_SANSERIF;
                case "Tahoma,sans-serif":
                    return s.PlayerPlatformCCStyle.FONTSTYLE_CASUAL;
                case "Times New Roman,serif":
                    return s.PlayerPlatformCCStyle.FONTSTYLE_PROPORTIONAL_SERIF;
                default:
                    return this.logger.warn("Unsupported font family: " + e),
                    s.PlayerPlatformCCStyle.FONTSTYLE_DEFAULT
                }
            }
            ,
            t.prototype.toPPColor = function(e) {
                var t = this.colorNameToHexValue(e);
                return t || (this.logger.warn("Unsupported color name: " + e),
                t = this.colorNameToHexValue(s.PlayerPlatformCCStyle.COLOR_DEFAULT)),
                t
            }
            ,
            t.prototype.fromPPColor = function(e) {
                var t = this.hexValueToColorName(e);
                return t || (this.logger.warn("Unsupported color value: " + e),
                t = s.PlayerPlatformCCStyle.COLOR_DEFAULT),
                t
            }
            ,
            t.prototype.toPPOpacity = function(e) {
                switch (e) {
                case s.PlayerPlatformCCStyle.OPACITY_SOLID:
                    return 1;
                case s.PlayerPlatformCCStyle.OPACITY_TRANSLUCENT:
                    return .5;
                case s.PlayerPlatformCCStyle.OPACITY_TRANSPARENT:
                    return 0;
                default:
                    return this.logger.warn("Unsupported opacity name: " + e),
                    0
                }
            }
            ,
            t.prototype.fromPPOpacity = function(e) {
                switch (e) {
                case 0:
                    return s.PlayerPlatformCCStyle.OPACITY_TRANSPARENT;
                case .5:
                    return s.PlayerPlatformCCStyle.OPACITY_TRANSLUCENT;
                case 1:
                    return s.PlayerPlatformCCStyle.OPACITY_SOLID;
                default:
                    return this.logger.warn("Unsupported opacity value: " + e),
                    s.PlayerPlatformCCStyle.OPACITY_TRANSPARENT
                }
            }
            ,
            t.prototype.defaultPPCCStyle = function() {
                return this.toPPCCStyle(this.getDefaultStyle())
            }
            ,
            t.prototype.adjustFontSize = function(e) {
                this.currentStyle.fontSize = this.toFontSizeByVideoHeight(this.currentStyle.penSize, e)
            }
            ,
            t.prototype.toPPCCStyle = function(e, t) {
                return {
                    backgroundColor: this.toPPColor(e.textBackgroundColor || s.PlayerPlatformCCStyle.COLOR_BLACK),
                    color: this.toPPColor(e.textForegroundColor),
                    fontFamily: this.toPPFont(e.fontStyle),
                    fontSize: t ? this.toFontSizeByVideoHeight(e.penSize, t) : this.toFontSize(e.penSize),
                    fontStyle: "true" === e.penItalicized ? "italic" : "normal",
                    opacity: this.toPPOpacity(e.textForegroundOpacity),
                    textDecoration: "true" === e.penUnderline ? "underline" : "normal",
                    penSize: e.penSize
                }
            }
            ,
            t.prototype.fromPPCCStyle = function(e) {
                return {
                    fontStyle: this.fromPPFont(e.fontFamily),
                    textForegroundColor: this.fromPPColor(e.color),
                    penItalicized: "italic" === e.fontStyle ? "true" : "false",
                    penSize: e.penSize,
                    penUnderline: "underline" === e.textDecoration ? "true" : "false",
                    textForegroundOpacity: this.fromPPOpacity(e.opacity),
                    textBackgroundColor: this.fromPPColor(e.backgroundColor)
                }
            }
            ,
            t.prototype.supportedPPCCStyles = function() {
                return {
                    fontStyle: [s.PlayerPlatformCCStyle.FONTSTYLE_MONOSPACED_SERIF, s.PlayerPlatformCCStyle.FONTSTYLE_PROPORTIONAL_SERIF, s.PlayerPlatformCCStyle.FONTSTYLE_MONOSPACED_SANSERIF, s.PlayerPlatformCCStyle.FONTSTYLE_PROPORTIONAL_SANSERIF, s.PlayerPlatformCCStyle.FONTSTYLE_CASUAL, s.PlayerPlatformCCStyle.FONTSTYLE_CURSIVE],
                    textForegroundColor: [s.PlayerPlatformCCStyle.COLOR_BLACK, s.PlayerPlatformCCStyle.COLOR_BLUE, s.PlayerPlatformCCStyle.COLOR_CYAN, s.PlayerPlatformCCStyle.COLOR_GRAY, s.PlayerPlatformCCStyle.COLOR_GREEN, s.PlayerPlatformCCStyle.COLOR_MAGENTA, s.PlayerPlatformCCStyle.COLOR_RED, s.PlayerPlatformCCStyle.COLOR_WHITE, s.PlayerPlatformCCStyle.COLOR_YELLOW, s.PlayerPlatformCCStyle.COLOR_BRIGHT_BLUE, s.PlayerPlatformCCStyle.COLOR_BRIGHT_CYAN, s.PlayerPlatformCCStyle.COLOR_BRIGHT_GREEN, s.PlayerPlatformCCStyle.COLOR_BRIGHT_MAGENTA, s.PlayerPlatformCCStyle.COLOR_BRIGHT_RED, s.PlayerPlatformCCStyle.COLOR_BRIGHT_WHITE, s.PlayerPlatformCCStyle.COLOR_BRIGHT_YELLOW, s.PlayerPlatformCCStyle.COLOR_DARK_BLUE, s.PlayerPlatformCCStyle.COLOR_DARK_CYAN, s.PlayerPlatformCCStyle.COLOR_DARK_GREEN, s.PlayerPlatformCCStyle.COLOR_DARK_MAGENTA, s.PlayerPlatformCCStyle.COLOR_DARK_RED, s.PlayerPlatformCCStyle.COLOR_DARK_YELLOW],
                    penItalicized: ["true", "false"],
                    penSize: [s.PlayerPlatformCCStyle.PENSIZE_SMALL, s.PlayerPlatformCCStyle.PENSIZE_STANDARD, s.PlayerPlatformCCStyle.PENSIZE_LARGE],
                    penUnderline: ["true", "false"],
                    textForegroundOpacity: [s.PlayerPlatformCCStyle.OPACITY_SOLID, s.PlayerPlatformCCStyle.OPACITY_TRANSLUCENT, s.PlayerPlatformCCStyle.OPACITY_TRANSPARENT],
                    textBackgroundColor: [s.PlayerPlatformCCStyle.COLOR_BLACK, s.PlayerPlatformCCStyle.COLOR_BLUE, s.PlayerPlatformCCStyle.COLOR_CYAN, s.PlayerPlatformCCStyle.COLOR_GRAY, s.PlayerPlatformCCStyle.COLOR_GREEN, s.PlayerPlatformCCStyle.COLOR_MAGENTA, s.PlayerPlatformCCStyle.COLOR_RED, s.PlayerPlatformCCStyle.COLOR_WHITE, s.PlayerPlatformCCStyle.COLOR_YELLOW, s.PlayerPlatformCCStyle.COLOR_BRIGHT_BLUE, s.PlayerPlatformCCStyle.COLOR_BRIGHT_CYAN, s.PlayerPlatformCCStyle.COLOR_BRIGHT_GREEN, s.PlayerPlatformCCStyle.COLOR_BRIGHT_MAGENTA, s.PlayerPlatformCCStyle.COLOR_BRIGHT_RED, s.PlayerPlatformCCStyle.COLOR_BRIGHT_WHITE, s.PlayerPlatformCCStyle.COLOR_BRIGHT_YELLOW, s.PlayerPlatformCCStyle.COLOR_DARK_BLUE, s.PlayerPlatformCCStyle.COLOR_DARK_CYAN, s.PlayerPlatformCCStyle.COLOR_DARK_GREEN, s.PlayerPlatformCCStyle.COLOR_DARK_MAGENTA, s.PlayerPlatformCCStyle.COLOR_DARK_RED, s.PlayerPlatformCCStyle.COLOR_DARK_YELLOW]
                }
            }
            ,
            t
        }(s.PlayerPlatformCCStyle);
        t.PPCCOptions = o
    }
    , function(e, t, i) {
        "use strict";
        function n(e, t) {
            if (e && t) {
                var i = e.asset.urls.slice(0);
                e.asset.preventModify = !1,
                e.asset.url = t,
                e.asset.urls = i.slice(0),
                e.asset.preventModify = !0,
                e.setAsset(e.asset)
            }
        }
        var r = i(4)
          , s = i(3)
          , o = i(2)
          , a = i(6)
          , c = i(1)
          , l = function() {
            function e() {
                this.logger = new c.Logger("RetryHandler"),
                this.retryCount = 0,
                this.hasReachedPrepared = !1,
                this.isXRE = !1
            }
            return e.prototype.init = function(e) {
                return this.sandbox = e,
                this.maxRetries = e.config[a.ConfigurationManager.MAXIMUM_RETRIES],
                this.interval = e.config[a.ConfigurationManager.RETRY_INTERVAL],
                this.isXRE = e.isXRE(),
                this.timer = null,
                this.logger.trace("RetryHandler init : maxRetries=" + this.maxRetries + " : interval=" + this.interval),
                e.subscribe("api:setAsset", this.onOpeningMedia, {}, this),
                e.subscribe("api:stop", this.reset, {}, this),
                r.on(r.MEDIA_OPENED, this.onMediaOpened, {}, this),
                r.on(r.PLAY_STATE_CHANGED, this.onPlayStateChanged, {}, this),
                this.onRetry(function() {
                    var t = e.asset;
                    e.player.stop(),
                    t.isRetry = !0,
                    t.resumePosition = e.lastKnownPosition,
                    e.publish("api:setAsset", t)
                }),
                e.config[a.ConfigurationManager.RETRY_ON_MEDIA_FAILED] && this.start(),
                this
            }
            ,
            e.prototype.destroy = function(e) {
                this.stop(),
                e && (e.remove("api:setAsset", this.onOpeningMedia),
                e.remove("api:stop", this.reset)),
                r.off(r.MEDIA_OPENED, this.onMediaOpened),
                r.off(r.PLAY_STATE_CHANGED, this.onPlayStateChanged)
            }
            ,
            e.prototype.onMediaFailed = function(e, t) {
                var i = this
                  , n = this.sandbox.asset;
                if (this.isXRE && this.hasReachedPrepared)
                    return void this.logger.warn("Received MediaFailed but skipping retry in XRE environment.");
                if (n.urls.length)
                    return t.stopPropagation(),
                    void new h(this.sandbox).start(e);
                if (!e.retry || !n.shouldRetry())
                    return void this.logger.warn("MediaFailedEvent or Asset indicates no retry, sending MediaFailedEvent");
                if (this.retryCount >= this.maxRetries)
                    return this.logger.error("onMediaFailed - retry count exhausted. Media failure is unrecoverable"),
                    void this.sandbox.publish("api:stop");
                var r = this.interval << this.retryCount;
                this.stopTimer(),
                this.timer = window.setTimeout(function() {
                    i.onRetryTimerFired(e)
                }, r),
                this.retryCount++,
                t.stopPropagation()
            }
            ,
            e.prototype.onRetryTimerFired = function(e) {
                this.logger.info("onRetryTimerFired: retry count = " + this.retryCount + " out of " + this.maxRetries),
                this.timer = null,
                e.retryCount = this.retryCount,
                r.dispatchEvent(new r.MediaRetryEvent(e)),
                this.callback && this.callback(this.retryCount)
            }
            ,
            e.prototype.onRetry = function(e) {
                this.callback = e
            }
            ,
            e.prototype.onMediaOpened = function() {
                this.hasReachedPrepared = !0
            }
            ,
            e.prototype.onPlayStateChanged = function(e) {
                e.playState === s.STATUS_PLAYING && (this.retryCount = 0)
            }
            ,
            e.prototype.onOpeningMedia = function() {
                this.hasReachedPrepared = !1
            }
            ,
            e.prototype.start = function() {
                this.logger.trace("start"),
                r.addEventListener(r.MEDIA_FAILED, this.onMediaFailed, {}, this)
            }
            ,
            e.prototype.stop = function() {
                this.logger.trace("stop"),
                this.reset(),
                this.callback = null,
                r.removeEventListener(r.MEDIA_FAILED, this.onMediaFailed)
            }
            ,
            e.prototype.reset = function() {
                this.hasReachedPrepared = !1,
                this.stopTimer(),
                this.retryCount = 0
            }
            ,
            e.prototype.stopTimer = function() {
                this.timer && (clearTimeout(this.timer),
                this.timer = null)
            }
            ,
            Object.defineProperty(e.prototype, "count", {
                get: function() {
                    return this.retryCount
                },
                enumerable: !0,
                configurable: !0
            }),
            e
        }();
        t.RetryHandler = l,
        t.attemptUrl = n;
        var h = function() {
            function e(e) {
                this.logger = new c.Logger("URLQueueRetryHandler"),
                this.sandbox = e,
                this.currentAsset = e.asset,
                r.on(r.MEDIA_FAILED, this.onMediaFailed, {
                    priority: s.PRIORITY_HIGH
                }, this),
                r.on(r.MEDIA_OPENED, this.destroy, {
                    priority: s.PRIORITY_TOP
                }, this)
            }
            return e.prototype.start = function(e) {
                return this.currentAsset.urls.length ? (this.logger.info("Will attempt the following URLs: " + JSON.stringify(this.currentAsset.urls)),
                void this.tryNextUrl(e)) : (this.destroy(),
                void this.logger.warn("No alternate URLs available, aborting."))
            }
            ,
            e.prototype.destroy = function() {
                r.off(r.MEDIA_FAILED, this.onMediaFailed),
                r.off(r.MEDIA_OPENED, this.destroy)
            }
            ,
            e.prototype.onMediaFailed = function(e, t) {
                return this.currentAsset.urls.length ? (t.stopPropagation(),
                void this.tryNextUrl(e)) : (this.destroy(),
                void this.logger.info("No more alternate URLs to attempt, sending MediaFailed"))
            }
            ,
            e.prototype.tryNextUrl = function(e) {
                var t = this.currentAsset.urls.pop();
                r.emit(new r.MediaRetryEvent(e)),
                this.logger.info("Attempting " + t),
                n(this.sandbox, t)
            }
            ,
            e
        }();
        o.registerModule("RetryHandler", l, {
            autostart: !0
        })
    }
    , function(e, t, i) {
        "use strict";
        function n(e) {
            return function(t) {
                var i = new RegExp("https?://" + e.source);
                return i.test(t)
            }
        }
        function r(e) {
            return t.isCcr(e) ? p.CCR : t.isMm(e) ? p.MM : t.isMpx(e) ? p.MPX : t.isXtvApi(e) ? p.XTVAPI : p.NONE
        }
        function s(e, t) {
            switch (r(e)) {
            case p.MPX:
                o(e, t);
                break;
            case p.CCR:
            case p.MM:
            case p.XTVAPI:
            case p.NONE:
            default:
                f.trace("Not request CCR url for " + e),
                t(null, e)
            }
        }
        function o(e, t) {
            var i = l.parseQueryParams(e);
            i.format && "smil" === i.format.toLowerCase() || (i.format = "smil");
            var n = l.replaceQueryParams(e, i);
            f.trace("Requesting CCR url for MPX locator URL: " + n),
            a.get(n).end(function(i, n) {
                if (i)
                    return f.error("Error retrieving URL: " + i),
                    void t(new u.PPError(u.MPX_ERROR,10,"Error retrieving MPX URL"), e);
                var r = new _
                  , s = r.parse(n.text);
                r.error ? t(r.error, s || e) : s ? t(null, s) : t(new u.PPError(u.MPX_ERROR,0,"MPX parse error, no URL found"), e)
            })
        }
        var a = i(49)
          , c = i(54)
          , l = i(8)
          , h = i(1)
          , u = i(10)
          , d = new c.X2JS
          , f = new h.Logger("URLMatcher");
        !function(e) {
            e[e.CCR = 0] = "CCR",
            e[e.MM = 1] = "MM",
            e[e.MPX = 2] = "MPX",
            e[e.XTVAPI = 3] = "XTVAPI",
            e[e.NONE = 4] = "NONE"
        }(t.URL_TYPE || (t.URL_TYPE = {}));
        var p = t.URL_TYPE
          , m = /ccr.*/
          , g = /mm.*/
          , y = /link\.theplatform\.com.*/
          , v = /xtvapi.*/;
        t.isCcr = n(m),
        t.isMm = n(g),
        t.isMpx = n(y),
        t.isXtvApi = n(v),
        t.match = r,
        t.getCcrUrl = s,
        t.getCcrFromMpx = o;
        var _ = function() {
            function e() {}
            return e.prototype.parse = function(e) {
                var t = ""
                  , i = d.xml_str2json(e);
                this._js = i;
                var n = l.getNestedProperty(i, "smil.body.seq");
                if (n) {
                    var r = n.par ? n.par.video : n.video
                      , s = r || n.ref;
                    t = s ? s._src.replace(/\?.*/, "") : ""
                }
                return this.error = this._parseError(t),
                this.error ? null : t
            }
            ,
            e.prototype._parseError = function(e) {
                return e.indexOf("/Untitled") !== -1 ? new u.PPError(u.MPX_ERROR,21,"Out of country") : e.indexOf("/Unavailable") !== -1 ? this._getErrorFromException() : void 0
            }
            ,
            e.prototype._getErrorFromException = function() {
                var e = this._js
                  , t = l.getNestedProperty(e, "smil.body.seq.ref.param");
                if (t) {
                    t = Array.isArray(t) ? t : [t];
                    var i = t.filter(function(e) {
                        return "exception" === e._name
                    })[0];
                    switch (i._value) {
                    case "GeoLocationBlocked":
                        return new u.PPError(u.MPX_ERROR,22,"Geo location blocked");
                    case "Expired":
                        return new u.PPError(u.MPX_ERROR,23,"Expired")
                    }
                }
                return new u.PPError(u.MPX_ERROR,20,"MPX URL unavailable")
            }
            ,
            e
        }()
    }
    , function(e, t, i) {
        "use strict";
        var n = function() {
            function e(e, t, i, n) {
                this.id = e,
                this.mode = t,
                this.scale = i,
                this.limit = n
            }
            return e.MODE_FFWD = "fastForward",
            e.MODE_PAUSE = "pause",
            e.MODE_REW = "rewind",
            e.SCALE_ALL = "All",
            e.LIMIT_ALWAYS = "Always",
            e
        }();
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t["default"] = n;
        var r = function() {
            function e(e, t, i) {
                void 0 === e && (e = 0),
                void 0 === t && (t = 0),
                void 0 === i && (i = 0),
                this.fastForward = e,
                this.rewind = t,
                this.pause = i
            }
            return e
        }();
        t.RestrictionLimits = r
    }
    , function(e, t, i) {
        "use strict";
        function n(e) {
            var t = e.trackable instanceof d.VideoAdBreak ? g : m
              , i = t[e.type];
            if (i) {
                var n = [].concat(i);
                return f.Observable.from(n.map(function(t) {
                    return t.fromTrackerEvent(e)
                }))
            }
            return p.logger.error("A corresponding event was not found for tracking event " + u.TrackerEventType[e.type]),
            f.Observable.never()
        }
        function r(e) {
            return e.nextRate > 1 ? e.prev < e.next : !(e.nextRate < 0) || e.prev > e.next
        }
        var s = i(2)
          , o = i(3)
          , a = i(1)
          , c = i(281)
          , l = i(4)
          , h = i(260)
          , u = i(75)
          , d = i(15)
          , f = i(0);
        i(42),
        i(43),
        i(185),
        i(44),
        i(65),
        i(23),
        i(91),
        i(12);
        var p = function() {
            function e() {}
            return e.prototype.init = function(e, t) {
                this._sandbox = e;
                var i = this._setupTrackerObservables()
                  , r = i[0]
                  , s = i[1];
                t = this._tracker = t || new h.TimelineTracker(r,s);
                var o = t.trackCb(this._ads.bind(this), [u.TrackerEventType.COMPLETE, u.TrackerEventType.EXIT, u.TrackerEventType.INTERRUPT])
                  , a = t.trackCb(this._ads.bind(this), [u.TrackerEventType.SKIPPED])
                  , c = t.trackCb(this._adBreaks.bind(this), [u.TrackerEventType.COMPLETE, u.TrackerEventType.EXIT, u.TrackerEventType.INTERRUPT, u.TrackerEventType.START, u.TrackerEventType.ENTER, u.TrackerEventType.UPCOMING])
                  , d = t.trackCb(this._ads.bind(this), [u.TrackerEventType.START, u.TrackerEventType.ENTER, u.TrackerEventType.PROGRESS]);
                return f.Observable.merge(o, a, c, d).takeUntil(e.destroyed).flatMap(n).filter(Boolean).subscribe(l.emit),
                this
            }
            ,
            e.prototype.destroy = function(e) {
                this._tracker.destroy()
            }
            ,
            e.prototype._setupTrackerObservables = function() {
                var e = this
                  , t = this._sandbox.streams.getPlayState(o.STATUS_INITIALIZED)
                  , i = this._sandbox.streams.getPlayState(o.STATUS_IDLE)
                  , n = c.ProgressWindow.createStopObservable(this._sandbox.streams.mediaProgresses, i)["do"](function(t) {
                    return t.seeking = e._sandbox.getPlayerStatus() === o.STATUS_SEEKING
                }).distinctUntilChanged(function(e, t) {
                    return e.equals(t)
                }).filter(r);
                return [t, n]
            }
            ,
            e.prototype._adBreaks = function() {
                return f.Observable.from(this._sandbox.getTimeline() || [])
            }
            ,
            e.prototype._ads = function(e) {
                var t = this._sandbox.getTimeline() || []
                  , i = t.reduce(function(e, t) {
                    return e.concat(t.ads)
                }, []);
                return f.Observable.from(e.nextRate < 0 ? i.reverse() : i)
            }
            ,
            e.logger = new a.Logger("AdTracker"),
            e
        }();
        t.AdTracker = p;
        var m = (y = {},
        y[u.TrackerEventType.START] = l.AdStartEvent,
        y[u.TrackerEventType.ENTER] = l.AdStartEvent,
        y[u.TrackerEventType.COMPLETE] = l.AdCompleteEvent,
        y[u.TrackerEventType.EXIT] = l.AdExitedEvent,
        y[u.TrackerEventType.INTERRUPT] = l.AdExitedEvent,
        y[u.TrackerEventType.PROGRESS] = l.AdProgressEvent,
        y[u.TrackerEventType.SKIPPED] = [l.AdStartEvent, l.AdCompleteEvent],
        y)
          , g = (v = {},
        v[u.TrackerEventType.START] = l.AdBreakStartEvent,
        v[u.TrackerEventType.ENTER] = l.AdBreakStartEvent,
        v[u.TrackerEventType.COMPLETE] = l.AdBreakCompleteEvent,
        v[u.TrackerEventType.EXIT] = l.AdBreakExitedEvent,
        v[u.TrackerEventType.INTERRUPT] = l.AdBreakExitedEvent,
        v[u.TrackerEventType.UPCOMING] = l.AdBreakUpcomingEvent,
        v);
        s.registerModule("AdTracker", p);
        var y, v
    }
    , function(e, t, i) {
        "use strict";
        function n(e, t, i) {
            return !isNaN(e) && e >= t && e <= i
        }
        function r(e, t, i) {
            var n;
            return n = isNaN(e) ? t : Math.max(t, Math.min(i, e))
        }
        var s = this && this.__extends || function(e, t) {
            function i() {
                this.constructor = e
            }
            for (var n in t)
                t.hasOwnProperty(n) && (e[n] = t[n]);
            e.prototype = null === t ? Object.create(t) : (i.prototype = t.prototype,
            new i)
        }
          , o = 31536e3
          , a = 6e8
          , c = function() {
            function e(t, i) {
                this.APP = {},
                this.DEV = {},
                this.SES = {},
                this.MONEY = {},
                this.EVT = {},
                this.EVT = {
                    ETS: 0,
                    NAME: t,
                    ASSET: i,
                    VALUE: {},
                    NET: {
                        IHS: e.inHomeStateCallback()
                    }
                },
                this.setTimestamp(new Date)
            }
            return e.prototype.setTimestamp = function(e) {
                this.EVT.ETS = e.getTime().toString()
            }
            ,
            e
        }();
        t.BaseMessage = c;
        var l = function(e) {
            function t(t, i, r, s, c, l, h, u) {
                e.call(this, "xuaHeartBeat", t),
                n(i, 0, o) && (this.EVT.VALUE.POS = i),
                n(r, 1, a) && (this.EVT.VALUE.XBR = r),
                n(s, 0, 60) && (this.EVT.VALUE.XFS = s),
                c && 0 !== c.length && (this.EVT.VALUE.CC = c),
                l && 0 !== l.length && (this.EVT.VALUE.SAP = l),
                0 === Object.keys(this.EVT.VALUE).length && delete this.EVT.VALUE,
                u && (this.EVT.FRAGMENT = {
                    NOF: u.count,
                    FSZ: u.fragmentSize,
                    LAT: 0,
                    DLD: u.downloadDuration,
                    DUR: u.fragmentDuration
                }),
                h && (this.EVT.ENV = h)
            }
            return s(t, e),
            t
        }(c);
        t.HeartbeatMessage = l;
        var h = function(e) {
            function t() {
                e.call(this, "xuaPluginInitialized"),
                this.EVT.VALUE = {
                    PLAYER_ID: "PlayerPlatformJS",
                    PLAYER_VER: "3.15.1",
                    ORGANIZATION: "VIPER",
                    NATIVE: !1,
                    SUPPORT_VOD: !0,
                    SUPPORT_LINEAR: !0,
                    SUPPORT_CDVR: !0
                }
            }
            return s(t, e),
            t
        }(c);
        t.PluginInitializedMessage = h;
        var u = function(e) {
            function t(t, i) {
                e.call(this, "xuaOpeningMedia", t),
                this.EVT.VALUE.MANIF = i
            }
            return s(t, e),
            t
        }(c);
        t.OpeningMediaMessage = u;
        var d = function(e) {
            function t(t, i, n, s, a) {
                void 0 === a && (a = 0),
                e.call(this, "xuaMediaOpened", t),
                this.EVT.VALUE.POS = r(n, 0, o),
                this.EVT.VALUE.LAT = i,
                this.EVT.VALUE.MANIF = s,
                this.EVT.VALUE.NUMADS = a
            }
            return s(t, e),
            t
        }(c);
        t.MediaOpenedMessage = d;
        var f = function(e) {
            function t(t, i, n, s, a, c) {
                e.call(this, "xuaMediaFailed", t),
                this.EVT.VALUE.CODE = i,
                this.EVT.VALUE.DESCR = n,
                this.EVT.VALUE.POS = r(s, 0, o),
                this.EVT.VALUE.MANIF = a,
                this.EVT.VALUE.AD_ERROR = c
            }
            return s(t, e),
            t
        }(c);
        t.MediaFailedMessage = f;
        var p = function(e) {
            function t(t) {
                e.call(this, "xuaMediaEnded", t)
            }
            return s(t, e),
            t
        }(c);
        t.MediaEndedMessage = p;
        var m = function(e) {
            function t(t, i, n) {
                e.call(this, "xuaMediaInfo", t),
                this.EVT.VALUE.POS = r(i, 0, o),
                this.EVT.VALUE.DESCR = n
            }
            return s(t, e),
            t
        }(c);
        t.MediaInfoMessage = m;
        var g = function(e) {
            function t(t, i) {
                e.call(this, "xuaBitrateChanged", t),
                this.EVT.VALUE.XBR = r(i, 0, a)
            }
            return s(t, e),
            t
        }(c);
        t.BitrateChangedMessage = g;
        var y = function(e) {
            function t(t, i) {
                e.call(this, "xuaFPSChanged", t),
                this.EVT.VALUE.XFS = r(i, 1, 60)
            }
            return s(t, e),
            t
        }(c);
        t.FPSChangedMessage = y;
        var v = function(e) {
            function t(t, i) {
                e.call(this, "xuaPlayStateChanged", t),
                this.EVT.VALUE.VAL = i
            }
            return s(t, e),
            t
        }(c);
        t.PlayStateChangedMessage = v;
        var _ = function(e) {
            function t(t, i) {
                e.call(this, "xuaAdProgress", t),
                this.EVT.VALUE.VAL = r(i, 0, 100)
            }
            return s(t, e),
            t
        }(c);
        t.AdProgressMessage = _;
        var b = function(e) {
            function t(t) {
                e.call(this, "xuaAdExited", t)
            }
            return s(t, e),
            t
        }(c);
        t.AdExitedMessage = b;
        var S = function(e) {
            function t(t) {
                e.call(this, "xuaAdBreakStart", t)
            }
            return s(t, e),
            t
        }(c);
        t.AdBreakStartMessage = S;
        var E = function(e) {
            function t(t) {
                e.call(this, "xuaAdBreakComplete", t)
            }
            return s(t, e),
            t
        }(c);
        t.AdBreakCompleteMessage = E;
        var P = function(e) {
            function t(t) {
                e.call(this, "xuaAdBreakExited", t)
            }
            return s(t, e),
            t
        }(c);
        t.AdBreakExitedMessage = P;
        var T = function(e) {
            function t(t, i) {
                e.call(this, "xuaFragmentWarning", t),
                this.EVT.VALUE = {
                    URL: i.fragmentUrl,
                    FSZ: i.fragmentSize,
                    LAT: 0,
                    DLD: i.downloadDuration,
                    DUR: i.fragmentDuration
                }
            }
            return s(t, e),
            t
        }(c);
        t.FragmentWarningMessage = T;
        var C = function(e) {
            function t(t, i, n, r, s, o, a, c, l) {
                e.call(this, "xuaError", t),
                this.EVT.VALUE.CODE = i,
                this.EVT.VALUE.AD_ERROR = a,
                this.EVT.VALUE.WARNING = s,
                this.EVT.VALUE.MANIF = l,
                n && (this.EVT.VALUE.CLASS = n),
                r && (this.EVT.VALUE.DESCR = r),
                o && (this.EVT.VALUE.RETRY = o),
                c && (this.EVT.VALUE.DAI_FALLBACK = c)
            }
            return s(t, e),
            t
        }(c);
        t.ApplicationErrorMessage = C;
        var A = function(e) {
            function t(t, i, n, r) {
                e.call(this, "xuaEAS"),
                this.EVT.VALUE.ACT = t,
                this.EVT.VALUE.LANG = i,
                this.EVT.VALUE.URI = n,
                r && (this.EVT.VALUE.CODE = r)
            }
            return s(t, e),
            t
        }(c);
        t.EmergencyAlertMessage = A;
        var w = function(e) {
            function t(t, i, n) {
                e.call(this, "xuaTrickPlay", t),
                this.EVT.VALUE.TYPE = n,
                this.EVT.VALUE.POS = r(i, 0, o)
            }
            return s(t, e),
            t
        }(c);
        t.TrickPlayMessage = w;
        var R = function(e) {
            function t(t, i) {
                e.call(this, "xuaScrubStarted", i),
                this.EVT.VALUE.POS = r(t, 0, o)
            }
            return s(t, e),
            t
        }(c);
        t.ScrubStartedMessage = R;
        var O = function(e) {
            function t(t, i) {
                e.call(this, "xuaScrubEnded", i),
                this.EVT.VALUE.POS = r(t, 0, o)
            }
            return s(t, e),
            t
        }(c);
        t.ScrubEndedMessage = O;
        var I = function(e) {
            function t(t, i, n) {
                e.call(this, "xuaBufferEvent", t),
                this.EVT.VALUE.TYPE = i,
                this.EVT.VALUE.STATE = "start",
                this.EVT.VALUE.POS = n
            }
            return s(t, e),
            t.prototype.setTimestamp = function(t) {
                e.prototype.setTimestamp.call(this, t),
                this.EVT.VALUE.START = this.EVT.ETS
            }
            ,
            t
        }(c);
        t.BufferStartMessage = I;
        var L = function(e) {
            function t(t, i, n, r) {
                e.call(this, "xuaBufferEvent", t),
                this.EVT.VALUE.TYPE = i,
                this.EVT.VALUE.STATE = "stop",
                this.EVT.VALUE.START = n,
                this.EVT.VALUE.POS = r
            }
            return s(t, e),
            t
        }(c);
        t.BufferCompleteMessage = L;
        var k = function(e) {
            function t(t) {
                e.call(this, "xuaPlaybackStarted", t)
            }
            return s(t, e),
            t
        }(c);
        t.PlaybackStartedMessage = k
    }
    , function(e, t, i) {
        "use strict";
        var n = i(1)
          , r = function() {
            function e(e) {
                this._rawJSON = e
            }
            return Object.defineProperty(e.prototype, "eventCode", {
                get: function() {
                    if (this._rawJSON.info && this._rawJSON.info.eventCode)
                        return "SAME" === this._rawJSON.info.eventCode.valueName ? this._rawJSON.info.eventCode.value : ""
                },
                enumerable: !0,
                configurable: !0
            }),
            Object.defineProperty(e.prototype, "uri", {
                get: function() {
                    var t = this.resources;
                    if (!t || !t.length)
                        return void e._logger.warn("No URI available on emergency alert!");
                    for (var i = 0, n = t; i < n.length; i++) {
                        var r = n[i];
                        if ("application/vnd.apple.mpegurl" === r.mimeType)
                            return r.uri
                    }
                },
                enumerable: !0,
                configurable: !0
            }),
            Object.defineProperty(e.prototype, "id", {
                get: function() {
                    return this._rawJSON.identifier
                },
                enumerable: !0,
                configurable: !0
            }),
            Object.defineProperty(e.prototype, "language", {
                get: function() {
                    return this._rawJSON.info.language
                },
                enumerable: !0,
                configurable: !0
            }),
            Object.defineProperty(e.prototype, "parameters", {
                get: function() {
                    return [].concat(this._rawJSON.info.parameter || [])
                },
                enumerable: !0,
                configurable: !0
            }),
            Object.defineProperty(e.prototype, "resources", {
                get: function() {
                    return [].concat(this._rawJSON.info.resource || [])
                },
                enumerable: !0,
                configurable: !0
            }),
            Object.defineProperty(e.prototype, "startPosition", {
                get: function() {
                    var t = this.parameters.filter(function(t) {
                        return t.valueName === e.PLAYBACK_START_POSITION
                    })[0];
                    return !t || t.value !== e.START && t.value !== e.LIVE ? (e._logger.warn("No start position defined, returning 0 to start from beginning"),
                    e.START) : t.value
                },
                enumerable: !0,
                configurable: !0
            }),
            e.prototype.isEan = function() {
                return "EAN" === this.eventCode
            }
            ,
            e.PLAYBACK_START_POSITION = "PLAYBACK_START_POSITION",
            e.START = "START",
            e.LIVE = "LIVE",
            e._logger = new n.Logger("EmergencyAlert"),
            e
        }();
        t.EmergencyAlert = r
    }
    , function(e, t, i) {
        "use strict";
        (function(e) {
            var n = i(10)
              , r = i(3)
              , s = i(4)
              , o = i(2)
              , a = i(6)
              , c = i(1)
              , l = i(116)
              , h = i(176)
              , u = i(104)
              , d = i(0);
            i(46),
            i(12),
            i(22),
            t.AD_BREAK_COMPLETE = "ads:adBreakComplete",
            t.AD_BREAK_START = "ads:adBreakStart",
            t.AD_START = "ads:adStart",
            t.AD_PROGRESS = "ads:adProgress",
            t.AD_COMPLETE = "ads:adComplete";
            var f = function() {
                function i() {
                    this.logger = new c.Logger("FlashPlayerEvents"),
                    this.sizeEvent = {
                        width: 0,
                        height: 0
                    },
                    this.initialVideoStart = !1,
                    this.disablePlaying = !1,
                    this.progressSubject = new h.BehaviorSubject(null)
                }
                return i.prototype.init = function(t) {
                    return this.sandbox = t,
                    this.flashPlayer = t.parent,
                    this.playerPlatformAPI = t.api,
                    e.flashPlayerEvents = this,
                    this.initFlashInitialSeekWorkaround(),
                    this.workaroundForVPAIDPause(),
                    this
                }
                ,
                i.prototype.initFlashInitialSeekWorkaround = function() {
                    var e = this;
                    this.sandbox.streams.getPlayState(r.STATUS_PREPARED).filter(function(t) {
                        return e.flashPlayer.getAutoPlay()
                    }).switchMap(function() {
                        return e.sandbox.streams.getPlayState(r.STATUS_PLAYING).take(1)
                    }).filter(function(t) {
                        return e.needsFlashAdManagerInitialSeek()
                    }).takeUntil(this.sandbox.destroyed).subscribe(function(t) {
                        e.logger.warn("Manually performing initial seek"),
                        e.flashPlayer.setPosition(e.sandbox.asset.resumePosition)
                    })
                }
                ,
                i.prototype.needsFlashAdManagerInitialSeek = function() {
                    return this.sandbox && this.sandbox.asset && this.sandbox.asset.resumePosition > 0 && this.sandbox.adManager && "auditude" === this.sandbox.adManager.type
                }
                ,
                i.prototype.destroy = function() {
                    this.logger.trace("destroy"),
                    delete e.flashPlayerEvents
                }
                ,
                i.prototype.onStateChanged = function(e) {
                    var t = this;
                    if (this.logger.info("onStateChanged: " + e.state),
                    e.state !== this.flashPlayer.currentStatus) {
                        if (this.flashPlayer.currentStatus === r.STATUS_STOPPING)
                            switch (e.state) {
                            case r.STATUS_IDLE:
                                e.state = r.STATUS_COMPLETE,
                                this.logger.info("onStateChanged: stopping forces " + e.state);
                                break;
                            case r.STATUS_INITIALIZING:
                                this.logger.warn("onStateChanged: " + r.STATUS_STOPPING + " to " + r.STATUS_INITIALIZING);
                                break;
                            default:
                                return
                            }
                        this.vpaidAdOnTimeline() && e.state === r.STATUS_PAUSED || (this.flashPlayer.currentStatus = e.state,
                        this.dispatch(new s.PlayStateChangedEvent(e.state)));
                        var i = (n = {},
                        n[r.STATUS_INITIALIZED] = function() {
                            t.initialVideoStart = !1,
                            t.disablePlaying = !1,
                            t.flashPlayer.prepareToPlay()
                        }
                        ,
                        n[r.STATUS_PREPARED] = function() {
                            t.initialVideoStart = !0,
                            t.disablePlaying = !t.flashPlayer.getAutoPlay(),
                            t.flashPlayer.play(),
                            t.hasDRM = !1
                        }
                        ,
                        n[r.STATUS_PLAYING] = function() {
                            t.disablePlaying && t.initialVideoStart && (t.disablePlaying = !1,
                            t.flashPlayer.pause())
                        }
                        ,
                        n[r.STATUS_COMPLETE] = function() {
                            t.progressSubject.take(1).takeUntil(t.sandbox.destroyed).subscribe(function(e) {
                                return t.dispatch(new s.MediaProgressEvent(e.endposition,e.playbackSpeed,e.startposition,e.endposition,e.updateinterval))
                            }),
                            t.dispatch(new s.MediaEndedEvent)
                        }
                        ,
                        n);
                        i.hasOwnProperty(e.state) && i[e.state]();
                        var n
                    }
                }
                ,
                i.prototype.onMediaOpened = function(e) {
                    this.logger.info("onMediaOpened: " + JSON.stringify(e));
                    for (var t = 0; t < e.timeline.length; t++)
                        this.addAds(e.timeline[t].ads);
                    this.dispatch(new s.MediaOpenedEvent(e.videoType,e.playbackSpeeds,e.languages,e.width,e.height,e.openingLatency,e.hasDRM,e.hasCC))
                }
                ,
                i.prototype.onProgress = function(e) {
                    if (this.flashPlayer.getPlayerStatus() !== r.STATUS_COMPLETE) {
                        var t = new s.MediaProgressEvent(e.time,e.rate,e.rangeBegin,e.rangeEnd,e.updateInterval);
                        this.dispatch(t),
                        this.progressSubject.next(t)
                    }
                }
                ,
                i.prototype.onProfileChanged = function(e) {
                    this.dispatch(new s.BitrateChangedEvent(e.profile,e.description,this.sizeEvent.width,this.sizeEvent.height))
                }
                ,
                i.prototype.onPlayerReady = function() {
                    this.flashPlayer.setPlayerReady()
                }
                ,
                i.prototype.onError = function(e) {
                    this.dispatch(new s.MediaFailedEvent(this.getPPError(e)))
                }
                ,
                i.prototype.getPPError = function(e) {
                    var t, i, r = e.parameters, s = r.runtimeCode, o = r.runtime_suberror_code, a = r.runtimeCodeMessage;
                    o ? (t = s,
                    i = o) : (t = e.code,
                    i = s);
                    var c = t + "." + i
                      , l = e.description || a;
                    return this.logger.info("flash error observed: code=" + c + ", event=" + JSON.stringify(e)),
                    new n.PPError(t,i,l)
                }
                ,
                i.prototype.onNetworkDown = function(e) {
                    this.sandbox.publish(u.NetworkDownHandler.CHANNEL_NAME, this.getPPError(e))
                }
                ,
                i.prototype.onBufferStart = function() {
                    this.dispatch(new s.BufferStartEvent)
                }
                ,
                i.prototype.onBufferComplete = function() {
                    this.dispatch(new s.BufferCompleteEvent)
                }
                ,
                i.prototype.onSeekStart = function() {
                    this.dispatch(new s.SeekStartEvent(this.flashPlayer.getCurrentPosition()))
                }
                ,
                i.prototype.onSeekComplete = function() {
                    this.dispatch(new s.SeekCompleteEvent(this.flashPlayer.getCurrentPosition()))
                }
                ,
                i.prototype.onRatePlaying = function(e) {
                    this.dispatch(new s.PlaybackSpeedChangedEvent(e.rate))
                }
                ,
                i.prototype.onSize = function(e) {
                    this.logger.trace("onSize: width: " + e.width + " height: " + e.height),
                    this.sizeEvent.width = e.width,
                    this.sizeEvent.height = e.height
                }
                ,
                i.prototype.onCaptionUpdated = function(e) {
                    this.logger.trace("onCaptionUpdated"),
                    this.dispatch(new s.NumberOfClosedCaptionsStreamsChanged(e.tracks.length))
                }
                ,
                i.prototype.onAudioUpdated = function(e) {
                    this.logger.trace("onAudioUpdated"),
                    this.dispatch(new s.NumberOfAlternativeAudioStreamsChangedEvent(e.languages.length))
                }
                ,
                i.prototype.onItemUpdated = function(e) {
                    var t = this;
                    void 0 === e && (e = []),
                    this.sandbox.publish("player:timedMetadata", e),
                    this.logger.trace("onItemUpdated"),
                    e.filter(function(e) {
                        return !!e.name
                    }).map(function(e) {
                        return l.create(e.name, e.time, e.content)
                    }).forEach(function(e) {
                        return t.sandbox.publish("player:tag", e)
                    })
                }
                ,
                i.prototype.onAdBreakStarted = function(e) {
                    this.sandbox.publish(t.AD_BREAK_START, e)
                }
                ,
                i.prototype.onAdBreakCompleted = function(e) {
                    this.sandbox.publish(t.AD_BREAK_COMPLETE, e)
                }
                ,
                i.prototype.onAdStart = function(e) {
                    this.sandbox.publish(t.AD_START, e)
                }
                ,
                i.prototype.onAdComplete = function(e) {
                    this.sandbox.publish(t.AD_COMPLETE, e)
                }
                ,
                i.prototype.onAdProgress = function(e) {
                    this.sandbox.publish(t.AD_PROGRESS, e)
                }
                ,
                i.prototype.onLoadInfo = function(e) {
                    this.dispatch(new s.FragmentInfoEvent(e.downloadDuration,e.size,e.url,e.mediaDuration))
                }
                ,
                i.prototype.onDRMMetadataAvailable = function() {
                    this.hasDRM = !0,
                    this.dispatch(new s.DRMMetadataEvent)
                }
                ,
                i.prototype.onClick = function() {
                    a.ConfigurationManager.getInstance().get(a.ConfigurationManager.HANDLE_CLICKS) && this.sandbox.publish("api:notifyClick")
                }
                ,
                i.prototype.addAds = function(e) {
                    for (var t = 0; t < e.length; t++) {
                        var i = e[t];
                        this.sandbox.publish("ads:ad", i.id, i.time, i.duration, {
                            clickThrough: i.clickThrough,
                            vpaid: i.vpaid
                        })
                    }
                }
                ,
                i.prototype.addRestrictions = function(e) {
                    for (var t = 0; t < e.length; t++) {
                        var i = e[t];
                        this.sandbox.publish("ads:restriction", i.ADID, i.MODE, i.SCALE, i.LIMIT)
                    }
                }
                ,
                i.prototype.doResolve = function(e) {
                    this.sandbox.publish("ads:resolve", e)
                }
                ,
                i.prototype.dispatch = function(e) {
                    try {
                        s.dispatchEvent(e)
                    } catch (t) {
                        console.error(t.toString() + ": " + t.stack)
                    }
                }
                ,
                i.prototype.workaroundForVPAIDPause = function() {
                    var e = this;
                    d.Observable.fromEvent(s, s.MEDIA_OPENED).switchMap(function(t) {
                        return e.vpaidAdOnTimeline() ? d.Observable.fromEvent(o.appMediator(), "api:pause").mapTo(r.STATUS_PAUSED).filter(function(t) {
                            return t !== e.flashPlayer.currentStatus
                        }) : d.Observable.empty()
                    }).takeUntil(this.sandbox.destroyed).subscribe(function(t) {
                        e.flashPlayer.currentStatus = t,
                        e.dispatch(new s.PlayStateChangedEvent(t))
                    })
                }
                ,
                i.prototype.vpaidAdOnTimeline = function() {
                    var e = !1;
                    return this.sandbox.getTimeline().map(function(e) {
                        return e.ads
                    }).reduce(function(e, t) {
                        return e.concat(t)
                    }, []).filter(function(e) {
                        return e.vpaid
                    })[0] && (e = !0),
                    e
                }
                ,
                i
            }();
            t.FlashPlayerEvents = f,
            o.registerModule("FlashPlayerEvents", f)
        }
        ).call(t, i(11))
    }
    , function(e, t, i) {
        "use strict";
        var n = i(8)
          , r = i(1)
          , s = /(?:\r\n|\r|\n)/gm
          , o = /--\x3e/
          , a = /(^[\s]+|[\s]+$)/g
          , c = /\s\b/g
          , l = function() {
            function e() {
                this._logger = new r.Logger("PlayerPlatformCC"),
                this._vttParser = new u,
                this._options = {
                    rows: 3,
                    speed: 200,
                    fontFamily: "Arial,sans-serif",
                    fontSize: 15,
                    fontWeight: "bold",
                    fontStyle: "normal",
                    textDecoration: "normal",
                    color: "#ffffff",
                    backgroundColor: "#000000",
                    opacity: .75,
                    align: "left"
                }
            }
            return e.prototype.init = function(e, t) {
                this.setOptions(t),
                this.destroy(),
                this._logger.info("Initializing CC with options: " + JSON.stringify(this._options)),
                this._container = document.createElement("div"),
                this._container.className = "pp-cc-container",
                e.appendChild(this._container);
                for (var i = 0; i < this._options.rows; i++) {
                    var n = new h(this._container,this._options);
                    this._ccQueue.push(n)
                }
                this._container.style.visibility = "visible"
            }
            ,
            e.prototype.setOptions = function(e) {
                if (e && !isNaN(e.rows) && e.rows != this._options.rows && this.setRows(e.rows),
                n.extend(this._options, e),
                this._ccQueue && this._ccQueue.length)
                    for (var t = 0; t < this._ccQueue.length; t++)
                        this._ccQueue[t].setCCOptions();
                this._configured = !1
            }
            ,
            e.prototype.setRows = function(e) {
                var t = e - this._options.rows;
                if (0 !== t) {
                    if (t < 0)
                        for (var i = 0; i < Math.abs(t); i++) {
                            var n = this._ccQueue.shift();
                            n.outer && n.outer.parentNode && n.outer.parentNode.removeChild(n.outer)
                        }
                    else
                        for (var r = 0; r < t; r++) {
                            var s = new h(this._container,this._options);
                            this._ccQueue.push(s)
                        }
                    this._options.rows = e
                }
            }
            ,
            e.prototype.showCC = function() {
                this._container.style.visibility = "visible"
            }
            ,
            e.prototype.hideCC = function() {
                this._container.style.visibility = "hidden"
            }
            ,
            e.prototype.display = function(e, t, i) {
                if (e.trim()) {
                    var n = -1
                      , r = -1;
                    t && (n = t.start,
                    r = t.end,
                    this._ccQueue.forEach(function(e) {
                        return e.checkDup(n, r)
                    }));
                    for (var o = e.split(s), a = o.length, c = 0; c < a; c++) {
                        var l = o[c]
                          , h = this._ccQueue.shift();
                        this._ccQueue.forEach(function(e) {
                            return e.moveUp()
                        }),
                        h.setText(l, n, r, i),
                        this._container.appendChild(h.outer),
                        this._configured || (this._container.style.height = h.outer.offsetHeight * this._options.rows + "px",
                        this._configured = !0),
                        h.reset(),
                        this._ccQueue.push(h)
                    }
                }
            }
            ,
            e.prototype._unescapeHTML = function(e) {
                return /&apos;|&amp;|&lt;|&gt;|&quot;|&#39;/.test(e) ? e.replace(/&apos;/g, "'").replace(/&amp;/g, "&").replace(/&lt;/g, "<").replace(/&gt;/g, ">").replace(/&quot;/g, '"').replace(/&#39;/g, "'") : e
            }
            ,
            e.prototype.parseCaption = function(e) {
                if (e && e.cue) {
                    var t = this._vttParser.parse(e.cue);
                    if (t && t.length)
                        for (var i = 0; i < t.length; i++)
                            t[i].data && this.display(this._unescapeHTML(t[i].data), {
                                start: t[i].start,
                                end: t[i].end
                            }, t[i].styles)
                }
            }
            ,
            e.prototype.destroy = function() {
                this._ccQueue = [],
                this._container && this._container.parentNode && this._container.parentNode.removeChild(this._container)
            }
            ,
            e
        }();
        t.CCRenderer = l;
        var h = function() {
            function e(e, t) {
                this._offset = 0,
                this._startTime = -1,
                this._endTime = -1,
                this._styles = null,
                this._cc = document.createElement("span"),
                this.outer = document.createElement("span"),
                this._container = e,
                this._options = t,
                this.outer.className = "pp-cc-text-outer",
                this._cc.className = "pp-cc-text",
                this.outer.appendChild(this._cc),
                this.outer.style.width = "auto",
                this.outer.style.height = "auto",
                this.setCCOptions()
            }
            return e.prototype.setText = function(e, t, i, n) {
                this.outer.style.left = "0px",
                this.outer.style.top = "0px",
                this.outer.style.display = "inline-block",
                this._startTime = t,
                this._endTime = i,
                this._styles = n;
                var r = this._detectStyles(e);
                r ? (r.italic ? this._cc.style.fontStyle = "italic" : this._cc.style.fontStyle = this._options.fontStyle,
                r.bold ? this._cc.style.fontWeight = "bold" : this._cc.style.fontWeight = this._options.fontWeight,
                r.underline ? this._cc.style.textDecoration = "underline" : this._cc.style.textDecoration = this._options.textDecoration,
                this._cc.textContent = r.text) : (this._cc.style.fontStyle = this._options.fontStyle,
                this._cc.style.fontWeight = this._options.fontWeight,
                this._cc.style.textDecoration = this._options.textDecoration,
                this._cc.textContent = e),
                this._autoHide()
            }
            ,
            e.prototype._detectStyles = function(e) {
                var t = e
                  , i = {};
                return /<i>|<i \/>/i.test(t) && (i.italic = !0,
                t = t.replace(/<i>/gi, "").replace(/<i \/>/gi, "").replace(/<\/i>/gi, "")),
                /<b>|<b \/>/i.test(t) && (i.bold = !0,
                t = t.replace(/<b>/gi, "").replace(/<b \/>/gi, "").replace(/<\/b>/gi, "")),
                /<u>|<u \/>/i.test(t) && (i.underline = !0,
                t = t.replace(/<u>/gi, "").replace(/<u \/>/gi, "").replace(/<\/u>/gi, "")),
                0 === Object.keys(i).length ? null : (i.text = t,
                i)
            }
            ,
            e.prototype.moveUp = function() {
                this._offset -= this.outer.offsetHeight,
                this._offset >= 0 ? this._setTop() : this._hideLine()
            }
            ,
            e.prototype.checkDup = function(e, t) {
                this._startTime <= e && e < this._endTime && this._hideLine()
            }
            ,
            e.prototype._hideLine = function() {
                clearTimeout(this._displayTimer),
                this._cc.textContent = "",
                this._startTime = -1,
                this._endTime = -1,
                this._offset = -1,
                this.outer.style.display = "none"
            }
            ,
            e.prototype._autoHide = function() {
                var e = this;
                clearTimeout(this._displayTimer),
                this._displayTimer = window.setTimeout(function() {
                    e._hideLine()
                }, Math.max(2e3, 1e3 + 1e3 * (this._endTime - this._startTime)))
            }
            ,
            e.prototype.reset = function() {
                var e = 0
                  , t = this._container.offsetWidth / 2 - this.outer.offsetWidth / 2;
                if (this._offset = this.outer.offsetHeight * (this._options.rows - 1),
                this._styles) {
                    var i = this._styles.position ? Number(this._styles.position) : 0;
                    e = Math.floor(i * this._container.offsetWidth / 100),
                    "left" === this._styles.align && (t = 0)
                }
                this.outer.style.left = Math.min(this._container.offsetWidth, Math.max(0, t + e)) + "px",
                this._setTop()
            }
            ,
            e.prototype._setTop = function() {
                var e = this.outer.style.left.indexOf("px")
                  , t = this.outer.style.left.substr(0, e);
                isNaN(Number(t)) && (this.outer.style.left = "0px"),
                this.outer.style.top = this._offset + "px"
            }
            ,
            e.prototype.setCCOptions = function() {
                this._cc.style.fontFamily = this._options.fontFamily,
                this._cc.style.fontSize = this._options.fontSize + "px",
                this._cc.style.fontWeight = this._options.fontWeight,
                this._cc.style.fontStyle = this._options.fontStyle,
                this._cc.style.textDecoration = this._options.textDecoration,
                this._cc.style.color = this._options.color,
                this._cc.style.backgroundColor = this._options.backgroundColor,
                this._cc.style.opacity = this._options.opacity.toString(),
                this._cc.style.filter = "alpha(opacity=" + 100 * this._options.opacity + ")",
                this.outer.style.textAlign = this._options.align
            }
            ,
            e
        }()
          , u = function() {
            function e() {}
            return e.prototype.convertCuePointTimes = function(e) {
                var t = e.split(":")
                  , i = t.length - 1
                  , n = 60 * parseInt(t[i - 1], 10) + parseFloat(t[i]);
                return 2 === i && (n += 3600 * parseInt(t[0], 10)),
                n
            }
            ,
            e.prototype.parseItemAttributes = function(e) {
                var t = e.split(o)
                  , i = t[1].split(c);
                return i.shift(),
                t[1] = i[0],
                i.shift(),
                {
                    cuePoints: t,
                    styles: this.getCaptionStyles(i)
                }
            }
            ,
            e.prototype.getCaptionStyles = function(e) {
                var t = {};
                return e.forEach(function(e) {
                    (e.match(/align/) || e.match(/A/)) && (t.align = e.split(/:/)[1]),
                    (e.match(/line/) || e.match(/L/)) && (t.line = e.split(/:/)[1].replace(/%/, "")),
                    (e.match(/position/) || e.match(/P/)) && (t.position = e.split(/:/)[1].replace(/%/, "")),
                    (e.match(/size/) || e.match(/S/)) && (t.size = e.split(/:/)[1].replace(/%/, ""))
                }),
                t
            }
            ,
            e.prototype.getSublines = function(e, t) {
                for (var i, n = t, r = ""; "" !== e[n] && n < e.length; )
                    n++;
                if (i = n - t,
                i > 1)
                    for (var s = 0; s < i; s++)
                        r += e[t + s],
                        s !== i - 1 && (r += "\n");
                else
                    r = e[t];
                return decodeURI(r)
            }
            ,
            e.prototype.parse = function(e) {
                for (var t = [], i = e.split(s), n = i.length, r = 0; r < n; r++) {
                    var c = i[r];
                    if (c.length > 0 && "WEBVTT" !== c && c.match(o)) {
                        var l = this.parseItemAttributes(c)
                          , h = l.cuePoints
                          , u = l.styles
                          , d = this.getSublines(i, r + 1);
                        t.push({
                            start: this.convertCuePointTimes(h[0].replace(a, "")),
                            end: this.convertCuePointTimes(h[1].replace(a, "")),
                            data: d,
                            styles: u
                        })
                    }
                }
                return t
            }
            ,
            e
        }()
    }
    , function(e, t, i) {
        "use strict";
        function n() {
            return navigator.appVersion.indexOf("Win") != -1 ? o.WINDOWS : navigator.appVersion.indexOf("Mac") != -1 ? o.MAC : navigator.appVersion.indexOf("X11") != -1 ? o.UNIX : navigator.appVersion.indexOf("Linux") != -1 ? o.LINUX : o.UNKNOWN
        }
        function r() {
            return "ie" === s.name ? "opaque" : "firefox" === s.name && n() === o.WINDOWS ? "opaque" : "direct"
        }
        var s = i(87)
          , o = {
            WINDOWS: "windows",
            MAC: "mac",
            UNIX: "unix",
            LINUX: "linux",
            UNKNOWN: "unknown"
        };
        t.getOS = n,
        t.getWmode = r
    }
    , function(e, t, i) {
        "use strict";
        function n() {
            var e = (new Date).getTime();
            return "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g, function(t) {
                var i = (e + 16 * Math.random()) % 16 | 0;
                return e = Math.floor(e / 16),
                ("x" == t ? i : 3 & i | 8).toString(16)
            })
        }
        var r = i(1)
          , s = i(8)
          , o = /trace-id=([A-F\d]{8}-[A-F\d]{4}-[A-F\d]{4}-[A-F\d]{4}-[A-F\d]{12});/i
          , a = function() {
            function e(e) {
                this._logger = new r.Logger("MoneyTrace"),
                "string" == typeof e ? (this._logger.warn("MoneyTrace string argument is deprecated."),
                this._parseTraceContext(e)) : "object" == typeof e ? (e.traceId && (this.traceId = e.traceId),
                e.parentId && (this.parentId = e.parentId),
                e.spanId ? this.spanId = e.spanId : this.spanId = s.randomLong()) : this._generateTraceContext()
            }
            return e.prototype.createTraceMessage = function() {
                var e = "trace-id=" + this.traceId + ";parent-id=" + this.parentId + ";span-id=" + this.spanId + ";";
                return this.spanId = s.randomLong(),
                e
            }
            ,
            e.prototype._parseTraceContext = function(e) {
                var t = o.exec(e);
                !t || t.length < 2 ? (this._logger.warn("Unable to parse trace context. Generating random money trace"),
                this._generateTraceContext()) : (this._logger.warn("parent-id needed when trace is not an origin"),
                this._generateTraceContext(t[1]))
            }
            ,
            e.prototype._generateTraceContext = function(e) {
                void 0 === e && (e = n()),
                this.traceId = e,
                this.parentId = "0",
                this.spanId = s.randomLong()
            }
            ,
            e
        }();
        t.MoneyTrace = a,
        t.generateUUID = n
    }
    , function(e, t, i) {
        "use strict";
        function n(e, i, n) {
            void 0 === n && (n = "");
            var s = t.TAG_CONSTRUCTORS[e];
            return s ? new s(i,n) : new r.HlsTag(e,i,n)
        }
        var r = i(76)
          , s = i(283)
          , o = i(284);
        t.TAG_CUE = "#EXT-X-CUE",
        t.TAG_TRICKMODE_RESTRICTION = "#EXT-X-TRICKMODE-RESTRICTION",
        t.TAG_CONSTRUCTORS = (a = {},
        a[t.TAG_CUE] = s.HlsCueTag,
        a[t.TAG_TRICKMODE_RESTRICTION] = o.HlsTrickmodeRestrictionTag,
        a),
        t.create = n;
        var a
    }
    , function(e, t, i) {
        "use strict";
        function n(e, t) {
            return function(i, n) {
                t = t || i.constructor.name;
                var r = "_" + n;
                i[r] = i[n];
                var s = t + "." + n + " is DEPRECATED: " + e;
                Object.defineProperty(i, n, {
                    get: function() {
                        return console.warn(s),
                        i[r]
                    },
                    set: function(e) {
                        console.warn(s),
                        i[r] = e
                    },
                    configurable: !0,
                    enumerable: !0
                })
            }
        }
        function r(e, t) {
            return function(i, n, r) {
                var s = r.value;
                return r.value = function() {
                    for (var r = [], o = 0; o < arguments.length; o++)
                        r[o - 0] = arguments[o];
                    return console.warn((t || i.constructor.name) + "." + n + " is DEPRECATED: " + e),
                    s.apply(this, r)
                }
                ,
                r
            }
        }
        t.deprecatedProp = n,
        t.deprecated = r
    }
    , function(e, t, i) {
        "use strict";
        var n = this && this.__extends || function(e, t) {
            function i() {
                this.constructor = e
            }
            for (var n in t)
                t.hasOwnProperty(n) && (e[n] = t[n]);
            e.prototype = null === t ? Object.create(t) : (i.prototype = t.prototype,
            new i)
        }
        ;
        i(275);
        var r = i(1)
          , s = i(2)
          , o = i(36)
          , a = i(6)
          , c = function(e) {
            function t() {
                e.call(this),
                this.logger = new r.Logger("AuditudeAdManager"),
                this.type = "auditude"
            }
            return n(t, e),
            t.prototype.init = function(t, i) {
                return this.cfg = i || {},
                i.domainId = i.domainId || t.config[a.ConfigurationManager.DOMAIN_ID],
                i.zoneId = i.zoneId || t.config[a.ConfigurationManager.ZONE_ID],
                i.targetingInfo = i.targetingInfo || t.config[a.ConfigurationManager.CUSTOM_PARAMS],
                i.auditudeTimeout = i.auditudeTimeout || t.config[a.ConfigurationManager.AUDITUDE_TIMEOUT],
                e.prototype.init.call(this, t, i, !0),
                t.subscribe("ads:ad", this.addAd, {}, this),
                t.subscribe("api:notifyClick", this.onClick, {}, this),
                this
            }
            ,
            t.prototype.destroy = function(t) {
                e.prototype.destroy.call(this, t),
                t.remove("ads:ad", this.addAd),
                t.remove("api:notifyClick", this.onClick)
            }
            ,
            t.prototype.onMediaOpened = function(t) {
                this.adBreaks = o.AdManager.sortIntoAdBreaks(this.ads),
                e.prototype.onMediaOpened.call(this, t)
            }
            ,
            t.prototype.onClick = function() {
                this.getCurrentAd() && this.sandbox.publish("ads:adClicked")
            }
            ,
            t.prototype.getMetadata = function() {
                return {
                    adType: "auditude",
                    metadata: {
                        domainId: this.cfg.domainId,
                        zoneId: this.cfg.zoneId,
                        targetingInfo: this.cfg.targetingInfo,
                        mediaID: this.asset.assetId,
                        auditudeTimeout: this.cfg.auditudeTimeout
                    }
                }
            }
            ,
            t
        }(o.SeekRestrictedAdManager);
        t.AuditudeAdManager = c,
        s.registerPlugin("AuditudeAdManager", c, {
            children: ["FlashEventToEventMapper"]
        })
    }
    , function(e, t, i) {
        "use strict";
        var n = this && this.__extends || function(e, t) {
            function i() {
                this.constructor = e
            }
            for (var n in t)
                t.hasOwnProperty(n) && (e[n] = t[n]);
            e.prototype = null === t ? Object.create(t) : (i.prototype = t.prototype,
            new i)
        }
        ;
        i(109);
        var r = i(1)
          , s = i(2)
          , o = i(36)
          , a = function(e) {
            function t() {
                e.call(this),
                this.logger = new r.Logger("C3AdManager"),
                this.type = "c3"
            }
            return n(t, e),
            t.prototype.init = function(t, i) {
                return this.adBreaks = i.ads || [],
                e.prototype.init.call(this, t, i, !0),
                this
            }
            ,
            t.prototype.reset = function() {
                this.adBreaks = this.cfg.ads || [],
                e.prototype.reset.call(this)
            }
            ,
            t.prototype.getMetadata = function() {
                return {
                    adType: this.type,
                    metadata: {
                        markers: this.adBreaks
                    }
                }
            }
            ,
            t
        }(o.SeekRestrictedAdManager);
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t["default"] = a,
        s.registerPlugin("C3AdManager", a, {
            children: ["AdTracker"]
        })
    }
    , function(e, t, i) {
        "use strict";
        var n = this && this.__extends || function(e, t) {
            function i() {
                this.constructor = e
            }
            for (var n in t)
                t.hasOwnProperty(n) && (e[n] = t[n]);
            e.prototype = null === t ? Object.create(t) : (i.prototype = t.prototype,
            new i)
        }
        ;
        i(109),
        i(258);
        var r = i(1)
          , s = i(2)
          , o = i(36)
          , a = i(6)
          , c = i(4)
          , l = i(108)
          , h = i(8)
          , u = i(3)
          , d = i(107)
          , f = i(10)
          , p = i(116)
          , m = i(0)
          , g = i(50);
        i(186);
        var y = function(e) {
            function t() {
                e.call(this),
                this._restrictions = [],
                this.logger = new r.Logger("ManifestManipulatorAdManager"),
                this.type = "manifest",
                this.subscribedTags = ["#EXT-X-CUE", "#EXT-X-TRICKMODE-RESTRICTION", "#EXT-X-SCTE35"]
            }
            return n(t, e),
            t.prototype.init = function(t, i) {
                var n = this;
                e.prototype.init.call(this, t, i, !0);
                var r = t.streams.tags.takeUntil(t.destroyed);
                return r.filter(function(e) {
                    return e.name === p.TAG_CUE
                }).subscribe(function(e) {
                    return n.addAd(e.id, e.time, e.duration)
                }),
                r.filter(function(e) {
                    return e.name === p.TAG_TRICKMODE_RESTRICTION
                }).subscribe(function(e) {
                    return n.addRestriction(e.id, e.mode, e.scale, e.limit)
                }),
                this._startTimeoutStream(),
                this
            }
            ,
            t.prototype.addRestriction = function(e, t, i, n) {
                if (void 0 === i && (i = "-1"),
                void 0 === n && (n = "0"),
                this.logger.trace("addRestriction: id=" + e + " mode=" + t + " scale=" + i + " limit=" + n),
                !t)
                    return void this.logger.warn("No mode provided in trickmode restriction, ignoring");
                var r = i === l["default"].SCALE_ALL ? -1 : parseInt(i)
                  , s = n === l["default"].LIMIT_ALWAYS ? -1 : parseInt(n);
                this._restrictions.push(new l["default"](e,t,r,s))
            }
            ,
            t.prototype.onSetAsset = function(t) {
                e.prototype.onSetAsset.call(this, t),
                this._modifyUrl(t)
            }
            ,
            t.prototype._modifyUrl = function(e) {
                var t = this;
                this.logger.trace("modifyUrl"),
                e.isVOD() && !e.preventModify && e.modifyUrl(function(e) {
                    var i = /(https?):\/\/ccr/
                      , n = i.exec(e)
                      , r = e;
                    n && n.length > 1 && (r = r.replace(i, n[1] + "://mm"));
                    var s = h.parseQueryParams(e);
                    return s.StreamType = s.StreamType || "VOD_T6",
                    s.AssetId = s.AssetId || t.asset.assetId,
                    s.ProviderId = s.ProviderId || t.asset.providerId,
                    s.DeviceId = t.cfg.deviceID || t.cfg.terminalAddress,
                    s.sid = g.SessionManager.instance.playbackSessionId,
                    s.dtz = h.formatLocalDateTimeStamp(),
                    s.PartnerId = "private:" + (s.partnerId || t.sandbox.config[a.ConfigurationManager.PARTNER_ID]),
                    r = h.replaceQueryParams(r, s)
                })
            }
            ,
            t.prototype.getNewSeekPosition = function(e, t) {
                var i = this.getCurrentAdBreak();
                if (i && !i.seekIsAllowed(e, t))
                    return i.getSeekLimit(e, t);
                var n = this.getClosestAdBreak(t);
                return n && n.startTime > e && !n.seekIsAllowed(e, t) ? n.getSeekLimit(e, t) : t
            }
            ,
            t.prototype.attachRestrictions = function() {
                var e = this;
                this.ads.forEach(function(t) {
                    t.restrictions = e._restrictions.filter(function(e) {
                        return e.id === t.id
                    })
                })
            }
            ,
            t.prototype.onMediaOpened = function(t) {
                this.attachRestrictions(),
                this.adBreaks = o.AdManager.sortIntoAdBreaks(this.ads),
                e.prototype.onMediaOpened.call(this, t)
            }
            ,
            t.prototype._startTimeoutStream = function() {
                var e = this
                  , t = this.sandbox.streams.playStates.takeUntil(this.sandbox.destroyed)
                  , i = t.filter(function(e) {
                    return e.playState === u.STATUS_INITIALIZING
                })
                  , n = t.filter(function(e) {
                    return e.playState !== u.STATUS_INITIALIZING
                });
                i.filter(function() {
                    return d.isMm(e.sandbox.asset.url)
                }).flatMap(function() {
                    return m.Observable.timer(e.sandbox.config.manifestManipulatorTimeout).takeUntil(n)
                }).subscribe(function() {
                    return c.emit(new c.MediaFailedEvent(new f.PPError(7555,504,"VEX timeout")))
                })
            }
            ,
            t.prototype.reset = function() {
                this._restrictions = [],
                e.prototype.reset.call(this)
            }
            ,
            t
        }(o.AdManager);
        t.ManifestManipulatorAdManager = y,
        s.registerPlugin("ManifestManipulatorAdManager", y, {
            children: ["PSNDispatcher", "AdTracker"]
        })
    }
    , function(e, t, i) {
        "use strict";
        var n = i(3)
          , r = i(4)
          , s = i(2)
          , o = i(51)
          , a = i(111)
          , c = i(1)
          , l = i(268)
          , h = function() {
            function e() {
                this.logger = new c.Logger("EmergencyAlertProvider"),
                this._isDisplayingAlert = !1,
                this._replacedContentCount = 0
            }
            return e.prototype.init = function(e, t, i) {
                return this._sandbox = e,
                this._easPoller = t,
                this._settings = i,
                e.addAPI("eas", this),
                t.onAlertReceived(this._onAlertReceived.bind(this)),
                t.onAlertsAvailable(this._onAlertsAvailable.bind(this)),
                t.onAlertsFailureCheck(this._onAlertsFailureCheck.bind(this)),
                t.onEanStart(this._onEanStart.bind(this)),
                t.onEanComplete(this._onEanComplete.bind(this)),
                this._pollerController = new l.EASPollerController(t,e),
                this._pollerController.start(),
                this
            }
            ,
            e.prototype.destroy = function() {
                this._pollerController.destroy(),
                this._easPoller.stop()
            }
            ,
            e.prototype.start = function() {
                this._pollerController.start()
            }
            ,
            e.prototype.stop = function() {
                this._pollerController.stop()
            }
            ,
            e.prototype._onAlertReceived = function(e) {
                this.logger.trace("Alert received"),
                r.dispatchEvent(new r.EmergencyAlertIdentifiedEvent(e.language,e.uri))
            }
            ,
            e.prototype._onAlertsAvailable = function(e) {
                this.logger.trace(e.length + " alerts available"),
                this._isDisplayingAlert || this._displayAlert(e.shift())
            }
            ,
            e.prototype._onAlertsFailureCheck = function(e, t) {
                this._isDisplayingAlert && !this._currentAlert.isEan() && this._onReplacedContentFailed(e, t)
            }
            ,
            e.prototype._onEanStart = function(e) {
                this._displayAlert(e)
            }
            ,
            e.prototype._onEanComplete = function(e, t) {
                this._onReplacedContentEnded(null, t)
            }
            ,
            e.prototype._displayAlert = function(e) {
                this._isDisplayingAlert = !0,
                this._currentAlert = e,
                this.logger.trace("displayNextAlert: EmergencyAlert=" + e.id + " URL=" + e.uri),
                r.dispatchEvent(new r.EmergencyAlertStartedEvent(e.language,e.uri)),
                this._saveCurrentPlayerState(),
                this._tuneToAsset(e.uri, e.startPosition === a.EmergencyAlert.LIVE)
            }
            ,
            e.prototype._tuneToAsset = function(e, t) {
                this.logger.trace("tuneToAsset: " + e),
                r.on(r.MEDIA_OPENED, this._onReplacedContentMediaOpened, {}, this),
                this._sandbox.publish("api:setAutoPlay", !0),
                this._sandbox.publish("api:stop"),
                this._easAsset = o.Asset.create(e, {
                    resumePosition: t ? o.RESUME_FROM_LIVE_POINT : o.RESUME_FROM_START,
                    easPath: this._getPathnameFromUrl(e),
                    preventModify: !0
                }),
                this._sandbox.publish("api:swapAsset", this._easAsset),
                this._sandbox.publish("api:setAsset", this._sandbox.asset),
                r.on(r.MEDIA_ENDED, this._onReplacedContentEnded, {
                    priority: n.PRIORITY_TOP
                }, this),
                r.on(r.MEDIA_RETRY, this._onRetryAlert, {
                    priority: n.PRIORITY_TOP
                }, this),
                r.on(r.MEDIA_FAILED, this._onReplacedContentFailed, {}, this)
            }
            ,
            e.prototype._getPathnameFromUrl = function(e) {
                if (!e)
                    return null;
                var t, i, n, r = document.createElement("a"), s = {};
                for (r.href = e,
                t = r.search.replace(/^\?/, "").split("&"),
                n = 0; n < t.length; n++)
                    i = t[n].split("="),
                    s[i[0]] = i[1];
                return r.pathname
            }
            ,
            e.prototype._restorePlayerState = function() {
                this._removeListeners(),
                this._sandbox.publish("api:setAutoPlay", this._savedState.autoPlay),
                this._savedState.asset && (r.on(r.MEDIA_OPENED, this._onRestoredAssetMediaOpened, {}, this),
                this._sandbox.publish("api:stop"),
                this._savedState.asset.resumePosition = this._savedState.position,
                this._sandbox.publish("api:setAsset", this._savedState.asset))
            }
            ,
            e.prototype._saveCurrentPlayerState = function() {
                this._savedState = {
                    asset: this._sandbox.asset,
                    position: this._sandbox.getCurrentPosition(),
                    autoPlay: this._sandbox.getAutoPlay(),
                    state: this._sandbox.getPlayerStatus()
                }
            }
            ,
            e.prototype._onRestoredAssetMediaOpened = function(e) {
                "Live" === e.mediaType ? this._sandbox.publish("api:seekToLive") : this._sandbox.publish("api:setPosition", this._savedState.position),
                this._savedState.state === n.STATUS_PAUSED && r.on(r.PLAY_STATE_CHANGED, function t(e) {
                    e.playState === n.STATUS_PLAYING && (r.off(r.PLAY_STATE_CHANGED, t),
                    this._sandbox.publish("api:pause"))
                }, {}, this),
                r.off(r.MEDIA_OPENED, this._onRestoredAssetMediaOpened)
            }
            ,
            e.prototype._onReplacedContentMediaOpened = function() {
                this._sandbox.getPlayerStatus() !== n.STATUS_PLAYING && this._sandbox.publish("api:play")
            }
            ,
            e.prototype._onReplacedContentEnded = function(e, t) {
                t.stopPropagation(),
                this._removeListeners(),
                this._replacedContentCount++,
                this._replacedContentCount === this._settings.repeat || this._currentAlert.isEan() ? (this._replacedContentCount = 0,
                this._isDisplayingAlert = !1,
                r.dispatchEvent(new r.EmergencyAlertCompleteEvent(this._currentAlert.language,this._currentAlert.uri)),
                this._restorePlayerState()) : this._tuneToAsset(this._currentAlert.uri)
            }
            ,
            e.prototype._onReplacedContentFailed = function(e, t) {
                this.logger.error("Media Failed occured with Emergency EmergencyAlert content. Restoring player state."),
                t.stopPropagation(),
                this._isDisplayingAlert = !1,
                r.dispatchEvent(new r.EmergencyAlertFailureEvent(e.error.code,this._currentAlert.language,this._currentAlert.uri)),
                this._currentAlert = null
            }
            ,
            e.prototype._onRetryAlert = function(e, t) {
                this.logger.error("Media Retry occured with Emergency EmergencyAlert content."),
                r.dispatchEvent(new r.EmergencyAlertErroredEvent(e.data.error.code,this._currentAlert.language,this._currentAlert.uri))
            }
            ,
            e.prototype._removeListeners = function() {
                r.off(r.MEDIA_ENDED, this._onReplacedContentEnded),
                r.off(r.MEDIA_FAILED, this._onReplacedContentFailed),
                r.off(r.MEDIA_RETRY, this._onRetryAlert),
                r.off(r.MEDIA_OPENED, this._onReplacedContentMediaOpened)
            }
            ,
            e
        }();
        t.EmergencyAlertProvider = h,
        s.registerPlugin("EmergencyAlertProvider", h)
    }
    , function(e, t, i) {
        "use strict";
        var n = this && this.__extends || function(e, t) {
            function i() {
                this.constructor = e
            }
            for (var n in t)
                t.hasOwnProperty(n) && (e[n] = t[n]);
            e.prototype = null === t ? Object.create(t) : (i.prototype = t.prototype,
            new i)
        }
          , r = i(2)
          , s = i(3)
          , o = i(270)
          , a = i(52)
          , c = i(1)
          , l = i(6);
        i(271),
        i(255);
        var h = i(130)
          , u = function(e) {
            function t() {
                e.apply(this, arguments),
                this.currentBitrate = 0,
                this.logger = new c.Logger("CBSPlayer")
            }
            return n(t, e),
            t.prototype.init = function(t) {
                return e.prototype.init.call(this, t),
                this.setupPlayer(t),
                t.subscribe("api:engineSelected", this.onEngineSelected, {}, this),
                this
            }
            ,
            t.prototype.destroy = function(t) {
                e.prototype.destroy.call(this, t),
                t.remove("api:engineSelected", this.onEngineSelected)
            }
            ,
            t.prototype.setupPlayer = function(e) {
                var t = e.params.videoElement;
                this.width = t.offsetWidth,
                this.height = t.offsetHeight,
                this.currentItem = {},
                this.currentFPS = -1,
                this.currentVideoType = "",
                this.captionStyle = new o.CBSCCOptions,
                t = this.setupDom(t),
                this.initPlayer(e.config[l.ConfigurationManager.CBS_SWF_URL] || h, t.offsetWidth, t.offsetHeight, {
                    chromelessPath: e.config[l.ConfigurationManager.CBS_CHROMELESS_PATH],
                    partner: e.config[l.ConfigurationManager.CBS_PARTNER]
                })
            }
            ,
            t.prototype.onEngineSelected = function(e) {
                this.sandbox.publish("ads:configureAds", "cbs")
            }
            ,
            t.prototype.setAsset = function(e) {
                var t = e.resumePosition;
                this.onPlayerReady(function(i) {
                    i.setAsset(e.url, {
                        resumePosition: t / s.MILLISECONDS_PER_SECOND
                    })
                })
            }
            ,
            t.prototype.setPosition = function(e) {
                this.player.setPosition(e / s.MILLISECONDS_PER_SECOND)
            }
            ,
            t.prototype.getCurrentPosition = function() {
                return this.currentItem.position || this.player.getCurrentPosition() * s.MILLISECONDS_PER_SECOND
            }
            ,
            t.prototype.getDuration = function() {
                return this.currentItem.duration || this.player.getDuration() * s.MILLISECONDS_PER_SECOND
            }
            ,
            t.prototype.getPlayerStatus = function() {
                return this.currentStatus
            }
            ,
            t.prototype.play = function() {
                this.getPlayerStatus() !== s.STATUS_IDLE && this.player.play()
            }
            ,
            t.prototype.pause = function() {
                this.player.pause()
            }
            ,
            t.prototype.stop = function() {
                this.playerReady = !1,
                this.sandbox.params.videoElement.innerHTML = "",
                this.setupPlayer(this.sandbox)
            }
            ,
            t.prototype.getAutoPlay = function() {
                return this.autoPlay
            }
            ,
            t.prototype.setClosedCaptionsEnabled = function(e) {
                this.player.setClosedCaptionsEnabled(e),
                e && this.player.setClosedCaptionsOptions(this.captionStyle.getStyle())
            }
            ,
            t.prototype.getClosedCaptionsStatus = function() {
                return this.player.getClosedCaptionsStatus()
            }
            ,
            t.prototype.getCurrentClosedCaptionsStyle = function() {
                return this.captionStyle.fromCBSCCStyle(this.captionStyle.getStyle())
            }
            ,
            t.prototype.setClosedCaptionsStyle = function(e) {
                var t = this.captionStyle.toCBSCCStyle(e);
                this.captionStyle.setStyle(t),
                this.getClosedCaptionsStatus() && this.player.setClosedCaptionsOptions(t)
            }
            ,
            t.prototype.getSupportedClosedCaptionsOptions = function() {
                return this.captionStyle.supportedCBSCCStyles()
            }
            ,
            t.prototype.setVolume = function(e) {
                this.player.setVolume(e)
            }
            ,
            t.prototype.getCurrentFPS = function() {
                return this.currentStatus !== s.STATUS_PLAYING ? 0 : this.currentFPS
            }
            ,
            t.prototype.getSupportedPlaybackSpeeds = function() {
                return [0, 1]
            }
            ,
            t.prototype.getCurrentBitrate = function() {
                return void 0 !== this.currentBitrate ? this.currentBitrate * s.BYTES_PER_KILOBYTE : -1
            }
            ,
            t.prototype.getCurrentPlaybackSpeed = function() {
                return this.getPlayerStatus() === s.STATUS_PLAYING ? 1 : 0
            }
            ,
            t.prototype.getVideoType = function() {
                return this.currentVideoType
            }
            ,
            t.prototype.getEndPosition = function() {
                return this.getDuration()
            }
            ,
            t.prototype.getStartPosition = function() {
                return 0
            }
            ,
            t.prototype.getVideoHeight = function() {
                return this.player.getVideoHeight()
            }
            ,
            t.prototype.getVideoWidth = function() {
                return this.player.getVideoWidth()
            }
            ,
            t.prototype.hasCC = function() {
                return !0
            }
            ,
            t.prototype.getVolume = function() {
                return this.player.getVolume()
            }
            ,
            t.prototype.setSpeed = function(e) {
                this.logger.trace("setSpeed: " + e),
                e ? this.getPlayerStatus() !== s.STATUS_PLAYING && this.play() : this.getPlayerStatus() === s.STATUS_PLAYING && this.pause()
            }
            ,
            t
        }(a.BaseFlashPlayer);
        t.CBSPlayer = u,
        r.registerModule("CBSPlayer", u, {
            children: ["CBSPlayerEvents"]
        })
    }
    , function(e, t, i) {
        "use strict";
        (function(e) {
            var n = this && this.__extends || function(e, t) {
                function i() {
                    this.constructor = e
                }
                for (var n in t)
                    t.hasOwnProperty(n) && (e[n] = t[n]);
                e.prototype = null === t ? Object.create(t) : (i.prototype = t.prototype,
                new i)
            }
              , r = i(3)
              , s = i(2)
              , o = i(52)
              , a = i(105)
              , c = i(1)
              , l = i(113)
              , h = i(6);
            i(272),
            i(256);
            var u = i(131)
              , d = function(t) {
                function i() {
                    t.call(this),
                    this.currentMetadata = {},
                    this.currentStatus = r.STATUS_IDLE,
                    this.hasMetaData = !1,
                    this.ccRenderer = new l.CCRenderer,
                    this.sentMediaOpened = !1,
                    this.playerLoaded = !1,
                    this.isLive = !1,
                    this.captionStyle = new a.PPCCOptions,
                    this.logger = new c.Logger("DisneyPlayer")
                }
                return n(i, t),
                i.prototype.init = function(e) {
                    t.prototype.init.call(this, e);
                    var i = this.element = e.params.videoElement;
                    return this.sandbox = e,
                    this.width = i.offsetWidth,
                    this.height = i.offsetHeight,
                    this.autoPlay = !1,
                    i = this.setupDom(i),
                    this.initPlayer(e.config[h.ConfigurationManager.DISNEY_SWF_URL] || u, i.offsetWidth, i.offsetHeight, {
                        chromelessPath: e.config[h.ConfigurationManager.DISNEY_CHROMELESS_PATH],
                        partner: e.config[h.ConfigurationManager.DISNEY_PARTNER]
                    }),
                    this
                }
                ,
                i.prototype.destroy = function(e) {
                    t.prototype.destroy.call(this, e);
                    try {
                        this.player.parentNode.removeChild(this.player)
                    } catch (i) {
                        this.logger.warn("Disney Player destroyed prior to completing initialization.")
                    }
                }
                ,
                i.prototype.getAutoPlay = function() {
                    return this.autoPlay
                }
                ,
                i.prototype.getAvailableBitrates = function() {
                    var e = [];
                    if (this.hasMetaData)
                        for (var t = this.player.getBitrateProfiles(), i = 0; i < t.length; i++)
                            e.push(t[i].bitrate * r.BYTES_PER_KILOBYTE);
                    return e
                }
                ,
                i.prototype.getBitrateRange = function() {
                    var e = [];
                    if (this.hasMetaData) {
                        var t = this.player.getBitrateProfiles();
                        t.length > 0 && (e.push(t[0].bitrate * r.BYTES_PER_KILOBYTE),
                        e.push(t[t.length - 1].bitrate * r.BYTES_PER_KILOBYTE))
                    }
                    return e
                }
                ,
                i.prototype.getClosedCaptionsStatus = function() {
                    var e = !1;
                    return this.hasMetaData && (e = this.player.isCCDisplayed()),
                    e
                }
                ,
                i.prototype.getCurrentBitrate = function() {
                    var e = -1;
                    return this.hasMetaData && (e = this.player.getBitrate(),
                    e > 0 && (e *= r.BYTES_PER_KILOBYTE)),
                    e
                }
                ,
                i.prototype.getCurrentFPS = function() {
                    var e = -1;
                    return this.playerLoaded && (e = this.player.getFPS()),
                    e
                }
                ,
                i.prototype.getCurrentPlaybackSpeed = function() {
                    return this.getPlayerStatus() === r.STATUS_PLAYING ? 1 : 0
                }
                ,
                i.prototype.getCurrentPosition = function() {
                    var e = -1;
                    return this.hasMetaData && (e = this.player.getCurrentTime() * r.MILLISECONDS_PER_SECOND),
                    e
                }
                ,
                i.prototype.getDuration = function() {
                    var e = -1;
                    return this.hasMetaData && (this.isLive || (e = this.player.getDuration() * r.MILLISECONDS_PER_SECOND)),
                    e
                }
                ,
                i.prototype.getEndPosition = function() {
                    return this.getDuration()
                }
                ,
                i.prototype.getMetadata = function() {
                    return this.player.getMetaData()
                }
                ,
                i.prototype.getPlayerState = function() {
                    var e = "";
                    return this.playerLoaded && (e = this.player.getPlayerState()),
                    e
                }
                ,
                i.prototype.getPlayerStatus = function() {
                    return this.currentStatus
                }
                ,
                i.prototype.getStartPosition = function() {
                    return this.resumePosition
                }
                ,
                i.prototype.getSupportedPlaybackSpeeds = function() {
                    return [0, 1]
                }
                ,
                i.prototype.getVideoHeight = function() {
                    return this.playerLoaded && (this.height = this.player.getVideoHeight()),
                    this.height
                }
                ,
                i.prototype.getVideoType = function() {
                    var e = "";
                    return this.hasMetaData && (this.isLive = this.currentMetadata.isLive && this.currentMetadata.length === -1,
                    e = this.isLive ? "Live" : "VOD"),
                    e
                }
                ,
                i.prototype.getVideoWidth = function() {
                    return this.playerLoaded && (this.width = this.player.getVideoWidth()),
                    this.width
                }
                ,
                i.prototype.getVolume = function() {
                    var e = 0;
                    return this.playerLoaded && (e = this.player.getVolume()),
                    e
                }
                ,
                i.prototype.hasCC = function() {
                    var e = !1;
                    return this.hasMetaData && (e = this.currentMetadata.isCC),
                    e
                }
                ,
                i.prototype.pause = function() {
                    this.playerLoaded && (this.player.pause(),
                    this.currentItem.inAdBreak && e.disneyPlayerEvents.onVideoStateChange("paused"))
                }
                ,
                i.prototype.play = function() {
                    this.playerLoaded && (this.player.play(),
                    this.currentItem.inAdBreak && e.disneyPlayerEvents.onVideoStateChange("playing"))
                }
                ,
                i.prototype.setAsset = function(e) {
                    this.logger.trace("setAsset() " + e.url + " : " + e.resumePosition),
                    this.asset = e,
                    this.resumePosition = e.resumePosition,
                    this.latencyStart = Date.now(),
                    this.currentItem = {
                        videoType: "vod",
                        playbackSpeeds: [0, 1],
                        languages: [],
                        bitRatesArray: [],
                        bitrate: 0,
                        ccTracks: [],
                        hasDRM: !1,
                        hasCC: !1,
                        duration: 0,
                        position: 0,
                        inAdBreak: !1,
                        adStarted: !1,
                        vidPosition: 0,
                        vidDuration: 0,
                        adPosition: 0,
                        adDuration: 0
                    },
                    this.onPlayerReady(function(t) {
                        t.setAsset(e, {})
                    })
                }
                ,
                i.prototype.setClosedCaptionsEnabled = function(e) {
                    this.ccEnabled = e,
                    this.hasMetaData && (e ? (this.captionStyle.adjustFontSize(this.getVideoHeight()),
                    this.ccRenderer.init(this.player.parentNode.parentNode, this.captionStyle.getStyle())) : this.ccRenderer.destroy(),
                    this.player.displayCC(e))
                }
                ,
                i.prototype.setDimensionsOfVideo = function(e, t) {
                    this.logger.trace("setDimensionsOfVideo(" + e + "x" + t + ")"),
                    this.width = e,
                    this.height = t,
                    this.playerLoaded && this.player.setDimensionsOfVideo(e, t)
                }
                ,
                i.prototype.setPosition = function(e) {
                    this.hasMetaData && this.player.seekTo(Math.floor(e / r.MILLISECONDS_PER_SECOND))
                }
                ,
                i.prototype.setVolume = function(e) {
                    isNaN(e) || (this.volume = e,
                    this.volume < 0 && (this.volume = 0),
                    this.volume > 1 && (this.volume = 1),
                    this.playerLoaded && this.player.setVolume(this.volume))
                }
                ,
                i.prototype.stop = function() {
                    this.playerLoaded && (this.player.pause(),
                    this.player.stopVideo(),
                    this.player.closeVideo())
                }
                ,
                i.prototype.setPlayerLoaded = function(e) {
                    this.playerLoaded = e,
                    e || (this.hasMetaData = !1)
                }
                ,
                i.prototype.setHasMetaData = function(e) {
                    this.hasMetaData = !0,
                    this.currentMetadata = e,
                    !isNaN(this.resumePosition) && this.resumePosition >= 0 && this.setPosition(this.resumePosition)
                }
                ,
                i.prototype.setCachedValues = function() {
                    this.volume && !isNaN(this.volume) && this.setVolume(this.volume),
                    null !== this.ccEnabled && this.setClosedCaptionsEnabled(this.ccEnabled)
                }
                ,
                i.prototype.getCurrentClosedCaptionsStyle = function() {
                    return this.captionStyle.fromPPCCStyle(this.captionStyle.getStyle())
                }
                ,
                i.prototype.setClosedCaptionsStyle = function(e) {
                    var t = this.captionStyle.toPPCCStyle(e, this.getVideoHeight());
                    this.captionStyle.setStyle(t),
                    this.getClosedCaptionsStatus() && this.ccRenderer.setOptions(t)
                }
                ,
                i.prototype.resizeStarted = function() {
                    this.getClosedCaptionsStatus() && this.ccRenderer.hideCC()
                }
                ,
                i.prototype.adjustCCsize = function() {
                    this.getClosedCaptionsStatus() && (this.captionStyle.adjustFontSize(this.getVideoHeight()),
                    this.ccRenderer.showCC(),
                    this.ccRenderer.setOptions(this.captionStyle.getStyle()))
                }
                ,
                i.prototype.getSupportedClosedCaptionsOptions = function() {
                    return this.captionStyle.supportedPPCCStyles()
                }
                ,
                i.prototype.setSpeed = function(e) {
                    this.logger.trace("setSpeed: " + e),
                    this.playerLoaded && (e ? this.getPlayerStatus() !== r.STATUS_PLAYING && this.play() : this.getPlayerStatus() !== r.STATUS_PAUSED && this.pause())
                }
                ,
                i
            }(o.BaseFlashPlayer);
            t.DisneyPlayer = d,
            s.registerModule("DisneyPlayer", d, {
                children: ["DisneyPlayerEvents", "DisneyComscore"]
            })
        }
        ).call(t, i(11))
    }
    , function(e, t, i) {
        "use strict";
        var n = this && this.__extends || function(e, t) {
            function i() {
                this.constructor = e
            }
            for (var n in t)
                t.hasOwnProperty(n) && (e[n] = t[n]);
            e.prototype = null === t ? Object.create(t) : (i.prototype = t.prototype,
            new i)
        }
          , r = i(3)
          , s = i(2)
          , o = i(52)
          , a = i(105)
          , c = i(113)
          , l = i(1)
          , h = i(6);
        i(273);
        var u = i(132)
          , d = function(e) {
            function t() {
                e.call(this),
                this.ccRenderer = new c.CCRenderer,
                this.logger = new l.Logger("ESPNPlayer")
            }
            return n(t, e),
            t.prototype.init = function(t) {
                e.prototype.init.call(this, t);
                var i = t.params.videoElement;
                return this.width = i.offsetWidth,
                this.height = i.offsetHeight,
                this.sentMediaOpened = !1,
                this.playerLoaded = !1,
                this.playbackSpeeds = [0, 1],
                this.currentStatus = r.STATUS_IDLE,
                this.captionStyle = new a.PPCCOptions,
                this.currentMetadata = null,
                i = this.setupDom(i),
                this.initPlayer(t.config[h.ConfigurationManager.ESPN_SWF_URL] || u, i.offsetWidth, i.offsetHeight, {
                    chromelessPath: t.config[h.ConfigurationManager.ESPN_CHROMELESS_PATH],
                    partner: t.config[h.ConfigurationManager.ESPN_PARTNER],
                    configUrl: t.config[h.ConfigurationManager.ESPN_CONFIG_URL],
                    channel: t.asset.url
                }),
                this
            }
            ,
            t.prototype.destroy = function(t) {
                e.prototype.destroy.call(this, t);
                try {
                    this.player.parentNode.removeChild(this.player)
                } catch (i) {
                    this.logger.warn("ESPN Player destroyed prior to completing initialization.")
                }
                this.ccRenderer.destroy()
            }
            ,
            t.prototype.getVersion = function() {
                return this.logger.warn("getVersion not implemented for ESPN player."),
                ""
            }
            ,
            t.prototype.setAsset = function(e) {
                this.latencyStart = Date.now(),
                this.currentMetadata = null,
                this.onPlayerReady(function(t) {
                    t.loadVideoByChannel(e)
                })
            }
            ,
            t.prototype.play = function() {
                this.player.playVideo()
            }
            ,
            t.prototype.pause = function() {
                this.player.pauseVideo()
            }
            ,
            t.prototype.stop = function() {
                try {
                    this.currentStatus = r.STATUS_STOPPING,
                    this.player.stopVideo(),
                    this.currentMetadata = null
                } catch (e) {
                    this.logger.warn("ESPN Player stopped prior to completing initialization.")
                }
            }
            ,
            t.prototype.setVolume = function(e) {
                this.player.setVolume(e)
            }
            ,
            t.prototype.getVolume = function() {
                return this.player.getVolume()
            }
            ,
            t.prototype.setPosition = function(e) {
                this.player.seekTo(Math.floor(e / r.MILLISECONDS_PER_SECOND))
            }
            ,
            t.prototype.getCurrentPlaybackSpeed = function() {
                return this.getPlayerStatus() === r.STATUS_PLAYING ? 1 : 0
            }
            ,
            t.prototype.getCurrentPosition = function() {
                return this.playerLoaded ? this.player.getCurrentTime() * r.MILLISECONDS_PER_SECOND : -1
            }
            ,
            t.prototype.getDuration = function() {
                return this.playerLoaded ? this.player.getContentDuration() * r.MILLISECONDS_PER_SECOND : -1
            }
            ,
            t.prototype.setDimensionsOfVideo = function(e, t) {
                this.player.setSize(e, t)
            }
            ,
            t.prototype.setClosedCaptionsEnabled = function(e) {
                e ? (this.captionStyle.adjustFontSize(this.getVideoHeight()),
                this.ccRenderer.init(this.player.parentNode.parentNode, this.captionStyle.getStyle())) : this.ccRenderer.destroy(),
                this.player.displayCC(e)
            }
            ,
            t.prototype.getClosedCaptionsStatus = function() {
                return !!this.playerLoaded && this.player.isCCDisplayed()
            }
            ,
            t.prototype.getMetadata = function() {
                return this.player.getMetadata()
            }
            ,
            t.prototype.getCurrentBitrate = function() {
                return this.playerLoaded ? 1e3 * this.player.getBitrate() : -1
            }
            ,
            t.prototype.setBitrateRange = function(e, t) {
                this.logger.warn("setBitrateRange() disabled for ESPN due to SWF #1009 error")
            }
            ,
            t.prototype.getAvailableBitrates = function() {
                var e = [];
                try {
                    e = this.player.getBitrateProfiles(),
                    e || (e = [])
                } catch (t) {
                    this.logger.trace("ESPN unable to return bit rate profiles: " + t)
                }
                return e
            }
            ,
            t.prototype.getBitrateRange = function() {
                var e = []
                  , t = this.getAvailableBitrates();
                return t.length > 0 && (e.push(t[0]),
                e.push(t[t.length - 1])),
                e
            }
            ,
            t.prototype.getPlayerStatus = function() {
                return this.currentStatus
            }
            ,
            t.prototype.getAutoPlay = function() {
                return this.autoPlay
            }
            ,
            t.prototype.getCurrentFPS = function() {
                var e = -1;
                return this.playerLoaded && (e = this.player.getFPS()),
                e
            }
            ,
            t.prototype.getEndPosition = function() {
                return this.getDuration()
            }
            ,
            t.prototype.getVideoHeight = function() {
                var e = -1;
                return this.playerLoaded && (e = this.player.getVideoHeight()),
                e
            }
            ,
            t.prototype.getVideoWidth = function() {
                var e = -1;
                return this.playerLoaded && (e = this.player.getVideoWidth()),
                e
            }
            ,
            t.prototype.getVideoType = function() {
                return this.currentMetadata ? this.currentMetadata.isLive ? "Live" : "VOD" : ""
            }
            ,
            t.prototype.hasCC = function() {
                return !!this.currentMetadata && this.currentMetadata.isCC
            }
            ,
            t.prototype.getCurrentClosedCaptionsStyle = function() {
                return this.captionStyle.fromPPCCStyle(this.captionStyle.getStyle())
            }
            ,
            t.prototype.setClosedCaptionsStyle = function(e) {
                var t = this.captionStyle.toPPCCStyle(e, this.getVideoHeight());
                this.captionStyle.setStyle(t),
                this.getClosedCaptionsStatus() && this.ccRenderer.setOptions(t)
            }
            ,
            t.prototype.resizeStarted = function() {
                this.getClosedCaptionsStatus() && this.ccRenderer.hideCC()
            }
            ,
            t.prototype.adjustCCsize = function() {
                this.getClosedCaptionsStatus() && (this.captionStyle.adjustFontSize(this.getVideoHeight()),
                this.ccRenderer.showCC(),
                this.ccRenderer.setOptions(this.captionStyle.getStyle()))
            }
            ,
            t.prototype.getSupportedClosedCaptionsOptions = function() {
                return this.captionStyle.supportedPPCCStyles()
            }
            ,
            t.prototype.getSupportedPlaybackSpeeds = function() {
                return this.playbackSpeeds
            }
            ,
            t.prototype.setSpeed = function(e) {
                this.logger.trace("setSpeed: " + e),
                e ? this.getPlayerStatus() !== r.STATUS_PLAYING && this.play() : this.getPlayerStatus() !== r.STATUS_PAUSED && this.pause()
            }
            ,
            t
        }(o.BaseFlashPlayer);
        t.ESPNPlayer = d,
        s.registerModule("ESPNPlayer", d, {
            children: ["ESPNPlayerEvents"]
        })
    }
    , function(e, t, i) {
        "use strict";
        var n = this && this.__extends || function(e, t) {
            function i() {
                this.constructor = e
            }
            for (var n in t)
                t.hasOwnProperty(n) && (e[n] = t[n]);
            e.prototype = null === t ? Object.create(t) : (i.prototype = t.prototype,
            new i)
        }
        ;
        i(112),
        i(103),
        i(104);
        var r = i(2)
          , s = i(52)
          , o = i(3)
          , a = i(274)
          , c = i(1)
          , l = i(6)
          , h = i(3)
          , u = i(50)
          , d = i(133)
          , f = (i(129),
        i(168))
          , p = function(e) {
            function t() {
                e.apply(this, arguments),
                this.currentStatus = o.STATUS_IDLE,
                this.captionStyle = new a.FlashCCOptions,
                this.logger = new c.Logger("FlashPlayer")
            }
            return n(t, e),
            t.prototype.init = function(t) {
                e.prototype.init.call(this, t);
                var i = t.params.videoElement;
                return this.width = i.offsetWidth,
                this.height = i.offsetHeight,
                this.currentStatus = o.STATUS_IDLE,
                i = this.setupDom(i),
                this.initPlayer(t.config[l.ConfigurationManager.SWF_URL] || d, i.offsetWidth, i.offsetHeight, {
                    globalTokensUrl: t.config[l.ConfigurationManager.GLOBAL_TOKENS_URL] || f
                }),
                this.sandbox.subscribe("ads:timelineResolved", this._onResolved, {}, this),
                this.sandbox.subscribe("ads:adClicked", this._onAdClick, {}, this),
                this
            }
            ,
            t.prototype.destroy = function(t) {
                e.prototype.destroy.call(this, t),
                this.sandbox.remove("ads:timelineResolved", this._onResolved),
                this.sandbox.remove("ads:adClicked", this._onAdClick)
            }
            ,
            t.prototype.setAsset = function(e) {
                var t = this;
                this.onPlayerReady(function(i) {
                    i.setClosedCaptionsStyle(t.captionStyle.getStyle()),
                    i.setAsset(e, e.adMetadata, {
                        traceId: u.SessionManager.instance.moneyTrace.traceId,
                        spanId: u.SessionManager.instance.moneyTrace.spanId,
                        parentId: u.SessionManager.instance.moneyTrace.parentId
                    })
                })
            }
            ,
            t.prototype.prepareToPlay = function() {
                if (this.getPlayerStatus() === h.STATUS_INITIALIZED) {
                    var e = this.sandbox.asset
                      , t = parseInt(e.resumePosition);
                    this.currentItem.isLive && !e.isCDVR() && (t = null),
                    this.player.prepareToPlay(t)
                }
            }
            ,
            t.prototype.play = function() {
                this.player.play()
            }
            ,
            t.prototype.pause = function() {
                this.player.pause()
            }
            ,
            t.prototype.stop = function() {
                this.player && this.player.stop && this.player.stop()
            }
            ,
            t.prototype.getPlayerStatus = function() {
                return this.player.getCurrentStatus()
            }
            ,
            t.prototype.getCurrentPosition = function() {
                return this.playerReady ? this.player.getCurrentPosition() : 0
            }
            ,
            t.prototype.setPosition = function(e) {
                this.player.setPosition(e)
            }
            ,
            t.prototype.setPositionRelative = function(e) {
                var t = this.getCurrentPosition() + e;
                this.setPosition(t)
            }
            ,
            t.prototype.getDuration = function() {
                return this.player.getPlaybackRange().duration
            }
            ,
            t.prototype.getStartPosition = function() {
                return this.player.getPlaybackRange().begin
            }
            ,
            t.prototype.getEndPosition = function() {
                return this.player.getPlaybackRange().end
            }
            ,
            t.prototype.seekToLive = function() {
                this.setPosition(this.getEndPosition())
            }
            ,
            t.prototype.setDimensionsOfVideo = function(e, t) {
                this.player.setDimensionsOfVideo(e, t)
            }
            ,
            t.prototype.getVideoWidth = function() {
                return this.width
            }
            ,
            t.prototype.getVideoHeight = function() {
                return this.height
            }
            ,
            t.prototype.getVideoType = function() {
                return void 0 === this.currentItem.isLive ? e.prototype.getVideoType.call(this) : this.currentItem.isLive ? "Live" : "VOD"
            }
            ,
            t.prototype.getCurrentBitrate = function() {
                return this.player.getPlaybackMetrics().bitrate
            }
            ,
            t.prototype.getCurrentFPS = function() {
                return this.player.getPlaybackMetrics().fps
            }
            ,
            t.prototype.getCurrentDroppedFrames = function() {
                return this.player.getPlaybackMetrics().droppedFps
            }
            ,
            t.prototype.setBitratePolicy = function(e) {
                var t = this.player.getAbrControlParameters();
                this.player.setAbrControlParameters({
                    initialBitrate: t.initialBitrate,
                    minBitrate: t.minBitrate,
                    maxBitrate: t.maxBitrate,
                    policy: e
                })
            }
            ,
            t.prototype.setBitrateRange = function(e, t) {
                var i = this.player.getAbrControlParameters();
                this.player.setAbrControlParameters({
                    initialBitrate: i.initialBitrate,
                    minBitrate: e,
                    maxBitrate: t,
                    policy: i.policy
                })
            }
            ,
            t.prototype.getBitrateRange = function() {
                var e = this.player.getAbrControlParameters();
                return [e.minBitrate, e.maxBitrate]
            }
            ,
            t.prototype.setInitialBitrate = function(e) {
                var t = this.player.getAbrControlParameters();
                this.player.setAbrControlParameters({
                    initialBitrate: e,
                    minBitrate: t.minBitrate,
                    maxBitrate: t.maxBitrate,
                    policy: t.policy
                })
            }
            ,
            t.prototype.getInitialBitrate = function() {
                var e = this.player.getAbrControlParameters();
                return e.initialBitrate
            }
            ,
            t.prototype.getVersion = function() {
                return this.player.getVersion()
            }
            ,
            t.prototype.getAutoPlay = function() {
                return this.autoPlay
            }
            ,
            t.prototype.setCurrentTimeUpdateInterval = function(e) {
                this.player.setCurrentTimeUpdateInterval(e)
            }
            ,
            t.prototype.getClosedCaptionsStatus = function() {
                return this.player.getClosedCaptionsStatus()
            }
            ,
            t.prototype.setClosedCaptionsEnabled = function(e) {
                var t = this;
                this.logger.trace("setClosedCaptionsEnabled: " + e),
                this.onPlayerReady(function() {
                    t.player.setClosedCaptionsEnabled(e)
                })
            }
            ,
            t.prototype.setClosedCaptionsTrack = function(e) {
                this.logger.trace("setClosedCaptionsTrack: " + e),
                this.player.setClosedCaptionsTrack(e)
            }
            ,
            t.prototype.getCurrentClosedCaptionTrack = function() {
                return this.player.getCurrentClosedCaptionTrack()
            }
            ,
            t.prototype.setPreferredAudioLanguage = function(e) {
                this.logger.trace("setPreferredAudioLanguage: " + e),
                this.player.setPreferredAudioLanguage(e)
            }
            ,
            t.prototype.getCurrentAudioLanguage = function() {
                return this.player.getCurrentAudioLanguage()
            }
            ,
            t.prototype.setInitialBufferTime = function(e) {
                this.logger.trace("setInitialBufferTime: " + e),
                this.initialBufferTime = e,
                this.setBufferControlParameters(e, this.player.getBufferControlParameters().playback)
            }
            ,
            t.prototype.setPlayingVODBufferTime = function(e) {
                this.logger.trace("setPlayingVODBufferTime: " + e),
                this.playingVODBufferTime = e,
                "VOD" === this.getVideoType() && this.setBufferControlParameters(this.player.getBufferControlParameters().initial, e)
            }
            ,
            t.prototype.setPlayingLinearBufferTime = function(e) {
                this.logger.trace("setPlayingLinearBufferTime: " + e),
                this.playingLinearBufferTime = e,
                "Live" === this.getVideoType() && this.setBufferControlParameters(this.player.getBufferControlParameters().initial, e)
            }
            ,
            t.prototype.setBufferControlParameters = function(e, t) {
                e = e || this.initialBufferTime,
                t = t || this.playingBufferTime,
                this.player.setBufferControlParameters(e, t)
            }
            ,
            t.prototype.getAvailableAudioLanguages = function() {
                return (this.currentItem.audioTracks || []).map(function(e) {
                    return e.language
                })
            }
            ,
            t.prototype.getAvailableBitrates = function() {
                return (this.currentItem.profiles || []).map(function(e) {
                    return e.bitrate
                })
            }
            ,
            t.prototype.getAvailableClosedCaptionTracks = function() {
                return (this.currentItem.closedCaptionTracks || []).map(function(e) {
                    return e.name
                })
            }
            ,
            t.prototype.getBufferFilledLength = function() {
                return this.player.getPlaybackMetrics().bufferLength
            }
            ,
            t.prototype.getBufferTime = function() {
                return this.player.getPlaybackMetrics().bufferTime
            }
            ,
            t.prototype.hasCC = function() {
                return this.currentItem.hasClosedCaptions && this.getAvailableClosedCaptionTracks().length > 0
            }
            ,
            t.prototype.hasDRM = function() {
                return this.currentItem.isProtected
            }
            ,
            t.prototype.setBlock = function() {
                this.logger.warn("setBlock not implemented")
            }
            ,
            t.prototype.setPreferredZoomSetting = function(e) {
                this.player.setPreferredZoomSetting(e)
            }
            ,
            t.prototype.setSpeed = function(e, t) {
                this.logger.trace("setSpeed: spd=" + e + " ovr=" + t),
                e ? this.currentStatus !== o.STATUS_PLAYING && this.player.play() : this.currentStatus === o.STATUS_PLAYING && this.player.pause(),
                this.player.setSpeed(e),
                isNaN(t) || (this.logger.info("Setting overshootCorrection = " + t),
                this.setPositionRelative(t))
            }
            ,
            t.prototype.getCurrentPlaybackSpeed = function() {
                return this.player.getCurrentPlaybackSpeed()
            }
            ,
            t.prototype.setVolume = function(e) {
                this.logger.trace("setVolume: " + e),
                this.player.setVolume(e)
            }
            ,
            t.prototype.getSupportedPlaybackSpeeds = function() {
                return this.currentItem.availablePlaybackRates || []
            }
            ,
            t.prototype.getVolume = function() {
                return this.player.getVolume()
            }
            ,
            t.prototype.getCurrentClosedCaptionsStyle = function() {
                return this.logger.trace("getCurrentClosedCaptionsStyle"),
                this.captionStyle.fromFlashCCStyle(this.player.getCurrentClosedCaptionsStyle())
            }
            ,
            t.prototype.setClosedCaptionsStyle = function(e) {
                var t = this.captionStyle.toFlashCCStyle(e);
                this.player.setClosedCaptionsStyle(t)
            }
            ,
            t.prototype.getSupportedClosedCaptionsOptions = function() {
                return this.captionStyle.supportedFlashCCStyles()
            }
            ,
            t.prototype._onResolved = function(e, t) {
                this.player.timelineResolved(e, t)
            }
            ,
            Object.defineProperty(t.prototype, "currentItem", {
                get: function() {
                    return this.player.getCurrentItem() || {}
                },
                enumerable: !0,
                configurable: !0
            }),
            t.prototype._onAdClick = function() {
                this.player.adClicked()
            }
            ,
            t
        }(s.BaseFlashPlayer);
        t.FlashPlayer = p,
        r.registerModule("FlashPlayer", p, {
            children: ["CrossStreamPreventionHandler", "FlashPlayerEvents", "NetworkDownHandler"]
        })
    }
    , function(e, t, i) {
        "use strict";
        (function(e) {
            var n = this && this.__extends || function(e, t) {
                function i() {
                    this.constructor = e
                }
                for (var n in t)
                    t.hasOwnProperty(n) && (e[n] = t[n]);
                e.prototype = null === t ? Object.create(t) : (i.prototype = t.prototype,
                new i)
            }
              , r = i(3)
              , s = i(276)
              , o = i(2)
              , a = i(53)
              , c = i(1)
              , l = i(114);
            i(277),
            i(257);
            var h = i(6)
              , u = function(t) {
                function i() {
                    t.call(this),
                    this.hasMetaData = !1,
                    this.currentStatus = r.STATUS_IDLE,
                    this.updateInterval = 250,
                    this.startAtPosition = 0,
                    this.version = "",
                    this.blocked = !1,
                    this.volumeLevel = 0,
                    this.inFullscreen = !1,
                    this.ccEnabled = !1,
                    this.captionStyle = new s.HuluCCOptions,
                    this.logger = new c.Logger("HuluPlayer")
                }
                return n(i, t),
                i.prototype.init = function(i) {
                    function n(t, i, n) {
                        var o = document.createElement("div");
                        o.id = "videoPlayerComponent",
                        o.style.cssText = "position:relative;width:100%;height:100%",
                        c.appendChild(o),
                        e.NewSite = void 0;
                        var l = document.createElement("script");
                        return l.id = a,
                        l.src = s + "&width=" + i + "&height=" + n,
                        l.type = "text/javascript",
                        l.onload = r,
                        o.appendChild(l),
                        o
                    }
                    function r() {
                        u.logger.trace("Hulu script loaded::NewSite:" + NewSite),
                        u.logger.trace("Hulu script loaded::NewSite.getComponents:" + NewSite.getComponents);
                        var e = NewSite.getComponents();
                        e && (u.logger.trace("Hulu Components " + JSON.stringify(e, null, 2)),
                        u.logger.trace("Hulu script loaded::huluData logo url : " + e.logoComponent.url),
                        u.logger.trace("Hulu script loaded::huluData player swf url : " + e.videoPlayerComponent.url));
                        var t = {
                            init: function() {
                                u.videoPlayer = NewSite.videoPlayerComponent,
                                u.version = u.videoPlayer.options.optionalAttributes.version;
                                var e = NewSite.videoPlayerComponent.getProperties();
                                u.volumeLevel = e.volume,
                                NewSite.videoPlayerComponent.updateCurrentCaptionStyle(u.captionStyle.getStyle()),
                                NewSite.videoPlayerComponent.enableCaptions(null),
                                NewSite.hideAllComponents(),
                                u.setPlayerReady()
                            }
                        };
                        NewSite.readyEventFired() ? t.init() : NewSite.addListener("newsiteReady", t, "init")
                    }
                    t.prototype.init.call(this, i),
                    i.publish("ads:configureAds", "hulu");
                    var s = 1.33 === i.asset.aspectRatio ? i.config[h.ConfigurationManager.HULU_NEW_SITE_URL_STD] : i.config[h.ConfigurationManager.HULU_NEW_SITE_URL_WIDE];
                    s = s + "&wmode=" + l.getWmode();
                    var o = "HuluPlayer"
                      , a = "NS_GUID_JS"
                      , c = this.element = i.params.videoElement;
                    this.width = c.offsetWidth,
                    this.height = c.offsetHeight,
                    c = n(o, this.width, this.height);
                    var u = this;
                    return this
                }
                ,
                i.prototype.destroy = function(e) {
                    t.prototype.destroy.call(this, e),
                    NewSite.videoPlayerComponent.closeConnection(),
                    NewSite.hideAllComponents()
                }
                ,
                i.prototype.setAsset = function(e) {
                    this.logger.trace("setAsset( " + JSON.stringify(e) + ")"),
                    this.startAtPosition = e.resumePosition,
                    this.asset = e,
                    this.currentStatus = r.STATUS_INITIALIZED,
                    this.hasMetaData = !1,
                    this.currentItem = {
                        videoType: "vod",
                        playbackSpeeds: [0, 1],
                        languages: [],
                        bitRatesArray: [],
                        bitrate: 0,
                        ccTracks: [],
                        areBitratesReady: !1,
                        hasDRM: !1,
                        hasCC: !1,
                        duration: 0,
                        position: 0,
                        inAdBreak: !1,
                        vidPosition: 0,
                        vidDuration: 0,
                        adPosition: 0,
                        adDuration: 0,
                        videoLoaded: !1
                    },
                    this.onPlayerReady(function() {
                        NewSite.videoPlayerComponent.setSize(this.width, this.height),
                        this.currentItem.videoLoaded = !0,
                        NewSite.videoPlayerComponent.playVideo(this.asset.url, this.startAtPosition / r.MILLISECONDS_PER_SECOND),
                        this.startAtPosition = -1
                    })
                }
                ,
                i.prototype.prepareToPlay = function() {
                    this.logger.trace("prepareToPlay"),
                    this.blocked ? NewSite.videoPlayerComponent.hide() : NewSite.videoPlayerComponent.show()
                }
                ,
                i.prototype.play = function() {
                    this.startAtPosition < 0 ? NewSite.videoPlayerComponent.resumeVideo() : (NewSite.videoPlayerComponent.playVideo(this.asset.url, this.startAtPosition / r.MILLISECONDS_PER_SECOND),
                    this.startAtPosition = -1)
                }
                ,
                i.prototype.pause = function() {
                    NewSite.videoPlayerComponent.pauseVideo()
                }
                ,
                i.prototype.stop = function() {
                    this.currentItem.videoLoaded && (this.currentStatus = r.STATUS_STOPPING),
                    NewSite.videoPlayerComponent.stopVideo(),
                    this.currentItem.videoLoaded = !1
                }
                ,
                i.prototype.getPlayerStatus = function() {
                    return this.currentStatus
                }
                ,
                i.prototype.getVideoState = function() {
                    return NewSite.videoPlayerComponent.getProperty("status")
                }
                ,
                i.prototype.getCurrentPosition = function() {
                    return this.currentItem.position * r.MILLISECONDS_PER_SECOND
                }
                ,
                i.prototype.setPosition = function(e) {
                    this.logger.trace("setPosition " + e),
                    NewSite.videoPlayerComponent.seek(Math.floor(e / r.MILLISECONDS_PER_SECOND))
                }
                ,
                i.prototype.setPositionRelative = function(e) {
                    var t = this.getCurrentPosition() + e;
                    this.setPosition(t)
                }
                ,
                i.prototype.getDuration = function() {
                    return this.currentItem.duration * r.MILLISECONDS_PER_SECOND
                }
                ,
                i.prototype.getStartPosition = function() {
                    return 0
                }
                ,
                i.prototype.getEndPosition = function() {
                    return this.getDuration()
                }
                ,
                i.prototype.seekToLive = function() {
                    this.setPosition(this.getDuration())
                }
                ,
                i.prototype.setDimensionsOfVideo = function(e, t) {
                    this.width = e,
                    this.height = t,
                    NewSite.videoPlayerComponent.setSize(e, t)
                }
                ,
                i.prototype.getVideoWidth = function() {
                    return this.width
                }
                ,
                i.prototype.getVideoHeight = function() {
                    return this.height
                }
                ,
                i.prototype.getVideoType = function() {
                    return this.currentItem.videoType
                }
                ,
                i.prototype.getCurrentBitrate = function() {
                    return 1024 * NewSite.videoPlayerComponent.getBitrate()
                }
                ,
                i.prototype.getVersion = function() {
                    return this.version
                }
                ,
                i.prototype.getAutoPlay = function() {
                    return this.autoPlay
                }
                ,
                i.prototype.setCurrentTimeUpdateInterval = function(e) {
                    var t = e;
                    e <= 50 && 0 !== e && (t = 50),
                    this.updateInterval = t
                }
                ,
                i.prototype.getClosedCaptionsStatus = function() {
                    return this.ccEnabled
                }
                ,
                i.prototype.setClosedCaptionsEnabled = function(e) {
                    this.logger.trace("setClosedCaptionsEnabled: " + e),
                    this.ccEnabled = e,
                    e ? NewSite.videoPlayerComponent.enableCaptions(NewSite.videoPlayerComponent.getCurrentCaptionStyle()) : NewSite.videoPlayerComponent.enableCaptions(null)
                }
                ,
                i.prototype.getAvailableAudioLanguages = function() {
                    return this.currentItem.languages
                }
                ,
                i.prototype.getAvailableBitrates = function() {
                    if (this.logger.trace("getAvailableBitrates"),
                    this.currentItem.areBitratesReady) {
                        for (var e = NewSite.videoPlayerComponent.getAvailableBitrates(), t = 0; t < e.length; t++)
                            e[t] = 1024 * e[t];
                        this.currentItem.bitRatesArray = e
                    } else
                        this.currentItem.bitRatesArray = [];
                    return this.logger.trace("getAvailableBitrates = " + this.currentItem.bitRatesArray),
                    this.currentItem.bitRatesArray
                }
                ,
                i.prototype.getBitrateRange = function() {
                    var e = [];
                    return this.currentItem.bitRatesArray.length > 0 && (e.push(this.currentItem.bitRatesArray[0]),
                    e.push(this.currentItem.bitRatesArray[this.currentItem.bitRatesArray.length - 1])),
                    e
                }
                ,
                i.prototype.getAvailableClosedCaptionTracks = function() {
                    return this.currentItem.ccTracks
                }
                ,
                i.prototype.hasCC = function() {
                    return !0
                }
                ,
                i.prototype.hasDRM = function() {
                    return this.currentItem.hasDRM || !1
                }
                ,
                i.prototype.setBlock = function(e) {
                    !this.blocked && e ? (NewSite.videoPlayerComponent.hide(),
                    NewSite.videoPlayerComponent.mute()) : this.blocked && !e && (NewSite.videoPlayerComponent.show(),
                    NewSite.videoPlayerComponent.mute(),
                    NewSite.videoPlayerComponent.setVolume(this.volumeLevel)),
                    this.blocked = e
                }
                ,
                i.prototype.getCurrentPlaybackSpeed = function() {
                    return this.getPlayerStatus() === r.STATUS_PLAYING ? 1 : 0
                }
                ,
                i.prototype.setVolume = function(e) {
                    this.logger.trace("setVolume: " + e);
                    var t = 100 * e;
                    isNaN(t) || (this.volumeLevel = t,
                    this.blocked || NewSite.videoPlayerComponent.setVolume(t))
                }
                ,
                i.prototype.getSupportedPlaybackSpeeds = function() {
                    return this.currentItem.playbackSpeeds
                }
                ,
                i.prototype.getClipInfo = function() {
                    return NewSite.videoPlayerComponent.getMetadata()
                }
                ,
                i.prototype.enableFullScreen = function(e) {
                    this.inFullscreen = e
                }
                ,
                i.prototype.windowResize = function() {
                    this.width = this.element.offsetWidth,
                    this.height = this.element.offsetHeight,
                    NewSite.videoPlayerComponent.setSize(this.width, this.height)
                }
                ,
                i.prototype.getCurrentClosedCaptionsStyle = function() {
                    return this.captionStyle.fromHuluCCStyle(NewSite.videoPlayerComponent.getCurrentCaptionStyle())
                }
                ,
                i.prototype.setClosedCaptionsStyle = function(e) {
                    var t = this.captionStyle.toHuluCCStyle(e);
                    NewSite.videoPlayerComponent.updateCurrentCaptionStyle(t),
                    this.ccEnabled && NewSite.videoPlayerComponent.enableCaptions(t)
                }
                ,
                i.prototype.getSupportedClosedCaptionsOptions = function() {
                    return this.captionStyle.supportedHuluCCStyles()
                }
                ,
                i.prototype.getVolume = function() {
                    return (NewSite.videoPlayerComponent.properties.volume || 0) / 100
                }
                ,
                i.prototype.setSpeed = function(e) {
                    this.logger.trace("setSpeed: " + e),
                    e ? this.getPlayerStatus() !== r.STATUS_PLAYING && this.play() : this.getPlayerStatus() !== r.STATUS_PAUSED && this.pause()
                }
                ,
                i
            }(a.BasePlayer);
            t.HuluPlayer = u,
            o.registerModule("HuluPlayer", u, {
                children: ["HuluPlayerEvents"]
            })
        }
        ).call(t, i(11))
    }
    , function(e, t, i) {
        "use strict";
        var n = this && this.__extends || function(e, t) {
            function i() {
                this.constructor = e
            }
            for (var n in t)
                t.hasOwnProperty(n) && (e[n] = t[n]);
            e.prototype = null === t ? Object.create(t) : (i.prototype = t.prototype,
            new i)
        }
        ;
        i(279);
        var r = i(3)
          , s = i(278)
          , o = i(2)
          , a = i(53)
          , c = i(1)
          , l = i(64)
          , h = function(e) {
            function t() {
                e.call(this),
                this.currentStatus = r.STATUS_IDLE,
                this.updateInterval = 250,
                this.volumeLevel = 0,
                this.hasMetaData = !1,
                this.blocked = !1,
                this.ccEnabled = !1,
                this.logger = new c.Logger("NBCUniPlayer")
            }
            return n(t, e),
            t.prototype.init = function(t) {
                function i() {
                    var e = document.createElement("div");
                    e.id = "playerContainer";
                    var t = document.createElement("div");
                    return t.id = "videoplayer",
                    e.appendChild(t),
                    n.appendChild(e),
                    n
                }
                e.prototype.init.call(this, t);
                var n = t.params.videoElement;
                return this.width = n.offsetWidth,
                this.height = n.offsetHeight,
                this.autoPlay = !1,
                n = i(),
                this.element = n,
                this.initPlayer(),
                this
            }
            ,
            t.prototype.destroy = function(t) {
                e.prototype.destroy.call(this, t),
                this.player && (this.player.unload(),
                this.player = null)
            }
            ,
            t.prototype.initPlayer = function() {
                this.logger.trace("initPlayer"),
                this.currentStatus = r.STATUS_INITIALIZING,
                l.onReady = this.setPlayerReady.bind(this),
                l.ready && this.setPlayerReady()
            }
            ,
            t.prototype.setAsset = function(e) {
                function t(t) {
                    this.logger.trace("Loading NBCUniCPC: (" + e.url + ", " + JSON.stringify(r, null, 2) + ", " + JSON.stringify(n, null, 2) + ")"),
                    l.controller.removeEventListener(l.Event.CONFIG_LOADED, o),
                    this.player = l.controller.loadEvent("videoplayer", l.Account.NBC, n, r),
                    this.playerEvents.initEvents(),
                    this.captionStyle = new s.NBCUniPPCCOptions,
                    this.currentItem.videoLoaded = !0
                }
                var i = this;
                if (this.logger.trace("setAsset( " + JSON.stringify(e) + ")"),
                !e.serviceZip && !e.encryptedServiceZip)
                    return void this.logger.error("Service zip required for NBC Assets");
                this.asset = e,
                this.hasMetaData = !1,
                this.currentItem = {
                    videoType: "live",
                    playbackSpeeds: [0, 1],
                    languages: [],
                    bitRatesArray: [],
                    bitrate: -1,
                    ccTracks: [],
                    areBitratesReady: !1,
                    hasDRM: !1,
                    hasCC: !1,
                    duration: 0,
                    position: 0,
                    inAdBreak: !1,
                    adStarted: !1,
                    vidStart: 0,
                    vidEnd: 0,
                    adPosition: 0,
                    adDuration: 0,
                    ccStyle: {},
                    videoLoaded: !1
                };
                var n = new l.ContentInitializationObject;
                n.videoId = "LIVE",
                n.showName = e.url;
                var r = new l.PlayerParameters;
                r.autoPlay = !1,
                r.mvpdId = l.MVPDPartners.COMCAST,
                r.mvpdServiceZip = e.encryptedServiceZip ? "" : e.serviceZip,
                r.mvpdEncryptedServiceZip = e.encryptedServiceZip || "",
                r.suppressCompanions = !0,
                r.disableEndCard = !0,
                r.sp = e.resumePosition;
                var o = t.bind(this);
                this.onPlayerReady(function() {
                    i.logger.trace("Configuring NBCUniCPC: (" + e.url + ")"),
                    l.controller.addEventListener(l.Event.CONFIG_LOADED, o),
                    l.controller.loadConfig("desktop_mvpd_comcast_production", "Ll3rBeWN2DqKim022fUkJicWFHhfCfG6")
                })
            }
            ,
            t.prototype.play = function() {
                this.player.play()
            }
            ,
            t.prototype.pause = function() {
                this.logger.trace("pause()"),
                this.player.pause(!0)
            }
            ,
            t.prototype.stop = function() {
                this.logger.trace("stop()"),
                this.player && (this.currentItem.videoLoaded = !1,
                this.player.unload(),
                this.player = null,
                this.playerReady = !1,
                this.sandbox.params.videoElement.innerHTML = "",
                this.playerEvents.broadcastStateChange(r.STATUS_IDLE))
            }
            ,
            t.prototype.getPlayerStatus = function() {
                return this.currentStatus
            }
            ,
            t.prototype.getCurrentPosition = function() {
                return this.currentItem.position
            }
            ,
            t.prototype.getDuration = function() {
                return this.currentItem.duration
            }
            ,
            t.prototype.getStartPosition = function() {
                return this.currentItem.vidStart
            }
            ,
            t.prototype.getEndPosition = function() {
                return this.currentItem.vidEnd
            }
            ,
            t.prototype.seekToLive = function() {
                this.player.goLive()
            }
            ,
            t.prototype.setDimensionsOfVideo = function(e, t) {
                this.width = e,
                this.height = t
            }
            ,
            t.prototype.getVideoWidth = function() {
                return this.width
            }
            ,
            t.prototype.getVideoHeight = function() {
                return this.height
            }
            ,
            t.prototype.getVideoType = function() {
                return "Live"
            }
            ,
            t.prototype.getAutoPlay = function() {
                return this.autoPlay
            }
            ,
            t.prototype.setCurrentTimeUpdateInterval = function(e) {
                var t = e;
                e <= 50 && 0 !== e && (t = 50),
                this.updateInterval = t
            }
            ,
            t.prototype.getClosedCaptionsStatus = function() {
                return this.ccEnabled
            }
            ,
            t.prototype.setClosedCaptionsEnabled = function(e) {
                this.logger.trace("setClosedCaptionsEnabled: " + e),
                this.ccEnabled = void 0 !== e && e,
                this.player && this.player.setCaptionsEnabled(this.ccEnabled)
            }
            ,
            t.prototype.hasCC = function() {
                return !0
            }
            ,
            t.prototype.hasDRM = function() {
                return this.currentItem.hasDRM || !1
            }
            ,
            t.prototype.getCurrentPlaybackSpeed = function() {
                return this.getPlayerStatus() === r.STATUS_PLAYING ? 1 : 0
            }
            ,
            t.prototype.setVolume = function(e) {
                this.logger.trace("setVolume: " + e),
                isNaN(e) || this.blocked || !this.player ? this.logger.warn("Issue setting volume. Volume level remains at " + this.volumeLevel) : (this.volumeLevel = e,
                this.player.setVolume(e))
            }
            ,
            t.prototype.getSupportedPlaybackSpeeds = function() {
                return this.currentItem.playbackSpeeds
            }
            ,
            t.prototype.prepareToPlay = function() {
                this.player.getSubtitleStyle(),
                this.volume && !isNaN(this.volume) && this.setVolume(this.volume),
                null !== this.ccEnabled && this.setClosedCaptionsEnabled(this.ccEnabled)
            }
            ,
            t.prototype.getCurrentBitrate = function() {
                return this.currentItem.bitrate
            }
            ,
            t.prototype.getCurrentClosedCaptionsStyle = function() {
                return this.captionStyle.fromNBCUniCPCCCStyle(this.currentItem.ccStyle)
            }
            ,
            t.prototype.setClosedCaptionsStyle = function(e) {
                var t = this.captionStyle.toNBCUniCPCCCStyle(e);
                this.player.setSubtitleStyle(t),
                this.ccEnabled && this.setClosedCaptionsEnabled(this.ccEnabled),
                this.player.getSubtitleStyle()
            }
            ,
            t.prototype.getSupportedClosedCaptionsOptions = function() {
                return this.captionStyle.supportedNBCUniCPCCCStyles()
            }
            ,
            t.prototype.getVolume = function() {
                return this.volumeLevel
            }
            ,
            t.prototype.setSpeed = function(e) {
                this.logger.trace("setSpeed: " + e),
                e ? this.getPlayerStatus() !== r.STATUS_PLAYING && this.play() : this.getPlayerStatus() !== r.STATUS_PAUSED && this.pause()
            }
            ,
            t
        }(a.BasePlayer);
        t.NBCUniPlayer = h,
        o.registerModule("NBCUniPlayer", h, {
            children: ["NBCUniPlayerEvents"]
        })
    }
    , function(e, t, i) {
        "use strict";
        i(135),
        i(169),
        i(106),
        i(249),
        i(269),
        i(280),
        i(250),
        i(103);
        var n = i(3)
          , r = i(4)
          , s = i(1)
          , o = i(51);
        t.Asset = o.Asset,
        t.AssetEngine = o.AssetEngine;
        var a = i(252);
        t.PlayerPlatformAPI = a.PlayerPlatformAPI;
        var c = i(6);
        t.ConfigurationManager = c.ConfigurationManager;
        var l = i(25);
        t.VideoAd = l.VideoAd;
        var h = i(15);
        t.VideoAdBreak = h.VideoAdBreak;
        var u = i(1);
        t.LogLevel = u.LogLevel,
        t.setLogLevel = u.setLogLevel,
        t.setLogSinks = u.setLogSinks,
        t.addLogSink = u.addLogSink,
        t.ConsoleSink = u.ConsoleSink,
        t.Events = r,
        t.Constants = n,
        s.setLogLevel("1000")
    }
    , function(e, t, i) {
        e.exports = i.p + "swf/PSDKDRM.swf"
    }
    , function(e, t, i) {
        e.exports = i.p + "swf/CBSPlayer.swf"
    }
    , function(e, t, i) {
        e.exports = i.p + "swf/DISNEYPlayer.swf"
    }
    , function(e, t, i) {
        e.exports = i.p + "swf/ESPNPlayer.swf"
    }
    , function(e, t, i) {
        e.exports = i.p + "swf/PSDKPlayerAPI.swf"
    }
    , function(e, t, i) {
        function n(e) {
            if (e)
                return r(e)
        }
        function r(e) {
            for (var t in n.prototype)
                e[t] = n.prototype[t];
            return e
        }
        e.exports = n,
        n.prototype.on = n.prototype.addEventListener = function(e, t) {
            return this._callbacks = this._callbacks || {},
            (this._callbacks["$" + e] = this._callbacks["$" + e] || []).push(t),
            this
        }
        ,
        n.prototype.once = function(e, t) {
            function i() {
                this.off(e, i),
                t.apply(this, arguments)
            }
            return i.fn = t,
            this.on(e, i),
            this
        }
        ,
        n.prototype.off = n.prototype.removeListener = n.prototype.removeAllListeners = n.prototype.removeEventListener = function(e, t) {
            if (this._callbacks = this._callbacks || {},
            0 == arguments.length)
                return this._callbacks = {},
                this;
            var i = this._callbacks["$" + e];
            if (!i)
                return this;
            if (1 == arguments.length)
                return delete this._callbacks["$" + e],
                this;
            for (var n, r = 0; r < i.length; r++)
                if (n = i[r],
                n === t || n.fn === t) {
                    i.splice(r, 1);
                    break
                }
            return this
        }
        ,
        n.prototype.emit = function(e) {
            this._callbacks = this._callbacks || {};
            var t = [].slice.call(arguments, 1)
              , i = this._callbacks["$" + e];
            if (i) {
                i = i.slice(0);
                for (var n = 0, r = i.length; n < r; ++n)
                    i[n].apply(this, t)
            }
            return this
        }
        ,
        n.prototype.listeners = function(e) {
            return this._callbacks = this._callbacks || {},
            this._callbacks["$" + e] || []
        }
        ,
        n.prototype.hasListeners = function(e) {
            return !!this.listeners(e).length
        }
    }
    , function(e, t, i) {
        i(163),
        i(165),
        i(166),
        i(164),
        e.exports = i(26).Promise
    }
    , function(e, t, i) {
        var n = i(7)("unscopables")
          , r = Array.prototype;
        void 0 == r[n] && i(21)(r, n, {}),
        e.exports = function(e) {
            r[n][e] = !0
        }
    }
    , function(e, t) {
        e.exports = function(e, t, i, n) {
            if (!(e instanceof t) || void 0 !== n && n in e)
                throw TypeError(i + ": incorrect invocation!");
            return e
        }
    }
    , function(e, t, i) {
        var n = i(62)
          , r = i(86)
          , s = i(158);
        e.exports = function(e) {
            return function(t, i, o) {
                var a, c = n(t), l = r(c.length), h = s(o, l);
                if (e && i != i) {
                    for (; l > h; )
                        if (a = c[h++],
                        a != a)
                            return !0
                } else
                    for (; l > h; h++)
                        if ((e || h in c) && c[h] === i)
                            return e || h || 0;
                return !e && -1
            }
        }
    }
    , function(e, t, i) {
        var n = i(38)
          , r = i(144)
          , s = i(143)
          , o = i(20)
          , a = i(86)
          , c = i(161)
          , l = {}
          , h = {}
          , t = e.exports = function(e, t, i, u, d) {
            var f, p, m, g, y = d ? function() {
                return e
            }
            : c(e), v = n(i, u, t ? 2 : 1), _ = 0;
            if ("function" != typeof y)
                throw TypeError(e + " is not iterable!");
            if (s(y)) {
                for (f = a(e.length); f > _; _++)
                    if (g = t ? v(o(p = e[_])[0], p[1]) : v(e[_]),
                    g === l || g === h)
                        return g
            } else
                for (m = y.call(e); !(p = m.next()).done; )
                    if (g = r(m, v, p.value, t),
                    g === l || g === h)
                        return g
        }
        ;
        t.BREAK = l,
        t.RETURN = h
    }
    , function(e, t, i) {
        e.exports = !i(27) && !i(79)(function() {
            return 7 != Object.defineProperty(i(58)("div"), "a", {
                get: function() {
                    return 7
                }
            }).a
        })
    }
    , function(e, t) {
        e.exports = function(e, t, i) {
            var n = void 0 === i;
            switch (t.length) {
            case 0:
                return n ? e() : e.call(i);
            case 1:
                return n ? e(t[0]) : e.call(i, t[0]);
            case 2:
                return n ? e(t[0], t[1]) : e.call(i, t[0], t[1]);
            case 3:
                return n ? e(t[0], t[1], t[2]) : e.call(i, t[0], t[1], t[2]);
            case 4:
                return n ? e(t[0], t[1], t[2], t[3]) : e.call(i, t[0], t[1], t[2], t[3])
            }
            return e.apply(i, t)
        }
    }
    , function(e, t, i) {
        var n = i(37);
        e.exports = Object("z").propertyIsEnumerable(0) ? Object : function(e) {
            return "String" == n(e) ? e.split("") : Object(e)
        }
    }
    , function(e, t, i) {
        var n = i(29)
          , r = i(7)("iterator")
          , s = Array.prototype;
        e.exports = function(e) {
            return void 0 !== e && (n.Array === e || s[r] === e)
        }
    }
    , function(e, t, i) {
        var n = i(20);
        e.exports = function(e, t, i, r) {
            try {
                return r ? t(n(i)[0], i[1]) : t(i)
            } catch (s) {
                var o = e["return"];
                throw void 0 !== o && n(o.call(e)),
                s
            }
        }
    }
    , function(e, t, i) {
        "use strict";
        var n = i(149)
          , r = i(83)
          , s = i(59)
          , o = {};
        i(21)(o, i(7)("iterator"), function() {
            return this
        }),
        e.exports = function(e, t, i) {
            e.prototype = n(o, {
                next: r(1, i)
            }),
            s(e, t + " Iterator")
        }
    }
    , function(e, t, i) {
        var n = i(7)("iterator")
          , r = !1;
        try {
            var s = [7][n]();
            s["return"] = function() {
                r = !0
            }
            ,
            Array.from(s, function() {
                throw 2
            })
        } catch (o) {}
        e.exports = function(e, t) {
            if (!t && !r)
                return !1;
            var i = !1;
            try {
                var s = [7]
                  , o = s[n]();
                o.next = function() {
                    return {
                        done: i = !0
                    }
                }
                ,
                s[n] = function() {
                    return o
                }
                ,
                e(s)
            } catch (a) {}
            return i
        }
    }
    , function(e, t) {
        e.exports = function(e, t) {
            return {
                value: t,
                done: !!e
            }
        }
    }
    , function(e, t, i) {
        var n = i(9)
          , r = i(85).set
          , s = n.MutationObserver || n.WebKitMutationObserver
          , o = n.process
          , a = n.Promise
          , c = "process" == i(37)(o);
        e.exports = function() {
            var e, t, i, l = function() {
                var n, r;
                for (c && (n = o.domain) && n.exit(); e; ) {
                    r = e.fn,
                    e = e.next;
                    try {
                        r()
                    } catch (s) {
                        throw e ? i() : t = void 0,
                        s
                    }
                }
                t = void 0,
                n && n.enter()
            };
            if (c)
                i = function() {
                    o.nextTick(l)
                }
                ;
            else if (s) {
                var h = !0
                  , u = document.createTextNode("");
                new s(l).observe(u, {
                    characterData: !0
                }),
                i = function() {
                    u.data = h = !h
                }
            } else if (a && a.resolve) {
                var d = a.resolve();
                i = function() {
                    d.then(l)
                }
            } else
                i = function() {
                    r.call(n, l)
                }
                ;
            return function(n) {
                var r = {
                    fn: n,
                    next: void 0
                };
                t && (t.next = r),
                e || (e = r,
                i()),
                t = r
            }
        }
    }
    , function(e, t, i) {
        var n = i(20)
          , r = i(150)
          , s = i(77)
          , o = i(60)("IE_PROTO")
          , a = function() {}
          , c = "prototype"
          , l = function() {
            var e, t = i(58)("iframe"), n = s.length, r = "<", o = ">";
            for (t.style.display = "none",
            i(80).appendChild(t),
            t.src = "javascript:",
            e = t.contentWindow.document,
            e.open(),
            e.write(r + "script" + o + "document.F=Object" + r + "/script" + o),
            e.close(),
            l = e.F; n--; )
                delete l[c][s[n]];
            return l()
        };
        e.exports = Object.create || function(e, t) {
            var i;
            return null !== e ? (a[c] = n(e),
            i = new a,
            a[c] = null,
            i[o] = e) : i = l(),
            void 0 === t ? i : r(i, t)
        }
    }
    , function(e, t, i) {
        var n = i(40)
          , r = i(20)
          , s = i(153);
        e.exports = i(27) ? Object.defineProperties : function(e, t) {
            r(e);
            for (var i, o = s(t), a = o.length, c = 0; a > c; )
                n.f(e, i = o[c++], t[i]);
            return e
        }
    }
    , function(e, t, i) {
        var n = i(28)
          , r = i(159)
          , s = i(60)("IE_PROTO")
          , o = Object.prototype;
        e.exports = Object.getPrototypeOf || function(e) {
            return e = r(e),
            n(e, s) ? e[s] : "function" == typeof e.constructor && e instanceof e.constructor ? e.constructor.prototype : e instanceof Object ? o : null
        }
    }
    , function(e, t, i) {
        var n = i(28)
          , r = i(62)
          , s = i(138)(!1)
          , o = i(60)("IE_PROTO");
        e.exports = function(e, t) {
            var i, a = r(e), c = 0, l = [];
            for (i in a)
                i != o && n(a, i) && l.push(i);
            for (; t.length > c; )
                n(a, i = t[c++]) && (~s(l, i) || l.push(i));
            return l
        }
    }
    , function(e, t, i) {
        var n = i(152)
          , r = i(77);
        e.exports = Object.keys || function(e) {
            return n(e, r)
        }
    }
    , function(e, t, i) {
        var n = i(30);
        e.exports = function(e, t, i) {
            for (var r in t)
                n(e, r, t[r], i);
            return e
        }
    }
    , function(e, t, i) {
        "use strict";
        var n = i(9)
          , r = i(40)
          , s = i(27)
          , o = i(7)("species");
        e.exports = function(e) {
            var t = n[e];
            s && t && !t[o] && r.f(t, o, {
                configurable: !0,
                get: function() {
                    return this
                }
            })
        }
    }
    , function(e, t, i) {
        var n = i(20)
          , r = i(55)
          , s = i(7)("species");
        e.exports = function(e, t) {
            var i, o = n(e).constructor;
            return void 0 === o || void 0 == (i = n(o)[s]) ? t : r(i)
        }
    }
    , function(e, t, i) {
        var n = i(61)
          , r = i(57);
        e.exports = function(e) {
            return function(t, i) {
                var s, o, a = String(r(t)), c = n(i), l = a.length;
                return c < 0 || c >= l ? e ? "" : void 0 : (s = a.charCodeAt(c),
                s < 55296 || s > 56319 || c + 1 === l || (o = a.charCodeAt(c + 1)) < 56320 || o > 57343 ? e ? a.charAt(c) : s : e ? a.slice(c, c + 2) : (s - 55296 << 10) + (o - 56320) + 65536)
            }
        }
    }
    , function(e, t, i) {
        var n = i(61)
          , r = Math.max
          , s = Math.min;
        e.exports = function(e, t) {
            return e = n(e),
            e < 0 ? r(e + t, 0) : s(e, t)
        }
    }
    , function(e, t, i) {
        var n = i(57);
        e.exports = function(e) {
            return Object(n(e))
        }
    }
    , function(e, t, i) {
        var n = i(39);
        e.exports = function(e, t) {
            if (!n(e))
                return e;
            var i, r;
            if (t && "function" == typeof (i = e.toString) && !n(r = i.call(e)))
                return r;
            if ("function" == typeof (i = e.valueOf) && !n(r = i.call(e)))
                return r;
            if (!t && "function" == typeof (i = e.toString) && !n(r = i.call(e)))
                return r;
            throw TypeError("Can't convert object to primitive value")
        }
    }
    , function(e, t, i) {
        var n = i(56)
          , r = i(7)("iterator")
          , s = i(29);
        e.exports = i(26).getIteratorMethod = function(e) {
            if (void 0 != e)
                return e[r] || e["@@iterator"] || s[n(e)]
        }
    }
    , function(e, t, i) {
        "use strict";
        var n = i(136)
          , r = i(147)
          , s = i(29)
          , o = i(62);
        e.exports = i(81)(Array, "Array", function(e, t) {
            this._t = o(e),
            this._i = 0,
            this._k = t
        }, function() {
            var e = this._t
              , t = this._k
              , i = this._i++;
            return !e || i >= e.length ? (this._t = void 0,
            r(1)) : "keys" == t ? r(0, i) : "values" == t ? r(0, e[i]) : r(0, [i, e[i]])
        }, "values"),
        s.Arguments = s.Array,
        n("keys"),
        n("values"),
        n("entries")
    }
    , function(e, t, i) {
        "use strict";
        var n = i(56)
          , r = {};
        r[i(7)("toStringTag")] = "z",
        r + "" != "[object z]" && i(30)(Object.prototype, "toString", function() {
            return "[object " + n(this) + "]"
        }, !0)
    }
    , function(e, t, i) {
        "use strict";
        var n, r, s, o = i(82), a = i(9), c = i(38), l = i(56), h = i(78), u = i(39), d = i(55), f = i(137), p = i(139), m = i(156), g = i(85).set, y = i(148)(), v = "Promise", _ = a.TypeError, b = a.process, S = a[v], b = a.process, E = "process" == l(b), P = function() {}, T = !!function() {
            try {
                var e = S.resolve(1)
                  , t = (e.constructor = {})[i(7)("species")] = function(e) {
                    e(P, P)
                }
                ;
                return (E || "function" == typeof PromiseRejectionEvent) && e.then(P)instanceof t
            } catch (n) {}
        }(), C = function(e, t) {
            return e === t || e === S && t === s
        }, A = function(e) {
            var t;
            return !(!u(e) || "function" != typeof (t = e.then)) && t
        }, w = function(e) {
            return C(S, e) ? new R(e) : new r(e)
        }, R = r = function(e) {
            var t, i;
            this.promise = new e(function(e, n) {
                if (void 0 !== t || void 0 !== i)
                    throw _("Bad Promise constructor");
                t = e,
                i = n
            }
            ),
            this.resolve = d(t),
            this.reject = d(i)
        }
        , O = function(e) {
            try {
                e()
            } catch (t) {
                return {
                    error: t
                }
            }
        }, I = function(e, t) {
            if (!e._n) {
                e._n = !0;
                var i = e._c;
                y(function() {
                    for (var n = e._v, r = 1 == e._s, s = 0, o = function(t) {
                        var i, s, o = r ? t.ok : t.fail, a = t.resolve, c = t.reject, l = t.domain;
                        try {
                            o ? (r || (2 == e._h && D(e),
                            e._h = 1),
                            o === !0 ? i = n : (l && l.enter(),
                            i = o(n),
                            l && l.exit()),
                            i === t.promise ? c(_("Promise-chain cycle")) : (s = A(i)) ? s.call(i, a, c) : a(i)) : c(n)
                        } catch (h) {
                            c(h)
                        }
                    }; i.length > s; )
                        o(i[s++]);
                    e._c = [],
                    e._n = !1,
                    t && !e._h && L(e)
                })
            }
        }, L = function(e) {
            g.call(a, function() {
                var t, i, n, r = e._v;
                if (k(e) && (t = O(function() {
                    E ? b.emit("unhandledRejection", r, e) : (i = a.onunhandledrejection) ? i({
                        promise: e,
                        reason: r
                    }) : (n = a.console) && n.error && n.error("Unhandled promise rejection", r)
                }),
                e._h = E || k(e) ? 2 : 1),
                e._a = void 0,
                t)
                    throw t.error
            })
        }, k = function(e) {
            if (1 == e._h)
                return !1;
            for (var t, i = e._a || e._c, n = 0; i.length > n; )
                if (t = i[n++],
                t.fail || !k(t.promise))
                    return !1;
            return !0
        }, D = function(e) {
            g.call(a, function() {
                var t;
                E ? b.emit("rejectionHandled", e) : (t = a.onrejectionhandled) && t({
                    promise: e,
                    reason: e._v
                })
            })
        }, N = function(e) {
            var t = this;
            t._d || (t._d = !0,
            t = t._w || t,
            t._v = e,
            t._s = 2,
            t._a || (t._a = t._c.slice()),
            I(t, !0))
        }, M = function(e) {
            var t, i = this;
            if (!i._d) {
                i._d = !0,
                i = i._w || i;
                try {
                    if (i === e)
                        throw _("Promise can't be resolved itself");
                    (t = A(e)) ? y(function() {
                        var n = {
                            _w: i,
                            _d: !1
                        };
                        try {
                            t.call(e, c(M, n, 1), c(N, n, 1))
                        } catch (r) {
                            N.call(n, r)
                        }
                    }) : (i._v = e,
                    i._s = 1,
                    I(i, !1))
                } catch (n) {
                    N.call({
                        _w: i,
                        _d: !1
                    }, n)
                }
            }
        };
        T || (S = function(e) {
            f(this, S, v, "_h"),
            d(e),
            n.call(this);
            try {
                e(c(M, this, 1), c(N, this, 1))
            } catch (t) {
                N.call(this, t)
            }
        }
        ,
        n = function(e) {
            this._c = [],
            this._a = void 0,
            this._s = 0,
            this._d = !1,
            this._v = void 0,
            this._h = 0,
            this._n = !1
        }
        ,
        n.prototype = i(154)(S.prototype, {
            then: function(e, t) {
                var i = w(m(this, S));
                return i.ok = "function" != typeof e || e,
                i.fail = "function" == typeof t && t,
                i.domain = E ? b.domain : void 0,
                this._c.push(i),
                this._a && this._a.push(i),
                this._s && I(this, !1),
                i.promise
            },
            "catch": function(e) {
                return this.then(void 0, e)
            }
        }),
        R = function() {
            var e = new n;
            this.promise = e,
            this.resolve = c(M, e, 1),
            this.reject = c(N, e, 1)
        }
        ),
        h(h.G + h.W + h.F * !T, {
            Promise: S
        }),
        i(59)(S, v),
        i(155)(v),
        s = i(26)[v],
        h(h.S + h.F * !T, v, {
            reject: function(e) {
                var t = w(this)
                  , i = t.reject;
                return i(e),
                t.promise
            }
        }),
        h(h.S + h.F * (o || !T), v, {
            resolve: function(e) {
                if (e instanceof S && C(e.constructor, this))
                    return e;
                var t = w(this)
                  , i = t.resolve;
                return i(e),
                t.promise
            }
        }),
        h(h.S + h.F * !(T && i(146)(function(e) {
            S.all(e)["catch"](P)
        })), v, {
            all: function(e) {
                var t = this
                  , i = w(t)
                  , n = i.resolve
                  , r = i.reject
                  , s = O(function() {
                    var i = []
                      , s = 0
                      , o = 1;
                    p(e, !1, function(e) {
                        var a = s++
                          , c = !1;
                        i.push(void 0),
                        o++,
                        t.resolve(e).then(function(e) {
                            c || (c = !0,
                            i[a] = e,
                            --o || n(i))
                        }, r)
                    }),
                    --o || n(i)
                });
                return s && r(s.error),
                i.promise
            },
            race: function(e) {
                var t = this
                  , i = w(t)
                  , n = i.reject
                  , r = O(function() {
                    p(e, !1, function(e) {
                        t.resolve(e).then(i.resolve, n)
                    })
                });
                return r && n(r.error),
                i.promise
            }
        })
    }
    , function(e, t, i) {
        "use strict";
        var n = i(157)(!0);
        i(81)(String, "String", function(e) {
            this._t = String(e),
            this._i = 0
        }, function() {
            var e, t = this._t, i = this._i;
            return i >= t.length ? {
                value: void 0,
                done: !0
            } : (e = n(t, i),
            this._i += e.length,
            {
                value: e,
                done: !1
            })
        })
    }
    , function(e, t, i) {
        for (var n = i(162), r = i(30), s = i(9), o = i(21), a = i(29), c = i(7), l = c("iterator"), h = c("toStringTag"), u = a.Array, d = ["NodeList", "DOMTokenList", "MediaList", "StyleSheetList", "CSSRuleList"], f = 0; f < 5; f++) {
            var p, m = d[f], g = s[m], y = g && g.prototype;
            if (y) {
                y[l] || o(y, l, u),
                y[h] || o(y, h, m),
                a[m] = u;
                for (p in n)
                    y[p] || r(y, p, n[p], !0)
            }
        }
    }
    , function(e, t) {
        e.exports = function(e) {
            function t(t) {
                return t.concat(t[1].exec(e))
            }
            function i(e) {
                return !!e[2]
            }
            var n = [["edge", /Edge\/([0-9\._]+)/], ["chrome", /(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/], ["crios", /CriOS\/([0-9\.]+)(:?\s|$)/], ["firefox", /Firefox\/([0-9\.]+)(?:\s|$)/], ["opera", /Opera\/([0-9\.]+)(?:\s|$)/], ["opera", /OPR\/([0-9\.]+)(:?\s|$)$/], ["ie", /Trident\/7\.0.*rv\:([0-9\.]+)\).*Gecko$/], ["ie", /MSIE\s([0-9\.]+);.*Trident\/[4-7].0/], ["ie", /MSIE\s(7\.0)/], ["bb10", /BB10;\sTouch.*Version\/([0-9\.]+)/], ["android", /Android\s([0-9\.]+)/], ["ios", /iPad.*Version\/([0-9\._]+)/], ["ios", /iPhone.*Version\/([0-9\._]+)/], ["safari", /Version\/([0-9\._]+).*Safari/]]
              , r = 0
              , s = [];
            for (r = 0; r < n.length; r++)
                n[r] = t(n[r]),
                i(n[r]) && s.push(n[r]);
            for (var o = s[0], a = o && o[3].split(/[._]/).slice(0, 3); a && a.length < 3; )
                a.push("0");
            return {
                name: o && o[0],
                version: a && a.join(".")
            }
        }
    }
    , function(e, t, i) {
        e.exports = i.p + "swf/GlobalTokens.swf"
    }
    , function(e, t, i) {
        e.exports = i.p + "css/playerPlatform.css"
    }
    , function(e, t) {
        e.exports = {
            productType: "cdvr",
            drmNetworkRequestTimeout: 1e4,
            cimaEndPoint: "https://consecservice-stage.ccp.xcal.tv/cima/login",
            metadataEndPoint: "https://consecservice-stage.ccp.xcal.tv/flashaccess/resource/metadata?env=stage",
            easNetworkRequestTimeout: 1e4,
            zipToFipsEndPoint: "http://easip-client-po.ccp.xcal.tv/easws/api/fips/zip/",
            alertServiceEndPoint: "http://easip-client-po.ccp.xcal.tv/easws/api/alert/active/fipscode/",
            easUpdateInterval: 15e3,
            easAlertRepeat: 1,
            easAlertFontSize: "20.0f",
            easAlertFont: "Helvetica-Bold",
            analyticsNetworkRequestTimeout: 1e4,
            analyticsEndPoint: "https://analytics.xcal.tv/player",
            analyticsProtocol: "2.0",
            maxBatchSize: 10,
            maxQueueSize: 100,
            batchInterval: 5e3,
            playerNetworkRequestTimeout: 1e4,
            heartbeatInterval: 6e4,
            autoplay: !0,
            retryInterval: 1e3,
            maximumRetries: 5,
            manifestManipulatorRetries: 1,
            manifestManipulatorTimeout: 4e3,
            retryOnMediaFailed: !0,
            updateInterval: 1e3,
            partnerId: "Comcast",
            enableAds: !1,
            watermark: !1,
            defaultEngine: "flash",
            domainId: "",
            zoneId: "",
            customParams: {},
            auditudeTimeout: 2e4,
            networkDownTimeout: 0,
            handleClicks: !1,
            crossStreamPrevention: "CheckIfPresent",
            cbsChromelessPath: "http://can.cbs.com/thunder/player/chromeless/wrapper.swf",
            cbsPartner: "comcast",
            disneyChromelessPath: "http://watchabc.go.com/vp2/s/vp2k/latest/ext/watchvp2k.swf",
            disneyPartner: "comcast",
            espnChromelessPath: "/espn/WatchEspnPreloader.swf",
            espnPartner: "comcast",
            espnConfigUrl: "/espn/config.xml",
            huluNewSiteUrlStd: "https://secure.hulu.com/dp-player/js/hulu_global.js?guid=8FD85DB6-E19C-ED04-72DC-15CEE4B3DB20",
            huluNewSiteUrlWide: "https://secure.hulu.com/dp-player/js/hulu_global.js?guid=1B826623-ABFA-78F3-5EAC-6150B0FD8F76",
            scte: {
                deviceId: "84e058da44a1",
                placementRequestEndPoint: "http://69.241.63.185/slr-director/v2/PlacementRequest",
                placementStatusNotificationEndPoint: "http://69.241.63.185/slr-director/v2/psn"
            },
            defaultAsset: {
                ddPlus: !1,
                initialBitrate: 0,
                initialBufferTime: 2e3,
                playingVODBufferTime: 8e4,
                playingLinearBufferTime: 15e3,
                initialPolicy: 0,
                playingPolicy: 2,
                maximumBitrate: 12e6,
                minimumBitrate: 0,
                trickPlayMaxFps: 2,
                placementRequestEndPoint: "http://ccpvab-po-v103-p.po.ccp.cable.comcast.com/PlacementRequest",
                placementStatusNotificationEndPoint: "http://altcon-vexdr-prod1.ccp.xcal.tv/vex-director/PlacementStatusNotification",
                urlRewrite: "",
                easEnabled: !1
            },
            title6Linear: {
                easEnabled: !0,
                trickPlayMaxFps: 8
            },
            cDvr: {
                easEnabled: !0
            },
            title6Vod: {
                easEnabled: !0
            }
        }
    }
    , function(e, t) {
        try {
            "object" == typeof top && null !== top && "object" == typeof top.opener && null !== top.opener && (top.opener._$jscoverage || (top.opener._$jscoverage = {}))
        } catch (i) {}
        try {
            if ("object" == typeof top && null !== top) {
                try {
                    "object" == typeof top.opener && null !== top.opener && top.opener._$jscoverage && (top._$jscoverage = top.opener._$jscoverage)
                } catch (i) {}
                top._$jscoverage || (top._$jscoverage = {})
            }
        } catch (i) {}
        try {
            "object" == typeof top && null !== top && top._$jscoverage && (_$jscoverage = top._$jscoverage)
        } catch (i) {}
        "object" != typeof _$jscoverage && (_$jscoverage = {}),
        _$jscoverage["mediator.js"] || (_$jscoverage["mediator.js"] = [],
        _$jscoverage["mediator.js"][16] = 0,
        _$jscoverage["mediator.js"][17] = 0,
        _$jscoverage["mediator.js"][19] = 0,
        _$jscoverage["mediator.js"][21] = 0,
        _$jscoverage["mediator.js"][22] = 0,
        _$jscoverage["mediator.js"][24] = 0,
        _$jscoverage["mediator.js"][26] = 0,
        _$jscoverage["mediator.js"][30] = 0,
        _$jscoverage["mediator.js"][33] = 0,
        _$jscoverage["mediator.js"][39] = 0,
        _$jscoverage["mediator.js"][40] = 0,
        _$jscoverage["mediator.js"][41] = 0,
        _$jscoverage["mediator.js"][44] = 0,
        _$jscoverage["mediator.js"][52] = 0,
        _$jscoverage["mediator.js"][53] = 0,
        _$jscoverage["mediator.js"][54] = 0,
        _$jscoverage["mediator.js"][57] = 0,
        _$jscoverage["mediator.js"][58] = 0,
        _$jscoverage["mediator.js"][59] = 0,
        _$jscoverage["mediator.js"][60] = 0,
        _$jscoverage["mediator.js"][61] = 0,
        _$jscoverage["mediator.js"][64] = 0,
        _$jscoverage["mediator.js"][70] = 0,
        _$jscoverage["mediator.js"][71] = 0,
        _$jscoverage["mediator.js"][72] = 0,
        _$jscoverage["mediator.js"][73] = 0,
        _$jscoverage["mediator.js"][74] = 0,
        _$jscoverage["mediator.js"][75] = 0,
        _$jscoverage["mediator.js"][82] = 0,
        _$jscoverage["mediator.js"][83] = 0,
        _$jscoverage["mediator.js"][84] = 0,
        _$jscoverage["mediator.js"][87] = 0,
        _$jscoverage["mediator.js"][88] = 0,
        _$jscoverage["mediator.js"][89] = 0,
        _$jscoverage["mediator.js"][90] = 0,
        _$jscoverage["mediator.js"][91] = 0,
        _$jscoverage["mediator.js"][100] = 0,
        _$jscoverage["mediator.js"][102] = 0,
        _$jscoverage["mediator.js"][104] = 0,
        _$jscoverage["mediator.js"][108] = 0,
        _$jscoverage["mediator.js"][110] = 0,
        _$jscoverage["mediator.js"][111] = 0,
        _$jscoverage["mediator.js"][113] = 0,
        _$jscoverage["mediator.js"][115] = 0,
        _$jscoverage["mediator.js"][118] = 0,
        _$jscoverage["mediator.js"][120] = 0,
        _$jscoverage["mediator.js"][127] = 0,
        _$jscoverage["mediator.js"][131] = 0,
        _$jscoverage["mediator.js"][134] = 0,
        _$jscoverage["mediator.js"][135] = 0,
        _$jscoverage["mediator.js"][136] = 0,
        _$jscoverage["mediator.js"][146] = 0,
        _$jscoverage["mediator.js"][150] = 0,
        _$jscoverage["mediator.js"][151] = 0,
        _$jscoverage["mediator.js"][152] = 0,
        _$jscoverage["mediator.js"][154] = 0,
        _$jscoverage["mediator.js"][157] = 0,
        _$jscoverage["mediator.js"][158] = 0,
        _$jscoverage["mediator.js"][159] = 0,
        _$jscoverage["mediator.js"][161] = 0,
        _$jscoverage["mediator.js"][162] = 0,
        _$jscoverage["mediator.js"][166] = 0,
        _$jscoverage["mediator.js"][170] = 0,
        _$jscoverage["mediator.js"][174] = 0,
        _$jscoverage["mediator.js"][178] = 0,
        _$jscoverage["mediator.js"][180] = 0,
        _$jscoverage["mediator.js"][183] = 0,
        _$jscoverage["mediator.js"][184] = 0,
        _$jscoverage["mediator.js"][185] = 0,
        _$jscoverage["mediator.js"][189] = 0,
        _$jscoverage["mediator.js"][190] = 0,
        _$jscoverage["mediator.js"][191] = 0,
        _$jscoverage["mediator.js"][192] = 0,
        _$jscoverage["mediator.js"][201] = 0,
        _$jscoverage["mediator.js"][207] = 0,
        _$jscoverage["mediator.js"][208] = 0,
        _$jscoverage["mediator.js"][209] = 0,
        _$jscoverage["mediator.js"][210] = 0,
        _$jscoverage["mediator.js"][211] = 0,
        _$jscoverage["mediator.js"][212] = 0,
        _$jscoverage["mediator.js"][213] = 0,
        _$jscoverage["mediator.js"][216] = 0,
        _$jscoverage["mediator.js"][217] = 0,
        _$jscoverage["mediator.js"][221] = 0,
        _$jscoverage["mediator.js"][222] = 0,
        _$jscoverage["mediator.js"][224] = 0,
        _$jscoverage["mediator.js"][225] = 0,
        _$jscoverage["mediator.js"][227] = 0,
        _$jscoverage["mediator.js"][232] = 0,
        _$jscoverage["mediator.js"][233] = 0,
        _$jscoverage["mediator.js"][236] = 0,
        _$jscoverage["mediator.js"][240] = 0,
        _$jscoverage["mediator.js"][241] = 0,
        _$jscoverage["mediator.js"][242] = 0,
        _$jscoverage["mediator.js"][245] = 0,
        _$jscoverage["mediator.js"][251] = 0,
        _$jscoverage["mediator.js"][257] = 0,
        _$jscoverage["mediator.js"][262] = 0,
        _$jscoverage["mediator.js"][263] = 0,
        _$jscoverage["mediator.js"][266] = 0,
        _$jscoverage["mediator.js"][267] = 0,
        _$jscoverage["mediator.js"][269] = 0,
        _$jscoverage["mediator.js"][270] = 0,
        _$jscoverage["mediator.js"][273] = 0,
        _$jscoverage["mediator.js"][277] = 0,
        _$jscoverage["mediator.js"][287] = 0,
        _$jscoverage["mediator.js"][289] = 0,
        _$jscoverage["mediator.js"][290] = 0,
        _$jscoverage["mediator.js"][292] = 0,
        _$jscoverage["mediator.js"][302] = 0,
        _$jscoverage["mediator.js"][303] = 0,
        _$jscoverage["mediator.js"][305] = 0,
        _$jscoverage["mediator.js"][312] = 0,
        _$jscoverage["mediator.js"][319] = 0,
        _$jscoverage["mediator.js"][328] = 0,
        _$jscoverage["mediator.js"][331] = 0,
        _$jscoverage["mediator.js"][333] = 0,
        _$jscoverage["mediator.js"][338] = 0,
        _$jscoverage["mediator.js"][339] = 0,
        _$jscoverage["mediator.js"][340] = 0,
        _$jscoverage["mediator.js"][341] = 0,
        _$jscoverage["mediator.js"][342] = 0,
        _$jscoverage["mediator.js"][346] = 0,
        _$jscoverage["mediator.js"][347] = 0,
        _$jscoverage["mediator.js"][348] = 0),
        _$jscoverage["mediator.js"].source = ["/*jslint bitwise: true, nomen: true, plusplus: true, white: true */", "", "/*!", "* Mediator.js Library v0.9.0", "* https://github.com/ajacksified/Mediator.js", "*", "* Copyright 2013, Jack Lawson", "* MIT Licensed (http://www.opensource.org/licenses/mit-license.php)", "*", "* For more information: http://thejacklawson.com/2011/06/mediators-for-modularized-asynchronous-programming-in-javascript/index.html", "* Project on GitHub: https://github.com/ajacksified/Mediator.js", "*", "* Last update: Jan 04 2013", "*/", "", "(function(root, factory) {", "  'use strict';", "", "  if(typeof root.exports === 'function') {", "    // Node/CommonJS", "    root.exports.Mediator = factory();", "  } else if(typeof root.define === 'function' &amp;&amp; root.define.amd) {", "    // AMD", "    root.define([], function() {", "      // Export to global too, for backward compatiblity", "      root.Mediator = factory();", "    });", "  } else {", "    // Browser global", "    root.Mediator = factory();", "  }", "}(this, function() {", "  'use strict';", "", "  // We'll generate guids for class instances for easy referencing later on.", "  // Subscriber instances will have an id that can be refernced for quick", "  // lookups.", "", "  function guidGenerator() {", "    var S4 = function() {", "       return (((1+Math.random())*0x10000)|0).toString(16).substring(1);", "    };", "", '    return (S4()+S4()+"-"+S4()+"-"+S4()+"-"+S4()+"-"+S4()+S4()+S4());', "  }", "", "  // Subscribers are instances of Mediator Channel registrations. We generate", "  // an object instance so that it can be updated later on without having to", "  // unregister and re-register. Subscribers are constructed with a function", "  // to be called, options object, and context.", "", "  function Subscriber(fn, options, context){", "    if(!(this instanceof Subscriber)) {", "      return new Subscriber(fn, options, context);", "    }", "", "    this.id = guidGenerator();", "    this.fn = fn;", "    this.options = options;", "    this.context = context;", "    this.channel = null;", "  }", "", "  Subscriber.prototype = {", "    // Mediator.update on a subscriber instance can update its function,context,", "    // or options object. It takes in an object and looks for fn, context, or", "    // options keys.", "", "    update: function(options){", "      if(options){", "        this.fn = options.fn || this.fn;", "        this.context = options.context || this.context;", "        this.options = options.options || this.options;", "        if(this.channel &amp;&amp; this.options &amp;&amp; this.options.priority !== undefined) {", "            this.channel.setPriority(this.id, this.options.priority);", "        }", "      }", "    }", "  };", "", "", "  function Channel(namespace, parent){", "    if(!(this instanceof Channel)) {", "      return new Channel(namespace);", "    }", "", '    this.namespace = namespace || "";', "    this._subscribers = [];", "    this._channels = [];", "    this._parent = parent;", "    this.stopped = false;", "  }", "", "  // A Mediator channel holds a list of sub-channels and subscribers to be fired", "  // when Mediator.publish is called on the Mediator instance. It also contains", "  // some methods to manipulate its lists of data; only setPriority and", "  // StopPropagation are meant to be used. The other methods should be accessed", "  // through the Mediator instance.", "", "  Channel.prototype = {", "    addSubscriber: function(fn, options, context){", "      var subscriber = new Subscriber(fn, options, context);", "", "      if(options &amp;&amp; options.priority !== undefined){", "        // Cheap hack to either parse as an int or turn it into 0. Runs faster", "        // in many browsers than parseInt with the benefit that it won't", "        // return a NaN.", "        options.priority = options.priority &gt;&gt; 0;", "", "        if(options.priority &lt; 0){ options.priority = 0; }", "        if(options.priority &gt;= this._subscribers.length){ options.priority = this._subscribers.length-1; }", "", "        this._subscribers.splice(options.priority, 0, subscriber);", "      }else{", "        this._subscribers.push(subscriber);", "      }", "", "      subscriber.channel = this;", "", "      return subscriber;", "    },", "", "    // The channel instance is passed as an argument to the mediator subscriber,", "    // and further subscriber propagation can be called with", "    // channel.StopPropagation().", "    stopPropagation: function(){", "      this.stopped = true;", "    },", "", "    getSubscriber: function(identifier){", "      var x = 0,", "          y = this._subscribers.length;", "", "      for(x, y; x &lt; y; x++){", "        if(this._subscribers[x].id === identifier || this._subscribers[x].fn === identifier){", "          return this._subscribers[x];", "        }", "      }", "    },", "", "    // Channel.setPriority is useful in updating the order in which Subscribers", "    // are called, and takes an identifier (subscriber id or named function) and", "    // an array index. It will not search recursively through subchannels.", "", "    setPriority: function(identifier, priority){", "      var oldIndex = 0,", "          x = 0,", "          sub, firstHalf, lastHalf, y;", "", "      for(x = 0, y = this._subscribers.length; x &lt; y; x++){", "        if(this._subscribers[x].id === identifier || this._subscribers[x].fn === identifier){", "          break;", "        }", "        oldIndex ++;", "      }", "", "      sub = this._subscribers[oldIndex];", "      firstHalf = this._subscribers.slice(0, oldIndex);", "      lastHalf = this._subscribers.slice(oldIndex+1);", "", "      this._subscribers = firstHalf.concat(lastHalf);", "      this._subscribers.splice(priority, 0, sub);", "    },", "", "    addChannel: function(channel){", "      this._channels[channel] = new Channel((this.namespace ? this.namespace + ':' : '') + channel, this);", "    },", "", "    hasChannel: function(channel){", "      return this._channels.hasOwnProperty(channel);", "    },", "", "    returnChannel: function(channel){", "      return this._channels[channel];", "    },", "", "    removeSubscriber: function(identifier){", "      var x = 0,", "          y;", "          y = this._subscribers.length;", "", "      // If we don't pass in an id, we're clearing all", "      if(!identifier){", "        this._subscribers = [];", "        return;", "      }", "", "      // Going backwards makes splicing a whole lot easier.", "      for(x, y; y &gt; x; y--) {", "        if(this._subscribers[x].fn === identifier || this._subscribers[x].id === identifier){", "          this._subscribers[x].channel = null;", "          this._subscribers.splice(x,1);", "        }", "      }", "    },", "", "    // This will publish arbitrary arguments to a subscriber and then to parent", "    // channels.", "", "    publish: function(data){", "      var x = 0,", "          y = this._subscribers.length,", "          called = false,", "          subscriber, l;", "", "      // Priority is preserved in the _subscribers index.", "      for(x, y; x &lt; y; x++) {", "        if(!this.stopped){", "          subscriber = this._subscribers[x];", '          if(subscriber.options !== undefined &amp;&amp; typeof subscriber.options.predicate === "function"){', "            if(subscriber.options.predicate.apply(subscriber.context, data)){", "              subscriber.fn.apply(subscriber.context, data);", "              called = true;", "            }", "          }else{", "            subscriber.fn.apply(subscriber.context, data);", "            called = true;", "          }", "        }", "", "        if(called &amp;&amp; subscriber.options &amp;&amp; subscriber.options !== undefined){", "          subscriber.options.calls--;", "", "          if(subscriber.options.calls &lt; 1){", "            this.removeSubscriber(subscriber.id);", "          }else{", "            subscriber.update(subscriber.options);", "          }", "        }", "      }", "", "      if(this._parent){", "        this._parent.publish(data);", "      }", "", "      this.stopped = false;", "    }", "  };", "", "  function Mediator() {", "    if(!(this instanceof Mediator)) {", "      return new Mediator();", "    }", "", "    this._channels = new Channel('');", "  }", "", "  // A Mediator instance is the interface through which events are registered", "  // and removed from publish channels.", "", "  Mediator.prototype = {", "", "    // Returns a channel instance based on namespace, for example", "    // application:chat:message:received", "", "    getChannel: function(namespace){", "      var channel = this._channels,", "          namespaceHierarchy = namespace.split(':'),", "          x = 0, ", "          y = namespaceHierarchy.length;", "", "      if(namespace === ''){", "        return channel;", "      }", "", "      if(namespaceHierarchy.length &gt; 0){", "        for(x, y; x &lt; y; x++){", "", "          if(!channel.hasChannel(namespaceHierarchy[x])){", "            channel.addChannel(namespaceHierarchy[x]);", "          }", "", "          channel = channel.returnChannel(namespaceHierarchy[x]);", "        }", "      }", "", "      return channel;", "    },", "", "    // Pass in a channel namespace, function to be called, options, and context", "    // to call the function in to Subscribe. It will create a channel if one", "    // does not exist. Options can include a predicate to determine if it", "    // should be called (based on the data published to it) and a priority", "    // index.", "", "    subscribe: function(channelName, fn, options, context){", "      var channel = this.getChannel(channelName);", "", "      options = options || {};", "      context = context || {};", "", "      return channel.addSubscriber(fn, options, context);", "    },", "", "    // Pass in a channel namespace, function to be called, options, and context", "    // to call the function in to Subscribe. It will create a channel if one", "    // does not exist. Options can include a predicate to determine if it", "    // should be called (based on the data published to it) and a priority", "    // index.", "", "    once: function(channelName, fn, options, context){", "      options = options || {};", "      options.calls = 1;", "", "      return this.subscribe(channelName, fn, options, context);", "    },", "", "    // Returns a subscriber for a given subscriber id / named function and", "    // channel namespace", "", "    getSubscriber: function(identifier, channel){", '      return this.getChannel(channel || "").getSubscriber(identifier);', "    },", "", "    // Remove a subscriber from a given channel namespace recursively based on", "    // a passed-in subscriber id or named function.", "", "    remove: function(channelName, identifier){", "      this.getChannel(channelName).removeSubscriber(identifier);", "    },", "", "    // Publishes arbitrary data to a given channel namespace. Channels are", "    // called recursively downwards; a post to application:chat will post to", "    // application:chat:receive and application:chat:derp:test:beta:bananas.", '    // Called using Mediator.publish("application:chat", [ args ]);', "", "    publish: function(channelName){", "      var args = Array.prototype.slice.call(arguments, 1),", "          channel = this.getChannel(channelName);", "", "      args.push(channel);", "", "      this.getChannel(channelName).publish(args);", "    }", "  };", "", "  // Alias some common names for easy interop", "  Mediator.prototype.on = Mediator.prototype.subscribe;", "  Mediator.prototype.bind = Mediator.prototype.subscribe;", "  Mediator.prototype.emit = Mediator.prototype.publish;", "  Mediator.prototype.trigger = Mediator.prototype.publish;", "  Mediator.prototype.off = Mediator.prototype.remove;", "", "  // Finally, expose it all.", "", "  Mediator.Channel = Channel;", "  Mediator.Subscriber = Subscriber;", "  return Mediator;", "}));"],
        _$jscoverage["mediator.js"][16]++,
        function(e, t) {
            _$jscoverage["mediator.js"][17]++,
            _$jscoverage["mediator.js"][19]++,
            "function" == typeof e.exports ? (_$jscoverage["mediator.js"][21]++,
            e.exports.Mediator = t()) : (_$jscoverage["mediator.js"][22]++,
            "function" == typeof e.define && e.define.amd ? (_$jscoverage["mediator.js"][24]++,
            e.define([], function() {
                _$jscoverage["mediator.js"][26]++,
                e.Mediator = t()
            })) : (_$jscoverage["mediator.js"][30]++,
            e.Mediator = t()))
        }(this, function() {
            function e() {
                _$jscoverage["mediator.js"][40]++;
                var e = function() {
                    return _$jscoverage["mediator.js"][41]++,
                    (65536 * (1 + Math.random()) | 0).toString(16).substring(1)
                };
                return _$jscoverage["mediator.js"][44]++,
                e() + e() + "-" + e() + "-" + e() + "-" + e() + "-" + e() + e() + e()
            }
            function t(i, n, r) {
                return _$jscoverage["mediator.js"][53]++,
                this instanceof t ? (_$jscoverage["mediator.js"][57]++,
                this.id = e(),
                _$jscoverage["mediator.js"][58]++,
                this.fn = i,
                _$jscoverage["mediator.js"][59]++,
                this.options = n,
                _$jscoverage["mediator.js"][60]++,
                this.context = r,
                _$jscoverage["mediator.js"][61]++,
                void (this.channel = null)) : (_$jscoverage["mediator.js"][54]++,
                new t(i,n,r))
            }
            function i(e, t) {
                return _$jscoverage["mediator.js"][83]++,
                this instanceof i ? (_$jscoverage["mediator.js"][87]++,
                this.namespace = e || "",
                _$jscoverage["mediator.js"][88]++,
                this._subscribers = [],
                _$jscoverage["mediator.js"][89]++,
                this._channels = [],
                _$jscoverage["mediator.js"][90]++,
                this._parent = t,
                _$jscoverage["mediator.js"][91]++,
                void (this.stopped = !1)) : (_$jscoverage["mediator.js"][84]++,
                new i(e))
            }
            function n() {
                return _$jscoverage["mediator.js"][241]++,
                this instanceof n ? (_$jscoverage["mediator.js"][245]++,
                void (this._channels = new i(""))) : (_$jscoverage["mediator.js"][242]++,
                new n)
            }
            return _$jscoverage["mediator.js"][33]++,
            _$jscoverage["mediator.js"][39]++,
            _$jscoverage["mediator.js"][52]++,
            _$jscoverage["mediator.js"][64]++,
            t.prototype = {
                update: function(e) {
                    _$jscoverage["mediator.js"][70]++,
                    e && (_$jscoverage["mediator.js"][71]++,
                    this.fn = e.fn || this.fn,
                    _$jscoverage["mediator.js"][72]++,
                    this.context = e.context || this.context,
                    _$jscoverage["mediator.js"][73]++,
                    this.options = e.options || this.options,
                    _$jscoverage["mediator.js"][74]++,
                    this.channel && this.options && void 0 !== this.options.priority && (_$jscoverage["mediator.js"][75]++,
                    this.channel.setPriority(this.id, this.options.priority)))
                }
            },
            _$jscoverage["mediator.js"][82]++,
            _$jscoverage["mediator.js"][100]++,
            i.prototype = {
                addSubscriber: function(e, i, n) {
                    _$jscoverage["mediator.js"][102]++;
                    var r = new t(e,i,n);
                    return _$jscoverage["mediator.js"][104]++,
                    i && void 0 !== i.priority ? (_$jscoverage["mediator.js"][108]++,
                    i.priority = i.priority >> 0,
                    _$jscoverage["mediator.js"][110]++,
                    i.priority < 0 && (_$jscoverage["mediator.js"][110]++,
                    i.priority = 0),
                    _$jscoverage["mediator.js"][111]++,
                    i.priority >= this._subscribers.length && (_$jscoverage["mediator.js"][111]++,
                    i.priority = this._subscribers.length - 1),
                    _$jscoverage["mediator.js"][113]++,
                    this._subscribers.splice(i.priority, 0, r)) : (_$jscoverage["mediator.js"][115]++,
                    this._subscribers.push(r)),
                    _$jscoverage["mediator.js"][118]++,
                    r.channel = this,
                    _$jscoverage["mediator.js"][120]++,
                    r
                },
                stopPropagation: function() {
                    _$jscoverage["mediator.js"][127]++,
                    this.stopped = !0
                },
                getSubscriber: function(e) {
                    _$jscoverage["mediator.js"][131]++;
                    var t = 0
                      , i = this._subscribers.length;
                    for (_$jscoverage["mediator.js"][134]++,
                    i; t < i; t++)
                        if (_$jscoverage["mediator.js"][135]++,
                        this._subscribers[t].id === e || this._subscribers[t].fn === e)
                            return _$jscoverage["mediator.js"][136]++,
                            this._subscribers[t]
                },
                setPriority: function(e, t) {
                    _$jscoverage["mediator.js"][146]++;
                    var i, n, r, s, o = 0, a = 0;
                    for (_$jscoverage["mediator.js"][150]++,
                    a = 0,
                    s = this._subscribers.length; a < s; a++) {
                        if (_$jscoverage["mediator.js"][151]++,
                        this._subscribers[a].id === e || this._subscribers[a].fn === e) {
                            _$jscoverage["mediator.js"][152]++;
                            break
                        }
                        _$jscoverage["mediator.js"][154]++,
                        o++
                    }
                    _$jscoverage["mediator.js"][157]++,
                    i = this._subscribers[o],
                    _$jscoverage["mediator.js"][158]++,
                    n = this._subscribers.slice(0, o),
                    _$jscoverage["mediator.js"][159]++,
                    r = this._subscribers.slice(o + 1),
                    _$jscoverage["mediator.js"][161]++,
                    this._subscribers = n.concat(r),
                    _$jscoverage["mediator.js"][162]++,
                    this._subscribers.splice(t, 0, i)
                },
                addChannel: function(e) {
                    _$jscoverage["mediator.js"][166]++,
                    this._channels[e] = new i((this.namespace ? this.namespace + ":" : "") + e,this)
                },
                hasChannel: function(e) {
                    return _$jscoverage["mediator.js"][170]++,
                    this._channels.hasOwnProperty(e)
                },
                returnChannel: function(e) {
                    return _$jscoverage["mediator.js"][174]++,
                    this._channels[e]
                },
                removeSubscriber: function(e) {
                    _$jscoverage["mediator.js"][178]++;
                    var t, i = 0;
                    if (_$jscoverage["mediator.js"][180]++,
                    t = this._subscribers.length,
                    _$jscoverage["mediator.js"][183]++,
                    !e)
                        return _$jscoverage["mediator.js"][184]++,
                        this._subscribers = [],
                        void _$jscoverage["mediator.js"][185]++;
                    for (_$jscoverage["mediator.js"][189]++,
                    t; t > i; t--)
                        _$jscoverage["mediator.js"][190]++,
                        this._subscribers[i].fn !== e && this._subscribers[i].id !== e || (_$jscoverage["mediator.js"][191]++,
                        this._subscribers[i].channel = null,
                        _$jscoverage["mediator.js"][192]++,
                        this._subscribers.splice(i, 1))
                },
                publish: function(e) {
                    _$jscoverage["mediator.js"][201]++;
                    var t, i = 0, n = this._subscribers.length, r = !1;
                    for (_$jscoverage["mediator.js"][207]++,
                    n; i < n; i++)
                        _$jscoverage["mediator.js"][208]++,
                        this.stopped || (_$jscoverage["mediator.js"][209]++,
                        t = this._subscribers[i],
                        _$jscoverage["mediator.js"][210]++,
                        void 0 !== t.options && "function" == typeof t.options.predicate ? (_$jscoverage["mediator.js"][211]++,
                        t.options.predicate.apply(t.context, e) && (_$jscoverage["mediator.js"][212]++,
                        t.fn.apply(t.context, e),
                        _$jscoverage["mediator.js"][213]++,
                        r = !0)) : (_$jscoverage["mediator.js"][216]++,
                        t.fn.apply(t.context, e),
                        _$jscoverage["mediator.js"][217]++,
                        r = !0)),
                        _$jscoverage["mediator.js"][221]++,
                        r && t.options && void 0 !== t.options && (_$jscoverage["mediator.js"][222]++,
                        t.options.calls--,
                        _$jscoverage["mediator.js"][224]++,
                        t.options.calls < 1 ? (_$jscoverage["mediator.js"][225]++,
                        this.removeSubscriber(t.id)) : (_$jscoverage["mediator.js"][227]++,
                        t.update(t.options)));
                    _$jscoverage["mediator.js"][232]++,
                    this._parent && (_$jscoverage["mediator.js"][233]++,
                    this._parent.publish(e)),
                    _$jscoverage["mediator.js"][236]++,
                    this.stopped = !1
                }
            },
            _$jscoverage["mediator.js"][240]++,
            _$jscoverage["mediator.js"][251]++,
            n.prototype = {
                getChannel: function(e) {
                    _$jscoverage["mediator.js"][257]++;
                    var t = this._channels
                      , i = e.split(":")
                      , n = 0
                      , r = i.length;
                    if (_$jscoverage["mediator.js"][262]++,
                    "" === e)
                        return _$jscoverage["mediator.js"][263]++,
                        t;
                    if (_$jscoverage["mediator.js"][266]++,
                    i.length > 0)
                        for (_$jscoverage["mediator.js"][267]++,
                        r; n < r; n++)
                            _$jscoverage["mediator.js"][269]++,
                            t.hasChannel(i[n]) || (_$jscoverage["mediator.js"][270]++,
                            t.addChannel(i[n])),
                            _$jscoverage["mediator.js"][273]++,
                            t = t.returnChannel(i[n]);
                    return _$jscoverage["mediator.js"][277]++,
                    t
                },
                subscribe: function(e, t, i, n) {
                    _$jscoverage["mediator.js"][287]++;
                    var r = this.getChannel(e);
                    return _$jscoverage["mediator.js"][289]++,
                    i = i || {},
                    _$jscoverage["mediator.js"][290]++,
                    n = n || {},
                    _$jscoverage["mediator.js"][292]++,
                    r.addSubscriber(t, i, n)
                },
                once: function(e, t, i, n) {
                    return _$jscoverage["mediator.js"][302]++,
                    i = i || {},
                    _$jscoverage["mediator.js"][303]++,
                    i.calls = 1,
                    _$jscoverage["mediator.js"][305]++,
                    this.subscribe(e, t, i, n)
                },
                getSubscriber: function(e, t) {
                    return _$jscoverage["mediator.js"][312]++,
                    this.getChannel(t || "").getSubscriber(e)
                },
                remove: function(e, t) {
                    _$jscoverage["mediator.js"][319]++,
                    this.getChannel(e).removeSubscriber(t)
                },
                publish: function(e) {
                    _$jscoverage["mediator.js"][328]++;
                    var t = Array.prototype.slice.call(arguments, 1)
                      , i = this.getChannel(e);
                    _$jscoverage["mediator.js"][331]++,
                    t.push(i),
                    _$jscoverage["mediator.js"][333]++,
                    this.getChannel(e).publish(t)
                }
            },
            _$jscoverage["mediator.js"][338]++,
            n.prototype.on = n.prototype.subscribe,
            _$jscoverage["mediator.js"][339]++,
            n.prototype.bind = n.prototype.subscribe,
            _$jscoverage["mediator.js"][340]++,
            n.prototype.emit = n.prototype.publish,
            _$jscoverage["mediator.js"][341]++,
            n.prototype.trigger = n.prototype.publish,
            _$jscoverage["mediator.js"][342]++,
            n.prototype.off = n.prototype.remove,
            _$jscoverage["mediator.js"][346]++,
            n.Channel = i,
            _$jscoverage["mediator.js"][347]++,
            n.Subscriber = t,
            _$jscoverage["mediator.js"][348]++,
            n
        })
    }
    , function(e, t, i) {
        var n, r;
        /*!
* Mediator.js Library v0.9.8
* https://github.com/ajacksified/Mediator.js
*
* Copyright 2013, Jack Lawson
* MIT Licensed (http://www.opensource.org/licenses/mit-license.php)
*
* For more information: http://thejacklawson.com/2011/06/mediators-for-modularized-asynchronous-programming-in-javascript/index.html
* Project on GitHub: https://github.com/ajacksified/Mediator.js
*
* Last update: October 19 2013
*/
        !function(i, s) {
            "use strict";
            n = [],
            r = function() {
                return i.Mediator = s(),
                i.Mediator
            }
            .apply(t, n),
            !(void 0 !== r && (e.exports = r))
        }(this, function() {
            "use strict";
            function e() {
                var e = function() {
                    return (65536 * (1 + Math.random()) | 0).toString(16).substring(1)
                };
                return e() + e() + "-" + e() + "-" + e() + "-" + e() + "-" + e() + e() + e()
            }
            function t(i, n, r) {
                return this instanceof t ? (this.id = e(),
                this.fn = i,
                this.options = n,
                this.context = r,
                void (this.channel = null)) : new t(i,n,r)
            }
            function i(e, t) {
                return this instanceof i ? (this.namespace = e || "",
                this._subscribers = [],
                this._channels = {},
                this._parent = t,
                void (this.stopped = !1)) : new i(e)
            }
            function n() {
                return this instanceof n ? void (this._channels = new i("")) : new n
            }
            return t.prototype.update = function(e) {
                e && (this.fn = e.fn || this.fn,
                this.context = e.context || this.context,
                this.options = e.options || this.options,
                this.channel && this.options && void 0 !== this.options.priority && this.channel.setPriority(this.id, this.options.priority))
            }
            ,
            i.prototype.addSubscriber = function(e, i, n) {
                var r = new t(e,i,n);
                return i && void 0 !== i.priority ? (i.priority = i.priority >> 0,
                i.priority < 0 && (i.priority = 0),
                i.priority >= this._subscribers.length && (i.priority = this._subscribers.length - 1),
                this._subscribers.splice(i.priority, 0, r)) : this._subscribers.push(r),
                r.channel = this,
                r
            }
            ,
            i.prototype.stopPropagation = function() {
                this.stopped = !0
            }
            ,
            i.prototype.getSubscriber = function(e) {
                var t = 0
                  , i = this._subscribers.length;
                for (i; t < i; t++)
                    if (this._subscribers[t].id === e || this._subscribers[t].fn === e)
                        return this._subscribers[t]
            }
            ,
            i.prototype.setPriority = function(e, t) {
                var i, n, r, s, o = 0, a = 0;
                for (a = 0,
                s = this._subscribers.length; a < s && (this._subscribers[a].id !== e && this._subscribers[a].fn !== e); a++)
                    o++;
                i = this._subscribers[o],
                n = this._subscribers.slice(0, o),
                r = this._subscribers.slice(o + 1),
                this._subscribers = n.concat(r),
                this._subscribers.splice(t, 0, i)
            }
            ,
            i.prototype.addChannel = function(e) {
                this._channels[e] = new i((this.namespace ? this.namespace + ":" : "") + e,this)
            }
            ,
            i.prototype.hasChannel = function(e) {
                return this._channels.hasOwnProperty(e)
            }
            ,
            i.prototype.returnChannel = function(e) {
                return this._channels[e]
            }
            ,
            i.prototype.removeSubscriber = function(e) {
                var t = this._subscribers.length - 1;
                if (!e)
                    return void (this._subscribers = []);
                for (t; t >= 0; t--)
                    this._subscribers[t].fn !== e && this._subscribers[t].id !== e || (this._subscribers[t].channel = null,
                    this._subscribers.splice(t, 1))
            }
            ,
            i.prototype.publish = function(e) {
                var t, i, n, r = 0, s = this._subscribers.length, o = !1;
                for (s; r < s; r++)
                    o = !1,
                    t = this._subscribers[r],
                    this.stopped || (i = this._subscribers.length,
                    void 0 !== t.options && "function" == typeof t.options.predicate ? t.options.predicate.apply(t.context, e) && (o = !0) : o = !0),
                    o && (t.options && void 0 !== t.options.calls && (t.options.calls--,
                    t.options.calls < 1 && this.removeSubscriber(t.id)),
                    t.fn.apply(t.context, e),
                    n = this._subscribers.length,
                    s = n,
                    n === i - 1 && r--);
                this._parent && this._parent.publish(e),
                this.stopped = !1
            }
            ,
            n.prototype.getChannel = function(e, t) {
                var i = this._channels
                  , n = e.split(":")
                  , r = 0
                  , s = n.length;
                if ("" === e)
                    return i;
                if (n.length > 0)
                    for (s; r < s; r++) {
                        if (!i.hasChannel(n[r])) {
                            if (t)
                                break;
                            i.addChannel(n[r])
                        }
                        i = i.returnChannel(n[r])
                    }
                return i
            }
            ,
            n.prototype.subscribe = function(e, t, i, n) {
                var r = this.getChannel(e || "", !1);
                return i = i || {},
                n = n || {},
                r.addSubscriber(t, i, n)
            }
            ,
            n.prototype.once = function(e, t, i, n) {
                return i = i || {},
                i.calls = 1,
                this.subscribe(e, t, i, n)
            }
            ,
            n.prototype.getSubscriber = function(e, t) {
                var i = this.getChannel(t || "", !0);
                return i.namespace !== t ? null : i.getSubscriber(e)
            }
            ,
            n.prototype.remove = function(e, t) {
                var i = this.getChannel(e || "", !0);
                return i.namespace === e && void i.removeSubscriber(t)
            }
            ,
            n.prototype.publish = function(e) {
                var t = this.getChannel(e || "", !0);
                if (t.namespace !== e)
                    return null;
                var i = Array.prototype.slice.call(arguments, 1);
                i.push(t),
                t.publish(i)
            }
            ,
            n.prototype.on = n.prototype.subscribe,
            n.prototype.bind = n.prototype.subscribe,
            n.prototype.emit = n.prototype.publish,
            n.prototype.trigger = n.prototype.publish,
            n.prototype.off = n.prototype.remove,
            n.Channel = i,
            n.Subscriber = t,
            n.version = "0.9.8",
            n
        })
    }
    , function(e, t) {
        function i() {
            throw new Error("setTimeout has not been defined")
        }
        function n() {
            throw new Error("clearTimeout has not been defined")
        }
        function r(e) {
            if (h === setTimeout)
                return setTimeout(e, 0);
            if ((h === i || !h) && setTimeout)
                return h = setTimeout,
                setTimeout(e, 0);
            try {
                return h(e, 0)
            } catch (t) {
                try {
                    return h.call(null, e, 0)
                } catch (t) {
                    return h.call(this, e, 0)
                }
            }
        }
        function s(e) {
            if (u === clearTimeout)
                return clearTimeout(e);
            if ((u === n || !u) && clearTimeout)
                return u = clearTimeout,
                clearTimeout(e);
            try {
                return u(e)
            } catch (t) {
                try {
                    return u.call(null, e)
                } catch (t) {
                    return u.call(this, e)
                }
            }
        }
        function o() {
            m && f && (m = !1,
            f.length ? p = f.concat(p) : g = -1,
            p.length && a())
        }
        function a() {
            if (!m) {
                var e = r(o);
                m = !0;
                for (var t = p.length; t; ) {
                    for (f = p,
                    p = []; ++g < t; )
                        f && f[g].run();
                    g = -1,
                    t = p.length
                }
                f = null,
                m = !1,
                s(e)
            }
        }
        function c(e, t) {
            this.fun = e,
            this.array = t
        }
        function l() {}
        var h, u, d = e.exports = {};
        !function() {
            try {
                h = "function" == typeof setTimeout ? setTimeout : i
            } catch (e) {
                h = i
            }
            try {
                u = "function" == typeof clearTimeout ? clearTimeout : n
            } catch (e) {
                u = n
            }
        }();
        var f, p = [], m = !1, g = -1;
        d.nextTick = function(e) {
            var t = new Array(arguments.length - 1);
            if (arguments.length > 1)
                for (var i = 1; i < arguments.length; i++)
                    t[i - 1] = arguments[i];
            p.push(new c(e,t)),
            1 !== p.length || m || r(a)
        }
        ,
        c.prototype.run = function() {
            this.fun.apply(null, this.array)
        }
        ,
        d.title = "browser",
        d.browser = !0,
        d.env = {},
        d.argv = [],
        d.version = "",
        d.versions = {},
        d.on = l,
        d.addListener = l,
        d.once = l,
        d.off = l,
        d.removeListener = l,
        d.removeAllListeners = l,
        d.emit = l,
        d.binding = function(e) {
            throw new Error("process.binding is not supported")
        }
        ,
        d.cwd = function() {
            return "/"
        }
        ,
        d.chdir = function(e) {
            throw new Error("process.chdir is not supported")
        }
        ,
        d.umask = function() {
            return 0
        }
    }
    , function(e, t) {
        e.exports = function(e, t, i) {
            for (var n = 0, r = e.length, s = 3 == arguments.length ? i : e[n++]; n < r; )
                s = t.call(null, s, e[n], ++n, e);
            return s
        }
    }
    , function(e, t, i) {
        "use strict";
        var n = this && this.__extends || function(e, t) {
            function i() {
                this.constructor = e
            }
            for (var n in t)
                t.hasOwnProperty(n) && (e[n] = t[n]);
            e.prototype = null === t ? Object.create(t) : (i.prototype = t.prototype,
            new i)
        }
          , r = i(14)
          , s = i(17)
          , o = function(e) {
            function t() {
                e.apply(this, arguments),
                this.value = null,
                this.hasNext = !1,
                this.hasCompleted = !1
            }
            return n(t, e),
            t.prototype._subscribe = function(t) {
                return this.hasCompleted && this.hasNext ? (t.next(this.value),
                t.complete(),
                s.Subscription.EMPTY) : this.hasError ? (t.error(this.thrownError),
                s.Subscription.EMPTY) : e.prototype._subscribe.call(this, t)
            }
            ,
            t.prototype.next = function(e) {
                this.hasCompleted || (this.value = e,
                this.hasNext = !0)
            }
            ,
            t.prototype.complete = function() {
                this.hasCompleted = !0,
                this.hasNext && e.prototype.next.call(this, this.value),
                e.prototype.complete.call(this)
            }
            ,
            t
        }(r.Subject);
        t.AsyncSubject = o
    }
    , function(e, t, i) {
        "use strict";
        var n = this && this.__extends || function(e, t) {
            function i() {
                this.constructor = e
            }
            for (var n in t)
                t.hasOwnProperty(n) && (e[n] = t[n]);
            e.prototype = null === t ? Object.create(t) : (i.prototype = t.prototype,
            new i)
        }
          , r = i(14)
          , s = i(98)
          , o = function(e) {
            function t(t) {
                e.call(this),
                this._value = t
            }
            return n(t, e),
            Object.defineProperty(t.prototype, "value", {
                get: function() {
                    return this.getValue()
                },
                enumerable: !0,
                configurable: !0
            }),
            t.prototype._subscribe = function(t) {
                var i = e.prototype._subscribe.call(this, t);
                return i && !i.closed && t.next(this._value),
                i
            }
            ,
            t.prototype.getValue = function() {
                if (this.hasError)
                    throw this.thrownError;
                if (this.closed)
                    throw new s.ObjectUnsubscribedError;
                return this._value
            }
            ,
            t.prototype.next = function(t) {
                e.prototype.next.call(this, this._value = t)
            }
            ,
            t
        }(r.Subject);
        t.BehaviorSubject = o
    }
    , function(e, t, i) {
        "use strict";
        var n = this && this.__extends || function(e, t) {
            function i() {
                this.constructor = e
            }
            for (var n in t)
                t.hasOwnProperty(n) && (e[n] = t[n]);
            e.prototype = null === t ? Object.create(t) : (i.prototype = t.prototype,
            new i)
        }
          , r = i(5)
          , s = function(e) {
            function t(t, i, n) {
                e.call(this),
                this.parent = t,
                this.outerValue = i,
                this.outerIndex = n,
                this.index = 0
            }
            return n(t, e),
            t.prototype._next = function(e) {
                this.parent.notifyNext(this.outerValue, e, this.outerIndex, this.index++, this)
            }
            ,
            t.prototype._error = function(e) {
                this.parent.notifyError(e, this),
                this.unsubscribe()
            }
            ,
            t.prototype._complete = function() {
                this.parent.notifyComplete(this),
                this.unsubscribe()
            }
            ,
            t
        }(r.Subscriber);
        t.InnerSubscriber = s
    }
    , function(e, t, i) {
        "use strict";
        t.empty = {
            closed: !0,
            next: function(e) {},
            error: function(e) {
                throw e
            },
            complete: function() {}
        }
    }
    , function(e, t, i) {
        "use strict";
        var n = function() {
            function e(t, i) {
                void 0 === i && (i = e.now),
                this.SchedulerAction = t,
                this.now = i
            }
            return e.prototype.schedule = function(e, t, i) {
                return void 0 === t && (t = 0),
                new this.SchedulerAction(this,e).schedule(i, t)
            }
            ,
            e.now = Date.now ? Date.now : function() {
                return +new Date
            }
            ,
            e
        }();
        t.Scheduler = n
    }
    , function(e, t, i) {
        "use strict";
        var n = this && this.__extends || function(e, t) {
            function i() {
                this.constructor = e
            }
            for (var n in t)
                t.hasOwnProperty(n) && (e[n] = t[n]);
            e.prototype = null === t ? Object.create(t) : (i.prototype = t.prototype,
            new i)
        }
          , r = i(17)
          , s = function(e) {
            function t(t, i) {
                e.call(this),
                this.subject = t,
                this.subscriber = i,
                this.closed = !1
            }
            return n(t, e),
            t.prototype.unsubscribe = function() {
                if (!this.closed) {
                    this.closed = !0;
                    var e = this.subject
                      , t = e.observers;
                    if (this.subject = null,
                    t && 0 !== t.length && !e.isStopped && !e.closed) {
                        var i = t.indexOf(this.subscriber);
                        i !== -1 && t.splice(i, 1)
                    }
                }
            }
            ,
            t
        }(r.Subscription);
        t.SubjectSubscription = s
    }
    , function(e, t, i) {
        "use strict";
        var n = i(0)
          , r = i(206);
        n.Observable.bindCallback = r.bindCallback
    }
    , function(e, t, i) {
        "use strict";
        var n = i(0)
          , r = i(208);
        n.Observable.ajax = r.ajax
    }
    , function(e, t, i) {
        "use strict";
        var n = i(0)
          , r = i(209);
        n.Observable.empty = r.empty
    }
    , function(e, t, i) {
        "use strict";
        var n = i(0)
          , r = i(212);
        n.Observable.interval = r.interval
    }
    , function(e, t, i) {
        "use strict";
        var n = i(0)
          , r = i(214);
        n.Observable.never = r.never
    }
    , function(e, t, i) {
        "use strict";
        var n = i(0)
          , r = i(215);
        n.Observable.timer = r.timer
    }
    , function(e, t, i) {
        "use strict";
        var n = i(0)
          , r = i(216);
        n.Observable.prototype.buffer = r.buffer
    }
    , function(e, t, i) {
        "use strict";
        var n = i(0)
          , r = i(217);
        n.Observable.prototype["catch"] = r._catch,
        n.Observable.prototype._catch = r._catch
    }
    , function(e, t, i) {
        "use strict";
        var n = i(0)
          , r = i(219);
        n.Observable.prototype.concatAll = r.concatAll
    }
    , function(e, t, i) {
        "use strict";
        var n = i(0)
          , r = i(220);
        n.Observable.prototype.defaultIfEmpty = r.defaultIfEmpty
    }
    , function(e, t, i) {
        "use strict";
        var n = i(0)
          , r = i(221);
        n.Observable.prototype.delay = r.delay
    }
    , function(e, t, i) {
        "use strict";
        var n = i(0)
          , r = i(222);
        n.Observable.prototype.distinctUntilKeyChanged = r.distinctUntilKeyChanged
    }
    , function(e, t, i) {
        "use strict";
        var n = i(0)
          , r = i(97);
        n.Observable.prototype.multicast = r.multicast
    }
    , function(e, t, i) {
        "use strict";
        var n = i(0)
          , r = i(231);
        n.Observable.prototype.skip = r.skip
    }
    , function(e, t, i) {
        "use strict";
        var n = i(0)
          , r = i(232);
        n.Observable.prototype.startWith = r.startWith
    }
    , function(e, t, i) {
        "use strict";
        var n = this && this.__extends || function(e, t) {
            function i() {
                this.constructor = e
            }
            for (var n in t)
                t.hasOwnProperty(n) && (e[n] = t[n]);
            e.prototype = null === t ? Object.create(t) : (i.prototype = t.prototype,
            new i)
        }
          , r = i(0)
          , s = i(68)
          , o = i(32)
          , a = function(e) {
            function t(t, i) {
                e.call(this),
                this.arrayLike = t,
                this.scheduler = i,
                i || 1 !== t.length || (this._isScalar = !0,
                this.value = t[0])
            }
            return n(t, e),
            t.create = function(e, i) {
                var n = e.length;
                return 0 === n ? new o.EmptyObservable : 1 === n ? new s.ScalarObservable(e[0],i) : new t(e,i)
            }
            ,
            t.dispatch = function(e) {
                var t = e.arrayLike
                  , i = e.index
                  , n = e.length
                  , r = e.subscriber;
                if (!r.closed) {
                    if (i >= n)
                        return void r.complete();
                    r.next(t[i]),
                    e.index = i + 1,
                    this.schedule(e)
                }
            }
            ,
            t.prototype._subscribe = function(e) {
                var i = 0
                  , n = this
                  , r = n.arrayLike
                  , s = n.scheduler
                  , o = r.length;
                if (s)
                    return s.schedule(t.dispatch, 0, {
                        arrayLike: r,
                        index: i,
                        length: o,
                        subscriber: e
                    });
                for (var a = 0; a < o && !e.closed; a++)
                    e.next(r[a]);
                e.complete()
            }
            ,
            t
        }(r.Observable);
        t.ArrayLikeObservable = a
    }
    , function(e, t, i) {
        "use strict";
        function n(e) {
            var t = e.value
              , i = e.subject;
            i.next(t),
            i.complete()
        }
        function r(e) {
            var t = e.err
              , i = e.subject;
            i.error(t)
        }
        var s = this && this.__extends || function(e, t) {
            function i() {
                this.constructor = e
            }
            for (var n in t)
                t.hasOwnProperty(n) && (e[n] = t[n]);
            e.prototype = null === t ? Object.create(t) : (i.prototype = t.prototype,
            new i)
        }
          , o = i(0)
          , a = i(34)
          , c = i(24)
          , l = i(175)
          , h = function(e) {
            function t(t, i, n, r) {
                e.call(this),
                this.callbackFunc = t,
                this.selector = i,
                this.args = n,
                this.scheduler = r
            }
            return s(t, e),
            t.create = function(e, i, n) {
                return void 0 === i && (i = void 0),
                function() {
                    for (var r = [], s = 0; s < arguments.length; s++)
                        r[s - 0] = arguments[s];
                    return new t(e,i,r,n)
                }
            }
            ,
            t.prototype._subscribe = function(e) {
                var i = this.callbackFunc
                  , n = this.args
                  , r = this.scheduler
                  , s = this.subject;
                if (r)
                    return r.schedule(t.dispatch, 0, {
                        source: this,
                        subscriber: e
                    });
                if (!s) {
                    s = this.subject = new l.AsyncSubject;
                    var o = function u() {
                        for (var e = [], t = 0; t < arguments.length; t++)
                            e[t - 0] = arguments[t];
                        var i = u.source
                          , n = i.selector
                          , r = i.subject;
                        if (n) {
                            var s = a.tryCatch(n).apply(this, e);
                            s === c.errorObject ? r.error(c.errorObject.e) : (r.next(s),
                            r.complete())
                        } else
                            r.next(1 === e.length ? e[0] : e),
                            r.complete()
                    };
                    o.source = this;
                    var h = a.tryCatch(i).apply(this, n.concat(o));
                    h === c.errorObject && s.error(c.errorObject.e)
                }
                return s.subscribe(e)
            }
            ,
            t.dispatch = function(e) {
                var t = this
                  , i = e.source
                  , s = e.subscriber
                  , o = i.callbackFunc
                  , h = i.args
                  , u = i.scheduler
                  , d = i.subject;
                if (!d) {
                    d = i.subject = new l.AsyncSubject;
                    var f = function m() {
                        for (var e = [], i = 0; i < arguments.length; i++)
                            e[i - 0] = arguments[i];
                        var s = m.source
                          , o = s.selector
                          , l = s.subject;
                        if (o) {
                            var h = a.tryCatch(o).apply(this, e);
                            h === c.errorObject ? t.add(u.schedule(r, 0, {
                                err: c.errorObject.e,
                                subject: l
                            })) : t.add(u.schedule(n, 0, {
                                value: h,
                                subject: l
                            }))
                        } else {
                            var d = 1 === e.length ? e[0] : e;
                            t.add(u.schedule(n, 0, {
                                value: d,
                                subject: l
                            }))
                        }
                    };
                    f.source = i;
                    var p = a.tryCatch(o).apply(this, h.concat(f));
                    p === c.errorObject && d.error(c.errorObject.e)
                }
                t.add(d.subscribe(s))
            }
            ,
            t
        }(o.Observable);
        t.BoundCallbackObservable = h
    }
    , function(e, t, i) {
        "use strict";
        function n(e) {
            return !!e && "function" == typeof e.addListener && "function" == typeof e.removeListener
        }
        function r(e) {
            return !!e && "function" == typeof e.on && "function" == typeof e.off
        }
        function s(e) {
            return !!e && "[object NodeList]" === e.toString()
        }
        function o(e) {
            return !!e && "[object HTMLCollection]" === e.toString()
        }
        function a(e) {
            return !!e && "function" == typeof e.addEventListener && "function" == typeof e.removeEventListener
        }
        var c = this && this.__extends || function(e, t) {
            function i() {
                this.constructor = e
            }
            for (var n in t)
                t.hasOwnProperty(n) && (e[n] = t[n]);
            e.prototype = null === t ? Object.create(t) : (i.prototype = t.prototype,
            new i)
        }
          , l = i(0)
          , h = i(34)
          , u = i(74)
          , d = i(24)
          , f = i(17)
          , p = function(e) {
            function t(t, i, n, r) {
                e.call(this),
                this.sourceObj = t,
                this.eventName = i,
                this.selector = n,
                this.options = r
            }
            return c(t, e),
            t.create = function(e, i, n, r) {
                return u.isFunction(n) && (r = n,
                n = void 0),
                new t(e,i,r,n)
            }
            ,
            t.setupSubscription = function(e, i, c, l, h) {
                var u;
                if (s(e) || o(e))
                    for (var d = 0, p = e.length; d < p; d++)
                        t.setupSubscription(e[d], i, c, l, h);
                else if (a(e)) {
                    var m = e;
                    e.addEventListener(i, c, h),
                    u = function() {
                        return m.removeEventListener(i, c)
                    }
                } else if (r(e)) {
                    var g = e;
                    e.on(i, c),
                    u = function() {
                        return g.off(i, c)
                    }
                } else if (n(e)) {
                    var y = e;
                    e.addListener(i, c),
                    u = function() {
                        return y.removeListener(i, c)
                    }
                }
                l.add(new f.Subscription(u))
            }
            ,
            t.prototype._subscribe = function(e) {
                var i = this.sourceObj
                  , n = this.eventName
                  , r = this.options
                  , s = this.selector
                  , o = s ? function() {
                    for (var t = [], i = 0; i < arguments.length; i++)
                        t[i - 0] = arguments[i];
                    var n = h.tryCatch(s).apply(void 0, t);
                    n === d.errorObject ? e.error(d.errorObject.e) : e.next(n)
                }
                : function(t) {
                    return e.next(t)
                }
                ;
                t.setupSubscription(i, n, o, e, r)
            }
            ,
            t
        }(l.Observable);
        t.FromEventObservable = p
    }
    , function(e, t, i) {
        "use strict";
        var n = this && this.__extends || function(e, t) {
            function i() {
                this.constructor = e
            }
            for (var n in t)
                t.hasOwnProperty(n) && (e[n] = t[n]);
            e.prototype = null === t ? Object.create(t) : (i.prototype = t.prototype,
            new i)
        }
          , r = i(48)
          , s = i(101)
          , o = i(204)
          , a = i(201)
          , c = i(47)
          , l = i(196)
          , h = i(71)
          , u = i(0)
          , d = i(228)
          , f = i(72)
          , p = function(e) {
            return e && "number" == typeof e.length
        }
          , m = function(e) {
            function t(t, i) {
                e.call(this, null),
                this.ish = t,
                this.scheduler = i
            }
            return n(t, e),
            t.create = function(e, i) {
                if (null != e) {
                    if ("function" == typeof e[f.$$observable])
                        return e instanceof u.Observable && !i ? e : new t(e,i);
                    if (r.isArray(e))
                        return new c.ArrayObservable(e,i);
                    if (s.isPromise(e))
                        return new o.PromiseObservable(e,i);
                    if ("function" == typeof e[h.$$iterator] || "string" == typeof e)
                        return new a.IteratorObservable(e,i);
                    if (p(e))
                        return new l.ArrayLikeObservable(e,i)
                }
                throw new TypeError((null !== e && typeof e || e) + " is not observable")
            }
            ,
            t.prototype._subscribe = function(e) {
                var t = this.ish
                  , i = this.scheduler;
                return null == i ? t[f.$$observable]().subscribe(e) : t[f.$$observable]().subscribe(new d.ObserveOnSubscriber(e,i,0))
            }
            ,
            t
        }(u.Observable);
        t.FromObservable = m
    }
    , function(e, t, i) {
        "use strict";
        var n = this && this.__extends || function(e, t) {
            function i() {
                this.constructor = e
            }
            for (var n in t)
                t.hasOwnProperty(n) && (e[n] = t[n]);
            e.prototype = null === t ? Object.create(t) : (i.prototype = t.prototype,
            new i)
        }
          , r = i(100)
          , s = i(0)
          , o = i(70)
          , a = function(e) {
            function t(t, i) {
                void 0 === t && (t = 0),
                void 0 === i && (i = o.async),
                e.call(this),
                this.period = t,
                this.scheduler = i,
                (!r.isNumeric(t) || t < 0) && (this.period = 0),
                i && "function" == typeof i.schedule || (this.scheduler = o.async)
            }
            return n(t, e),
            t.create = function(e, i) {
                return void 0 === e && (e = 0),
                void 0 === i && (i = o.async),
                new t(e,i)
            }
            ,
            t.dispatch = function(e) {
                var t = e.index
                  , i = e.subscriber
                  , n = e.period;
                i.next(t),
                i.closed || (e.index += 1,
                this.schedule(e, n))
            }
            ,
            t.prototype._subscribe = function(e) {
                var i = 0
                  , n = this.period
                  , r = this.scheduler;
                e.add(r.schedule(t.dispatch, n, {
                    index: i,
                    subscriber: e,
                    period: n
                }))
            }
            ,
            t
        }(s.Observable);
        t.IntervalObservable = a
    }
    , function(e, t, i) {
        "use strict";
        function n(e) {
            var t = e[h.$$iterator];
            if (!t && "string" == typeof e)
                return new d(e);
            if (!t && void 0 !== e.length)
                return new f(e);
            if (!t)
                throw new TypeError("object is not iterable");
            return e[h.$$iterator]()
        }
        function r(e) {
            var t = +e.length;
            return isNaN(t) ? 0 : 0 !== t && s(t) ? (t = o(t) * Math.floor(Math.abs(t)),
            t <= 0 ? 0 : t > p ? p : t) : t
        }
        function s(e) {
            return "number" == typeof e && c.root.isFinite(e)
        }
        function o(e) {
            var t = +e;
            return 0 === t ? t : isNaN(t) ? t : t < 0 ? -1 : 1
        }
        var a = this && this.__extends || function(e, t) {
            function i() {
                this.constructor = e
            }
            for (var n in t)
                t.hasOwnProperty(n) && (e[n] = t[n]);
            e.prototype = null === t ? Object.create(t) : (i.prototype = t.prototype,
            new i)
        }
          , c = i(13)
          , l = i(0)
          , h = i(71)
          , u = function(e) {
            function t(t, i) {
                if (e.call(this),
                this.scheduler = i,
                null == t)
                    throw new Error("iterator cannot be null.");
                this.iterator = n(t)
            }
            return a(t, e),
            t.create = function(e, i) {
                return new t(e,i)
            }
            ,
            t.dispatch = function(e) {
                var t = e.index
                  , i = e.hasError
                  , n = e.iterator
                  , r = e.subscriber;
                if (i)
                    return void r.error(e.error);
                var s = n.next();
                return s.done ? void r.complete() : (r.next(s.value),
                e.index = t + 1,
                void (r.closed || this.schedule(e)))
            }
            ,
            t.prototype._subscribe = function(e) {
                var i = 0
                  , n = this
                  , r = n.iterator
                  , s = n.scheduler;
                if (s)
                    return s.schedule(t.dispatch, 0, {
                        index: i,
                        iterator: r,
                        subscriber: e
                    });
                for (; ; ) {
                    var o = r.next();
                    if (o.done) {
                        e.complete();
                        break
                    }
                    if (e.next(o.value),
                    e.closed)
                        break
                }
            }
            ,
            t
        }(l.Observable);
        t.IteratorObservable = u;
        var d = function() {
            function e(e, t, i) {
                void 0 === t && (t = 0),
                void 0 === i && (i = e.length),
                this.str = e,
                this.idx = t,
                this.len = i
            }
            return e.prototype[h.$$iterator] = function() {
                return this
            }
            ,
            e.prototype.next = function() {
                return this.idx < this.len ? {
                    done: !1,
                    value: this.str.charAt(this.idx++)
                } : {
                    done: !0,
                    value: void 0
                }
            }
            ,
            e
        }()
          , f = function() {
            function e(e, t, i) {
                void 0 === t && (t = 0),
                void 0 === i && (i = r(e)),
                this.arr = e,
                this.idx = t,
                this.len = i
            }
            return e.prototype[h.$$iterator] = function() {
                return this
            }
            ,
            e.prototype.next = function() {
                return this.idx < this.len ? {
                    done: !1,
                    value: this.arr[this.idx++]
                } : {
                    done: !0,
                    value: void 0
                }
            }
            ,
            e
        }()
          , p = Math.pow(2, 53) - 1
    }
    , function(e, t, i) {
        "use strict";
        var n = this && this.__extends || function(e, t) {
            function i() {
                this.constructor = e
            }
            for (var n in t)
                t.hasOwnProperty(n) && (e[n] = t[n]);
            e.prototype = null === t ? Object.create(t) : (i.prototype = t.prototype,
            new i)
        }
          , r = i(0)
          , s = i(93)
          , o = function(e) {
            function t(t, i, n) {
                e.call(this),
                this.source = t,
                this.subjectFactory = i,
                this.selector = n
            }
            return n(t, e),
            t.prototype._subscribe = function(e) {
                var t = this
                  , i = t.selector
                  , n = t.source
                  , r = new s.ConnectableObservable(n,this.subjectFactory)
                  , o = i(r).subscribe(e);
                return o.add(r.connect()),
                o
            }
            ,
            t
        }(r.Observable);
        t.MulticastObservable = o
    }
    , function(e, t, i) {
        "use strict";
        var n = this && this.__extends || function(e, t) {
            function i() {
                this.constructor = e
            }
            for (var n in t)
                t.hasOwnProperty(n) && (e[n] = t[n]);
            e.prototype = null === t ? Object.create(t) : (i.prototype = t.prototype,
            new i)
        }
          , r = i(0)
          , s = i(244)
          , o = function(e) {
            function t() {
                e.call(this)
            }
            return n(t, e),
            t.create = function() {
                return new t
            }
            ,
            t.prototype._subscribe = function(e) {
                s.noop()
            }
            ,
            t
        }(r.Observable);
        t.NeverObservable = o
    }
    , function(e, t, i) {
        "use strict";
        function n(e) {
            var t = e.value
              , i = e.subscriber;
            i.closed || (i.next(t),
            i.complete())
        }
        function r(e) {
            var t = e.err
              , i = e.subscriber;
            i.closed || i.error(t)
        }
        var s = this && this.__extends || function(e, t) {
            function i() {
                this.constructor = e
            }
            for (var n in t)
                t.hasOwnProperty(n) && (e[n] = t[n]);
            e.prototype = null === t ? Object.create(t) : (i.prototype = t.prototype,
            new i)
        }
          , o = i(13)
          , a = i(0)
          , c = function(e) {
            function t(t, i) {
                e.call(this),
                this.promise = t,
                this.scheduler = i
            }
            return s(t, e),
            t.create = function(e, i) {
                return new t(e,i)
            }
            ,
            t.prototype._subscribe = function(e) {
                var t = this
                  , i = this.promise
                  , s = this.scheduler;
                if (null == s)
                    this._isScalar ? e.closed || (e.next(this.value),
                    e.complete()) : i.then(function(i) {
                        t.value = i,
                        t._isScalar = !0,
                        e.closed || (e.next(i),
                        e.complete())
                    }, function(t) {
                        e.closed || e.error(t)
                    }).then(null, function(e) {
                        o.root.setTimeout(function() {
                            throw e
                        })
                    });
                else if (this._isScalar) {
                    if (!e.closed)
                        return s.schedule(n, 0, {
                            value: this.value,
                            subscriber: e
                        })
                } else
                    i.then(function(i) {
                        t.value = i,
                        t._isScalar = !0,
                        e.closed || e.add(s.schedule(n, 0, {
                            value: i,
                            subscriber: e
                        }))
                    }, function(t) {
                        e.closed || e.add(s.schedule(r, 0, {
                            err: t,
                            subscriber: e
                        }))
                    }).then(null, function(e) {
                        o.root.setTimeout(function() {
                            throw e
                        })
                    })
            }
            ,
            t
        }(a.Observable);
        t.PromiseObservable = c
    }
    , function(e, t, i) {
        "use strict";
        var n = this && this.__extends || function(e, t) {
            function i() {
                this.constructor = e
            }
            for (var n in t)
                t.hasOwnProperty(n) && (e[n] = t[n]);
            e.prototype = null === t ? Object.create(t) : (i.prototype = t.prototype,
            new i)
        }
          , r = i(100)
          , s = i(0)
          , o = i(70)
          , a = i(33)
          , c = i(99)
          , l = function(e) {
            function t(t, i, n) {
                void 0 === t && (t = 0),
                e.call(this),
                this.period = -1,
                this.dueTime = 0,
                r.isNumeric(i) ? this.period = Number(i) < 1 && 1 || Number(i) : a.isScheduler(i) && (n = i),
                a.isScheduler(n) || (n = o.async),
                this.scheduler = n,
                this.dueTime = c.isDate(t) ? +t - this.scheduler.now() : t
            }
            return n(t, e),
            t.create = function(e, i, n) {
                return void 0 === e && (e = 0),
                new t(e,i,n)
            }
            ,
            t.dispatch = function(e) {
                var t = e.index
                  , i = e.period
                  , n = e.subscriber
                  , r = this;
                if (n.next(t),
                !n.closed) {
                    if (i === -1)
                        return n.complete();
                    e.index = t + 1,
                    r.schedule(e, i)
                }
            }
            ,
            t.prototype._subscribe = function(e) {
                var i = 0
                  , n = this
                  , r = n.period
                  , s = n.dueTime
                  , o = n.scheduler;
                return o.schedule(t.dispatch, s, {
                    index: i,
                    period: r,
                    subscriber: e
                })
            }
            ,
            t
        }(s.Observable);
        t.TimerObservable = l
    }
    , function(e, t, i) {
        "use strict";
        var n = i(197);
        t.bindCallback = n.BoundCallbackObservable.create
    }
    , function(e, t, i) {
        "use strict";
        function n() {
            if (u.root.XMLHttpRequest) {
                var e = new u.root.XMLHttpRequest;
                return "withCredentials"in e && (e.withCredentials = !!this.withCredentials),
                e
            }
            if (u.root.XDomainRequest)
                return new u.root.XDomainRequest;
            throw new Error("CORS is not supported by your browser")
        }
        function r() {
            if (u.root.XMLHttpRequest)
                return new u.root.XMLHttpRequest;
            var e = void 0;
            try {
                for (var t = ["Msxml2.XMLHTTP", "Microsoft.XMLHTTP", "Msxml2.XMLHTTP.4.0"], i = 0; i < 3; i++)
                    try {
                        if (e = t[i],
                        new u.root.ActiveXObject(e))
                            break
                    } catch (n) {}
                return new u.root.ActiveXObject(e)
            } catch (n) {
                throw new Error("XMLHttpRequest is not supported by your browser")
            }
        }
        function s(e, t) {
            return void 0 === t && (t = null),
            new y({
                method: "GET",
                url: e,
                headers: t
            })
        }
        function o(e, t, i) {
            return new y({
                method: "POST",
                url: e,
                body: t,
                headers: i
            })
        }
        function a(e, t) {
            return new y({
                method: "DELETE",
                url: e,
                headers: t
            })
        }
        function c(e, t, i) {
            return new y({
                method: "PUT",
                url: e,
                body: t,
                headers: i
            })
        }
        function l(e, t) {
            return new y({
                method: "GET",
                url: e,
                responseType: "json",
                headers: t
            }).lift(new g.MapOperator(function(e, t) {
                return e.response
            }
            ,null))
        }
        var h = this && this.__extends || function(e, t) {
            function i() {
                this.constructor = e
            }
            for (var n in t)
                t.hasOwnProperty(n) && (e[n] = t[n]);
            e.prototype = null === t ? Object.create(t) : (i.prototype = t.prototype,
            new i)
        }
          , u = i(13)
          , d = i(34)
          , f = i(24)
          , p = i(0)
          , m = i(5)
          , g = i(95);
        t.ajaxGet = s,
        t.ajaxPost = o,
        t.ajaxDelete = a,
        t.ajaxPut = c,
        t.ajaxGetJSON = l;
        var y = function(e) {
            function t(t) {
                e.call(this);
                var i = {
                    async: !0,
                    createXHR: function() {
                        return this.crossDomain ? n.call(this) : r()
                    },
                    crossDomain: !1,
                    withCredentials: !1,
                    headers: {},
                    method: "GET",
                    responseType: "json",
                    timeout: 0
                };
                if ("string" == typeof t)
                    i.url = t;
                else
                    for (var s in t)
                        t.hasOwnProperty(s) && (i[s] = t[s]);
                this.request = i
            }
            return h(t, e),
            t.prototype._subscribe = function(e) {
                return new v(e,this.request)
            }
            ,
            t.create = function() {
                var e = function(e) {
                    return new t(e)
                };
                return e.get = s,
                e.post = o,
                e["delete"] = a,
                e.put = c,
                e.getJSON = l,
                e
            }(),
            t
        }(p.Observable);
        t.AjaxObservable = y;
        var v = function(e) {
            function t(t, i) {
                e.call(this, t),
                this.request = i,
                this.done = !1;
                var n = i.headers = i.headers || {};
                i.crossDomain || n["X-Requested-With"] || (n["X-Requested-With"] = "XMLHttpRequest"),
                "Content-Type"in n || u.root.FormData && i.body instanceof u.root.FormData || "undefined" == typeof i.body || (n["Content-Type"] = "application/x-www-form-urlencoded; charset=UTF-8"),
                i.body = this.serializeBody(i.body, i.headers["Content-Type"]),
                this.send()
            }
            return h(t, e),
            t.prototype.next = function(e) {
                this.done = !0;
                var t = this
                  , i = t.xhr
                  , n = t.request
                  , r = t.destination
                  , s = new _(e,i,n);
                r.next(s)
            }
            ,
            t.prototype.send = function() {
                var e = this
                  , t = e.request
                  , i = e.request
                  , n = i.user
                  , r = i.method
                  , s = i.url
                  , o = i.async
                  , a = i.password
                  , c = i.headers
                  , l = i.body
                  , h = t.createXHR
                  , u = d.tryCatch(h).call(t);
                if (u === f.errorObject)
                    this.error(f.errorObject.e);
                else {
                    this.xhr = u;
                    var p = void 0;
                    if (p = n ? d.tryCatch(u.open).call(u, r, s, o, n, a) : d.tryCatch(u.open).call(u, r, s, o),
                    p === f.errorObject)
                        return this.error(f.errorObject.e),
                        null;
                    u.timeout = t.timeout,
                    u.responseType = t.responseType,
                    this.setHeaders(u, c),
                    this.setupEvents(u, t),
                    l ? u.send(l) : u.send()
                }
                return u
            }
            ,
            t.prototype.serializeBody = function(e, t) {
                if (!e || "string" == typeof e)
                    return e;
                if (u.root.FormData && e instanceof u.root.FormData)
                    return e;
                if (t) {
                    var i = t.indexOf(";");
                    i !== -1 && (t = t.substring(0, i))
                }
                switch (t) {
                case "application/x-www-form-urlencoded":
                    return Object.keys(e).map(function(t) {
                        return encodeURI(t) + "=" + encodeURI(e[t])
                    }).join("&");
                case "application/json":
                    return JSON.stringify(e);
                default:
                    return e
                }
            }
            ,
            t.prototype.setHeaders = function(e, t) {
                for (var i in t)
                    t.hasOwnProperty(i) && e.setRequestHeader(i, t[i])
            }
            ,
            t.prototype.setupEvents = function(e, t) {
                var i = t.progressSubscriber;
                e.ontimeout = function n(e) {
                    var t = n
                      , i = t.subscriber
                      , r = t.progressSubscriber
                      , s = t.request;
                    r && r.error(e),
                    i.error(new S(this,s))
                }
                ,
                e.ontimeout.request = t,
                e.ontimeout.subscriber = this,
                e.ontimeout.progressSubscriber = i,
                e.upload && "withCredentials"in e && u.root.XDomainRequest && (i && (e.onprogress = function r(e) {
                    var t = r.progressSubscriber;
                    t.next(e)
                }
                ,
                e.onprogress.progressSubscriber = i),
                e.onerror = function s(e) {
                    var t = s
                      , i = t.progressSubscriber
                      , n = t.subscriber
                      , r = t.request;
                    i && i.error(e),
                    n.error(new b("ajax error",this,r))
                }
                ,
                e.onerror.request = t,
                e.onerror.subscriber = this,
                e.onerror.progressSubscriber = i),
                e.onreadystatechange = function o(e) {
                    var t = o
                      , i = t.subscriber
                      , n = t.progressSubscriber
                      , r = t.request;
                    if (4 === this.readyState) {
                        var s = 1223 === this.status ? 204 : this.status
                          , a = "text" === this.responseType ? this.response || this.responseText : this.response;
                        0 === s && (s = a ? 200 : 0),
                        200 <= s && s < 300 ? (n && n.complete(),
                        i.next(e),
                        i.complete()) : (n && n.error(e),
                        i.error(new b("ajax error " + s,this,r)))
                    }
                }
                ,
                e.onreadystatechange.subscriber = this,
                e.onreadystatechange.progressSubscriber = i,
                e.onreadystatechange.request = t
            }
            ,
            t.prototype.unsubscribe = function() {
                var t = this
                  , i = t.done
                  , n = t.xhr;
                !i && n && 4 !== n.readyState && n.abort(),
                e.prototype.unsubscribe.call(this)
            }
            ,
            t
        }(m.Subscriber);
        t.AjaxSubscriber = v;
        var _ = function() {
            function e(e, t, i) {
                switch (this.originalEvent = e,
                this.xhr = t,
                this.request = i,
                this.status = t.status,
                this.responseType = t.responseType || i.responseType,
                this.responseType) {
                case "json":
                    "response"in t ? this.response = t.responseType ? t.response : JSON.parse(t.response || t.responseText || "null") : this.response = JSON.parse(t.responseText || "null");
                    break;
                case "xml":
                    this.response = t.responseXML;
                    break;
                case "text":
                default:
                    this.response = "response"in t ? t.response : t.responseText
                }
            }
            return e
        }();
        t.AjaxResponse = _;
        var b = function(e) {
            function t(t, i, n) {
                e.call(this, t),
                this.message = t,
                this.xhr = i,
                this.request = n,
                this.status = i.status
            }
            return h(t, e),
            t
        }(Error);
        t.AjaxError = b;
        var S = function(e) {
            function t(t, i) {
                e.call(this, "ajax timeout", t, i)
            }
            return h(t, e),
            t
        }(b);
        t.AjaxTimeoutError = S
    }
    , function(e, t, i) {
        "use strict";
        var n = i(207);
        t.ajax = n.AjaxObservable.create
    }
    , function(e, t, i) {
        "use strict";
        var n = i(32);
        t.empty = n.EmptyObservable.create
    }
    , function(e, t, i) {
        "use strict";
        var n = i(199);
        t.from = n.FromObservable.create
    }
    , function(e, t, i) {
        "use strict";
        var n = i(198);
        t.fromEvent = n.FromEventObservable.create
    }
    , function(e, t, i) {
        "use strict";
        var n = i(200);
        t.interval = n.IntervalObservable.create
    }
    , function(e, t, i) {
        "use strict";
        var n = i(96);
        t.merge = n.mergeStatic
    }
    , function(e, t, i) {
        "use strict";
        var n = i(203);
        t.never = n.NeverObservable.create
    }
    , function(e, t, i) {
        "use strict";
        var n = i(205);
        t.timer = n.TimerObservable.create
    }
    , function(e, t, i) {
        "use strict";
        function n(e) {
            return this.lift(new a(e))
        }
        var r = this && this.__extends || function(e, t) {
            function i() {
                this.constructor = e
            }
            for (var n in t)
                t.hasOwnProperty(n) && (e[n] = t[n]);
            e.prototype = null === t ? Object.create(t) : (i.prototype = t.prototype,
            new i)
        }
          , s = i(16)
          , o = i(19);
        t.buffer = n;
        var a = function() {
            function e(e) {
                this.closingNotifier = e
            }
            return e.prototype.call = function(e, t) {
                return t._subscribe(new c(e,this.closingNotifier))
            }
            ,
            e
        }()
          , c = function(e) {
            function t(t, i) {
                e.call(this, t),
                this.buffer = [],
                this.add(o.subscribeToResult(this, i))
            }
            return r(t, e),
            t.prototype._next = function(e) {
                this.buffer.push(e)
            }
            ,
            t.prototype.notifyNext = function(e, t, i, n, r) {
                var s = this.buffer;
                this.buffer = [],
                this.destination.next(s)
            }
            ,
            t
        }(s.OuterSubscriber)
    }
    , function(e, t, i) {
        "use strict";
        function n(e) {
            var t = new a(e)
              , i = this.lift(t);
            return t.caught = i
        }
        var r = this && this.__extends || function(e, t) {
            function i() {
                this.constructor = e
            }
            for (var n in t)
                t.hasOwnProperty(n) && (e[n] = t[n]);
            e.prototype = null === t ? Object.create(t) : (i.prototype = t.prototype,
            new i)
        }
          , s = i(16)
          , o = i(19);
        t._catch = n;
        var a = function() {
            function e(e) {
                this.selector = e
            }
            return e.prototype.call = function(e, t) {
                return t._subscribe(new c(e,this.selector,this.caught))
            }
            ,
            e
        }()
          , c = function(e) {
            function t(t, i, n) {
                e.call(this, t),
                this.selector = i,
                this.caught = n
            }
            return r(t, e),
            t.prototype.error = function(e) {
                if (!this.isStopped) {
                    var t = void 0;
                    try {
                        t = this.selector(e, this.caught)
                    } catch (e) {
                        return void this.destination.error(e)
                    }
                    this.unsubscribe(),
                    this.destination.remove(this),
                    o.subscribeToResult(this, t)
                }
            }
            ,
            t
        }(s.OuterSubscriber)
    }
    , function(e, t, i) {
        "use strict";
        function n() {
            for (var e = [], t = 0; t < arguments.length; t++)
                e[t - 0] = arguments[t];
            return r.apply(void 0, [this].concat(e))
        }
        function r() {
            for (var e = [], t = 0; t < arguments.length; t++)
                e[t - 0] = arguments[t];
            var i = null
              , n = e;
            return s.isScheduler(n[e.length - 1]) && (i = n.pop()),
            new o.ArrayObservable(e,i).lift(new a.MergeAllOperator(1))
        }
        var s = i(33)
          , o = i(47)
          , a = i(69);
        t.concat = n,
        t.concatStatic = r
    }
    , function(e, t, i) {
        "use strict";
        function n() {
            return this.lift(new r.MergeAllOperator(1))
        }
        var r = i(69);
        t.concatAll = n
    }
    , function(e, t, i) {
        "use strict";
        function n(e) {
            return void 0 === e && (e = null),
            this.lift(new o(e))
        }
        var r = this && this.__extends || function(e, t) {
            function i() {
                this.constructor = e
            }
            for (var n in t)
                t.hasOwnProperty(n) && (e[n] = t[n]);
            e.prototype = null === t ? Object.create(t) : (i.prototype = t.prototype,
            new i)
        }
          , s = i(5);
        t.defaultIfEmpty = n;
        var o = function() {
            function e(e) {
                this.defaultValue = e
            }
            return e.prototype.call = function(e, t) {
                return t._subscribe(new a(e,this.defaultValue))
            }
            ,
            e
        }()
          , a = function(e) {
            function t(t, i) {
                e.call(this, t),
                this.defaultValue = i,
                this.isEmpty = !0
            }
            return r(t, e),
            t.prototype._next = function(e) {
                this.isEmpty = !1,
                this.destination.next(e)
            }
            ,
            t.prototype._complete = function() {
                this.isEmpty && this.destination.next(this.defaultValue),
                this.destination.complete()
            }
            ,
            t
        }(s.Subscriber)
    }
    , function(e, t, i) {
        "use strict";
        function n(e, t) {
            void 0 === t && (t = s.async);
            var i = o.isDate(e)
              , n = i ? +e - t.now() : Math.abs(e);
            return this.lift(new l(n,t))
        }
        var r = this && this.__extends || function(e, t) {
            function i() {
                this.constructor = e
            }
            for (var n in t)
                t.hasOwnProperty(n) && (e[n] = t[n]);
            e.prototype = null === t ? Object.create(t) : (i.prototype = t.prototype,
            new i)
        }
          , s = i(70)
          , o = i(99)
          , a = i(5)
          , c = i(88);
        t.delay = n;
        var l = function() {
            function e(e, t) {
                this.delay = e,
                this.scheduler = t
            }
            return e.prototype.call = function(e, t) {
                return t._subscribe(new h(e,this.delay,this.scheduler))
            }
            ,
            e
        }()
          , h = function(e) {
            function t(t, i, n) {
                e.call(this, t),
                this.delay = i,
                this.scheduler = n,
                this.queue = [],
                this.active = !1,
                this.errored = !1
            }
            return r(t, e),
            t.dispatch = function(e) {
                for (var t = e.source, i = t.queue, n = e.scheduler, r = e.destination; i.length > 0 && i[0].time - n.now() <= 0; )
                    i.shift().notification.observe(r);
                if (i.length > 0) {
                    var s = Math.max(0, i[0].time - n.now());
                    this.schedule(e, s)
                } else
                    t.active = !1
            }
            ,
            t.prototype._schedule = function(e) {
                this.active = !0,
                this.add(e.schedule(t.dispatch, this.delay, {
                    source: this,
                    destination: this.destination,
                    scheduler: e
                }))
            }
            ,
            t.prototype.scheduleNotification = function(e) {
                if (this.errored !== !0) {
                    var t = this.scheduler
                      , i = new u(t.now() + this.delay,e);
                    this.queue.push(i),
                    this.active === !1 && this._schedule(t)
                }
            }
            ,
            t.prototype._next = function(e) {
                this.scheduleNotification(c.Notification.createNext(e))
            }
            ,
            t.prototype._error = function(e) {
                this.errored = !0,
                this.queue = [],
                this.destination.error(e)
            }
            ,
            t.prototype._complete = function() {
                this.scheduleNotification(c.Notification.createComplete())
            }
            ,
            t
        }(a.Subscriber)
          , u = function() {
            function e(e, t) {
                this.time = e,
                this.notification = t
            }
            return e
        }()
    }
    , function(e, t, i) {
        "use strict";
        function n(e, t) {
            return r.distinctUntilChanged.call(this, function(i, n) {
                return t ? t(i[e], n[e]) : i[e] === n[e]
            })
        }
        var r = i(94);
        t.distinctUntilKeyChanged = n
    }
    , function(e, t, i) {
        "use strict";
        function n(e, t, i) {
            return this.lift(new o(e,t,i))
        }
        var r = this && this.__extends || function(e, t) {
            function i() {
                this.constructor = e
            }
            for (var n in t)
                t.hasOwnProperty(n) && (e[n] = t[n]);
            e.prototype = null === t ? Object.create(t) : (i.prototype = t.prototype,
            new i)
        }
          , s = i(5);
        t._do = n;
        var o = function() {
            function e(e, t, i) {
                this.nextOrObserver = e,
                this.error = t,
                this.complete = i
            }
            return e.prototype.call = function(e, t) {
                return t._subscribe(new a(e,this.nextOrObserver,this.error,this.complete))
            }
            ,
            e
        }()
          , a = function(e) {
            function t(t, i, n, r) {
                e.call(this, t);
                var o = new s.Subscriber(i,n,r);
                o.syncErrorThrowable = !0,
                this.add(o),
                this.safeSubscriber = o
            }
            return r(t, e),
            t.prototype._next = function(e) {
                var t = this.safeSubscriber;
                t.next(e),
                t.syncErrorThrown ? this.destination.error(t.syncErrorValue) : this.destination.next(e)
            }
            ,
            t.prototype._error = function(e) {
                var t = this.safeSubscriber;
                t.error(e),
                t.syncErrorThrown ? this.destination.error(t.syncErrorValue) : this.destination.error(e)
            }
            ,
            t.prototype._complete = function() {
                var e = this.safeSubscriber;
                e.complete(),
                e.syncErrorThrown ? this.destination.error(e.syncErrorValue) : this.destination.complete()
            }
            ,
            t
        }(s.Subscriber)
    }
    , function(e, t, i) {
        "use strict";
        function n(e, t) {
            return this.lift(new o(e,t))
        }
        var r = this && this.__extends || function(e, t) {
            function i() {
                this.constructor = e
            }
            for (var n in t)
                t.hasOwnProperty(n) && (e[n] = t[n]);
            e.prototype = null === t ? Object.create(t) : (i.prototype = t.prototype,
            new i)
        }
          , s = i(5);
        t.filter = n;
        var o = function() {
            function e(e, t) {
                this.predicate = e,
                this.thisArg = t
            }
            return e.prototype.call = function(e, t) {
                return t._subscribe(new a(e,this.predicate,this.thisArg))
            }
            ,
            e
        }()
          , a = function(e) {
            function t(t, i, n) {
                e.call(this, t),
                this.predicate = i,
                this.thisArg = n,
                this.count = 0,
                this.predicate = i
            }
            return r(t, e),
            t.prototype._next = function(e) {
                var t;
                try {
                    t = this.predicate.call(this.thisArg, e, this.count++)
                } catch (i) {
                    return void this.destination.error(i)
                }
                t && this.destination.next(e)
            }
            ,
            t
        }(s.Subscriber)
    }
    , function(e, t, i) {
        "use strict";
        function n(e, t, i) {
            return this.lift(new a(e,t,i,this))
        }
        var r = this && this.__extends || function(e, t) {
            function i() {
                this.constructor = e
            }
            for (var n in t)
                t.hasOwnProperty(n) && (e[n] = t[n]);
            e.prototype = null === t ? Object.create(t) : (i.prototype = t.prototype,
            new i)
        }
          , s = i(5)
          , o = i(241);
        t.first = n;
        var a = function() {
            function e(e, t, i, n) {
                this.predicate = e,
                this.resultSelector = t,
                this.defaultValue = i,
                this.source = n
            }
            return e.prototype.call = function(e, t) {
                return t._subscribe(new c(e,this.predicate,this.resultSelector,this.defaultValue,this.source))
            }
            ,
            e
        }()
          , c = function(e) {
            function t(t, i, n, r, s) {
                e.call(this, t),
                this.predicate = i,
                this.resultSelector = n,
                this.defaultValue = r,
                this.source = s,
                this.index = 0,
                this.hasCompleted = !1
            }
            return r(t, e),
            t.prototype._next = function(e) {
                var t = this.index++;
                this.predicate ? this._tryPredicate(e, t) : this._emit(e, t)
            }
            ,
            t.prototype._tryPredicate = function(e, t) {
                var i;
                try {
                    i = this.predicate(e, t, this.source)
                } catch (n) {
                    return void this.destination.error(n)
                }
                i && this._emit(e, t)
            }
            ,
            t.prototype._emit = function(e, t) {
                return this.resultSelector ? void this._tryResultSelector(e, t) : void this._emitFinal(e)
            }
            ,
            t.prototype._tryResultSelector = function(e, t) {
                var i;
                try {
                    i = this.resultSelector(e, t)
                } catch (n) {
                    return void this.destination.error(n)
                }
                this._emitFinal(i)
            }
            ,
            t.prototype._emitFinal = function(e) {
                var t = this.destination;
                t.next(e),
                t.complete(),
                this.hasCompleted = !0
            }
            ,
            t.prototype._complete = function() {
                var e = this.destination;
                this.hasCompleted || "undefined" == typeof this.defaultValue ? this.hasCompleted || e.error(new o.EmptyError) : (e.next(this.defaultValue),
                e.complete())
            }
            ,
            t
        }(s.Subscriber)
    }
    , function(e, t, i) {
        "use strict";
        function n(e) {
            return this.lift(new o(e))
        }
        var r = this && this.__extends || function(e, t) {
            function i() {
                this.constructor = e
            }
            for (var n in t)
                t.hasOwnProperty(n) && (e[n] = t[n]);
            e.prototype = null === t ? Object.create(t) : (i.prototype = t.prototype,
            new i)
        }
          , s = i(5);
        t.mapTo = n;
        var o = function() {
            function e(e) {
                this.value = e
            }
            return e.prototype.call = function(e, t) {
                return t._subscribe(new a(e,this.value))
            }
            ,
            e
        }()
          , a = function(e) {
            function t(t, i) {
                e.call(this, t),
                this.value = i
            }
            return r(t, e),
            t.prototype._next = function(e) {
                this.destination.next(this.value)
            }
            ,
            t
        }(s.Subscriber)
    }
    , function(e, t, i) {
        "use strict";
        function n(e, t, i) {
            return void 0 === i && (i = Number.POSITIVE_INFINITY),
            "number" == typeof t && (i = t,
            t = null),
            this.lift(new a(e,t,i))
        }
        var r = this && this.__extends || function(e, t) {
            function i() {
                this.constructor = e
            }
            for (var n in t)
                t.hasOwnProperty(n) && (e[n] = t[n]);
            e.prototype = null === t ? Object.create(t) : (i.prototype = t.prototype,
            new i)
        }
          , s = i(19)
          , o = i(16);
        t.mergeMap = n;
        var a = function() {
            function e(e, t, i) {
                void 0 === i && (i = Number.POSITIVE_INFINITY),
                this.project = e,
                this.resultSelector = t,
                this.concurrent = i
            }
            return e.prototype.call = function(e, t) {
                return t._subscribe(new c(e,this.project,this.resultSelector,this.concurrent))
            }
            ,
            e
        }();
        t.MergeMapOperator = a;
        var c = function(e) {
            function t(t, i, n, r) {
                void 0 === r && (r = Number.POSITIVE_INFINITY),
                e.call(this, t),
                this.project = i,
                this.resultSelector = n,
                this.concurrent = r,
                this.hasCompleted = !1,
                this.buffer = [],
                this.active = 0,
                this.index = 0
            }
            return r(t, e),
            t.prototype._next = function(e) {
                this.active < this.concurrent ? this._tryNext(e) : this.buffer.push(e)
            }
            ,
            t.prototype._tryNext = function(e) {
                var t, i = this.index++;
                try {
                    t = this.project(e, i)
                } catch (n) {
                    return void this.destination.error(n)
                }
                this.active++,
                this._innerSub(t, e, i)
            }
            ,
            t.prototype._innerSub = function(e, t, i) {
                this.add(s.subscribeToResult(this, e, t, i))
            }
            ,
            t.prototype._complete = function() {
                this.hasCompleted = !0,
                0 === this.active && 0 === this.buffer.length && this.destination.complete()
            }
            ,
            t.prototype.notifyNext = function(e, t, i, n, r) {
                this.resultSelector ? this._notifyResultSelector(e, t, i, n) : this.destination.next(t)
            }
            ,
            t.prototype._notifyResultSelector = function(e, t, i, n) {
                var r;
                try {
                    r = this.resultSelector(e, t, i, n)
                } catch (s) {
                    return void this.destination.error(s)
                }
                this.destination.next(r)
            }
            ,
            t.prototype.notifyComplete = function(e) {
                var t = this.buffer;
                this.remove(e),
                this.active--,
                t.length > 0 ? this._next(t.shift()) : 0 === this.active && this.hasCompleted && this.destination.complete()
            }
            ,
            t
        }(o.OuterSubscriber);
        t.MergeMapSubscriber = c
    }
    , function(e, t, i) {
        "use strict";
        function n(e, t) {
            return void 0 === t && (t = 0),
            this.lift(new a(e,t))
        }
        var r = this && this.__extends || function(e, t) {
            function i() {
                this.constructor = e
            }
            for (var n in t)
                t.hasOwnProperty(n) && (e[n] = t[n]);
            e.prototype = null === t ? Object.create(t) : (i.prototype = t.prototype,
            new i)
        }
          , s = i(5)
          , o = i(88);
        t.observeOn = n;
        var a = function() {
            function e(e, t) {
                void 0 === t && (t = 0),
                this.scheduler = e,
                this.delay = t
            }
            return e.prototype.call = function(e, t) {
                return t._subscribe(new c(e,this.scheduler,this.delay))
            }
            ,
            e
        }();
        t.ObserveOnOperator = a;
        var c = function(e) {
            function t(t, i, n) {
                void 0 === n && (n = 0),
                e.call(this, t),
                this.scheduler = i,
                this.delay = n
            }
            return r(t, e),
            t.dispatch = function(e) {
                var t = e.notification
                  , i = e.destination;
                t.observe(i)
            }
            ,
            t.prototype.scheduleMessage = function(e) {
                this.add(this.scheduler.schedule(t.dispatch, this.delay, new l(e,this.destination)))
            }
            ,
            t.prototype._next = function(e) {
                this.scheduleMessage(o.Notification.createNext(e))
            }
            ,
            t.prototype._error = function(e) {
                this.scheduleMessage(o.Notification.createError(e))
            }
            ,
            t.prototype._complete = function() {
                this.scheduleMessage(o.Notification.createComplete())
            }
            ,
            t
        }(s.Subscriber);
        t.ObserveOnSubscriber = c;
        var l = function() {
            function e(e, t) {
                this.notification = e,
                this.destination = t
            }
            return e
        }();
        t.ObserveOnMessage = l
    }
    , function(e, t, i) {
        "use strict";
        function n() {
            return this.lift(new o)
        }
        var r = this && this.__extends || function(e, t) {
            function i() {
                this.constructor = e
            }
            for (var n in t)
                t.hasOwnProperty(n) && (e[n] = t[n]);
            e.prototype = null === t ? Object.create(t) : (i.prototype = t.prototype,
            new i)
        }
          , s = i(5);
        t.pairwise = n;
        var o = function() {
            function e() {}
            return e.prototype.call = function(e, t) {
                return t._subscribe(new a(e))
            }
            ,
            e
        }()
          , a = function(e) {
            function t(t) {
                e.call(this, t),
                this.hasPrev = !1
            }
            return r(t, e),
            t.prototype._next = function(e) {
                this.hasPrev ? this.destination.next([this.prev, e]) : this.hasPrev = !0,
                this.prev = e
            }
            ,
            t
        }(s.Subscriber)
    }
    , function(e, t, i) {
        "use strict";
        function n() {
            return new o.Subject
        }
        function r() {
            return s.multicast.call(this, n).refCount()
        }
        var s = i(97)
          , o = i(14);
        t.share = r
    }
    , function(e, t, i) {
        "use strict";
        function n(e) {
            return this.lift(new o(e))
        }
        var r = this && this.__extends || function(e, t) {
            function i() {
                this.constructor = e
            }
            for (var n in t)
                t.hasOwnProperty(n) && (e[n] = t[n]);
            e.prototype = null === t ? Object.create(t) : (i.prototype = t.prototype,
            new i)
        }
          , s = i(5);
        t.skip = n;
        var o = function() {
            function e(e) {
                this.total = e
            }
            return e.prototype.call = function(e, t) {
                return t._subscribe(new a(e,this.total))
            }
            ,
            e
        }()
          , a = function(e) {
            function t(t, i) {
                e.call(this, t),
                this.total = i,
                this.count = 0
            }
            return r(t, e),
            t.prototype._next = function(e) {
                ++this.count > this.total && this.destination.next(e)
            }
            ,
            t
        }(s.Subscriber)
    }
    , function(e, t, i) {
        "use strict";
        function n() {
            for (var e = [], t = 0; t < arguments.length; t++)
                e[t - 0] = arguments[t];
            var i = e[e.length - 1];
            c.isScheduler(i) ? e.pop() : i = null;
            var n = e.length;
            return 1 === n ? a.concatStatic(new s.ScalarObservable(e[0],i), this) : n > 1 ? a.concatStatic(new r.ArrayObservable(e,i), this) : a.concatStatic(new o.EmptyObservable(i), this)
        }
        var r = i(47)
          , s = i(68)
          , o = i(32)
          , a = i(218)
          , c = i(33);
        t.startWith = n
    }
    , function(e, t, i) {
        "use strict";
        function n(e, t) {
            return this.lift(new a(e,t))
        }
        var r = this && this.__extends || function(e, t) {
            function i() {
                this.constructor = e
            }
            for (var n in t)
                t.hasOwnProperty(n) && (e[n] = t[n]);
            e.prototype = null === t ? Object.create(t) : (i.prototype = t.prototype,
            new i)
        }
          , s = i(16)
          , o = i(19);
        t.switchMap = n;
        var a = function() {
            function e(e, t) {
                this.project = e,
                this.resultSelector = t
            }
            return e.prototype.call = function(e, t) {
                return t._subscribe(new c(e,this.project,this.resultSelector))
            }
            ,
            e
        }()
          , c = function(e) {
            function t(t, i, n) {
                e.call(this, t),
                this.project = i,
                this.resultSelector = n,
                this.index = 0
            }
            return r(t, e),
            t.prototype._next = function(e) {
                var t, i = this.index++;
                try {
                    t = this.project(e, i)
                } catch (n) {
                    return void this.destination.error(n)
                }
                this._innerSub(t, e, i)
            }
            ,
            t.prototype._innerSub = function(e, t, i) {
                var n = this.innerSubscription;
                n && n.unsubscribe(),
                this.add(this.innerSubscription = o.subscribeToResult(this, e, t, i))
            }
            ,
            t.prototype._complete = function() {
                var t = this.innerSubscription;
                t && !t.closed || e.prototype._complete.call(this)
            }
            ,
            t.prototype._unsubscribe = function() {
                this.innerSubscription = null
            }
            ,
            t.prototype.notifyComplete = function(t) {
                this.remove(t),
                this.innerSubscription = null,
                this.isStopped && e.prototype._complete.call(this)
            }
            ,
            t.prototype.notifyNext = function(e, t, i, n, r) {
                this.resultSelector ? this._tryNotifyNext(e, t, i, n) : this.destination.next(t)
            }
            ,
            t.prototype._tryNotifyNext = function(e, t, i, n) {
                var r;
                try {
                    r = this.resultSelector(e, t, i, n)
                } catch (s) {
                    return void this.destination.error(s)
                }
                this.destination.next(r)
            }
            ,
            t
        }(s.OuterSubscriber)
    }
    , function(e, t, i) {
        "use strict";
        function n(e) {
            return 0 === e ? new a.EmptyObservable : this.lift(new c(e))
        }
        var r = this && this.__extends || function(e, t) {
            function i() {
                this.constructor = e
            }
            for (var n in t)
                t.hasOwnProperty(n) && (e[n] = t[n]);
            e.prototype = null === t ? Object.create(t) : (i.prototype = t.prototype,
            new i)
        }
          , s = i(5)
          , o = i(240)
          , a = i(32);
        t.take = n;
        var c = function() {
            function e(e) {
                if (this.total = e,
                this.total < 0)
                    throw new o.ArgumentOutOfRangeError
            }
            return e.prototype.call = function(e, t) {
                return t._subscribe(new l(e,this.total))
            }
            ,
            e
        }()
          , l = function(e) {
            function t(t, i) {
                e.call(this, t),
                this.total = i,
                this.count = 0
            }
            return r(t, e),
            t.prototype._next = function(e) {
                var t = this.total;
                ++this.count <= t && (this.destination.next(e),
                this.count === t && (this.destination.complete(),
                this.unsubscribe()))
            }
            ,
            t
        }(s.Subscriber)
    }
    , function(e, t, i) {
        "use strict";
        function n(e) {
            return this.lift(new a(e))
        }
        var r = this && this.__extends || function(e, t) {
            function i() {
                this.constructor = e
            }
            for (var n in t)
                t.hasOwnProperty(n) && (e[n] = t[n]);
            e.prototype = null === t ? Object.create(t) : (i.prototype = t.prototype,
            new i)
        }
          , s = i(16)
          , o = i(19);
        t.takeUntil = n;
        var a = function() {
            function e(e) {
                this.notifier = e
            }
            return e.prototype.call = function(e, t) {
                return t._subscribe(new c(e,this.notifier))
            }
            ,
            e
        }()
          , c = function(e) {
            function t(t, i) {
                e.call(this, t),
                this.notifier = i,
                this.add(o.subscribeToResult(this, i))
            }
            return r(t, e),
            t.prototype.notifyNext = function(e, t, i, n, r) {
                this.complete()
            }
            ,
            t.prototype.notifyComplete = function() {}
            ,
            t
        }(s.OuterSubscriber)
    }
    , function(e, t, i) {
        "use strict";
        function n() {
            for (var e = [], t = 0; t < arguments.length; t++)
                e[t - 0] = arguments[t];
            var i;
            "function" == typeof e[e.length - 1] && (i = e.pop());
            var n = e;
            return this.lift(new a(n,i))
        }
        var r = this && this.__extends || function(e, t) {
            function i() {
                this.constructor = e
            }
            for (var n in t)
                t.hasOwnProperty(n) && (e[n] = t[n]);
            e.prototype = null === t ? Object.create(t) : (i.prototype = t.prototype,
            new i)
        }
          , s = i(16)
          , o = i(19);
        t.withLatestFrom = n;
        var a = function() {
            function e(e, t) {
                this.observables = e,
                this.project = t
            }
            return e.prototype.call = function(e, t) {
                return t._subscribe(new c(e,this.observables,this.project))
            }
            ,
            e
        }()
          , c = function(e) {
            function t(t, i, n) {
                e.call(this, t),
                this.observables = i,
                this.project = n,
                this.toRespond = [];
                var r = i.length;
                this.values = new Array(r);
                for (var s = 0; s < r; s++)
                    this.toRespond.push(s);
                for (var s = 0; s < r; s++) {
                    var a = i[s];
                    this.add(o.subscribeToResult(this, a, a, s))
                }
            }
            return r(t, e),
            t.prototype.notifyNext = function(e, t, i, n, r) {
                this.values[i] = t;
                var s = this.toRespond;
                if (s.length > 0) {
                    var o = s.indexOf(i);
                    o !== -1 && s.splice(o, 1)
                }
            }
            ,
            t.prototype.notifyComplete = function() {}
            ,
            t.prototype._next = function(e) {
                if (0 === this.toRespond.length) {
                    var t = [e].concat(this.values);
                    this.project ? this._tryProject(t) : this.destination.next(t)
                }
            }
            ,
            t.prototype._tryProject = function(e) {
                var t;
                try {
                    t = this.project.apply(this, e)
                } catch (i) {
                    return void this.destination.error(i)
                }
                this.destination.next(t)
            }
            ,
            t
        }(s.OuterSubscriber)
    }
    , function(e, t, i) {
        "use strict";
        var n = this && this.__extends || function(e, t) {
            function i() {
                this.constructor = e
            }
            for (var n in t)
                t.hasOwnProperty(n) && (e[n] = t[n]);
            e.prototype = null === t ? Object.create(t) : (i.prototype = t.prototype,
            new i)
        }
          , r = i(17)
          , s = function(e) {
            function t(t, i) {
                e.call(this)
            }
            return n(t, e),
            t.prototype.schedule = function(e, t) {
                return void 0 === t && (t = 0),
                this
            }
            ,
            t
        }(r.Subscription);
        t.Action = s
    }
    , function(e, t, i) {
        "use strict";
        var n = this && this.__extends || function(e, t) {
            function i() {
                this.constructor = e
            }
            for (var n in t)
                t.hasOwnProperty(n) && (e[n] = t[n]);
            e.prototype = null === t ? Object.create(t) : (i.prototype = t.prototype,
            new i)
        }
          , r = i(13)
          , s = i(237)
          , o = function(e) {
            function t(t, i) {
                e.call(this, t, i),
                this.scheduler = t,
                this.work = i,
                this.pending = !1
            }
            return n(t, e),
            t.prototype.schedule = function(e, t) {
                if (void 0 === t && (t = 0),
                this.closed)
                    return this;
                this.state = e,
                this.pending = !0;
                var i = this.id
                  , n = this.scheduler;
                return null != i && (this.id = this.recycleAsyncId(n, i, t)),
                this.delay = t,
                this.id = this.id || this.requestAsyncId(n, this.id, t),
                this
            }
            ,
            t.prototype.requestAsyncId = function(e, t, i) {
                return void 0 === i && (i = 0),
                r.root.setInterval(e.flush.bind(e, this), i)
            }
            ,
            t.prototype.recycleAsyncId = function(e, t, i) {
                return void 0 === i && (i = 0),
                null !== i && this.delay === i ? t : r.root.clearInterval(t) && void 0 || void 0
            }
            ,
            t.prototype.execute = function(e, t) {
                if (this.closed)
                    return new Error("executing a cancelled action");
                this.pending = !1;
                var i = this._execute(e, t);
                return i ? i : void (this.pending === !1 && null != this.id && (this.id = this.recycleAsyncId(this.scheduler, this.id, null)))
            }
            ,
            t.prototype._execute = function(e, t) {
                var i = !1
                  , n = void 0;
                try {
                    this.work(e)
                } catch (r) {
                    i = !0,
                    n = !!r && r || new Error(r)
                }
                if (i)
                    return this.unsubscribe(),
                    n
            }
            ,
            t.prototype._unsubscribe = function() {
                var e = this.id
                  , t = this.scheduler
                  , i = t.actions
                  , n = i.indexOf(this);
                this.work = null,
                this.delay = null,
                this.state = null,
                this.pending = !1,
                this.scheduler = null,
                n !== -1 && i.splice(n, 1),
                null != e && (this.id = this.recycleAsyncId(t, e, null))
            }
            ,
            t
        }(s.Action);
        t.AsyncAction = o
    }
    , function(e, t, i) {
        "use strict";
        var n = this && this.__extends || function(e, t) {
            function i() {
                this.constructor = e
            }
            for (var n in t)
                t.hasOwnProperty(n) && (e[n] = t[n]);
            e.prototype = null === t ? Object.create(t) : (i.prototype = t.prototype,
            new i)
        }
          , r = i(179)
          , s = function(e) {
            function t() {
                e.apply(this, arguments),
                this.actions = [],
                this.active = !1,
                this.scheduled = void 0
            }
            return n(t, e),
            t.prototype.flush = function(e) {
                var t = this.actions;
                if (this.active)
                    return void t.push(e);
                var i;
                this.active = !0;
                do
                    if (i = e.execute(e.state, e.delay))
                        break;
                while (e = t.shift());if (this.active = !1,
                i) {
                    for (; e = t.shift(); )
                        e.unsubscribe();
                    throw i
                }
            }
            ,
            t
        }(r.Scheduler);
        t.AsyncScheduler = s
    }
    , function(e, t, i) {
        "use strict";
        var n = this && this.__extends || function(e, t) {
            function i() {
                this.constructor = e
            }
            for (var n in t)
                t.hasOwnProperty(n) && (e[n] = t[n]);
            e.prototype = null === t ? Object.create(t) : (i.prototype = t.prototype,
            new i)
        }
          , r = function(e) {
            function t() {
                var t = e.call(this, "argument out of range");
                this.name = t.name = "ArgumentOutOfRangeError",
                this.stack = t.stack,
                this.message = t.message
            }
            return n(t, e),
            t
        }(Error);
        t.ArgumentOutOfRangeError = r
    }
    , function(e, t, i) {
        "use strict";
        var n = this && this.__extends || function(e, t) {
            function i() {
                this.constructor = e
            }
            for (var n in t)
                t.hasOwnProperty(n) && (e[n] = t[n]);
            e.prototype = null === t ? Object.create(t) : (i.prototype = t.prototype,
            new i)
        }
          , r = function(e) {
            function t() {
                var t = e.call(this, "no elements in sequence");
                this.name = t.name = "EmptyError",
                this.stack = t.stack,
                this.message = t.message
            }
            return n(t, e),
            t
        }(Error);
        t.EmptyError = r
    }
    , function(e, t, i) {
        "use strict";
        var n = this && this.__extends || function(e, t) {
            function i() {
                this.constructor = e
            }
            for (var n in t)
                t.hasOwnProperty(n) && (e[n] = t[n]);
            e.prototype = null === t ? Object.create(t) : (i.prototype = t.prototype,
            new i)
        }
          , r = function(e) {
            function t(t) {
                e.call(this),
                this.errors = t;
                var i = Error.call(this, t ? t.length + " errors occurred during unsubscription:\n  " + t.map(function(e, t) {
                    return t + 1 + ") " + e.toString()
                }).join("\n  ") : "");
                this.name = i.name = "UnsubscriptionError",
                this.stack = i.stack,
                this.message = i.message
            }
            return n(t, e),
            t
        }(Error);
        t.UnsubscriptionError = r
    }
    , function(e, t, i) {
        "use strict";
        function n(e) {
            return null != e && "object" == typeof e
        }
        t.isObject = n
    }
    , function(e, t, i) {
        "use strict";
        function n() {}
        t.noop = n
    }
    , function(e, t, i) {
        "use strict";
        function n(e, t, i) {
            if (e) {
                if (e instanceof r.Subscriber)
                    return e;
                if (e[s.$$rxSubscriber])
                    return e[s.$$rxSubscriber]()
            }
            return e || t || i ? new r.Subscriber(e,t,i) : new r.Subscriber
        }
        var r = i(5)
          , s = i(73);
        t.toSubscriber = n
    }
    , function(e, t, i) {
        var n = i(102);
        t.clearTimeout = function() {
            return this._timeout = 0,
            clearTimeout(this._timer),
            this
        }
        ,
        t.parse = function(e) {
            return this._parser = e,
            this
        }
        ,
        t.timeout = function(e) {
            return this._timeout = e,
            this
        }
        ,
        t.then = function(e, t) {
            return this.end(function(i, n) {
                i ? t(i) : e(n)
            })
        }
        ,
        t.use = function(e) {
            return e(this),
            this
        }
        ,
        t.get = function(e) {
            return this._header[e.toLowerCase()]
        }
        ,
        t.getHeader = t.get,
        t.set = function(e, t) {
            if (n(e)) {
                for (var i in e)
                    this.set(i, e[i]);
                return this
            }
            return this._header[e.toLowerCase()] = t,
            this.header[e] = t,
            this
        }
        ,
        t.unset = function(e) {
            return delete this._header[e.toLowerCase()],
            delete this.header[e],
            this
        }
        ,
        t.field = function(e, t) {
            return this._getFormData().append(e, t),
            this
        }
    }
    , function(e, t) {
        function i(e, t, i) {
            return "function" == typeof i ? new e("GET",t).end(i) : 2 == arguments.length ? new e("GET",t) : new e(t,i)
        }
        e.exports = i
    }
    , function(e, t) {
        var i = function() {
            function e() {
                if (!G) {
                    try {
                        var e = B.getElementsByTagName("body")[0].appendChild(y("span"));
                        e.parentNode.removeChild(e)
                    } catch (t) {
                        return
                    }
                    G = !0;
                    for (var i = U.length, n = 0; n < i; n++)
                        U[n]()
                }
            }
            function t(e) {
                G ? e() : U[U.length] = e
            }
            function n(e) {
                if (typeof x.addEventListener != O)
                    x.addEventListener("load", e, !1);
                else if (typeof B.addEventListener != O)
                    B.addEventListener("load", e, !1);
                else if (typeof x.attachEvent != O)
                    v(x, "onload", e);
                else if ("function" == typeof x.onload) {
                    var t = x.onload;
                    x.onload = function() {
                        t(),
                        e()
                    }
                } else
                    x.onload = e
            }
            function r() {
                V ? s() : o()
            }
            function s() {
                var e = B.getElementsByTagName("body")[0]
                  , t = y(I);
                t.setAttribute("type", D);
                var i = e.appendChild(t);
                if (i) {
                    var n = 0;
                    !function() {
                        if (typeof i.GetVariable != O) {
                            var r = i.GetVariable("$version");
                            r && (r = r.split(" ")[1].split(","),
                            W.pv = [parseInt(r[0], 10), parseInt(r[1], 10), parseInt(r[2], 10)])
                        } else if (n < 10)
                            return n++,
                            void setTimeout(arguments.callee, 10);
                        e.removeChild(t),
                        i = null,
                        o()
                    }()
                } else
                    o()
            }
            function o() {
                var e = j.length;
                if (e > 0)
                    for (var t = 0; t < e; t++) {
                        var i = j[t].id
                          , n = j[t].callbackFn
                          , r = {
                            success: !1,
                            id: i
                        };
                        if (W.pv[0] > 0) {
                            var s = g(i);
                            if (s)
                                if (!_(j[t].swfVersion) || W.wk && W.wk < 312)
                                    if (j[t].expressInstall && c()) {
                                        var o = {};
                                        o.data = j[t].expressInstall,
                                        o.width = s.getAttribute("width") || "0",
                                        o.height = s.getAttribute("height") || "0",
                                        s.getAttribute("class") && (o.styleclass = s.getAttribute("class")),
                                        s.getAttribute("align") && (o.align = s.getAttribute("align"));
                                        for (var u = {}, d = s.getElementsByTagName("param"), f = d.length, p = 0; p < f; p++)
                                            "movie" != d[p].getAttribute("name").toLowerCase() && (u[d[p].getAttribute("name")] = d[p].getAttribute("value"));
                                        l(o, u, i, n)
                                    } else
                                        h(s),
                                        n && n(r);
                                else
                                    S(i, !0),
                                    n && (r.success = !0,
                                    r.ref = a(i),
                                    n(r))
                        } else if (S(i, !0),
                        n) {
                            var m = a(i);
                            m && typeof m.SetVariable != O && (r.success = !0,
                            r.ref = m),
                            n(r)
                        }
                    }
            }
            function a(e) {
                var t = null
                  , i = g(e);
                if (i && "OBJECT" == i.nodeName)
                    if (typeof i.SetVariable != O)
                        t = i;
                    else {
                        var n = i.getElementsByTagName(I)[0];
                        n && (t = n)
                    }
                return t
            }
            function c() {
                return !X && _("6.0.65") && (W.win || W.mac) && !(W.wk && W.wk < 312)
            }
            function l(e, t, i, n) {
                X = !0,
                C = n || null,
                A = {
                    success: !1,
                    id: i
                };
                var r = g(i);
                if (r) {
                    "OBJECT" == r.nodeName ? (P = u(r),
                    T = null) : (P = r,
                    T = i),
                    e.id = N,
                    (typeof e.width == O || !/%$/.test(e.width) && parseInt(e.width, 10) < 310) && (e.width = "310"),
                    (typeof e.height == O || !/%$/.test(e.height) && parseInt(e.height, 10) < 137) && (e.height = "137"),
                    B.title = B.title.slice(0, 47) + " - Flash Player Installation";
                    var s = W.ie && W.win ? ["Active"].concat("").join("X") : "PlugIn"
                      , o = "MMredirectURL=" + x.location.toString().replace(/&/g, "%26") + "&MMplayerType=" + s + "&MMdoctitle=" + B.title;
                    if (typeof t.flashvars != O ? t.flashvars += "&" + o : t.flashvars = o,
                    W.ie && W.win && 4 != r.readyState) {
                        var a = y("div");
                        i += "SWFObjectNew",
                        a.setAttribute("id", i),
                        r.parentNode.insertBefore(a, r),
                        r.style.display = "none",
                        function() {
                            4 == r.readyState ? r.parentNode.removeChild(r) : setTimeout(arguments.callee, 10)
                        }()
                    }
                    d(e, t, i)
                }
            }
            function h(e) {
                if (W.ie && W.win && 4 != e.readyState) {
                    var t = y("div");
                    e.parentNode.insertBefore(t, e),
                    t.parentNode.replaceChild(u(e), t),
                    e.style.display = "none",
                    function() {
                        4 == e.readyState ? e.parentNode.removeChild(e) : setTimeout(arguments.callee, 10)
                    }()
                } else
                    e.parentNode.replaceChild(u(e), e)
            }
            function u(e) {
                var t = y("div");
                if (W.win && W.ie)
                    t.innerHTML = e.innerHTML;
                else {
                    var i = e.getElementsByTagName(I)[0];
                    if (i) {
                        var n = i.childNodes;
                        if (n)
                            for (var r = n.length, s = 0; s < r; s++)
                                1 == n[s].nodeType && "PARAM" == n[s].nodeName || 8 == n[s].nodeType || t.appendChild(n[s].cloneNode(!0))
                    }
                }
                return t
            }
            function d(e, t, i) {
                var n, r = g(i);
                if (W.wk && W.wk < 312)
                    return n;
                if (r)
                    if (typeof e.id == O && (e.id = i),
                    W.ie && W.win) {
                        var s = "";
                        for (var o in e)
                            e[o] != Object.prototype[o] && ("data" == o.toLowerCase() ? t.movie = e[o] : "styleclass" == o.toLowerCase() ? s += ' class="' + e[o] + '"' : "classid" != o.toLowerCase() && (s += " " + o + '="' + e[o] + '"'));
                        var a = "";
                        for (var c in t)
                            t[c] != Object.prototype[c] && (a += '<param name="' + c + '" value="' + t[c] + '" />');
                        r.outerHTML = '<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"' + s + ">" + a + "</object>",
                        H[H.length] = e.id,
                        n = g(e.id)
                    } else {
                        var l = y(I);
                        l.setAttribute("type", D);
                        for (var h in e)
                            e[h] != Object.prototype[h] && ("styleclass" == h.toLowerCase() ? l.setAttribute("class", e[h]) : "classid" != h.toLowerCase() && l.setAttribute(h, e[h]));
                        for (var u in t)
                            t[u] != Object.prototype[u] && "movie" != u.toLowerCase() && f(l, u, t[u]);
                        r.parentNode.replaceChild(l, r),
                        n = l
                    }
                return n
            }
            function f(e, t, i) {
                var n = y("param");
                n.setAttribute("name", t),
                n.setAttribute("value", i),
                e.appendChild(n)
            }
            function p(e) {
                var t = g(e);
                t && "OBJECT" == t.nodeName && (W.ie && W.win ? (t.style.display = "none",
                function() {
                    4 == t.readyState ? m(e) : setTimeout(arguments.callee, 10)
                }()) : t.parentNode.removeChild(t))
            }
            function m(e) {
                var t = g(e);
                if (t) {
                    for (var i in t)
                        "function" == typeof t[i] && (t[i] = null);
                    t.parentNode.removeChild(t)
                }
            }
            function g(e) {
                var t = null;
                try {
                    t = B.getElementById(e)
                } catch (i) {}
                return t
            }
            function y(e) {
                return B.createElement(e)
            }
            function v(e, t, i) {
                e.attachEvent(t, i),
                z[z.length] = [e, t, i]
            }
            function _(e) {
                var t = W.pv
                  , i = e.split(".");
                return i[0] = parseInt(i[0], 10),
                i[1] = parseInt(i[1], 10) || 0,
                i[2] = parseInt(i[2], 10) || 0,
                t[0] > i[0] || t[0] == i[0] && t[1] > i[1] || t[0] == i[0] && t[1] == i[1] && t[2] >= i[2]
            }
            function b(e, t, i, n) {
                if (!W.ie || !W.mac) {
                    var r = B.getElementsByTagName("head")[0];
                    if (r) {
                        var s = i && "string" == typeof i ? i : "screen";
                        if (n && (w = null,
                        R = null),
                        !w || R != s) {
                            var o = y("style");
                            o.setAttribute("type", "text/css"),
                            o.setAttribute("media", s),
                            w = r.appendChild(o),
                            W.ie && W.win && typeof B.styleSheets != O && B.styleSheets.length > 0 && (w = B.styleSheets[B.styleSheets.length - 1]),
                            R = s
                        }
                        W.ie && W.win ? w && typeof w.addRule == I && w.addRule(e, t) : w && typeof B.createTextNode != O && w.appendChild(B.createTextNode(e + " {" + t + "}"))
                    }
                }
            }
            function S(e, t) {
                if ($) {
                    var i = t ? "visible" : "hidden";
                    G && g(e) ? g(e).style.visibility = i : b("#" + e, "visibility:" + i)
                }
            }
            function E(e) {
                var t = /[\\\"<>\.;]/
                  , i = null != t.exec(e);
                return i && typeof encodeURIComponent != O ? encodeURIComponent(e) : e
            }
            var P, T, C, A, w, R, O = "undefined", I = "object", L = "Shockwave Flash", k = "ShockwaveFlash.ShockwaveFlash", D = "application/x-shockwave-flash", N = "SWFObjectExprInst", M = "onreadystatechange", x = window, B = document, F = navigator, V = !1, U = [r], j = [], H = [], z = [], G = !1, X = !1, $ = !0, W = function() {
                var e = typeof B.getElementById != O && typeof B.getElementsByTagName != O && typeof B.createElement != O
                  , t = F.userAgent.toLowerCase()
                  , i = F.platform.toLowerCase()
                  , n = i ? /win/.test(i) : /win/.test(t)
                  , r = i ? /mac/.test(i) : /mac/.test(t)
                  , s = !!/webkit/.test(t) && parseFloat(t.replace(/^.*webkit\/(\d+(\.\d+)?).*$/, "$1"))
                  , o = !1
                  , a = [0, 0, 0]
                  , c = null;
                if (typeof F.plugins != O && typeof F.plugins[L] == I)
                    c = F.plugins[L].description,
                    !c || typeof F.mimeTypes != O && F.mimeTypes[D] && !F.mimeTypes[D].enabledPlugin || (V = !0,
                    o = !1,
                    c = c.replace(/^.*\s+(\S+\s+\S+$)/, "$1"),
                    a[0] = parseInt(c.replace(/^(.*)\..*$/, "$1"), 10),
                    a[1] = parseInt(c.replace(/^.*\.(.*)\s.*$/, "$1"), 10),
                    a[2] = /[a-zA-Z]/.test(c) ? parseInt(c.replace(/^.*[a-zA-Z]+(.*)$/, "$1"), 10) : 0);
                else if (typeof x[["Active"].concat("Object").join("X")] != O)
                    try {
                        var l = new (window[["Active"].concat("Object").join("X")])(k);
                        l && (c = l.GetVariable("$version"),
                        c && (o = !0,
                        c = c.split(" ")[1].split(","),
                        a = [parseInt(c[0], 10), parseInt(c[1], 10), parseInt(c[2], 10)]))
                    } catch (h) {}
                return {
                    w3: e,
                    pv: a,
                    wk: s,
                    ie: o,
                    win: n,
                    mac: r
                }
            }();
            (function() {
                W.w3 && ((typeof B.readyState != O && "complete" == B.readyState || typeof B.readyState == O && (B.getElementsByTagName("body")[0] || B.body)) && e(),
                G || (typeof B.addEventListener != O && B.addEventListener("DOMContentLoaded", e, !1),
                W.ie && W.win && (B.attachEvent(M, function() {
                    "complete" == B.readyState && (B.detachEvent(M, arguments.callee),
                    e())
                }),
                x == top && !function() {
                    if (!G) {
                        try {
                            B.documentElement.doScroll("left")
                        } catch (t) {
                            return void setTimeout(arguments.callee, 0)
                        }
                        e()
                    }
                }()),
                W.wk && !function() {
                    if (!G)
                        return /loaded|complete/.test(B.readyState) ? void e() : void setTimeout(arguments.callee, 0)
                }(),
                n(e)))
            })(),
            function() {
                W.ie && W.win && window.attachEvent("onunload", function() {
                    for (var e = z.length, t = 0; t < e; t++)
                        z[t][0].detachEvent(z[t][1], z[t][2]);
                    for (var n = H.length, r = 0; r < n; r++)
                        p(H[r]);
                    for (var s in W)
                        W[s] = null;
                    W = null;
                    for (var o in i)
                        i[o] = null;
                    i = null
                })
            }();
            return {
                registerObject: function(e, t, i, n) {
                    if (W.w3 && e && t) {
                        var r = {};
                        r.id = e,
                        r.swfVersion = t,
                        r.expressInstall = i,
                        r.callbackFn = n,
                        j[j.length] = r,
                        S(e, !1)
                    } else
                        n && n({
                            success: !1,
                            id: e
                        })
                },
                getObjectById: function(e) {
                    if (W.w3)
                        return a(e)
                },
                embedSWF: function(e, i, n, r, s, o, a, h, u, f) {
                    var p = {
                        success: !1,
                        id: i
                    };
                    W.w3 && !(W.wk && W.wk < 312) && e && i && n && r && s ? (S(i, !1),
                    t(function() {
                        n += "",
                        r += "";
                        var t = {};
                        if (u && typeof u === I)
                            for (var m in u)
                                t[m] = u[m];
                        t.data = e,
                        t.width = n,
                        t.height = r;
                        var g = {};
                        if (h && typeof h === I)
                            for (var y in h)
                                g[y] = h[y];
                        if (a && typeof a === I)
                            for (var v in a)
                                typeof g.flashvars != O ? g.flashvars += "&" + v + "=" + a[v] : g.flashvars = v + "=" + a[v];
                        if (_(s)) {
                            var b = d(t, g, i);
                            t.id == i && S(i, !0),
                            p.success = !0,
                            p.ref = b
                        } else {
                            if (o && c())
                                return t.data = o,
                                void l(t, g, i, f);
                            S(i, !0)
                        }
                        f && f(p)
                    })) : f && f(p)
                },
                switchOffAutoHideShow: function() {
                    $ = !1
                },
                ua: W,
                getFlashPlayerVersion: function() {
                    return {
                        major: W.pv[0],
                        minor: W.pv[1],
                        release: W.pv[2]
                    }
                },
                hasFlashPlayerVersion: _,
                createSWF: function(e, t, i) {
                    return W.w3 ? d(e, t, i) : void 0
                },
                showExpressInstall: function(e, t, i, n) {
                    W.w3 && c() && l(e, t, i, n)
                },
                removeSWF: function(e) {
                    W.w3 && p(e)
                },
                createCSS: function(e, t, i, n) {
                    W.w3 && b(e, t, i, n)
                },
                addDomLoadEvent: t,
                addLoadEvent: n,
                getQueryParamValue: function(e) {
                    var t = B.location.search || B.location.hash;
                    if (t) {
                        if (/\?/.test(t) && (t = t.split("?")[1]),
                        null == e)
                            return E(t);
                        for (var i = t.split("&"), n = 0; n < i.length; n++)
                            if (i[n].substring(0, i[n].indexOf("=")) == e)
                                return E(i[n].substring(i[n].indexOf("=") + 1))
                    }
                    return ""
                },
                expressInstallCallback: function() {
                    if (X) {
                        var e = g(N);
                        e && P && (e.parentNode.replaceChild(P, e),
                        T && (S(T, !0),
                        W.ie && W.win && (P.style.display = "block")),
                        C && C(A)),
                        X = !1
                    }
                }
            }
        }();
        e.exports = i
    }
    , function(e, t, i) {
        "use strict";
        var n = i(1)
          , r = i(4)
          , s = i(110)
          , o = i(6)
          , a = i(2)
          , c = i(3)
          , l = i(266)
          , h = i(0);
        i(184),
        i(42),
        i(190),
        i(192),
        i(65),
        i(23),
        i(18),
        i(90),
        i(31),
        i(66),
        i(92),
        i(12),
        i(67);
        var u = function() {
            function e() {
                this.reset()
            }
            return e.prototype.reset = function() {
                this.downloadDuration = 0,
                this.fragmentSize = 0,
                this.fragmentDuration = 0,
                this.count = 0
            }
            ,
            e
        }()
          , d = function() {
            function e() {
                this._logger = new n.Logger("AnalyticsHandler"),
                this._fragmentInfo = new u,
                this._lastFPS = 0,
                this._fpsThreshold = 2,
                this._quartileSent = -1,
                this._xuaAssetFactory = new l.XuaAssetFactory
            }
            return e.prototype.init = function(e, t, i, n) {
                return this._sandbox = e,
                this._analyticsProvider = i,
                this._playbackStateMonitor = n,
                this._bufferStartStream = h.Observable.fromEvent(r, r.BUFFER_START),
                this._bufferCompleteStream = h.Observable.fromEvent(r, r.BUFFER_COMPLETE),
                this._seekStartStream = h.Observable.fromEvent(r, r.SEEK_START),
                this._seekCompleteStream = h.Observable.fromEvent(r, r.SEEK_COMPLETE),
                this.addEventListeners(),
                e.subscribe("api:setAsset", this.onOpeningMedia, {}, this),
                e.subscribe("api:mediaInfo", this.onMediaInfo, {}, this),
                this._bufferSubscribe(),
                t.appName = t.appName || e.config[o.ConfigurationManager.ANALYTICS_DEVICE_TYPE],
                t.appName || this._logger.error("No app name provided for analytics."),
                i.configureAnalytics(t, {
                    analyticsProtocol: e.config[o.ConfigurationManager.ANALYTICS_PROTOCOL],
                    maxBatchSize: e.config[o.ConfigurationManager.MAX_BATCH_SIZE],
                    maxQueueSize: e.config[o.ConfigurationManager.MAX_QUEUE_SIZE],
                    batchInterval: e.config[o.ConfigurationManager.BATCH_INTERVAL],
                    analyticsUrl: e.config[o.ConfigurationManager.ANALYTICS_END_POINT]
                }),
                this._setupHeartbeat(),
                this._playbackStateMonitor.init(),
                this
            }
            ,
            e.prototype.destroy = function(e) {
                this.removeEventListeners(),
                e.remove("api:setAsset", this.onOpeningMedia),
                e.remove("api:mediaInfo", this.onMediaInfo),
                this._analyticsProvider.disable(),
                this._playbackStateMonitor.destroy()
            }
            ,
            e.prototype.addEventListeners = function() {
                r.addEventListener(r.AD_START, this.onAdStart, {}, this),
                r.addEventListener(r.AD_PROGRESS, this.onAdProgress, {}, this),
                r.addEventListener(r.AD_COMPLETE, this.onAdComplete, {}, this),
                r.addEventListener(r.AD_EXITED, this.onAdExited, {}, this),
                r.addEventListener(r.AD_BREAK_START, this.onAdBreakStart, {}, this),
                r.addEventListener(r.AD_BREAK_COMPLETE, this.onAdBreakComplete, {}, this),
                r.addEventListener(r.AD_BREAK_EXITED, this.onAdBreakExited, {}, this),
                r.addEventListener(r.BITRATE_CHANGED, this.onBitrateChanged, {}, this),
                r.addEventListener(r.FPS_CHANGED, this.onFPSChanged, {}, this),
                r.addEventListener(r.FRAGMENT_INFO, this.onFragmentInfo, {}, this),
                r.addEventListener(r.MEDIA_DAI_FALLBACK, this.onMediaDaiFallback, {}, this),
                r.addEventListener(r.MEDIA_ENDED, this.onMediaEnded, {}, this),
                r.addEventListener(r.MEDIA_FAILED, this.onMediaFailed, {}, this),
                r.addEventListener(r.MEDIA_OPENED, this.onMediaOpened, {}, this),
                r.addEventListener(r.MEDIA_RETRY, this.onMediaRetry, {}, this),
                r.addEventListener(r.MEDIA_WARNING, this.onMediaWarning, {}, this),
                r.addEventListener(r.PLAYBACK_SPEED_CHANGED, this.onPlaybackSpeedChanged, {}, this),
                r.addEventListener(r.PLAYBACK_STARTED, this.onPlaybackStarted, {}, this),
                r.addEventListener(r.PLAY_STATE_CHANGED, this.onPlayStateChanged, {}, this),
                r.addEventListener(r.SEEK_COMPLETE, this.onSeekComplete, {}, this),
                r.addEventListener(r.SEEK_START, this.onSeekStart, {}, this),
                r.addEventListener(r.EMERGENCY_ALERT_IDENTIFIED, this.onEmergencyAlertIdentified, {}, this),
                r.addEventListener(r.EMERGENCY_ALERT_STARTED, this.onEmergencyAlertStarted, {}, this),
                r.addEventListener(r.EMERGENCY_ALERT_COMPLETE, this.onEmergencyAlertCompleted, {}, this),
                r.addEventListener(r.EMERGENCY_ALERT_FAILURE, this.onEmergencyAlertFailed, {}, this),
                r.addEventListener(r.EMERGENCY_ALERT_EXEMPTED, this.onEmergencyAlertExempted, {}, this),
                r.addEventListener(r.EMERGENCY_ALERT_ERRORED, this.onEmergencyAlertErrored, {}, this)
            }
            ,
            e.prototype.removeEventListeners = function() {
                r.removeEventListener(r.AD_START, this.onAdStart),
                r.removeEventListener(r.AD_PROGRESS, this.onAdProgress),
                r.removeEventListener(r.AD_COMPLETE, this.onAdComplete),
                r.removeEventListener(r.AD_EXITED, this.onAdExited),
                r.removeEventListener(r.AD_BREAK_START, this.onAdBreakStart),
                r.removeEventListener(r.AD_BREAK_COMPLETE, this.onAdBreakComplete),
                r.removeEventListener(r.AD_BREAK_EXITED, this.onAdBreakExited),
                r.removeEventListener(r.BITRATE_CHANGED, this.onBitrateChanged),
                r.removeEventListener(r.FPS_CHANGED, this.onFPSChanged),
                r.removeEventListener(r.FRAGMENT_INFO, this.onFragmentInfo),
                r.removeEventListener(r.MEDIA_DAI_FALLBACK, this.onMediaDaiFallback),
                r.removeEventListener(r.MEDIA_ENDED, this.onMediaEnded),
                r.removeEventListener(r.MEDIA_FAILED, this.onMediaFailed),
                r.removeEventListener(r.MEDIA_OPENED, this.onMediaOpened),
                r.removeEventListener(r.MEDIA_RETRY, this.onMediaRetry),
                r.removeEventListener(r.MEDIA_WARNING, this.onMediaWarning),
                r.removeEventListener(r.PLAYBACK_SPEED_CHANGED, this.onPlaybackSpeedChanged),
                r.removeEventListener(r.PLAYBACK_STARTED, this.onPlaybackStarted),
                r.removeEventListener(r.PLAY_STATE_CHANGED, this.onPlayStateChanged),
                r.removeEventListener(r.SEEK_COMPLETE, this.onSeekComplete),
                r.removeEventListener(r.SEEK_START, this.onSeekStart),
                r.removeEventListener(r.EMERGENCY_ALERT_IDENTIFIED, this.onEmergencyAlertIdentified),
                r.removeEventListener(r.EMERGENCY_ALERT_STARTED, this.onEmergencyAlertStarted),
                r.removeEventListener(r.EMERGENCY_ALERT_COMPLETE, this.onEmergencyAlertCompleted),
                r.removeEventListener(r.EMERGENCY_ALERT_FAILURE, this.onEmergencyAlertFailed),
                r.removeEventListener(r.EMERGENCY_ALERT_EXEMPTED, this.onEmergencyAlertExempted),
                r.removeEventListener(r.EMERGENCY_ALERT_ERRORED, this.onEmergencyAlertErrored)
            }
            ,
            e.prototype._setupHeartbeat = function() {
                var e = this;
                h.Observable.interval(this._sandbox.config.heartbeatInterval).filter(function() {
                    return e._sandbox.getPlayerStatus() !== c.STATUS_IDLE && e._sandbox.getPlayerStatus() !== c.STATUS_ERROR
                }).takeUntil(this._sandbox.destroyed).subscribe(function() {
                    return e.onHeartBeat()
                })
            }
            ,
            e.prototype._bufferSubscribe = function() {
                var e = this
                  , t = h.Observable.merge(h.Observable.from([{
                    seeking: !1,
                    position: Number.NEGATIVE_INFINITY
                }]), this._seekStartStream.map(function(e) {
                    return {
                        seeking: !0,
                        position: e.position
                    }
                }), this._seekCompleteStream.map(function(e) {
                    return {
                        seeking: !1,
                        position: e.position
                    }
                }))
                  , i = h.Observable.merge(this._sandbox.streams.mediaOpeneds.mapTo("initial"), this._sandbox.streams.mediaProgresses.distinctUntilKeyChanged("position").pairwise().withLatestFrom(t, function(e, t) {
                    var i = t.seeking
                      , n = t.position;
                    return i || e[1].position === n ? "seek" : e[1].playbackSpeed < 0 || e[1].playbackSpeed > 1 ? "trickplay" : "underflow"
                }), this._seekStartStream.mapTo("seek")).distinctUntilChanged()
                  , n = this._bufferStartStream.withLatestFrom(i, function(t, i) {
                    return e._logger.trace("onBufferStart: " + JSON.stringify(t) + " type: " + i),
                    new s.BufferStartMessage(e._xuaAssetFactory.create(e._sandbox.asset),i,e._sandbox.getCurrentPosition())
                }).share();
                h.Observable.merge(n, this._bufferCompleteStream.withLatestFrom(n, function(t, i) {
                    return e._logger.trace("onBufferEnd: " + JSON.stringify(t) + " type: " + i.EVT.VALUE.TYPE),
                    new s.BufferCompleteMessage(i.EVT.ASSET,i.EVT.VALUE.TYPE,i.EVT.VALUE.START,e._sandbox.getCurrentPosition())
                })).takeUntil(this._sandbox.destroyed["do"](function() {
                    return e._logger.trace("Analytics Handler: onBuffer[Start|Complete] subscription destroyed")
                })).subscribe(function(t) {
                    e._analyticsProvider.buildMessage(t)
                })
            }
            ,
            e.prototype.onAdStart = function(e) {
                this._logger.trace("onAdStart: " + JSON.stringify(e)),
                this._quartileSent = 0;
                var t = new s.AdProgressMessage(this._xuaAssetFactory.create(this._sandbox.asset),0);
                this._analyticsProvider.buildMessage(t)
            }
            ,
            e.prototype.onAdProgress = function(e) {
                var t = this._quartileSent;
                if (e.progress >= 0 && this._quartileSent < 0 && (this._quartileSent = 0),
                e.progress >= 25 && this._quartileSent < 1 && (this._quartileSent = 1),
                e.progress >= 50 && this._quartileSent < 2 && (this._quartileSent = 2),
                e.progress >= 75 && this._quartileSent < 3 && (this._quartileSent = 3),
                e.progress >= 100 && this._quartileSent < 4 && (this._quartileSent = 4),
                t !== this._quartileSent) {
                    this._logger.trace("onAdProgress: " + JSON.stringify(e));
                    var i = new s.AdProgressMessage(this._xuaAssetFactory.create(this._sandbox.asset),25 * this._quartileSent);
                    this._analyticsProvider.buildMessage(i)
                }
            }
            ,
            e.prototype.onAdComplete = function(e) {
                if (this._logger.trace("onAdComplete: " + JSON.stringify(e)),
                this._quartileSent < 4) {
                    this._quartileSent = 4;
                    var t = new s.AdProgressMessage(this._xuaAssetFactory.create(this._sandbox.asset),25 * this._quartileSent);
                    this._analyticsProvider.buildMessage(t)
                }
            }
            ,
            e.prototype.onAdExited = function(e) {
                this._logger.trace("onAdExited: " + JSON.stringify(e));
                var t = new s.AdExitedMessage(this._xuaAssetFactory.create(this._sandbox.asset));
                this._analyticsProvider.buildMessage(t)
            }
            ,
            e.prototype.onAdBreakStart = function(e) {
                this._logger.trace("onAdBreakStart: " + JSON.stringify(e)),
                this._quartileSent = -1;
                var t = new s.AdBreakStartMessage(this._xuaAssetFactory.create(this._sandbox.asset));
                this._analyticsProvider.buildMessage(t)
            }
            ,
            e.prototype.onAdBreakComplete = function(e) {
                if (this._logger.trace("onAdBreakComplete: " + JSON.stringify(e)),
                this._quartileSent < 4) {
                    this._quartileSent = 4;
                    var t = new s.AdProgressMessage(this._xuaAssetFactory.create(this._sandbox.asset),25 * this._quartileSent);
                    this._analyticsProvider.buildMessage(t)
                }
                var i = new s.AdBreakCompleteMessage(this._xuaAssetFactory.create(this._sandbox.asset));
                this._analyticsProvider.buildMessage(i)
            }
            ,
            e.prototype.onAdBreakExited = function(e) {
                this._logger.trace("onAdBreakExited: " + JSON.stringify(e)),
                this._analyticsProvider.buildMessage(new s.AdBreakExitedMessage(this._xuaAssetFactory.create(this._sandbox.asset)))
            }
            ,
            e.prototype.onBitrateChanged = function(e) {
                this._logger.trace("onBitrateChanged: " + JSON.stringify(e));
                var t = new s.BitrateChangedMessage(this._xuaAssetFactory.create(this._sandbox.asset),e.bitRate);
                this._analyticsProvider.buildMessage(t)
            }
            ,
            e.prototype.onFPSChanged = function(e) {
                if (Math.abs(e.fps - this._lastFPS) >= this._fpsThreshold) {
                    this._logger.trace("onFPSChanged: " + JSON.stringify(e) + ": " + this._lastFPS);
                    var t = new s.FPSChangedMessage(this._xuaAssetFactory.create(this._sandbox.asset),e.fps);
                    this._analyticsProvider.buildMessage(t)
                }
                this._lastFPS = e.fps
            }
            ,
            e.prototype.onFragmentInfo = function(e) {
                var t = e.fragmentDuration >= 0 ? e.fragmentDuration : 0;
                if (e.downloadDuration > t && 1 === this._sandbox.getCurrentPlaybackSpeed()) {
                    var i = {
                        downloadDuration: e.downloadDuration,
                        fragmentDuration: t,
                        fragmentSize: e.fragmentSize,
                        fragmentUrl: e.fragmentUrl
                    }
                      , n = new s.FragmentWarningMessage(this._xuaAssetFactory.create(this._sandbox.asset),i);
                    this._analyticsProvider.buildMessage(n)
                }
                this._fragmentInfo.downloadDuration += e.downloadDuration,
                this._fragmentInfo.fragmentSize += e.fragmentSize,
                this._fragmentInfo.fragmentDuration += t,
                this._fragmentInfo.count++
            }
            ,
            e.prototype.onHeartBeat = function() {
                this._logger.trace("onHeartBeat");
                var e = new s.HeartbeatMessage(this._xuaAssetFactory.create(this._sandbox.asset),this._sandbox.getCurrentPosition(),this._sandbox.player.getCurrentBitrate(),this._sandbox.player.getCurrentFPS(),this._sandbox.player.getCurrentClosedCaptionTrack(),this._sandbox.player.getCurrentAudioLanguage(),null,this._fragmentInfo.count ? this._fragmentInfo : null);
                this._analyticsProvider.buildMessage(e),
                this._fragmentInfo.reset()
            }
            ,
            e.prototype.onMediaEnded = function(e) {
                this._logger.trace("onMediaEnded: " + JSON.stringify(e));
                var t = new s.MediaEndedMessage(this._xuaAssetFactory.create(this._sandbox.asset));
                this._analyticsProvider.buildMessage(t)
            }
            ,
            e.prototype.onMediaFailed = function(e) {
                this._logger.trace("onMediaFailed: " + JSON.stringify(e));
                var t = new s.MediaFailedMessage(this._xuaAssetFactory.create(this._sandbox.asset),e.error.code,e.error.description,this._sandbox.getCurrentPosition(),this._sandbox.asset.url,this._playbackStateMonitor.isAdPlaying());
                this._analyticsProvider.buildMessage(t),
                this._analyticsProvider.forceSendMessages()
            }
            ,
            e.prototype._buildApplicationErrorMessage = function(e, t, i, n) {
                void 0 === t && (t = ""),
                void 0 === i && (i = 0),
                void 0 === n && (n = !1);
                var r = new s.ApplicationErrorMessage(this._xuaAssetFactory.create(this._sandbox.asset),e.code,t,e.description,e.isWarning,i,this._playbackStateMonitor.isAdPlaying(),n,this._sandbox.asset.url);
                this._analyticsProvider.buildMessage(r)
            }
            ,
            e.prototype.onMediaRetry = function(e) {
                this._logger.trace("onMediaRetry: " + JSON.stringify(e)),
                this._buildApplicationErrorMessage(e.data.error, e.data.errorClass, e.data.retryCount)
            }
            ,
            e.prototype.onMediaWarning = function(e) {
                this._logger.trace("onMediaWarning: " + JSON.stringify(e)),
                this._buildApplicationErrorMessage(e.error)
            }
            ,
            e.prototype.onMediaDaiFallback = function(e) {
                this._logger.trace("onMediaRetry: " + JSON.stringify(e)),
                this._buildApplicationErrorMessage(e.data.error, e.data.errorClass, 0, !0)
            }
            ,
            e.prototype.onMediaOpened = function(e) {
                this._logger.trace("onMediaOpened: " + JSON.stringify(e));
                var t = new s.MediaOpenedMessage(this._xuaAssetFactory.create(this._sandbox.asset),e.openingLatency,this._sandbox.getCurrentPosition(),this._sandbox.asset.url,e.numAds);
                this._analyticsProvider.buildMessage(t)
            }
            ,
            e.prototype.onMediaInfo = function(e) {
                this._logger.trace("onMediaInfo: " + e);
                var t = new s.MediaInfoMessage(this._xuaAssetFactory.create(this._sandbox.asset),this._sandbox.getCurrentPosition(),e);
                this._analyticsProvider.buildMessage(t)
            }
            ,
            e.prototype.onPlaybackSpeedChanged = function(e) {
                this._logger.trace("onPlaybackSpeedChanged: " + JSON.stringify(e));
                var t = "";
                t = e.playbackSpeed < 0 ? "rwd" : 0 === e.playbackSpeed ? "pause" : 1 === e.playbackSpeed ? "play" : e.playbackSpeed > 1 ? "ffwd" : "unknown";
                var i = new s.TrickPlayMessage(this._xuaAssetFactory.create(this._sandbox.asset),this._sandbox.getCurrentPosition(),t);
                this._analyticsProvider.buildMessage(i)
            }
            ,
            e.prototype.onPlaybackStarted = function() {
                this._logger.trace("onPlaybackStarted");
                var e = new s.PlaybackStartedMessage(this._xuaAssetFactory.create(this._sandbox.asset));
                this._analyticsProvider.buildMessage(e)
            }
            ,
            e.prototype.onPlayStateChanged = function(e) {
                this._logger.trace("onPlayStateChanged: " + JSON.stringify(e));
                var t = new s.PlayStateChangedMessage(this._xuaAssetFactory.create(this._sandbox.asset),e.playState);
                this._analyticsProvider.buildMessage(t)
            }
            ,
            e.prototype.onSeekComplete = function(e) {
                this._logger.trace("onSeekComplete: " + JSON.stringify(e));
                var t = new s.ScrubEndedMessage(this._sandbox.getCurrentPosition(),this._xuaAssetFactory.create(this._sandbox.asset));
                this._analyticsProvider.buildMessage(t)
            }
            ,
            e.prototype.onSeekStart = function(e) {
                this._logger.trace("onSeekStart: " + JSON.stringify(e));
                var t = new s.ScrubStartedMessage(this._sandbox.preSeekPosition,this._xuaAssetFactory.create(this._sandbox.asset));
                this._analyticsProvider.buildMessage(t)
            }
            ,
            e.prototype.onOpeningMedia = function() {
                var e = new s.OpeningMediaMessage(this._xuaAssetFactory.create(this._sandbox.asset),this._sandbox.asset.url);
                this._analyticsProvider.buildMessage(e)
            }
            ,
            e.prototype.onEmergencyAlertIdentified = function(e) {
                this._logger.trace("onEmergencyAlertIdentified: " + JSON.stringify(e));
                var t = new s.EmergencyAlertMessage("Identified",e.easLanguage,e.easURI);
                this._analyticsProvider.buildMessage(t)
            }
            ,
            e.prototype.onEmergencyAlertStarted = function(e) {
                this._logger.trace("onEmergencyAlertStarted: " + JSON.stringify(e));
                var t = new s.EmergencyAlertMessage("Initiated",e.easLanguage,e.easURI);
                this._analyticsProvider.buildMessage(t)
            }
            ,
            e.prototype.onEmergencyAlertCompleted = function(e) {
                this._logger.trace("onEmergencyAlertCompleted: " + JSON.stringify(e));
                var t = new s.EmergencyAlertMessage("Completed",e.easLanguage,e.easURI);
                this._analyticsProvider.buildMessage(t)
            }
            ,
            e.prototype.onEmergencyAlertFailed = function(e) {
                this._logger.trace("onEmergencyAlertFailed: " + JSON.stringify(e));
                var t = new s.EmergencyAlertMessage("Failed",e.easLanguage,e.easURI,e.easCode);
                this._analyticsProvider.buildMessage(t)
            }
            ,
            e.prototype.onEmergencyAlertExempted = function(e) {
                this._logger.trace("onEmergencyAlertExempted: " + JSON.stringify(e));
                var t = new s.EmergencyAlertMessage("Exempted",e.easLanguage,e.easURI);
                this._analyticsProvider.buildMessage(t)
            }
            ,
            e.prototype.onEmergencyAlertErrored = function(e) {
                this._logger.trace("onEmergencyAlertErrored: " + JSON.stringify(e));
                var t = new s.EmergencyAlertMessage("Errored",e.easLanguage,e.easURI,e.easCode);
                this._analyticsProvider.buildMessage(t)
            }
            ,
            e
        }();
        t.AnalyticsHandler = d,
        a.registerModule("AnalyticsHandler", d)
    }
    , function(e, t, i) {
        "use strict";
        var n = i(4)
          , r = i(3)
          , s = i(2)
          , o = i(1)
          , a = i(106);
        t.FALLBACK_FROM = "dai-aim.g.comcast.net",
        t.FALLBACK_TO = "ccr.cim-linear-hds.top.comcast.net";
        var c = function() {
            function e() {
                this.logger = new o.Logger("DAIFallback"),
                this.hasReachedPrepared = !1,
                this.isXRE = !1
            }
            return e.prototype.init = function(e) {
                return this.logger.trace("DAIFallback init"),
                this.sandbox = e,
                this.isXRE = e.isXRE(),
                e.subscribe("api:setAsset", this.reset, {}, this),
                e.subscribe("api:stop", this.reset, {}, this),
                n.on(n.MEDIA_OPENED, this.onMediaOpened, {}, this),
                n.on(n.MEDIA_FAILED, this.onMediaFailed, {
                    priority: r.PRIORITY_TOP
                }, this),
                this
            }
            ,
            e.prototype.destroy = function(e) {
                this.reset(),
                e.remove("api:setAsset", this.reset),
                e.remove("api:stop", this.reset),
                n.off(n.MEDIA_OPENED, this.onMediaOpened),
                n.off(n.MEDIA_FAILED, this.onMediaFailed)
            }
            ,
            e.prototype.onMediaFailed = function(e, i) {
                var r = this.sandbox.asset;
                if ((!this.isXRE || !this.hasReachedPrepared) && e.retry && r.shouldRetry() && r.url && !r.contentOptions.preventModify && r.url.indexOf("://" + t.FALLBACK_FROM) >= 0) {
                    var s = r.url.replace(t.FALLBACK_FROM, t.FALLBACK_TO)
                      , o = s.indexOf("?");
                    o >= 0 && (s = s.slice(0, o)),
                    i.stopPropagation(),
                    n.dispatchEvent(new n.MediaDaiFallbackEvent(e)),
                    this.logger.info("Attempting DAI fallback " + s),
                    a.attemptUrl(this.sandbox, s)
                }
            }
            ,
            e.prototype.onMediaOpened = function() {
                this.hasReachedPrepared = !0
            }
            ,
            e.prototype.reset = function() {
                this.hasReachedPrepared = !1
            }
            ,
            e
        }();
        t.DAIFallback = c,
        s.registerModule("DAIFallback", c, {
            autostart: !0
        })
    }
    , function(e, t, i) {
        "use strict";
        var n = function() {
            function e() {
                this.fastForward = 0,
                this.rewind = 0,
                this.pause = 0
            }
            return e
        }();
        t.MediaSegmentRestrictions = n;
        var r = function() {
            function e(e, t, i, r) {
                this.id = e,
                this.segmentType = t,
                this.start = i,
                this.duration = r,
                this.restrictions = new n
            }
            return e.prototype.setRestrictions = function(e, t, i) {
                this.restrictions.fastForward = e,
                this.restrictions.rewind = t,
                this.restrictions.pause = i
            }
            ,
            e.prototype.getEnd = function() {
                return this.start + this.duration
            }
            ,
            e.prototype.clone = function() {
                var t = new e(this.id,this.segmentType,this.start,this.duration);
                return t.restrictions.fastForward = this.restrictions.fastForward,
                t.restrictions.rewind = this.restrictions.rewind,
                t.restrictions.pause = this.restrictions.pause,
                t
            }
            ,
            e.prototype.toObject = function() {
                return {
                    id: this.id,
                    segmentType: this.segmentType,
                    start: this.start,
                    duration: this.duration,
                    restrictions: this.restrictions
                }
            }
            ,
            e.fromAd = function(t) {
                var i = new e(t.id,e.TYPE_AD,t.startTime,t.duration)
                  , n = t.restrictionLimits;
                return i.setRestrictions(n.fastForward, n.rewind, n.pause),
                i
            }
            ,
            e.createAdSegments = function(t) {
                return t.map(function(e) {
                    return e.ads
                }).reduce(function(e, t) {
                    return e.concat(t)
                }, []).map(e.fromAd)
            }
            ,
            e.createContentSegments = function(t, i, n) {
                if (t.length) {
                    var r = t.reduce(function(t, n, r, s) {
                        if (0 === n.startTime)
                            return t;
                        var o = (s[r - 1] || {}).endTime || 0
                          , a = n.startTime - o;
                        return t.concat(new e(i.id,e.TYPE_CONTENT,o,a))
                    }, [])
                      , s = t[t.length - 1];
                    return s.endTime !== n && r.push(new e(i.id,e.TYPE_CONTENT,s.endTime,n - s.endTime)),
                    r
                }
            }
            ,
            e.createSegments = function(t, i, n) {
                var r = e.createAdSegments(t)
                  , s = e.createContentSegments(t, i, n);
                return s.concat(r).sort(function(e, t) {
                    return e.start - t.start
                })
            }
            ,
            e.TYPE_CONTENT = "content",
            e.TYPE_AD = "ad",
            e
        }();
        t.MediaSegment = r
    }
    , function(e, t, i) {
        "use strict";
        var n = this && this.__decorate || function(e, t, i, n) {
            var r, s = arguments.length, o = s < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, i) : n;
            if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                o = Reflect.decorate(e, t, i, n);
            else
                for (var a = e.length - 1; a >= 0; a--)
                    (r = e[a]) && (o = (s < 3 ? r(o) : s > 3 ? r(t, i, o) : r(t, i)) || o);
            return s > 3 && o && Object.defineProperty(t, i, o),
            o
        }
        ;
        i(254);
        var r = i(2)
          , s = i(87)
          , o = i(3)
          , a = i(4)
          , c = i(262)
          , l = i(265)
          , h = i(267)
          , u = i(6)
          , d = i(282)
          , f = i(1)
          , p = i(117)
          , m = i(253)
          , g = i(0);
        i(22),
        i(67),
        i(46),
        i(12);
        var y = function() {
            function e(e) {
                function t(e, t) {
                    if (!e)
                        throw t.error("PlayerPlatformAPI requires a parameters object"),
                        new Error("PlayerPlatformAPI requires a parameters object");
                    if (!e.videoElement)
                        throw t.error("Params must contain the id of an HTMLElement to be used as the video canvas"),
                        new Error("Params must contain the id of an HTMLElement to be used as the video canvas")
                }
                this.streams = new m.PlayerPlatformStreams,
                this.logger = e.logger || new f.Logger("PlayerPlatformAPI"),
                this.logger.trace("new"),
                t(e, this.logger),
                this.configMgr = e.configurationManager || u.ConfigurationManager.getInstance(),
                this.asset = null,
                this.preSeekPosition = 0,
                this.videoElement = e.videoElement,
                this.adManager = null,
                this.lastKnownPosition = 0,
                this.currentFPS = 0,
                this.currentDroppedFrames = 0,
                this.currentDuration = 0,
                this.totalAudioLanguages = 0,
                this.totalCCTracks = 0,
                this.playbackSpeeds = [],
                this.player = null,
                this.playerTypes = [],
                this.closedCaptionsEnabled = !1,
                this.configMgr.isReady() || this.configMgr.loadConfiguration(e.configuration || {}),
                this._handleClicks(),
                a.addEventListener(a.MEDIA_PROGRESS, this.updatePlaybackMetrics, {}, this),
                a.addEventListener(a.MEDIA_FAILED, this.onMediaFailed, {}, this),
                a.addEventListener(a.MEDIA_OPENED, this.onMediaOpened, {}, this),
                a.addEventListener(a.PLAYBACK_SPEED_CHANGED, this.onPlaybackSpeedChanged, {}, this),
                a.addEventListener(a.PLAY_STATE_CHANGED, this.onPlayStateChanged, {}, this),
                r.inject({
                    config: this.configMgr.values,
                    params: e
                }),
                r.init(this),
                this.mediator.subscribe("api:setAsset", this.onSetAsset, {
                    priority: o.PRIORITY_TOP
                }, this),
                this.mediator.subscribe("api:engineSelected", this.engineChange, {}, this),
                this.mediator.subscribe("api:adManagerSelected", this.adManagerChange, {}, this),
                this.mediator.subscribe("api:updatePlayerConfig", this.setPlayerConfig, {}, this),
                this.mediator.subscribe("api:playersAvailable", this.playersAvailable, {}, this),
                this.mediator.subscribe("api:swapAsset", this.swapAsset, {}, this),
                this.mediator.publish("api:playerCheck"),
                this.transferSettingOnEngineChange("api:setVolume")
            }
            return e.prototype.transferSettingOnEngineChange = function(e) {
                var t = this;
                g.Observable.fromEvent(this.mediator, "api:engineSelected").withLatestFrom(g.Observable.fromEvent(this.mediator, e), function(e, t) {
                    return {
                        engine: e,
                        event: t
                    }
                }).takeUntil(g.Observable.fromEvent(this.mediator, "api:destroy")).subscribe(function(i) {
                    i.engine.onPlayerReady(function() {
                        t.logger.trace("Re-publishing '" + e + "' from last engine"),
                        t.mediator.publish(e, i.event)
                    })
                })
            }
            ,
            e.prototype.onSetAsset = function(e) {
                e.isRetry || this.stop(),
                this.configMgr.extendConfiguration(u.ConfigurationManager.DEFAULT_ASSET, e.assetType);
                var t = e.contentOptions.adConfig;
                t && this.mediator.publish("ads:configureAds", t.type, t),
                this.asset = e
            }
            ,
            e.prototype.swapAsset = function(e) {
                this.asset = e,
                this.logger.trace("swapAsset: " + JSON.stringify(this.asset))
            }
            ,
            e.prototype.engineChange = function(e) {
                var t = this;
                this.player = e,
                this.player.onPlayerReady(function() {
                    t.setInitialPlayerConfig()
                })
            }
            ,
            e.prototype.playersAvailable = function(e) {
                this.playerTypes = e,
                this.logger.trace("playersAvailable: " + JSON.stringify(this.playerTypes))
            }
            ,
            e.prototype.adManagerChange = function(e) {
                this.adManager = e
            }
            ,
            e.prototype.addEventListener = function(e, t, i) {
                this.logger.trace("addEventListener: Adding event for type: " + e),
                a.addEventListener(e, t, {}, i)
            }
            ,
            e.prototype.on = function(e, t, i) {
                this.addEventListener(e, t, i)
            }
            ,
            e.prototype.dispatchEvent = function(e) {
                a.dispatchEvent(e)
            }
            ,
            e.prototype.removeEventListener = function(e, t) {
                a.removeEventListener(e, t)
            }
            ,
            e.prototype.off = function(e, t) {
                this.removeEventListener(e, t)
            }
            ,
            e.prototype.play = function() {
                this.logger.info("play"),
                this.mediator.publish("api:play")
            }
            ,
            e.prototype.pause = function() {
                this.logger.info("pause"),
                this.mediator.publish("api:pause")
            }
            ,
            e.prototype.stop = function() {
                this.logger.info("stop"),
                this.mediator.publish("api:stop"),
                this._hideWatermark(),
                this.lastKnownPosition = 0
            }
            ,
            e.prototype.seekToLive = function() {
                this.logger.info("seekToLive"),
                this.preSeekPosition = this.getCurrentPosition(),
                this.mediator.publish("api:seekToLive")
            }
            ,
            e.prototype.destroy = function() {
                this.logger.trace("destroy"),
                this.pendingPlaybackStart && this.pendingPlaybackStart.unsubscribe(),
                this.mediator.remove("api:swapAsset", this.swapAsset),
                this.mediator.remove("api:setAsset", this.onSetAsset),
                this.mediator.remove("api:engineSelected", this.engineChange),
                this.mediator.remove("api:adManagerSelected", this.adManagerChange),
                this.mediator.remove("api:updatePlayerConfig", this.setPlayerConfig),
                this.mediator.remove("api:playersAvailable", this.playersAvailable),
                a.removeEventListener(a.MEDIA_PROGRESS, this.updatePlaybackMetrics),
                a.removeEventListener(a.MEDIA_FAILED, this.onMediaFailed),
                a.removeEventListener(a.MEDIA_OPENED, this.onMediaOpened),
                a.removeEventListener(a.PLAYBACK_SPEED_CHANGED, this.onPlaybackSpeedChanged),
                a.removeEventListener(a.PLAY_STATE_CHANGED, this.onPlayStateChanged),
                this.mediator.publish("api:destroy")
            }
            ,
            e.prototype.configureAnalytics = function(e, t, i) {
                this.logger.trace("configureAnalytics: " + JSON.stringify(e));
                var n = e;
                if (e.tokenSummary && t) {
                    var o = e;
                    n = {
                        appName: this.configMgr.get(u.ConfigurationManager.ANALYTICS_DEVICE_TYPE),
                        appVersion: t,
                        deviceName: s.name,
                        deviceVersion: s.version,
                        deviceId: o.tokenSummary.deviceId,
                        physicalId: o.tokenSummary.deviceId,
                        accountId: o.tokenSummary.xboAccountId,
                        xsctPartnerId: o.tokenSummary.partnerId,
                        inHomeState: function() {
                            return "in-home" === o.tokenSummary.inHomeStatus ? "inHome" : "outOfHome"
                        }
                    }
                }
                r.startModule("AnalyticsHandler", n, new c.AnalyticsProvider, new l.PlaybackStateMonitor)
            }
            ,
            e.prototype.configureEmergencyAlerts = function(e) {
                if (this.isXRE())
                    return void this.logger.warn("EAS not available on XRE platforms.");
                var t = this.configMgr.get(u.ConfigurationManager.ZIPS_TO_FIPS_END_POINT)
                  , i = this.configMgr.get(u.ConfigurationManager.ALERT_SERVICE_END_POINT)
                  , n = {
                    pollingInterval: parseInt(this.configMgr.get(u.ConfigurationManager.EAS_UPDATE_INTERVAL)),
                    timeout: parseInt(this.configMgr.get(u.ConfigurationManager.EAS_NETWORK_REQUEST_TIMEOUT)),
                    repeat: parseInt(this.configMgr.get(u.ConfigurationManager.EAS_ALERT_REPEAT)),
                    font: this.configMgr.get(u.ConfigurationManager.EAS_ALERT_FONT),
                    fontSize: parseFloat(this.configMgr.get(u.ConfigurationManager.EAS_ALERT_FONT_SIZE))
                }
                  , s = d.parse(e).zipCode
                  , o = new h.EASPoller(i,t,s,n.pollingInterval);
                r.startModule("EmergencyAlertProvider", o, n)
            }
            ,
            e.prototype.setAsset = function(e) {
                var t = this;
                this.logger.trace("setAsset: resumePosition=" + e.resumePosition + " asset=" + JSON.stringify(e)),
                e.toCcr(function(i) {
                    i ? (t.asset = e,
                    t.dispatchEvent(new a.MediaFailedEvent(i,(!1)))) : t.mediator.publish("api:setAsset", e)
                })
            }
            ,
            e.prototype.setPosition = function(e, t) {
                this.logger.info("setPosition - target=" + e + " ignoreAds=" + t),
                this.preSeekPosition = this.getCurrentPosition(),
                this.mediator.publish("api:setPosition", e, t)
            }
            ,
            e.prototype.setPositionRelative = function(e, t) {
                this.logger.info("setPositionRelative: " + e),
                this.setPosition(this.getCurrentPosition() + e, t)
            }
            ,
            e.prototype.setVolume = function(e) {
                this.logger.trace("setVolume: " + e),
                e = e > 1 ? 1 : e,
                e = e < 0 ? 0 : e,
                this.mediator.publish("api:setVolume", e)
            }
            ,
            e.prototype.setSpeed = function(e) {
                this.logger.info("setSpeed: spd=" + e),
                this.mediator.publish("api:setSpeed", e)
            }
            ,
            e.prototype.setClosedCaptionsEnabled = function(e) {
                this.logger.trace("setClosedCaptionsEnabled: " + e),
                this.closedCaptionsEnabled = e,
                this.mediator.publish("api:setClosedCaptionsEnabled", e),
                this.mediator.publish("api:mediaInfo", "CC " + (e ? "enabled" : "disabled"))
            }
            ,
            e.prototype.setInitialBitrate = function(e) {
                this.logger.trace("setInitialBitrate: " + e),
                this.configMgr.update({
                    initialBitrate: e
                }),
                this.mediator.publish("api:setInitialBitrate", e)
            }
            ,
            e.prototype.setInitialBufferTime = function(e) {
                this.logger.trace("setInitialBufferTime: " + e),
                this.configMgr.update({
                    initialBufferTime: e
                }),
                this.mediator.publish("api:setInitialBufferTime", e)
            }
            ,
            e.prototype.setPlayingVODBufferTime = function(e) {
                this.logger.trace("setPlayingVODBufferTime: " + e),
                this.configMgr.update({
                    playingVODBufferTime: e
                }),
                this.mediator.publish("api:setPlayingVODBufferTime", e)
            }
            ,
            e.prototype.setPlayingLinearBufferTime = function(e) {
                this.logger.trace("setPlayingLinearBufferTime: " + e),
                this.configMgr.update({
                    playingLinearBufferTime: e
                }),
                this.mediator.publish("api:setPlayingLinearBufferTime", e)
            }
            ,
            e.prototype.setBlock = function(e) {
                this.logger.trace("setBlock: " + e),
                this.mediator.publish("api:setBlock", e)
            }
            ,
            e.prototype.setPreferredZoomSetting = function(e) {
                e && (this.logger.trace("setPreferredZoomSetting: " + e),
                this.configMgr.update({
                    zoom: e
                }),
                this.mediator.publish("api:setPreferredZoomSetting", e))
            }
            ,
            e.prototype.setClosedCaptionsTrack = function(e) {
                this.logger.trace("setClosedCaptionsTrack: " + e),
                this.mediator.publish("api:setClosedCaptionsTrack", e),
                this.mediator.publish("api:mediaInfo", "CC changed. " + e)
            }
            ,
            e.prototype.setBitrateRange = function(e, t) {
                this.logger.trace("setBitrateRange: " + e + "-" + t),
                this.configMgr.update({
                    minimumBitrate: e,
                    maximumBitrate: t
                }),
                this.mediator.publish("api:setBitrateRange", e, t)
            }
            ,
            e.prototype.setBitratePolicy = function(e) {
                this.logger.trace("setBitratePolicy: " + e),
                this.configMgr.update({
                    initialPolicy: e
                }),
                this.mediator.publish("api:setBitratePolicy", e)
            }
            ,
            e.prototype.setPreferredAudioLanguage = function(e) {
                e && (this.logger.trace("setPreferredAudioLanguage: " + e),
                this.configMgr.update({
                    audioLanguage: e
                }),
                this.mediator.publish("api:setPreferredAudioLanguage", e),
                this.mediator.publish("api:mediaInfo", "SAP changed. " + e))
            }
            ,
            e.prototype.setDimensionsOfVideo = function(e, t) {
                this.logger.trace("setDimensionsOfVideo: " + e + "x" + t),
                this.mediator.publish("api:setDimensionsOfVideo", e, t)
            }
            ,
            e.prototype.setAutoPlay = function(e) {
                this.logger.trace("setAutoPlay: " + e),
                this.configMgr.update({
                    autoplay: e
                }),
                this.mediator.publish("api:setAutoPlay", e)
            }
            ,
            e.prototype.setCurrentTimeUpdateInterval = function(e) {
                this.logger.trace("setCurrentTimeUpdateInterval: " + e),
                e < 50 && 0 !== e && (e = 50),
                this.mediator.publish("api:setCurrentTimeUpdateInterval", e)
            }
            ,
            e.prototype.setScale = function(e, t) {
                this.logger.trace("setScale: " + e + "x" + t),
                this.mediator.publish("api:setScale", e, t)
            }
            ,
            e.prototype.setOffset = function(e, t) {
                this.logger.trace("setOffset: x=" + e + " y=" + t),
                this.mediator.publish("api:setOffset", e, t)
            }
            ,
            e.prototype.setAudioOnly = function(e) {
                this.logger.trace("setAudioOnly: " + e),
                this.mediator.publish("api:setAudioOnly", e)
            }
            ,
            e.prototype.getAssetType = function() {
                return this.logger.trace("getAssetType"),
                this.asset ? this.asset.assetType : null
            }
            ,
            e.prototype.getAssetEngineType = function() {
                return this.logger.trace("getAssetEngineType"),
                this.player.getAssetEngineType()
            }
            ,
            e.prototype.getEndPosition = function() {
                return this.logger.trace("getEndPosition"),
                this.player.getEndPosition()
            }
            ,
            e.prototype.getStartPosition = function() {
                return this.logger.trace("getStartPosition"),
                this.player.getStartPosition()
            }
            ,
            e.prototype.getInitialBitrate = function() {
                return this.logger.trace("getInitialbitrate"),
                this.player.getInitialBitrate()
            }
            ,
            e.prototype.getCurrentPosition = function() {
                return this.player.getCurrentPosition()
            }
            ,
            e.prototype.getContentPosition = function() {
                return this.adManager ? this.adManager.getResumePositionNoAds(this.getCurrentPosition()) : this.getCurrentPosition()
            }
            ,
            e.prototype.getDuration = function() {
                return this.player.getDuration()
            }
            ,
            e.prototype.getSupportedPlaybackSpeeds = function() {
                return this.player.getSupportedPlaybackSpeeds() || []
            }
            ,
            e.prototype.getCurrentPlaybackSpeed = function() {
                return this.player.getCurrentPlaybackSpeed()
            }
            ,
            e.prototype.getPlayerStatus = function() {
                return this.player.getPlayerStatus()
            }
            ,
            e.prototype.getClosedCaptionsStatus = function() {
                return this.logger.trace("getClosedCaptionsStatus"),
                this.player.getClosedCaptionsStatus()
            }
            ,
            e.prototype.getBitrateRange = function() {
                return this.logger.trace("getBitrateRange"),
                this.player.getBitrateRange()
            }
            ,
            e.prototype.getAvailableBitrates = function() {
                return this.logger.trace("getAvailableBitrates"),
                this.player.getAvailableBitrates()
            }
            ,
            e.prototype.getCurrentBitrate = function() {
                return this.logger.trace("getCurrentBitrate"),
                this.player.getCurrentBitrate()
            }
            ,
            e.prototype.getBufferTime = function() {
                return this.logger.trace("getBufferTime"),
                this.player.getBufferTime()
            }
            ,
            e.prototype.getBufferFilledLength = function() {
                return this.logger.trace("getBufferFilledLength"),
                this.player.getBufferFilledLength()
            }
            ,
            e.prototype.getCurrentAudioLanguage = function() {
                return this.logger.trace("getCurrentAudioLanguage"),
                this.player.getCurrentAudioLanguage()
            }
            ,
            e.prototype.getCurrentClosedCaptionTrack = function() {
                return this.logger.trace("getCurrentClosedCaptionTrack"),
                this.player.getCurrentClosedCaptionTrack()
            }
            ,
            e.prototype.getAvailableClosedCaptionTracks = function() {
                return this.player.getAvailableClosedCaptionTracks()
            }
            ,
            e.prototype.getAvailablePlayerTypes = function() {
                return this.playerTypes
            }
            ,
            e.prototype.getAutoPlay = function() {
                return this.logger.trace("getAutoPlay"),
                this.player.getAutoPlay()
            }
            ,
            e.prototype.getVideoHeight = function() {
                return this.logger.trace("getVideoHeight"),
                this.player.getVideoHeight()
            }
            ,
            e.prototype.getVideoWidth = function() {
                return this.logger.trace("getVideoWidth"),
                this.player.getVideoWidth()
            }
            ,
            e.prototype.getVideoType = function() {
                return this.logger.trace("getVideoType"),
                this.player.getVideoType()
            }
            ,
            e.prototype.hasCC = function() {
                return this.logger.trace("hasCC"),
                this.player.hasCC()
            }
            ,
            e.prototype.getVersion = function() {
                return "BUILD_TYPE=dev VIPER_VERSION=3.15.1 " + (this.player ? this.player.getVersion() : "PLAYER NOT DEFINED")
            }
            ,
            e.prototype.hasDRM = function() {
                return this.logger.trace("hasDRM"),
                this.player.hasDRM()
            }
            ,
            e.prototype.getAvailableAudioLanguages = function() {
                return this.player.getAvailableAudioLanguages()
            }
            ,
            e.prototype.getCurrentFPS = function() {
                return this.player.getCurrentFPS()
            }
            ,
            e.prototype.getCurrentDroppedFrames = function() {
                return this.player.getCurrentDroppedFrames()
            }
            ,
            e.prototype.getTimeline = function() {
                return this.logger.trace("getTimeline"),
                []
            }
            ,
            e.prototype.getVolume = function() {
                return this.player.getVolume()
            }
            ,
            e.prototype.configureAds = function(e, t) {
                this.logger.trace("configureAds: type=" + e),
                this.mediator.publish("ads:configureAds", e, t)
            }
            ,
            e.prototype.getMediaSegments = function() {
                return []
            }
            ,
            e.prototype.updatePlaybackMetrics = function(e) {
                this.lastKnownPosition = e.position;
                var t = Math.round(this.getCurrentFPS());
                t !== this.currentFPS && (this.currentFPS = t,
                a.dispatchEvent(new a.FPSChangedEvent(t)));
                var i = this.getCurrentDroppedFrames();
                i !== this.currentDroppedFrames && (this.currentDroppedFrames = i,
                a.dispatchEvent(new a.DroppedFPSChangedEvent(i)));
                var n = e.endposition;
                n !== this.currentDuration && (this.currentDuration = n,
                a.dispatchEvent(new a.DurationChangedEvent(n)))
            }
            ,
            e.prototype.onMediaFailed = function() {
                this._hideWatermark()
            }
            ,
            e.prototype.setPlayerConfig = function() {
                this.mediator.publish("api:setBitratePolicy", this.configMgr.get(u.ConfigurationManager.PLAYING_POLICY)),
                "live" === this.getVideoType().toLowerCase() ? this.mediator.publish("api:setPlayingLinearBufferTime", this.configMgr.get(u.ConfigurationManager.PLAYING_LINEAR_BUFFER_TIME)) : this.mediator.publish("api:setPlayingVODBufferTime", this.configMgr.get(u.ConfigurationManager.PLAYING_VOD_BUFFER_TIME))
            }
            ,
            e.prototype.setInitialPlayerConfig = function() {
                this.mediator.publish("api:setInitialBitrate", this.configMgr.get(u.ConfigurationManager.INITIAL_BITRATE)),
                this.mediator.publish("api:setBitrateRange", this.configMgr.get(u.ConfigurationManager.MINIMUM_BITRATE), this.configMgr.get(u.ConfigurationManager.MAXIMUM_BITRATE)),
                this.mediator.publish("api:setBitratePolicy", this.configMgr.get(u.ConfigurationManager.INITIAL_POLICY)),
                this.mediator.publish("api:setInitialBufferTime", this.configMgr.get(u.ConfigurationManager.INITIAL_BUFFER_TIME)),
                this.mediator.publish("api:setAutoPlay", this.configMgr.get(u.ConfigurationManager.AUTOPLAY))
            }
            ,
            e.prototype.onMediaOpened = function() {
                var e = this;
                try {
                    this.setPreferredAudioLanguage(this.configMgr.get(u.ConfigurationManager.AUDIO_LANGUAGE))
                } catch (t) {
                    this.logger.error("Error restoring SAP state: " + t)
                }
                try {
                    this.setClosedCaptionsEnabled(this.closedCaptionsEnabled)
                } catch (t) {
                    this.logger.error("Error restoring CC state: " + t)
                }
                this.pendingPlaybackStart && (this.pendingPlaybackStart.unsubscribe(),
                this.pendingPlaybackStart = null),
                this.pendingPlaybackStart = this.streams.mediaProgresses.filter(function(e) {
                    return 0 !== e.playbackSpeed
                }).take(1).takeUntil(g.Observable.fromEvent(this.mediator, "api:destroy")).subscribe(function() {
                    return e.dispatchEvent(new a.PlaybackStartedEvent)
                })
            }
            ,
            e.prototype.onPlayStateChanged = function(e) {
                e.playState !== o.STATUS_PLAYING || this.isXRE() || (this.setPlayerConfig(),
                this._showWatermark())
            }
            ,
            e.prototype.onPlaybackSpeedChanged = function(e) {
                this.currentPlaybackSpeed = e.playbackSpeed
            }
            ,
            e.prototype.isXRE = function() {
                return "undefined" != typeof AdobePSDK && "undefined" != typeof _xrePlayerPlatform;
            }
            ,
            e.prototype.getSupportedClosedCaptionsOptions = function() {
                return this.logger.trace("getSupportedClosedCaptionsOptions"),
                this.player.getSupportedClosedCaptionsOptions()
            }
            ,
            e.prototype.getCurrentClosedCaptionsStyle = function() {
                return this.logger.trace("getCurrentClosedCaptionsStyle"),
                this.player.getCurrentClosedCaptionsStyle()
            }
            ,
            e.prototype.setClosedCaptionsStyle = function(e) {
                this.logger.trace("setClosedCaptionsStyle"),
                this.mediator.publish("api:setClosedCaptionsStyle", e)
            }
            ,
            e.prototype.notifyClick = function() {
                this.logger.trace("notifyClick"),
                this.mediator.publish("api:notifyClick")
            }
            ,
            e.prototype._showWatermark = function() {
                var e = this
                  , t = this.configMgr.get(u.ConfigurationManager.WATERMARK);
                if (t) {
                    var i = document.getElementById("viper-watermark");
                    if (i)
                        return void (i.style.display = "inline");
                    var n = document.createElement("img");
                    n.src = t,
                    n.id = "viper-watermark",
                    n.onerror = function() {
                        e.logger.warn("Error displaying watermark"),
                        n.style.display = "none"
                    }
                    ,
                    this.videoElement.appendChild(n)
                }
            }
            ,
            e.prototype._hideWatermark = function() {
                var e = document.getElementById("viper-watermark");
                e && (e.style.display = "none")
            }
            ,
            e.prototype._handleClicks = function() {
                var e = this;
                this.videoElement.addEventListener("click", function() {
                    e.configMgr.get(u.ConfigurationManager.HANDLE_CLICKS) && e.notifyClick()
                })
            }
            ,
            n([r.exposeProp], e.prototype, "player", void 0),
            n([r.exposeProp], e.prototype, "adManager", void 0),
            n([r.exposeProp], e.prototype, "asset", void 0),
            n([r.exposeProp], e.prototype, "lastKnownPosition", void 0),
            n([r.exposeProp], e.prototype, "preSeekPosition", void 0),
            n([r.exposeProp], e.prototype, "streams", void 0),
            n([r.expose], e.prototype, "setAsset", null),
            n([r.expose], e.prototype, "setPosition", null),
            n([r.expose], e.prototype, "getCurrentPosition", null),
            n([r.expose], e.prototype, "getContentPosition", null),
            n([r.expose], e.prototype, "getDuration", null),
            n([r.expose], e.prototype, "getSupportedPlaybackSpeeds", null),
            n([r.expose], e.prototype, "getCurrentPlaybackSpeed", null),
            n([r.expose], e.prototype, "getPlayerStatus", null),
            n([r.expose], e.prototype, "getCurrentBitrate", null),
            n([r.expose], e.prototype, "getAutoPlay", null),
            n([r.expose], e.prototype, "getVideoType", null),
            n([r.expose], e.prototype, "getCurrentFPS", null),
            n([r.expose], e.prototype, "getTimeline", null),
            n([p.deprecated("Ad manager now is configured via setAsset contentOption")], e.prototype, "configureAds", null),
            n([r.expose], e.prototype, "isXRE", null),
            e
        }();
        t.PlayerPlatformAPI = y
    }
    , function(e, t, i) {
        "use strict";
        var n = i(2)
          , r = i(4);
        i(23);
        var s = function() {
            function e() {
                this.setAssets = n.toObservable("api:setAsset"),
                this.tags = n.toObservable("player:tag"),
                this.playbackStarts = r.toObservable(r.PLAYBACK_STARTED),
                this.mediaOpeneds = r.toObservable(r.MEDIA_OPENED),
                this.mediaProgresses = r.toObservable(r.MEDIA_PROGRESS),
                this.mediaEndeds = r.toObservable(r.MEDIA_ENDED),
                this.playStates = r.toObservable(r.PLAY_STATE_CHANGED),
                this.speeds = r.toObservable(r.PLAYBACK_SPEED_CHANGED),
                this.adCompletes = r.toObservable(r.AD_COMPLETE),
                this.adErrors = r.toObservable(r.AD_ERROR),
                this.adExiteds = r.toObservable(r.AD_EXITED),
                this.adProgresses = r.toObservable(r.AD_PROGRESS),
                this.adStarts = r.toObservable(r.AD_START),
                this.adBreakStarts = r.toObservable(r.AD_BREAK_START),
                this.adBreakCompletes = r.toObservable(r.AD_BREAK_COMPLETE),
                this.adsSkippeds = r.toObservable(r.ADS_SKIPPED)
            }
            return e.prototype.getPlayState = function(e) {
                return this.playStates.filter(function(t) {
                    return t.playState === e
                })
            }
            ,
            e
        }();
        t.PlayerPlatformStreams = s
    }
    , function(e, t, i) {
        "use strict";
        function n() {
            function e(e) {
                return l = e,
                l.subscribe("ads:configureAds", n),
                this
            }
            function i(e) {
                e && e.remove("ads:configureAds", n)
            }
            function n(e, i) {
                var n = t.AdManagerTypeMap[e.toUpperCase()];
                if (c !== n) {
                    if (c && o.stopModule(r(c)),
                    n === a.NONE)
                        return c = null,
                        void l.publish("api:adManagerSelected", null);
                    if (void 0 === n)
                        throw new Error("Invalid ad manager type: " + e);
                    c = n;
                    var s = r(n);
                    h.trace("starting module " + s);
                    var u = o.startModule(s, i);
                    l.publish("api:adManagerSelected", u)
                }
            }
            var c, l, h = new s.Logger("AdManagerFactory");
            return {
                init: e,
                destroy: i
            }
        }
        function r(e) {
            switch (e) {
            case a.MANIFEST:
                return "ManifestManipulatorAdManager";
            case a.AUDITUDE:
                return "AuditudeAdManager";
            case a.C3:
                return "C3AdManager";
            case a.CBS:
                return "CBSAdManager";
            case a.HULU:
                return "HuluAdManager";
            case a.FREEWHEEL:
                return "FreeWheelAdManager";
            case a.SCTE35:
                return "SCTE35AdManager"
            }
        }
        var s = i(1)
          , o = i(2);
        !function(e) {
            e[e.NONE = 0] = "NONE",
            e[e.AUDITUDE = 1] = "AUDITUDE",
            e[e.MANIFEST = 2] = "MANIFEST",
            e[e.C3 = 3] = "C3",
            e[e.CBS = 4] = "CBS",
            e[e.HULU = 5] = "HULU",
            e[e.FREEWHEEL = 6] = "FREEWHEEL",
            e[e.SCTE35 = 7] = "SCTE35"
        }(t.AdManagerType || (t.AdManagerType = {}));
        var a = t.AdManagerType;
        t.AdManagerKeys = {
            NONE: "none",
            AUDITUDE: "auditude",
            MANIFEST: "manifest",
            C3: "c3",
            CBS: "cbs",
            HULU: "hulu",
            FREEWHEEL: "freewheel",
            SCTE35: "scte35"
        },
        t.AdManagerTypeMap = {
            NONE: a.NONE,
            AUDITUDE: a.AUDITUDE,
            MANIFEST: a.MANIFEST,
            C3: a.C3,
            CBS: a.CBS,
            HULU: a.HULU,
            FREEWHEEL: a.FREEWHEEL,
            SCTE35: a.SCTE35
        },
        t.AdManagerFactory = n,
        o.registerModule("AdManagerFactory", n, {
            autostart: !0
        })
    }
    , function(e, t, i) {
        "use strict";
        var n = this && this.__extends || function(e, t) {
            function i() {
                this.constructor = e
            }
            for (var n in t)
                t.hasOwnProperty(n) && (e[n] = t[n]);
            e.prototype = null === t ? Object.create(t) : (i.prototype = t.prototype,
            new i)
        }
          , r = i(2)
          , s = i(3)
          , o = i(4)
          , a = i(36)
          , c = i(15)
          , l = i(25)
          , h = function(e) {
            function t() {
                e.apply(this, arguments)
            }
            return n(t, e),
            t.prototype.init = function(t) {
                return e.prototype.init.call(this, t, {}),
                t.subscribe("ads:adBreaks", this.setAdBreaks, {}, this),
                t.subscribe("ads:adBreakStart", this.onAdBreakStart, {}, this),
                t.subscribe("ads:adBreakComplete", this.onAdBreakComplete, {}, this),
                t.subscribe("ads:adStart", this.onAdStart, {}, this),
                t.subscribe("ads:adComplete", this.onAdComplete, {}, this),
                t.subscribe("ads:adProgress", this.onAdProgress, {}, this),
                o.on(o.PLAY_STATE_CHANGED, this.onPlayStateChanged, {}, this),
                this
            }
            ,
            t.prototype.destroy = function(t) {
                e.prototype.destroy.call(this, t),
                t.remove("ads:adBreaks", this.setAdBreaks),
                t.remove("ads:adBreakStart", this.onAdBreakStart),
                t.remove("ads:adBreakComplete", this.onAdBreakComplete),
                t.remove("ads:adStart", this.onAdStart),
                t.remove("ads:adComplete", this.onAdComplete),
                t.remove("ads:adProgress", this.onAdProgress),
                o.off(o.PLAY_STATE_CHANGED, this.onPlayStateChanged)
            }
            ,
            t.prototype.setAdBreaks = function(e) {
                this.adBreaks = e
            }
            ,
            t.prototype.onAdBreakStart = function(e, t) {
                for (var i = new c.VideoAdBreak, n = e.adClips || [], r = e.slotTime, a = 0; a < t; a++) {
                    var h = n[a] || {};
                    i.ads.push(new l.VideoAd(h.ID || "",r,(h.duration || 0) * s.MILLISECONDS_PER_SECOND)),
                    r += h.duration
                }
                this._currentAdBreak = i,
                o.emit(new o.AdBreakStartEvent(this._currentAdBreak))
            }
            ,
            t.prototype.onAdBreakComplete = function(e) {
                o.emit(new o.AdBreakCompleteEvent(this._currentAdBreak)),
                this._currentAdBreak = null
            }
            ,
            t.prototype.onAdStart = function(e) {
                this._currentAd = new l.VideoAd(e.id,this.sandbox.getCurrentPosition(),e.duration * s.MILLISECONDS_PER_SECOND,{
                    clickThrough: e.clickUrl,
                    companionAds: e.companionAds
                }),
                o.emit(new o.AdStartEvent(this._currentAd,0,1,0))
            }
            ,
            t.prototype.onAdComplete = function() {
                this.sandbox.getPlayerStatus() !== s.STATUS_IDLE && (o.emit(new o.AdCompleteEvent(this._currentAd,100,1,this._currentAd.duration)),
                this._currentAd = null)
            }
            ,
            t.prototype.onAdProgress = function(e) {
                if (this._currentAd) {
                    var t = e.duration * s.MILLISECONDS_PER_SECOND;
                    this._currentAd.duration = this._currentAd.duration !== t ? t : this._currentAd.duration,
                    o.emit(new o.AdProgressEvent(this._currentAd,e.time / e.duration * 100,1,e.time * s.MILLISECONDS_PER_SECOND))
                }
            }
            ,
            t.prototype.onPlayStateChanged = function(e) {
                e.playState === s.STATUS_IDLE && (this._currentAd && (o.emit(new o.AdExitedEvent(this._currentAd,0,this.sandbox.getCurrentPosition())),
                this._currentAd = null),
                this._currentAdBreak && (o.emit(new o.AdBreakExitedEvent(this._currentAdBreak)),
                this._currentAdBreak = null))
            }
            ,
            t
        }(a.AdManager);
        t.CBSAdManager = h,
        r.registerPlugin("CBSAdManager", h)
    }
    , function(e, t, i) {
        "use strict";
        var n = i(0);
        i(43),
        i(23),
        i(89),
        i(18),
        i(45);
        var r = i(2)
          , s = i(8)
          , o = function() {
            function e() {}
            return e.prototype.init = function(e) {
                this._sandbox = e;
                var t = e.streams.setAssets.map(function(e) {
                    return e.contentOptions.channel
                }).filter(Boolean)
                  , i = t.switchMap(this._adStarts.bind(this))
                  , r = t.switchMap(this._playbackStarts.bind(this));
                return this._sub = n.Observable.merge(i, r).subscribe(function(e) {
                    return s.imageSource(e)
                }),
                this
            }
            ,
            e.prototype.destroy = function(e) {
                this._sub.unsubscribe()
            }
            ,
            e.prototype._adStarts = function(t) {
                return this._sandbox.streams.adStarts.map(function() {
                    return e.getUrl(e.AD_START_CODE, t)
                })
            }
            ,
            e.prototype._playbackStarts = function(t) {
                return this._sandbox.streams.mediaProgresses.first().map(function() {
                    return e.getUrl(e.CONTENT_START_CODE, t)
                })
            }
            ,
            e.getUrl = function(e, t) {
                return e = encodeURIComponent(e),
                t = encodeURIComponent(t),
                "http://b.scorecardresearch.com/p?c1=1&c2=6035083&c3=" + t + "&c4=3002202&c5=" + e + "&c6=&c15=&cv=2.0&cj=1"
            }
            ,
            e.AD_START_CODE = "01",
            e.CONTENT_START_CODE = "02",
            e
        }();
        t.DisneyComscore = o,
        r.registerModule("DisneyComscore", o)
    }
    , function(e, t, i) {
        "use strict";
        var n = this && this.__extends || function(e, t) {
            function i() {
                this.constructor = e
            }
            for (var n in t)
                t.hasOwnProperty(n) && (e[n] = t[n]);
            e.prototype = null === t ? Object.create(t) : (i.prototype = t.prototype,
            new i)
        }
          , r = i(36)
          , s = i(15)
          , o = i(25)
          , a = i(2)
          , c = i(3)
          , l = i(4)
          , h = function(e) {
            function t() {
                e.apply(this, arguments)
            }
            return n(t, e),
            t.prototype.init = function(t) {
                return e.prototype.init.call(this, t, {}),
                t.subscribe("ads:adBreaks", this.setAdBreaks, {}, this),
                t.subscribe("ads:adStart", this.onAdStart, {}, this),
                t.subscribe("ads:adComplete", this.onAdComplete, {}, this),
                t.subscribe("ads:adProgress", this.onAdProgress, {}, this),
                l.on(l.PLAY_STATE_CHANGED, this.onPlayStateChanged, {}, this),
                this
            }
            ,
            t.prototype.destroy = function(t) {
                e.prototype.destroy.call(this, t),
                t.remove("ads:adBreaks", this.setAdBreaks),
                t.remove("ads:adStart", this.onAdStart),
                t.remove("ads:adComplete", this.onAdComplete),
                t.remove("ads:adProgress", this.onAdProgress),
                l.off(l.PLAY_STATE_CHANGED, this.onPlayStateChanged)
            }
            ,
            t.prototype.setAdBreaks = function(e) {
                this.adBreaks = e.map(function(e) {
                    var t = new s.VideoAdBreak
                      , i = new o.VideoAd(e.toString(),e * c.MILLISECONDS_PER_SECOND,0);
                    return t.ads.push(i),
                    t
                })
            }
            ,
            t.prototype.onAdStart = function(e) {
                this._setAdBreakStart(),
                this._currentAd = new o.VideoAd(e.title,e.position * c.MILLISECONDS_PER_SECOND,e.length * c.MILLISECONDS_PER_SECOND),
                l.emit(new l.AdStartEvent(this._currentAd,0,1,this.sandbox.getCurrentPosition()))
            }
            ,
            t.prototype.onAdComplete = function() {
                this._setAdComplete(this.sandbox.getCurrentPosition())
            }
            ,
            t.prototype.onAdProgress = function(e) {
                "content" === e.state ? (this._setAdComplete(e.position),
                this._setAdBreakComplete()) : "ad" !== e.state && "intros" !== e.state || (this._setAdBreakStart(),
                this._currentAd ? l.emit(new l.AdProgressEvent(this._currentAd,e.position / e.duration * 100,1,e.position * c.MILLISECONDS_PER_SECOND)) : (this._currentAd = new o.VideoAd("ad",e.position * c.MILLISECONDS_PER_SECOND,e.duration * c.MILLISECONDS_PER_SECOND),
                l.emit(new l.AdStartEvent(this._currentAd,0,1,e.position * c.MILLISECONDS_PER_SECOND))))
            }
            ,
            t.prototype.onPlayStateChanged = function(e) {
                e.playState !== c.STATUS_SEGMENT_END && e.playState !== c.STATUS_COMPLETE || (this._setAdComplete(this.sandbox.getCurrentPosition()),
                e.playState === c.STATUS_COMPLETE && this._setAdBreakComplete())
            }
            ,
            t.prototype._setAdBreakComplete = function() {
                this._currentAdBreak && (l.emit(new l.AdBreakCompleteEvent(this._currentAdBreak)),
                this._currentAdBreak = null)
            }
            ,
            t.prototype._setAdBreakStart = function() {
                this._currentAdBreak || (this._currentAdBreak = new s.VideoAdBreak,
                l.emit(new l.AdBreakStartEvent(this._currentAdBreak)))
            }
            ,
            t.prototype._setAdComplete = function(e) {
                this._currentAd && (l.emit(new l.AdCompleteEvent(this._currentAd,100,1,e)),
                this._currentAd = null)
            }
            ,
            t.prototype.reset = function() {
                e.prototype.reset.call(this),
                this._currentAd && l.emit(new l.AdCompleteEvent(this._currentAd,0,0,0)),
                this._currentAdBreak && l.emit(new l.AdBreakCompleteEvent(this._currentAdBreak)),
                this._currentAd = null,
                this._currentAdBreak = null
            }
            ,
            t
        }(r.AdManager);
        t.HuluAdManager = h,
        a.registerPlugin("HuluAdManager", h)
    }
    , function(e, t, i) {
        "use strict";
        var n = i(1)
          , r = i(50)
          , s = i(2)
          , o = i(259)
          , a = i(3)
          , c = i(0)
          , l = i(14);
        i(182),
        i(42),
        i(43),
        i(44),
        i(66),
        i(46),
        i(12),
        i(189),
        i(31),
        i(65),
        i(45),
        i(18),
        i(194),
        i(92);
        var h = {
            25: "firstQuartile",
            50: "midpoint",
            75: "thirdQuartile"
        }
          , u = function() {
            function e() {
                this._logger = new n.Logger("PSNDispatcher")
            }
            return e.prototype.init = function(e) {
                var t = this;
                this._sandbox = e;
                var i = e.parent.cfg;
                return this._acrURL = i.acrURL || e.config.placementStatusNotificationEndPoint,
                this._terminalAddress = i.terminalAddress,
                this._requests = new l.Subject,
                this._sub = c.Observable.merge.apply(c.Observable, [this._stops(), this._startPlacements()].concat(this._viewerEvents(), [this._endPlacements(), this._quartiles(), this._endAlls()])).subscribe(function(e) {
                    return t._send(e)
                }),
                this._requests.concatAll().subscribe(function(e) {
                    t._logger.trace(e.status + " - commit success", e.request.body)
                }, function(e) {
                    t._logger.error("commit error", e)
                }),
                this
            }
            ,
            e.prototype.destroy = function() {
                this._sub && this._sub.unsubscribe(),
                this._requests && this._requests.complete()
            }
            ,
            e.prototype._psn = function(e) {
                return o.PlacementStatusNotification({
                    sessionID: r.SessionManager.instance.playbackSessionId,
                    terminalAddress: this._terminalAddress,
                    tracking: e ? e.videoAd.id : void 0
                })
            }
            ,
            e.prototype._startPlacements = function() {
                var e = this;
                return this._sandbox.streams.adStarts.map(function(t) {
                    return e._psn(t).startPlacement(t.rate, t.position)
                })
            }
            ,
            e.prototype._endPlacements = function() {
                var e = this;
                return this._sandbox.streams.adCompletes.merge(this._sandbox.streams.adExiteds).map(function(t) {
                    return e._psn(t).endPlacement(t.rate, t.position)
                })
            }
            ,
            e.prototype._quartiles = function() {
                var e = this;
                return this._sandbox.streams.adProgresses.filter(function(e) {
                    return 1 === e.rate
                }).pairwise().filter(function(e) {
                    var t = e[0]
                      , i = e[1];
                    return t.videoAd.id === i.videoAd.id
                }).switchMap(function(t) {
                    var i = t[0]
                      , n = t[1];
                    return c.Observable.from(Object.keys(h).map(function(e) {
                        return parseInt(e)
                    })).filter(function(e) {
                        return e > i.progress && e <= n.progress
                    }).map(function(t) {
                        return e._psn(n)[h[t]](1, n.videoAd.duration * (t / 100))
                    })
                })
            }
            ,
            e.prototype._stops = function() {
                var e = this;
                return this._sandbox.streams.adExiteds.filter(function() {
                    return e._sandbox.getPlayerStatus() === a.STATUS_IDLE
                }).map(function(t) {
                    return e._psn(t).stop(0, t.position)
                })
            }
            ,
            e.prototype._viewerEvents = function() {
                var e = this
                  , t = this._sandbox.streams.adStarts.switchMap(function() {
                    return e._sandbox.streams.adProgresses.distinctUntilChanged(function(e, t) {
                        return e.rate === t.rate
                    }).skip(1)
                }).share()
                  , i = t.filter(function(e) {
                    return 0 === e.rate
                }).map(function(t) {
                    return e._psn(t).pause(t.rate, t.position)
                })
                  , n = t.filter(function(e) {
                    return 1 === e.rate
                }).map(function(t) {
                    return e._psn(t).play(t.rate, t.position)
                })
                  , r = t.filter(function(e) {
                    return e.rate > 1
                }).map(function(t) {
                    return e._psn(t).fastForward(t.rate, t.position)
                })
                  , s = t.filter(function(e) {
                    return e.rate < 0
                }).map(function(t) {
                    return e._psn(t).rewind(t.rate, t.position)
                });
                return [i, n, r, s]
            }
            ,
            e.prototype._endAlls = function() {
                var e = this;
                return this._sandbox.streams.mediaOpeneds.switchMap(function() {
                    return e._sandbox.streams.getPlayState(a.STATUS_IDLE).merge(e._sandbox.streams.mediaEndeds).take(1)
                }).map(function() {
                    return e._psn().endAll()
                })
            }
            ,
            e.prototype._send = function(e) {
                this._requests.next(c.Observable.ajax({
                    url: this._acrURL,
                    method: "POST",
                    body: e,
                    crossDomain: !0,
                    responseType: "text",
                    headers: {
                        "Content-Type": "text/xml"
                    }
                }))
            }
            ,
            e
        }();
        t.PSNDispatcher = u,
        s.registerModule("PSNDispatcher", u)
    }
    , function(e, t, i) {
        "use strict";
        function n(e) {
            function t() {
                return h.json2xml_str({
                    PlacementStatusNotification: v
                })
            }
            function i(e) {
                var t = {}
                  , i = c(e) ? "ViewerEvent" : "PlacementStatusEvent";
                return t[i] = e,
                t
            }
            function n(t) {
                var n = {
                    Spot: {
                        Content: {
                            __prefix: u,
                            Tracking: {
                                __prefix: u,
                                __text: e.tracking
                            }
                        }
                    }
                };
                return n.Events = i(t),
                n
            }
            function a(e, s, a) {
                v._messageId = o.createGUID().toUpperCase(),
                delete v.PlayData.Events,
                delete v.PlayData.SpotScopedEvents;
                var c = {
                    _time: o.formatLocalDateTimeStamp(),
                    _type: e
                };
                return void 0 !== s && void 0 !== a ? (c.SpotNPT = {
                    _scale: parseFloat(s).toFixed(1),
                    __text: (parseFloat(a) / r.MILLISECONDS_PER_SECOND).toFixed(3)
                },
                v.PlayData.SpotScopedEvents = n(c)) : v.PlayData.Events = i(c),
                t()
            }
            function c(e) {
                return Object.prototype.hasOwnProperty.call(y, e._type)
            }
            function l(e) {
                return function(t, i) {
                    return a(e, t, i)
                }
            }
            var h = new s.X2JS({
                escapeMode: !1
            })
              , u = "core"
              , d = "1.1"
              , f = "http://www.scte.org/schemas/130-3/2008a/adm"
              , p = "http://www.scte.org/schemas/130-2/2008a/core"
              , m = "86CF2E98-AEBA-4C3A-A3D4-616CF7D74A79"
              , g = "IP_Player"
              , y = {
                fastForward: !0,
                play: !0,
                pause: !0,
                rewind: !0,
                stop: !0
            }
              , v = {
                _version: d,
                _xmlns: f,
                "_xmlns:core": p,
                _identity: m,
                _messageId: o.createGUID().toUpperCase(),
                _system: g,
                PlayData: {
                    SystemContext: {
                        Session: e.sessionID
                    },
                    Client: {
                        TerminalAddress: {
                            __text: e.terminalAddress,
                            _type: "DEVICEID"
                        }
                    }
                }
            };
            return {
                createEvent: a,
                startPlacement: l("startPlacement"),
                endPlacement: l("endPlacement"),
                firstQuartile: l("private:firstQuartile"),
                midpoint: l("private:midpoint"),
                thirdQuartile: l("private:thirdQuartile"),
                fastForward: l("fastForward"),
                rewind: l("rewind"),
                play: l("play"),
                pause: l("pause"),
                stop: l("stop"),
                endAll: l("endAll")
            }
        }
        var r = i(3)
          , s = i(54)
          , o = i(8);
        t.PlacementStatusNotification = n
    }
    , function(e, t, i) {
        "use strict";
        var n = i(75)
          , r = i(261)
          , s = i(0)
          , o = i(14);
        i(42),
        i(91),
        i(193),
        i(45);
        var a = [n.TrackerEventType.COMPLETE, n.TrackerEventType.EXIT, n.TrackerEventType.START, n.TrackerEventType.ENTER, n.TrackerEventType.PROGRESS, n.TrackerEventType.SKIPPED, n.TrackerEventType.INTERRUPT]
          , c = function() {
            function e(e, t) {
                this._window = new o.Subject,
                e.switchMap(function() {
                    return t
                }).multicast(this._window).connect()
            }
            return e.prototype.destroy = function() {
                this._window.complete()
            }
            ,
            e.prototype._trackProgress = function(e, t, i) {
                return i.filter(function(i) {
                    return r.predicates[i](e, t)
                }).map(function(i) {
                    return {
                        type: i,
                        progress: e,
                        trackable: t
                    }
                })
            }
            ,
            e.prototype.track = function(e, t) {
                var i = this;
                return void 0 === t && (t = a),
                this._window.flatMap(function(n) {
                    return s.Observable.from(i._trackProgress(n, e, t))
                })
            }
            ,
            e.prototype.trackCb = function(e, t) {
                var i = this;
                return void 0 === t && (t = a),
                this._window.flatMap(function(n) {
                    return e(n).flatMap(function(e) {
                        return s.Observable.from(i._trackProgress(n, e, t))
                    })
                })
            }
            ,
            e
        }();
        t.TimelineTracker = c
    }
    , function(e, t, i) {
        "use strict";
        function n(e, t) {
            return !t.coversLocation(e.prev) && t.coversLocation(e.next)
        }
        function r(e, t) {
            return t.coversLocation(e.prev) && !t.coversLocation(e.next)
        }
        function s(e, t) {
            return !e.seeking && e.duringTrickPlay() && (t.startTime > e.prev && t.endTime <= e.next || t.endTime <= e.prev && t.startTime > e.next)
        }
        var o = i(3)
          , a = i(75);
        t.predicates = (c = {},
        c[a.TrackerEventType.START] = function(e, t) {
            return !e.seeking && n(e, t)
        }
        ,
        c[a.TrackerEventType.COMPLETE] = function(e, t) {
            return !e.seeking && r(e, t)
        }
        ,
        c[a.TrackerEventType.ENTER] = function(e, t) {
            return e.seeking && n(e, t)
        }
        ,
        c[a.TrackerEventType.EXIT] = function(e, t) {
            return e.seeking && r(e, t)
        }
        ,
        c[a.TrackerEventType.PROGRESS] = function(e, t) {
            return !e.stopped && t.coversLocation(e.next)
        }
        ,
        c[a.TrackerEventType.SKIPPED] = function(e, t) {
            return s(e, t)
        }
        ,
        c[a.TrackerEventType.INTERRUPT] = function(e, t) {
            return e.stopped && t.coversLocation(e.prev)
        }
        ,
        c[a.TrackerEventType.UPCOMING] = function(e, t) {
            if (e.nextRate > 1) {
                var i = e.nextRate * o.MILLISECONDS_PER_SECOND;
                return t.isInRange(e.next, e.next + i)
            }
            return !1
        }
        ,
        c);
        var c
    }
    , function(e, t, i) {
        "use strict";
        var n, r, s, o, a, c, l = i(49), h = i(1), u = i(110), d = i(264), f = i(50), p = new h.Logger("AnalyticsProvider"), m = "2.0", g = "PlayerPlatformJS", y = [], v = {}, _ = null, b = "", S = function() {
            function e() {}
            return e.prototype.configureAnalytics = function(e, t) {
                this._config = t,
                this._messageOptions = e.messageOptions,
                s = {
                    DEV_NAME: e.deviceName,
                    DEV_VER: e.deviceVersion,
                    DEV_ID: e.deviceId,
                    PHYSICAL_DEVICE_ID: e.physicalId
                },
                o = {
                    APP_NAME: e.appName,
                    APP_VER: e.appVersion,
                    PLUGIN_NAME: g,
                    PLUGIN_VER: "3.15.1",
                    SERVICE_ACCOUNT_ID: e.accountId,
                    xsctPartnerId: e.xsctPartnerId
                },
                u.BaseMessage.inHomeStateCallback = this.createInHomeStateCallback(e.inHomeState),
                n = !0,
                r = !0,
                _ = null,
                r && this.startTimers();
                var i = new u.PluginInitializedMessage;
                this.buildMessage(i)
            }
            ,
            e.prototype.enable = function() {
                r = !0,
                n ? this.startTimers() : p.error("Analytics must be configured to send messages.s")
            }
            ,
            e.prototype.disable = function() {
                clearInterval(a),
                clearInterval(c),
                r = !1
            }
            ,
            e.prototype._getMONEY = function() {
                return {
                    TRACE_ID: f.SessionManager.instance.moneyTrace.traceId,
                    PARENT_ID: f.SessionManager.instance.moneyTrace.parentId,
                    SPAN_ID: f.SessionManager.instance.moneyTrace.spanId
                }
            }
            ,
            e.prototype.buildMessage = function(e) {
                var t = !1;
                r && n && (e.APV = m,
                e.APP = o,
                e.DEV = s,
                e.SES.PSI = f.SessionManager.instance.sessionId,
                e.SES.PBI = f.SessionManager.instance.playbackCount,
                "xuaEAS" === e.EVT.NAME && ("Identified" !== e.EVT.VALUE.ACT && "Initiated" !== e.EVT.VALUE.ACT || (_ = this.getPathnameFromUrl(e.EVT.VALUE.URI)),
                "Completed" !== e.EVT.VALUE.ACT && "Exempted" !== e.EVT.VALUE.ACT && "Failed" !== e.EVT.VALUE.ACT || (t = !0)),
                _ && (e.EVT.EAS = _,
                t && (_ = null)),
                y.length >= this._config.maxQueueSize && y.shift(),
                this._messageOptions && "function" == typeof this._messageOptions.preDispatch && this._messageOptions.preDispatch(e),
                "xuaPluginInitialized" === e.EVT.NAME ? this.sendMessages([e]) : (y.push(e),
                (this._config.maxBatchSize <= y.length || "xuaHeartBeat" === e.EVT.NAME) && this.sendMessages(y.splice(0))))
            }
            ,
            e.prototype.getPathnameFromUrl = function(e) {
                if (!e)
                    return null;
                var t, i, n, r = document.createElement("a"), s = {};
                for (r.href = e,
                t = r.search.replace(/^\?/, "").split("&"),
                n = 0; n < t.length; n++)
                    i = t[n].split("="),
                    s[i[0]] = i[1];
                return r.pathname
            }
            ,
            e.prototype.startTimers = function() {
                clearInterval(a),
                clearInterval(c),
                a = setInterval(this.forceSendMessages.bind(this), this._config.batchInterval),
                c = setInterval(this.sendFailedMessages.bind(this), d.FAILED_BATCH_INTERVAL)
            }
            ,
            e.prototype.addListener = function(e, t) {
                v[e] || (v[e] = []);
                var i = v[e];
                i.push(t)
            }
            ,
            e.prototype.raiseEvent = function(e, t) {
                var i = v[e];
                if (i)
                    for (var n = 0, r = i.length; n < r; n++)
                        i[n].apply(null, t)
            }
            ,
            e.prototype.forceSendMessages = function() {
                r && n && this.sendMessages(y.splice(0))
            }
            ,
            e.prototype.sendFailedMessages = function() {
                r && n && this.sendMessages(d.getFailedMessages())
            }
            ,
            e.prototype.handleErrorResponse = function(e, t) {
                e && 403 !== e && d.addFailedMessages(t),
                this.raiseEvent("analyticsFailure", [e, t])
            }
            ,
            e.prototype.handleSuccessResponse = function(e) {
                this.raiseEvent("analyticsSuccess", [e])
            }
            ,
            e.prototype._appendMONEY = function(e) {
                return "xuaPluginInitialized" !== e.EVT.NAME && (e.MONEY = this._getMONEY(),
                f.SessionManager.instance.moneyTrace.createTraceMessage()),
                e
            }
            ,
            e.prototype.sendMessages = function(e) {
                var t = this;
                if (e.length) {
                    var i = e.map(this._appendMONEY.bind(this)).map(function(e) {
                        return JSON.stringify(e)
                    }).join(b);
                    l.post(this._config.analyticsUrl).set("X-Date", Date.now().toString()).send(i).end(function(i, n) {
                        i || !n ? t.handleErrorResponse(n ? n.status : null, e) : t.handleSuccessResponse(200)
                    })
                }
            }
            ,
            e.prototype.createInHomeStateCallback = function(e) {
                return function() {
                    var t = "function" == typeof e ? e() : "unknown";
                    switch (t.toLowerCase()) {
                    case "inhome":
                        return "inHome";
                    case "outofhome":
                        return "outOfHome";
                    default:
                        return p.warn("Invalid in home state (" + t.toLowerCase() + "), defaulting to 'unknown'"),
                        "unknown"
                    }
                }
            }
            ,
            e
        }();
        t.AnalyticsProvider = S
    }
    , function(e, t, i) {
        "use strict";
        function n(e) {
            var t = "NONE";
            return s.test(e) && (t = "T6"),
            t
        }
        function r(e) {
            var t = null;
            return o.test(e) ? t = "Linear" : a.test(e) ? t = "VOD" : c.test(e) && (t = "cDVR"),
            t
        }
        var s = /^(title6|cDvr)/
          , o = /Linear$/
          , a = /Vod$/
          , c = /cDvr/
          , l = function() {
            function e(e, t, i, s) {
                this.ID_TYPE = "PAID",
                this.PLAYBACK_TYPE = "STREAM",
                this.INFO = {},
                this.CLASS = r(i) || "VOD",
                this.RegulatoryClass = n(i),
                this.IDS = {
                    PID: e,
                    AID: t,
                    MediaGUID: s
                },
                this.INFO = {}
            }
            return e
        }();
        t.PAIDAsset = l;
        var h = function() {
            function e(e, t, i) {
                this.ID_TYPE = "GenericId",
                this.PLAYBACK_TYPE = "STREAM",
                this.INFO = {},
                this.CLASS = r(t) || "VOD",
                this.RegulatoryClass = n(t),
                this.IDS = {
                    NS: "CIM",
                    MediaGUID: e,
                    MEDIA_ID: i
                }
            }
            return e
        }();
        t.GenericAsset = h;
        var u = function() {
            function e(e, t) {
                this.ID_TYPE = "StreamId",
                this.CLASS = "Linear",
                this.PLAYBACK_TYPE = "STREAM",
                this.INFO = {},
                this.RegulatoryClass = n(t),
                this.IDS = {
                    STRID: e
                }
            }
            return e
        }();
        t.STRIDAsset = u;
        var d = function() {
            function e(e, t) {
                this.ID_TYPE = "RecordingId",
                this.CLASS = "cDVR",
                this.PLAYBACK_TYPE = "STREAM",
                this.INFO = {},
                this.RegulatoryClass = n(t),
                this.IDS = {
                    RECID: e
                }
            }
            return e
        }();
        t.RIDAsset = d;
        var f = function() {
            function e(e) {
                this.ID_TYPE = "EAS_URI",
                this.CLASS = "EAS",
                this.PLAYBACK_TYPE = "STREAM",
                this.RegulatoryClass = "NONE",
                this.INFO = {},
                this.IDS = {
                    EAS_URI: e
                }
            }
            return e
        }();
        t.EASAsset = f
    }
    , function(e, t, i) {
        "use strict";
        function n(e) {
            f.trace("Saving messages in failed message store."),
            Array.isArray(e) ? p = p.concat(e) : p.push(e),
            p.sort(c),
            p.splice(0, p.length - u),
            o()
        }
        function r(e) {
            void 0 === e && (e = d);
            var t = p.splice(0, e);
            return o(),
            t
        }
        function s() {
            return JSON.parse(localStorage.getItem(h)) || []
        }
        function o() {
            a() && localStorage.setItem(h, JSON.stringify(p))
        }
        function a() {
            var e = "test";
            try {
                return localStorage.setItem(e, e),
                localStorage.removeItem(e),
                !0
            } catch (t) {
                return !1
            }
        }
        function c(e, t) {
            return e.EVT.ETS - t.EVT.ETS
        }
        var l = i(1)
          , h = "failedMessages"
          , u = 1e4
          , d = 1e3;
        t.FAILED_BATCH_INTERVAL = 6e4;
        var f = new l.Logger("FailedMessageStore")
          , p = a() ? s() : [];
        t.addFailedMessages = n,
        t.getFailedMessages = r
    }
    , function(e, t, i) {
        "use strict";
        var n = i(1)
          , r = i(4)
          , s = function() {
            function e() {
                this.logger = new n.Logger("PlaybackStateMonitor")
            }
            return e.prototype.init = function() {
                this.attachEvents()
            }
            ,
            e.prototype.attachEvents = function() {
                r.addEventListener(r.AD_START, this.onAdEvent, {}, this),
                r.addEventListener(r.AD_EXITED, this.onAdEvent, {}, this),
                r.addEventListener(r.AD_COMPLETE, this.onAdEvent, {}, this)
            }
            ,
            e.prototype.onAdEvent = function(e) {
                this.lastAdEvent = e
            }
            ,
            e.prototype.isAdPlaying = function() {
                return this.lastAdEvent instanceof r.AdStartEvent
            }
            ,
            e.prototype.destroy = function() {
                r.removeEventListener(r.AD_START, this.onAdEvent),
                r.removeEventListener(r.AD_EXITED, this.onAdEvent),
                r.removeEventListener(r.AD_COMPLETE, this.onAdEvent)
            }
            ,
            e
        }();
        t.PlaybackStateMonitor = s
    }
    , function(e, t, i) {
        "use strict";
        var n = i(263)
          , r = i(51)
          , s = i(1)
          , o = function() {
            function e() {
                this._logger = new s.Logger("XuaAssetFactory")
            }
            return e.prototype._isPAIDAsset = function(e) {
                return e.providerId > "" && e.assetId > ""
            }
            ,
            e.prototype._isGENERICAsset = function(e) {
                return Boolean(e.mediaGuid || e.assetId)
            }
            ,
            e.prototype._isRIDAsset = function(e) {
                return e.recordingId > ""
            }
            ,
            e.prototype._isSTRIDAsset = function(e) {
                return e.streamId > ""
            }
            ,
            e.prototype._isEASAsset = function(e) {
                return e.easPath > ""
            }
            ,
            e.prototype._isFOGAsset = function(e) {
                return r.Asset.isFOGUrl(e.url)
            }
            ,
            e.prototype.create = function(e) {
                var t;
                return this._isPAIDAsset(e) ? t = new n.PAIDAsset(e.providerId,e.assetId,e.assetType,e.mediaGuid) : this._isGENERICAsset(e) ? t = new n.GenericAsset(e.mediaGuid,e.assetType,e.assetId) : this._isRIDAsset(e) ? t = new n.RIDAsset(e.recordingId,e.assetType) : this._isSTRIDAsset(e) ? t = new n.STRIDAsset(e.streamId,e.assetType) : this._isEASAsset(e) ? t = new n.EASAsset(e.easPath) : this._logger.warn("Unable to build XuaAsset for provided asset", e),
                t && this._isFOGAsset(e) && (t.PLAYBACK_TYPE = "FOG"),
                t
            }
            ,
            e
        }();
        t.XuaAssetFactory = o
    }
    , function(e, t, i) {
        "use strict";
        var n = i(1)
          , r = i(41)
          , s = i(49)
          , o = i(111)
          , a = i(8)
          , c = i(54)
          , l = i(115)
          , h = new c.X2JS
          , u = function() {
            function e(e, t, i, s, o) {
                void 0 === o && (o = new l.MoneyTrace),
                this._alertUrl = e,
                this._zipToFipsUrl = t,
                this._zip = i,
                this._interval = s,
                this._moneyTrace = o,
                this.logger = new n.Logger("EASPoller"),
                this._mediator = new r,
                this._alerts = [],
                this._alertsAdded = {}
            }
            return e.prototype.start = function() {
                var e = this;
                this._fips ? this._startTimer() : this._getFips(function(t, i) {
                    return t ? void e.logger.error("Error retrieving fips code. EAS polling will not start: " + t.toString()) : (e._fips = i,
                    void e._startTimer())
                })
            }
            ,
            e.prototype.stop = function() {
                clearInterval(this._timer)
            }
            ,
            e.prototype.add = function(e) {
                this._alerts.push(e)
            }
            ,
            e.prototype.onAlertReceived = function(t) {
                this._mediator.on(e.ALERT_RECEIVED, t)
            }
            ,
            e.prototype.onAlertsAvailable = function(t) {
                this._mediator.on(e.ALERTS_AVAILABLE, t)
            }
            ,
            e.prototype.onAlertsFailureCheck = function(t) {
                this._mediator.on(e.ALERTS_FAILURE_CHECK, t)
            }
            ,
            e.prototype.onEanStart = function(t) {
                this._mediator.on(e.EAN_START, t)
            }
            ,
            e.prototype.onEanComplete = function(t) {
                this._mediator.on(e.EAN_COMPLETE, t)
            }
            ,
            e.prototype._startTimer = function() {
                clearInterval(this._timer),
                this._timer = setInterval(this._onTimerFired.bind(this), this._interval)
            }
            ,
            e.prototype._onTimerFired = function() {
                var t = this;
                s.get(this._alertUrl + this._fips).set("X-MoneyTrace", this._moneyTrace.createTraceMessage()).end(function(i, n) {
                    return i ? void t.logger.error("Error retrieving EAS alerts: " + i.toString()) : (t._parseAlertResponse(n.text),
                    void (t._alerts.length ? t._mediator.emit(e.ALERTS_AVAILABLE, t._alerts) : t.logger.trace("EAS Timer Fired with no alerts")))
                })
            }
            ,
            e.prototype._parseAlertResponse = function(e) {
                var t = "string" == typeof e ? h.xml_str2json : h.xml2json
                  , i = t.call(h, e)
                  , n = a.getNestedProperty(i, "alerts.alert") || [];
                n = Array.isArray(n) ? n : [n];
                var r = n.map(function(e) {
                    return new o.EmergencyAlert(e)
                });
                r.filter(function(e) {
                    return !e.isEan()
                }).forEach(this._processAlert.bind(this)),
                this._checkEan(r)
            }
            ,
            e.prototype._processAlert = function(t) {
                !this._alertsAdded[t.id] && t.uri ? (this._alertsAdded[t.id] = !0,
                this._alerts.push(t),
                this._mediator.emit(e.ALERT_RECEIVED, t)) : t.uri || this.logger.warn("Encountered EAS alert with no attached media. " + JSON.stringify(t))
            }
            ,
            e.prototype._isEanAlertWithUri = function(e) {
                return e.isEan() && e.uri >= ""
            }
            ,
            e.prototype._checkEan = function(t) {
                var i = t.filter(this._isEanAlertWithUri.bind(this))[0];
                this._currentEan && !i ? (this._mediator.publish(e.EAN_COMPLETE, this._currentEan),
                this._currentEan = null) : !this._currentEan && i && (this._currentEan = i,
                this._mediator.emit(e.ALERT_RECEIVED, i),
                this._mediator.publish(e.EAN_START, i))
            }
            ,
            e.prototype._getFips = function(e) {
                var t = this;
                s.get(this._zipToFipsUrl + this._zip).set("X-MoneyTrace", this._moneyTrace.createTraceMessage()).end(function(i, n) {
                    i ? e(i) : n && n.text ? e(null, t._parseFipsResponse(n.text) || "000000") : e(null, "000000")
                })
            }
            ,
            e.prototype._parseFipsResponse = function(e) {
                var t = "string" == typeof e ? h.xml_str2json : h.xml2json
                  , i = t.call(h, e)
                  , n = a.getNestedProperty(i, "zips.zip.countyFips") || a.getNestedProperty(i, "zips.zip[0].countyFips");
                return this.logger.trace("received fips code " + n),
                n
            }
            ,
            e.ALERT_RECEIVED = "alertReceived",
            e.ALERTS_AVAILABLE = "alertsAvailable",
            e.ALERTS_FAILURE_CHECK = "alertsFailureCheck",
            e.EAN_START = "eanStart",
            e.EAN_COMPLETE = "eanComplete",
            e
        }();
        t.EASPoller = u
    }
    , function(e, t, i) {
        "use strict";
        var n = i(1)
          , r = i(14);
        i(23),
        i(31);
        var s = i(6)
          , o = function() {
            function e(e, t) {
                var i = this;
                this._isStarted = !1,
                this._poller = e,
                this._sandbox = t,
                this._logger = new n.Logger("EASPollerController"),
                this._startSubject = new r.Subject,
                this._subscription = this._startSubject.merge(this._sandbox.streams.setAssets).filter(function() {
                    return i._isStarted
                }).subscribe(function(e) {
                    return i.assetTypeIsEnabled(e) ? i.startPoller() : i.stopPoller()
                })
            }
            return e.prototype.start = function() {
                this._logger.trace("start"),
                this._isStarted = !0,
                this._startSubject.next(this._sandbox.asset)
            }
            ,
            e.prototype.stop = function() {
                this._logger.trace("stop"),
                this._isStarted = !1,
                this.stopPoller()
            }
            ,
            e.prototype.destroy = function() {
                this._subscription.unsubscribe(),
                this._startSubject.complete()
            }
            ,
            e.prototype.startPoller = function() {
                this._logger.trace("starting polling"),
                this._poller.start()
            }
            ,
            e.prototype.stopPoller = function() {
                this._logger.trace("stopping polling"),
                this._poller.stop()
            }
            ,
            e.prototype.assetTypeIsEnabled = function(e) {
                return e ? void 0 === e.assetType ? (this._logger.trace("asset type is not set"),
                !0) : !!s.ConfigurationManager.getInstance().getByAssetType(e.assetType, s.ConfigurationManager.EAS_ENABLED, !1) : (this._logger.trace("asset is not set"),
                !1)
            }
            ,
            e
        }();
        t.EASPollerController = o
    }
    , function(e, t, i) {
        "use strict";
        (function(e) {
            var n = i(2)
              , r = i(3)
              , s = i(4)
              , o = i(6)
              , a = i(51)
              , c = i(1);
            !function(e) {
                e[e.NONE = 0] = "NONE",
                e[e.DHPK = 1] = "DHPK",
                e[e.HTML5 = 2] = "HTML5"
            }(t.AdobePSDKType || (t.AdobePSDKType = {}));
            var l = t.AdobePSDKType
              , h = function() {
                function t() {
                    this.logger = new c.Logger("EngineSelector"),
                    this.logger.trace("new"),
                    this.currentPlayer = null,
                    this.supportedAssets = []
                }
                return t.prototype.init = function(e) {
                    return this.sandbox = e,
                    e.subscribe("api:setAsset", this.getEngine, {
                        priority: r.PRIORITY_HIGH
                    }, this),
                    e.subscribe("api:destroy", this.onPlayerDestroy, {}, this),
                    e.subscribe("api:playerCheck", this.playerCheck, {}, this),
                    s.on(s.MEDIA_FAILED, this.onMediaFailed, {
                        priority: r.PRIORITY_TOP
                    }, this),
                    this.defaultEngineType = o.ConfigurationManager.getInstance().get(o.ConfigurationManager.DEFAULT_ENGINE, t.PSDK),
                    this
                }
                ,
                t.prototype.destroy = function(e) {
                    e.remove("api:setAsset", this.getEngine),
                    e.remove("api:destroy", this.onPlayerDestroy),
                    e.remove("api:playerCheck", this.playerCheck),
                    s.off(s.MEDIA_FAILED, this.onMediaFailed),
                    this.currentPlayer = null
                }
                ,
                t.prototype.nullEngine = function() {
                    var e = n.startModule(u[t.NULL]);
                    e.assetEngine = t.NULL,
                    this.currentPlayer = e,
                    this.sandbox.publish("api:engineSelected", e)
                }
                ,
                t.prototype.playerCheck = function() {
                    this.checkSupportedAssets(),
                    this.currentPlayer ? this.sandbox.publish("api:engineSelected", this.currentPlayer) : this.nullEngine();
                }
                ,
                t.prototype.getEngine = function(e) {
                    var i, r = e.assetEngine && e.assetEngine !== a.AssetEngine.GENERIC ? this.findEngineTypeFromAssetEngine : this.findEngineTypeFromExtension, s = r.call(this, e), o = u[s];
                    if (this.logger.trace("getEngine: type selected: " + s),
                    !o || !n.contains(o))
                        throw new Error("Engine type: " + s + " not supported");
                    if (this.currentPlayer.assetEngine === s && this.currentPlayer.assetEngine !== t.ESPN && this.currentPlayer.assetEngine !== t.DASH && this.currentPlayer.assetEngine !== t.DISNEY && this.currentPlayer.assetEngine !== t.HULU && this.currentPlayer.assetEngine !== t.NBCUNI)
                        return this.sandbox.publish("api:engineSelected", this.currentPlayer),
                        this.currentPlayer;
                    try {
                        n.stopModule(u[this.currentPlayer.assetEngine])
                    } catch (c) {
                        this.logger.warn("Error encountered stopping module: " + this.currentPlayer.assetEngine + " error: " + c)
                    }
                    try {
                        this.sandbox.params.videoElement.innerHTML = ""
                    } catch (l) {}
                    i = n.startModule(o),
                    i.assetEngine = s,
                    this.currentPlayer = i,
                    this.sandbox.publish("api:engineInitialized", i),
                    this.sandbox.publish("api:engineSelected", i)
                }
                ,
                t.prototype.onPlayerDestroy = function() {
                    n.stopModule(u[this.currentPlayer.assetEngine]),
                    this.destroy(this.sandbox)
                }
                ,
                t.prototype.checkSupportedAssets = function() {
                    this.supportedAssets = [a.AssetEngine.GENERIC, a.AssetEngine.FLASH, a.AssetEngine.PSDK, a.AssetEngine.CBS, a.AssetEngine.DISNEY, a.AssetEngine.ESPN, a.AssetEngine.HTML5, a.AssetEngine.HULU, a.AssetEngine.NBCUNI],
                    t.supportsMediaSource() && this.supportedAssets.push(a.AssetEngine.DASH_MEDIA),
                    this.sandbox.publish("api:playersAvailable", this.supportedAssets)
                }
                ,
                t.prototype.findEngineTypeFromAssetEngine = function(e) {
                    return this.logger.trace("findEngineTypeFromAssetEngine: default: " + this.defaultEngineType + ", assetEngine: " + e.assetEngine),
                    e.assetEngine === a.AssetEngine.GENERIC ? this._getAdobePSDKType() === l.DHPK ? t.PSDK : t.FLASH : d[e.assetEngine] || this.defaultEngineType
                }
                ,
                t.prototype.findEngineTypeFromExtension = function(e) {
                    var i = this.defaultEngineType
                      , n = e.getUrlType();
                    switch (this.logger.trace("findEngineTypeFromExtension: default: " + i + ", urlType: " + n + ", assetEngine: " + e.assetEngine),
                    e.getUrlType()) {
                    case a.AssetUrlType.URLTYPE_MPD:
                        return t.DASH;
                    case a.AssetUrlType.URLTYPE_M3U:
                        var r = this._getAdobePSDKType();
                        return r === l.DHPK ? t.PSDK : e.html5 ? t.HTML5 : t.FLASH;
                    default:
                        return this.defaultEngineType
                    }
                }
                ,
                t.prototype.onMediaFailed = function(e, t) {
                    if (this.currentPlayer.shouldFallback(e) && this.sandbox.asset && this.sandbox.asset.flashFallback !== !1) {
                        this.logger.warn("Unable to play HTML5 stream, falling back to Flash player"),
                        t.stopPropagation();
                        var i = this.sandbox.asset;
                        i.assetEngine = a.AssetUrlType.GENERIC,
                        i.html5 = !1,
                        this.sandbox.setAsset(i)
                    }
                }
                ,
                t.supportsMediaSource = function() {
                    return "WebKitMediaSource"in window || "MediaSource"in window
                }
                ,
                t.prototype._getAdobePSDKType = function() {
                    var t = l.DHPK;
                    return e.AdobePSDK ? e.AdobePSDK.JSInterface && (t = l.HTML5) : t = l.NONE,
                    this.logger.info("AdobePSDK type is " + l[t]),
                    t
                }
                ,
                t.PSDK = "psdk",
                t.TVSDK = "tvsdk",
                t.DASH = "dash",
                t.FLASH = "flash",
                t.CBS = "cbs",
                t.DISNEY = "disney",
                t.ESPN = "espn",
                t.HTML5 = "html5",
                t.HULU = "hulu",
                t.NBCUNI = "nbcUni",
                t.NULL = "null",
                t
            }();
            t.EngineSelector = h;
            var u = (f = {},
            f[h.PSDK] = "PSDKPlayer",
            f[h.TVSDK] = "TVSDKPlayer",
            f[h.HTML5] = "HTML5Player",
            f[h.DASH] = "DashPlayer",
            f[h.FLASH] = "FlashPlayer",
            f[h.CBS] = "CBSPlayer",
            f[h.DISNEY] = "DisneyPlayer",
            f[h.ESPN] = "ESPNPlayer",
            f[h.HULU] = "HuluPlayer",
            f[h.NBCUNI] = "NBCUniPlayer",
            f[h.NULL] = "NullPlayer",
            f)
              , d = (p = {},
            p[a.AssetEngine.FLASH] = h.FLASH,
            p[a.AssetEngine.PSDK] = h.PSDK,
            p[a.AssetEngine.DASH_MEDIA] = h.DASH,
            p[a.AssetEngine.CBS] = h.CBS,
            p[a.AssetEngine.DISNEY] = h.DISNEY,
            p[a.AssetEngine.ESPN] = h.ESPN,
            p[a.AssetEngine.HULU] = h.HULU,
            p[a.AssetEngine.NBCUNI] = h.NBCUNI,
            p[a.AssetEngine.HTML5] = h.HTML5,
            p[a.AssetEngine.TVSDK] = h.TVSDK,
            p);
            n.registerModule("EngineSelector", h, {
                autostart: !0
            });
            var f, p
        }
        ).call(t, i(11))
    }
    , function(e, t, i) {
        "use strict";
        var n = this && this.__extends || function(e, t) {
            function i() {
                this.constructor = e
            }
            for (var n in t)
                t.hasOwnProperty(n) && (e[n] = t[n]);
            e.prototype = null === t ? Object.create(t) : (i.prototype = t.prototype,
            new i)
        }
          , r = i(1)
          , s = i(35)
          , o = function(e) {
            function t() {
                e.call(this),
                this.logger = new r.Logger("CBSCCOptions"),
                this.currentStyle = this.defaultCBSCCStyle()
            }
            return n(t, e),
            t.prototype.getStyle = function() {
                return this.currentStyle
            }
            ,
            t.prototype.setStyle = function(e) {
                this.currentStyle = e
            }
            ,
            t.prototype.toCBSFont = function(e) {
                switch (e) {
                case s.PlayerPlatformCCStyle.FONTSTYLE_MONOSPACED_SANSERIF:
                    return "Helvetica";
                case s.PlayerPlatformCCStyle.FONTSTYLE_MONOSPACED_SERIF:
                    return "CourierNew";
                case s.PlayerPlatformCCStyle.FONTSTYLE_PROPORTIONAL_SANSERIF:
                    return "Arial";
                case s.PlayerPlatformCCStyle.FONTSTYLE_PROPORTIONAL_SERIF:
                    return "times";
                default:
                    return this.logger.warn("Unsupported font style: " + e),
                    "CourierNew"
                }
            }
            ,
            t.prototype.fromCBSFont = function(e) {
                switch (e) {
                case "Arial":
                    return s.PlayerPlatformCCStyle.FONTSTYLE_PROPORTIONAL_SANSERIF;
                case "CourierNew":
                    return s.PlayerPlatformCCStyle.FONTSTYLE_MONOSPACED_SERIF;
                case "Helvetica":
                    return s.PlayerPlatformCCStyle.FONTSTYLE_MONOSPACED_SANSERIF;
                case "times":
                    return s.PlayerPlatformCCStyle.FONTSTYLE_PROPORTIONAL_SERIF;
                default:
                    return this.logger.warn("Unsupported font family: " + e),
                    s.PlayerPlatformCCStyle.FONTSTYLE_DEFAULT
                }
            }
            ,
            t.prototype.toCBSEdge = function(e) {
                switch (e) {
                case s.PlayerPlatformCCStyle.EDGE_DEPRESSED:
                    return "depressed";
                case s.PlayerPlatformCCStyle.EDGE_DROP_SHADOW_RIGHT:
                    return "dropShadow";
                case s.PlayerPlatformCCStyle.EDGE_NONE:
                    return "none";
                case s.PlayerPlatformCCStyle.EDGE_RAISED:
                    return "raised";
                case s.PlayerPlatformCCStyle.EDGE_UNIFORM:
                    return "uniform";
                default:
                    return this.logger.warn("Unsupported edge style: " + e),
                    "none"
                }
            }
            ,
            t.prototype.fromCBSEdge = function(e) {
                switch (e) {
                case "depressed":
                    return s.PlayerPlatformCCStyle.EDGE_DEPRESSED;
                case "dropShadow":
                    return s.PlayerPlatformCCStyle.EDGE_DROP_SHADOW_RIGHT;
                case "none":
                    return s.PlayerPlatformCCStyle.EDGE_NONE;
                case "raised":
                    return s.PlayerPlatformCCStyle.EDGE_RAISED;
                case "uniform":
                    return s.PlayerPlatformCCStyle.EDGE_UNIFORM;
                default:
                    return this.logger.warn("Unsupported edge option: " + e),
                    s.PlayerPlatformCCStyle.EDGE_NONE
                }
            }
            ,
            t.prototype.toCBSColor = function(e) {
                var t = this.colorNameToHexValue(e);
                return t || (this.logger.warn("Unsupported color name: " + e),
                t = this.colorNameToHexValue(s.PlayerPlatformCCStyle.COLOR_DEFAULT)),
                t
            }
            ,
            t.prototype.fromCBSColor = function(e) {
                var t = this.hexValueToColorName(e);
                return t || (this.logger.warn("Unsupported color value: " + e),
                t = s.PlayerPlatformCCStyle.COLOR_DEFAULT),
                t
            }
            ,
            t.prototype.toCBSOpacity = function(e) {
                switch (e) {
                case s.PlayerPlatformCCStyle.OPACITY_SOLID:
                    return 100;
                case s.PlayerPlatformCCStyle.OPACITY_TRANSLUCENT:
                    return 50;
                case s.PlayerPlatformCCStyle.OPACITY_TRANSPARENT:
                    return 0;
                default:
                    return this.logger.warn("Unsupported opacity name: " + e),
                    0
                }
            }
            ,
            t.prototype.fromCBSOpacity = function(e) {
                switch (e) {
                case 0:
                    return s.PlayerPlatformCCStyle.OPACITY_TRANSPARENT;
                case 50:
                    return s.PlayerPlatformCCStyle.OPACITY_TRANSLUCENT;
                case 100:
                    return s.PlayerPlatformCCStyle.OPACITY_SOLID;
                default:
                    return this.logger.warn("Unsupported opacity value: " + e),
                    s.PlayerPlatformCCStyle.OPACITY_TRANSPARENT
                }
            }
            ,
            t.prototype.defaultCBSCCStyle = function() {
                return this.toCBSCCStyle(this.getDefaultStyle())
            }
            ,
            t.prototype.toCBSCCStyle = function(e) {
                return {
                    backgroundColor: this.toCBSColor(e.textBackgroundColor || s.PlayerPlatformCCStyle.COLOR_BLACK),
                    backgroundOpacity: this.toCBSOpacity(e.textBackgroundOpacity || s.PlayerPlatformCCStyle.OPACITY_SOLID),
                    fontFamily: this.toCBSFont(e.fontStyle),
                    fontColor: this.toCBSColor(e.textForegroundColor),
                    fontOpacity: this.toCBSOpacity(e.textForegroundOpacity),
                    fontSize: e.penSize,
                    textEdgeStyle: this.toCBSEdge(e.textEdgeStyle)
                }
            }
            ,
            t.prototype.fromCBSCCStyle = function(e) {
                return {
                    fontStyle: this.fromCBSFont(e.fontFamily),
                    textEdgeStyle: this.fromCBSEdge(e.textEdgeStyle),
                    textForegroundColor: this.fromCBSColor(e.fontColor),
                    textForegroundOpacity: this.fromCBSOpacity(e.fontOpacity),
                    penSize: e.fontSize,
                    textBackgroundColor: this.fromCBSColor(e.backgroundColor),
                    textBackgroundOpacity: this.fromCBSOpacity(e.backgroundOpacity)
                }
            }
            ,
            t.prototype.supportedCBSCCStyles = function() {
                return {
                    fontStyle: [s.PlayerPlatformCCStyle.FONTSTYLE_MONOSPACED_SERIF, s.PlayerPlatformCCStyle.FONTSTYLE_PROPORTIONAL_SERIF, s.PlayerPlatformCCStyle.FONTSTYLE_MONOSPACED_SANSERIF, s.PlayerPlatformCCStyle.FONTSTYLE_PROPORTIONAL_SANSERIF],
                    textEdgeStyle: [s.PlayerPlatformCCStyle.EDGE_NONE, s.PlayerPlatformCCStyle.EDGE_RAISED, s.PlayerPlatformCCStyle.EDGE_DEPRESSED, s.PlayerPlatformCCStyle.EDGE_UNIFORM, s.PlayerPlatformCCStyle.EDGE_DROP_SHADOW_RIGHT],
                    textForegroundColor: [s.PlayerPlatformCCStyle.COLOR_BLACK, s.PlayerPlatformCCStyle.COLOR_BLUE, s.PlayerPlatformCCStyle.COLOR_CYAN, s.PlayerPlatformCCStyle.COLOR_GRAY, s.PlayerPlatformCCStyle.COLOR_GREEN, s.PlayerPlatformCCStyle.COLOR_MAGENTA, s.PlayerPlatformCCStyle.COLOR_RED, s.PlayerPlatformCCStyle.COLOR_WHITE, s.PlayerPlatformCCStyle.COLOR_YELLOW, s.PlayerPlatformCCStyle.COLOR_BRIGHT_BLUE, s.PlayerPlatformCCStyle.COLOR_BRIGHT_CYAN, s.PlayerPlatformCCStyle.COLOR_BRIGHT_GREEN, s.PlayerPlatformCCStyle.COLOR_BRIGHT_MAGENTA, s.PlayerPlatformCCStyle.COLOR_BRIGHT_RED, s.PlayerPlatformCCStyle.COLOR_BRIGHT_WHITE, s.PlayerPlatformCCStyle.COLOR_BRIGHT_YELLOW, s.PlayerPlatformCCStyle.COLOR_DARK_BLUE, s.PlayerPlatformCCStyle.COLOR_DARK_CYAN, s.PlayerPlatformCCStyle.COLOR_DARK_GREEN, s.PlayerPlatformCCStyle.COLOR_DARK_MAGENTA, s.PlayerPlatformCCStyle.COLOR_DARK_RED, s.PlayerPlatformCCStyle.COLOR_DARK_YELLOW],
                    textForegroundOpacity: [s.PlayerPlatformCCStyle.OPACITY_SOLID, s.PlayerPlatformCCStyle.OPACITY_TRANSLUCENT, s.PlayerPlatformCCStyle.OPACITY_TRANSPARENT],
                    penSize: [s.PlayerPlatformCCStyle.PENSIZE_SMALL, s.PlayerPlatformCCStyle.PENSIZE_STANDARD, s.PlayerPlatformCCStyle.PENSIZE_LARGE],
                    textBackgroundColor: [s.PlayerPlatformCCStyle.COLOR_BLACK, s.PlayerPlatformCCStyle.COLOR_BLUE, s.PlayerPlatformCCStyle.COLOR_CYAN, s.PlayerPlatformCCStyle.COLOR_GRAY, s.PlayerPlatformCCStyle.COLOR_GREEN, s.PlayerPlatformCCStyle.COLOR_MAGENTA, s.PlayerPlatformCCStyle.COLOR_RED, s.PlayerPlatformCCStyle.COLOR_WHITE, s.PlayerPlatformCCStyle.COLOR_YELLOW, s.PlayerPlatformCCStyle.COLOR_BRIGHT_BLUE, s.PlayerPlatformCCStyle.COLOR_BRIGHT_CYAN, s.PlayerPlatformCCStyle.COLOR_BRIGHT_GREEN, s.PlayerPlatformCCStyle.COLOR_BRIGHT_MAGENTA, s.PlayerPlatformCCStyle.COLOR_BRIGHT_RED, s.PlayerPlatformCCStyle.COLOR_BRIGHT_WHITE, s.PlayerPlatformCCStyle.COLOR_BRIGHT_YELLOW, s.PlayerPlatformCCStyle.COLOR_DARK_BLUE, s.PlayerPlatformCCStyle.COLOR_DARK_CYAN, s.PlayerPlatformCCStyle.COLOR_DARK_GREEN, s.PlayerPlatformCCStyle.COLOR_DARK_MAGENTA, s.PlayerPlatformCCStyle.COLOR_DARK_RED, s.PlayerPlatformCCStyle.COLOR_DARK_YELLOW],
                    textBackgroundOpacity: [s.PlayerPlatformCCStyle.OPACITY_SOLID, s.PlayerPlatformCCStyle.OPACITY_TRANSLUCENT, s.PlayerPlatformCCStyle.OPACITY_TRANSPARENT]
                }
            }
            ,
            t
        }(s.PlayerPlatformCCStyle);
        t.CBSCCOptions = o
    }
    , function(e, t, i) {
        "use strict";
        (function(e) {
            var n = i(10)
              , r = i(2)
              , s = i(3)
              , o = i(4)
              , a = i(15)
              , c = i(25)
              , l = i(1)
              , h = function() {
                function t() {
                    this.logger = new l.Logger("CBSPlayerEvents")
                }
                return t.prototype.init = function(t) {
                    return this.sandbox = t,
                    this.cbsPlayer = t.parent,
                    this.playerPlatformAPI = t.api,
                    t.subscribe("api:stop", this.onStop, {
                        priority: s.PRIORITY_HIGH
                    }, this),
                    t.subscribe("api:setAsset", this.onSetAsset, {}, this),
                    e.cbsPlayerEvents = this,
                    this
                }
                ,
                t.prototype.destroy = function(t) {
                    this.logger.trace("destroy"),
                    t.remove("api:stop", this.onStop),
                    t.remove("api:setAsset", this.onSetAsset),
                    delete e.cbsPlayerEvents
                }
                ,
                t.prototype.onStop = function() {
                    this.cbsPlayer.currentItem = {},
                    this.onStateChanged({
                        state: t.STATUS_IDLE
                    })
                }
                ,
                t.prototype.onSetAsset = function() {
                    this.openingLatency = Date.now(),
                    this.onStateChanged({
                        state: t.STATUS_INITIALIZING
                    })
                }
                ,
                t.prototype.onPlayerReady = function() {
                    this.onStateChanged({
                        state: t.STATUS_INITIALIZED
                    }),
                    this.cbsPlayer.setPlayerReady()
                }
                ,
                t.prototype.onMediaOpened = function(e) {
                    var t = this;
                    this.mediaEndedReceived = !1,
                    this.cbsPlayer.currentVideoType = e.mediaType,
                    this.dispatch(new o.MediaOpenedEvent(e.mediaType,this.cbsPlayer.getSupportedPlaybackSpeeds(),this.cbsPlayer.getAvailableAudioLanguages(),this.cbsPlayer.getVideoWidth(),this.cbsPlayer.getVideoHeight(),Date.now() - this.openingLatency,(!1),(!0))),
                    this.sandbox.streams.getPlayState(s.STATUS_PLAYING).take(1).takeUntil(this.sandbox.destroyed).subscribe(function() {
                        t.cbsPlayer.getAutoPlay() || t.cbsPlayer.pause()
                    })
                }
                ,
                t.prototype.onVideoStart = function() {}
                ,
                t.prototype.onStateChanged = function(e) {
                    var i;
                    switch (e.state) {
                    case t.STATUS_ENDED:
                        if (!this.mediaEndedReceived)
                            return;
                        i = s.STATUS_COMPLETE;
                        break;
                    case t.STATUS_PLAYING:
                        i = s.STATUS_PLAYING;
                        break;
                    case t.STATUS_PAUSED:
                        i = s.STATUS_PAUSED;
                        break;
                    case t.STATUS_BUFFERING:
                        i = s.STATUS_BUFFERING;
                        break;
                    case t.STATUS_IDLE:
                        i = s.STATUS_IDLE;
                        break;
                    case t.STATUS_INITIALIZING:
                        i = s.STATUS_INITIALIZING;
                        break;
                    case t.STATUS_INITIALIZED:
                        i = s.STATUS_INITIALIZED;
                        break;
                    default:
                        return
                    }
                    i !== this.cbsPlayer.currentStatus && (this.cbsPlayer.currentStatus = i,
                    this.dispatch(new o.PlayStateChangedEvent(i)))
                }
                ,
                t.prototype.onProgress = function(e) {
                    if (this.cbsPlayer.getPlayerStatus() !== s.STATUS_IDLE && e.time !== this.lastProgressSecs) {
                        this.lastProgressSecs = e.time,
                        this.cbsPlayer.currentFPS = e.fps,
                        this.cbsPlayer.currentItem.duration = e.duration * s.MILLISECONDS_PER_SECOND;
                        var t = e.sourceBitrate || 0;
                        this.cbsPlayer.currentBitrate !== t && (this.cbsPlayer.currentBitrate = t,
                        this.dispatch(new o.BitrateChangedEvent(this.cbsPlayer.currentBitrate * s.BYTES_PER_KILOBYTE,"unknown",this.cbsPlayer.getVideoWidth(),this.cbsPlayer.getVideoHeight())));
                        var i = (e.isAd ? this.lastSecondCompleted++ : e.time) * s.MILLISECONDS_PER_SECOND;
                        this.cbsPlayer.currentItem.position = i,
                        e.isAd && this.onAdProgress(e),
                        this.dispatch(new o.MediaProgressEvent(i,this.cbsPlayer.getCurrentPlaybackSpeed(),0,this.cbsPlayer.getDuration(),6e4))
                    }
                }
                ,
                t.prototype.onAdBreakStarted = function(e, t) {
                    this.sandbox.publish("ads:adBreakStart", e, t)
                }
                ,
                t.prototype.onAdBreakCompleted = function(e) {
                    this.cbsPlayer.currentItem.duration = null,
                    this.cbsPlayer.currentItem.position = null,
                    this.sandbox.publish("ads:adBreakComplete", e)
                }
                ,
                t.prototype.onAdStarted = function(e) {
                    this.lastSecondCompleted = 0,
                    this.cbsPlayer.currentItem.duration = e.duration * s.MILLISECONDS_PER_SECOND,
                    this.sandbox.publish("ads:adStart", e)
                }
                ,
                t.prototype.onAdCompleted = function(e) {
                    this.cbsPlayer.currentItem.duration = null,
                    this.cbsPlayer.currentItem.position = null,
                    this.sandbox.publish("ads:adComplete", e)
                }
                ,
                t.prototype.onAdProgress = function(e) {
                    this.sandbox.publish("ads:adProgress", e)
                }
                ,
                t.prototype.onPlayerDataLoaded = function(e) {
                    for (var t = [], i = 0, n = e.length; i < n; i++) {
                        var r = e[i]
                          , o = new a.VideoAdBreak
                          , l = r.slotTime * s.MILLISECONDS_PER_SECOND
                          , h = new c.VideoAd(r.ID,l,null,{
                            clickThrough: r.adLoadURL
                        });
                        o.addAd(h),
                        t.push(o)
                    }
                    this.sandbox.publish("ads:adBreaks", t)
                }
                ,
                t.prototype.onMediaEnded = function() {
                    this.mediaEndedReceived = !0,
                    this.onStateChanged({
                        state: t.STATUS_ENDED
                    }),
                    this.dispatch(new o.MediaEndedEvent)
                }
                ,
                t.prototype.onMediaFailed = function(e) {
                    var t = new n.PPError(e.code,null,e.description);
                    this.dispatch(new o.MediaFailedEvent(t))
                }
                ,
                t.prototype.dispatch = function(e) {
                    o.dispatchEvent(e)
                }
                ,
                t.STATUS_UNSTARTED = -1,
                t.STATUS_ENDED = 0,
                t.STATUS_PLAYING = 1,
                t.STATUS_PAUSED = 2,
                t.STATUS_BUFFERING = 3,
                t.STATUS_THUMBNAIL_IMAGE_CUED = 5,
                t.STATUS_BLACKLISTED = 100,
                t.STATUS_VIDEO_NOT_AVAILABLE = 110,
                t.STATUS_VIDEO_GEOBLOCKED = 120,
                t.STATUS_DATA_LOAD_ERROR = 130,
                t.STATUS_AD_BLOCKED = 140,
                t.STATUS_ISP_BLOCKED = 150,
                t.STATUS_USER_AGENT_BLOCKED = 160,
                t.STATUS_IDLE = 200,
                t.STATUS_INITIALIZING = 10,
                t.STATUS_INITIALIZED = 11,
                t
            }();
            t.CBSPlayerEvents = h,
            r.registerModule("CBSPlayerEvents", h)
        }
        ).call(t, i(11))
    }
    , function(e, t, i) {
        "use strict";
        (function(e) {
            var n = i(10)
              , r = i(4)
              , s = i(3)
              , o = i(2)
              , a = i(6)
              , c = i(1);
            i(46);
            var l = function() {
                function t() {
                    this.logger = new c.Logger("DisneyPlayerEvents")
                }
                return t.prototype.init = function(t) {
                    return this.sandbox = t,
                    this.disneyPlayer = t.parent,
                    this.playerPlatformAPI = t.api,
                    this.updateInterval = parseInt(t.config[a.ConfigurationManager.UPDATE_INTERVAL]) || 1e3,
                    this.progressTimer = 0,
                    e.disneyPlayerEvents = this,
                    this.contentStream = t.streams.adStarts,
                    this._startProgressTimer(),
                    this
                }
                ,
                t.prototype.destroy = function() {
                    delete e.disneyPlayerEvents,
                    this._stopProgressTimer()
                }
                ,
                t.prototype.checkAutoPlay = function() {
                    this.logger.trace("checkAutoPlay"),
                    this.nowPlaying = !0,
                    this.disneyPlayer.getAutoPlay() ? (this.disneyPlayer.play(),
                    this.onVideoStateChange(t.STATUS_PLAYING)) : (this.disneyPlayer.pause(),
                    this.onVideoStateChange(t.STATUS_PAUSED))
                }
                ,
                t.prototype.dispatch = function(e) {
                    r.dispatchEvent(e)
                }
                ,
                t.prototype.onAdBreakComplete = function() {
                    this.logger.trace("onAdBreakComplete()"),
                    this.disneyPlayer.currentItem.inAdBreak && (this.disneyPlayer.currentItem.inAdBreak = !1,
                    this.dispatch(new r.AdBreakCompleteEvent(null)))
                }
                ,
                t.prototype.onAdBreakStart = function() {
                    this.logger.trace("onAdBreakStart()"),
                    this.disneyPlayer.currentItem.inAdBreak = !0,
                    this.dispatch(new r.AdBreakStartEvent(null))
                }
                ,
                t.prototype.onAdEnd = function() {
                    this.logger.trace("onAdEnd()"),
                    this.disneyPlayer.currentItem.inAdBreak = !1,
                    this.disneyPlayer.currentItem.adStarted = !1,
                    this.dispatch(new r.AdCompleteEvent(null,null,null,null)),
                    this.dispatch(new r.AdBreakCompleteEvent(null))
                }
                ,
                t.prototype.onAdError = function() {
                    this.logger.trace("onAdError()")
                }
                ,
                t.prototype.onAdStart = function() {
                    this.logger.trace("onAdStart()");
                    try {
                        this.disneyPlayer.currentItem.adStarted && this.dispatch(new r.AdCompleteEvent(null,null,null,null)),
                        this.disneyPlayer.currentItem.adStarted = !0,
                        this.disneyPlayer.currentItem.inAdBreak || (this.disneyPlayer.currentItem.inAdBreak = !0,
                        this.dispatch(new r.AdBreakStartEvent(null))),
                        this.dispatch(new r.AdStartEvent(null,null,null,null))
                    } catch (e) {
                        this.logger.warn("onAdStart error: " + e)
                    }
                }
                ,
                t.prototype.onBitrateChanged = function() {
                    this.logger.trace("onBitrateChanged()");
                    var e = this.disneyPlayer.getCurrentBitrate();
                    this.dispatch(new r.BitrateChangedEvent(e,"BitrateChanged",this.disneyPlayer.getVideoWidth(),this.disneyPlayer.getVideoHeight()))
                }
                ,
                t.prototype.onClosedCaptionReached = function(e) {
                    this.disneyPlayer.ccRenderer.parseCaption(e)
                }
                ,
                t.prototype.onVideoSizeChanged = function() {
                    clearTimeout(this.resizeTimer),
                    this.disneyPlayer.resizeStarted(),
                    this.resizeTimer = setTimeout(this.disneyPlayer.adjustCCsize.bind(this.disneyPlayer), 1e3)
                }
                ,
                t.prototype.onPlayerLoaded = function() {
                    var e = this;
                    this.logger.trace("onPlayerLoaded()"),
                    this.disneyPlayer.setPlayerLoaded(!0),
                    this.onVideoStateChange(t.STATUS_PREPARING),
                    this.nowPlaying = !1,
                    this.contentStream.take(1).subscribe(function() {
                        return e.checkAutoPlay()
                    })
                }
                ,
                t.prototype.onPlaybackReady = function() {
                    this.logger.trace("onPlaybackReady()"),
                    this.onVideoStateChange(t.STATUS_INITIALIZED),
                    this.disneyPlayer.setPlayerReady()
                }
                ,
                t.prototype.onVideoComplete = function() {
                    this.logger.trace("onVideoComplete()");
                    try {
                        this.disneyPlayer.currentItem.inAdBreak && (this.disneyPlayer.currentItem.inAdBreak = !1,
                        this.disneyPlayer.currentItem.adStarted && (this.disneyPlayer.currentItem.adStarted = !1,
                        this.dispatch(new r.AdExitedEvent(null,null,null))),
                        this.dispatch(new r.AdBreakExitedEvent(null)))
                    } catch (e) {
                        this.logger.warn("onVideoComplete error exiting ad : " + e)
                    }
                    this.disneyPlayer.setPlayerLoaded(!1),
                    this.onVideoStateChange(t.STATUS_STOPPED)
                }
                ,
                t.prototype.onVideoError = function(e) {
                    this.onVideoStateChange(t.STATUS_ERROR),
                    this.disneyPlayer.setPlayerLoaded(!1);
                    var i = e.description || e.message + " " + e.pluginCode + " " + e.pluginDescription
                      , s = new n.PPError(parseInt(e.code),null,i);
                    this.dispatch(new r.MediaFailedEvent(s))
                }
                ,
                t.prototype.onVideoProgress = function() {
                    this.logger.trace("onVideoProgress()")
                }
                ,
                t.prototype.onVideoMetaData = function(e) {
                    this.logger.trace("onVideoMetaData() " + JSON.stringify(e)),
                    this.disneyPlayer.currentItem.adStarted && (this.logger.trace("force adEnd"),
                    this.onAdEnd()),
                    this.disneyPlayer.currentItem.inAdBreak && (this.logger.trace("force adBreakComplete"),
                    this.onAdBreakComplete()),
                    this.disneyPlayer.setHasMetaData(e),
                    this.disneyPlayer.currentItem = {
                        videoType: this.disneyPlayer.getVideoType(),
                        playbackSpeeds: this.disneyPlayer.getSupportedPlaybackSpeeds(),
                        languages: this.disneyPlayer.getAvailableAudioLanguages(),
                        bitRatesArray: this.disneyPlayer.getAvailableBitrates(),
                        bitrate: 0,
                        ccTracks: this.disneyPlayer.getAvailableClosedCaptionTracks(),
                        hasDRM: this.disneyPlayer.hasDRM(),
                        hasCC: this.disneyPlayer.hasCC(),
                        duration: this.disneyPlayer.getDuration(),
                        position: this.disneyPlayer.getStartPosition(),
                        inAdBreak: !1,
                        adStarted: !1,
                        vidPosition: this.disneyPlayer.getStartPosition(),
                        vidDuration: this.disneyPlayer.getDuration(),
                        adPosition: 0,
                        adDuration: 0
                    },
                    this.dispatch(new r.MediaOpenedEvent(this.disneyPlayer.currentItem.videoType,this.disneyPlayer.currentItem.playbackSpeeds,this.disneyPlayer.currentItem.languages,this.disneyPlayer.getVideoWidth(),this.disneyPlayer.getVideoHeight(),Date.now() - this.disneyPlayer.latencyStart,this.disneyPlayer.currentItem.hasDRM,this.disneyPlayer.currentItem.hasCC))
                }
                ,
                t.prototype.onVideoStart = function() {
                    this.logger.trace("onVideoStart"),
                    this.nowPlaying = !0,
                    this.onVideoStateChange(t.STATUS_PLAYING)
                }
                ,
                t.prototype.onVideoStateChange = function(e) {
                    switch (this.logger.trace("onVideoStateChange: " + e),
                    e) {
                    case t.STATUS_BUFFERING:
                    case t.STATUS_LOADING:
                        return void this.logger.trace(e + "state ignored");
                    case t.STATUS_COMPLETE:
                        e = s.STATUS_COMPLETE;
                        break;
                    case t.STATUS_ERROR:
                        e = s.STATUS_ERROR;
                        break;
                    case t.STATUS_INITIALIZED:
                        e = s.STATUS_INITIALIZED,
                        this.disneyPlayer.setCachedValues();
                        break;
                    case t.STATUS_PAUSED:
                        e = s.STATUS_PAUSED;
                        break;
                    case t.STATUS_PLAYING:
                        if (!this.nowPlaying)
                            return void this.logger.trace("playing state ignored until ad or video starts");
                        e = s.STATUS_PLAYING;
                        break;
                    case t.STATUS_PREPARING:
                        e = s.STATUS_PREPARING;
                        break;
                    case t.STATUS_PREPARED:
                    case t.STATUS_READY:
                    case t.STATUS_START:
                        e = s.STATUS_PREPARED;
                        break;
                    case t.STATUS_SEEKING:
                        e = s.STATUS_SEEKING;
                        break;
                    case t.STATUS_STOPPED:
                        e = s.STATUS_IDLE;
                        break;
                    case t.STATUS_UNINITIALIZED:
                        e = s.STATUS_INITIALIZING;
                        break;
                    default:
                        return void this.logger.warn("Player in unknown state: " + event)
                    }
                    if (e !== this.disneyPlayer.currentStatus && (this.disneyPlayer.currentStatus = e,
                    this.dispatch(new r.PlayStateChangedEvent(e)),
                    this.logger.trace("Disney State Now " + this.disneyPlayer.currentStatus)),
                    this.disneyPlayer.hasMetaData) {
                        var i = this.disneyPlayer.getCurrentBitrate();
                        i !== this.disneyPlayer.currentItem.bitrate && (this.disneyPlayer.currentItem.bitrate = i,
                        this.dispatch(new r.BitrateChangedEvent(i,"BitrateChanged",this.disneyPlayer.getVideoWidth(),this.disneyPlayer.getVideoHeight())))
                    }
                }
                ,
                t.prototype._startProgressTimer = function() {
                    var e = this;
                    this._stopProgressTimer(),
                    this.progressTimer = window.setInterval(function() {
                        e.disneyPlayer.currentStatus === s.STATUS_PLAYING && e.dispatch(new r.MediaProgressEvent(e.disneyPlayer.getCurrentPosition(),1,e.disneyPlayer.getStartPosition(),e.disneyPlayer.getEndPosition(),e.updateInterval))
                    }, this.updateInterval)
                }
                ,
                t.prototype._stopProgressTimer = function() {
                    this.progressTimer && (clearInterval(this.progressTimer),
                    this.progressTimer = 0)
                }
                ,
                t.STATUS_BUFFERING = "buffering",
                t.STATUS_COMPLETE = "complete",
                t.STATUS_ERROR = "error",
                t.STATUS_INITIALIZED = "initialized",
                t.STATUS_LOADING = "loading",
                t.STATUS_PAUSED = "paused",
                t.STATUS_PLAYING = "playing",
                t.STATUS_PREPARED = "prepared",
                t.STATUS_PREPARING = "preparing",
                t.STATUS_READY = "ready",
                t.STATUS_SEEKING = "seeking",
                t.STATUS_START = "start",
                t.STATUS_STOPPED = "stopped",
                t.STATUS_UNINITIALIZED = "uninitialized",
                t
            }();
            t.DisneyPlayerEvents = l,
            o.registerModule("DisneyPlayerEvents", l)
        }
        ).call(t, i(11))
    }
    , function(e, t, i) {
        "use strict";
        (function(e) {
            var n = i(10)
              , r = i(3)
              , s = i(4)
              , o = i(2)
              , a = i(6)
              , c = i(1)
              , l = function() {
                function t() {
                    this.logger = new c.Logger("ESPNPlayerEvents")
                }
                return t.prototype.init = function(t) {
                    return this.espnPlayer = t.parent,
                    this.updateInterval = parseInt(t.config[a.ConfigurationManager.UPDATE_INTERVAL]) || 1e3,
                    e.espnPlayerEvents = this,
                    this.playerPlatformAPI = t.api,
                    this
                }
                ,
                t.prototype.destroy = function() {
                    delete e.espnPlayerEvents,
                    this.stopProgressTimer()
                }
                ,
                t.prototype.onPlaybackReady = function() {
                    this.espnPlayer.setPlayerReady(),
                    this.onVideoStateChange(t.STATUS_INITIALIZED)
                }
                ,
                t.prototype.onPlayerFilesLoaded = function() {
                    this.espnPlayer.playerLoaded = !0,
                    this.onVideoStateChange(t.STATUS_STOPPED)
                }
                ,
                t.prototype.onVideoStateChange = function(e) {
                    switch (this.espnPlayer.currentStatus) {
                    case r.STATUS_STOPPING:
                        switch (e) {
                        case t.STATUS_STOPPED:
                        case t.STATUS_PAUSED:
                            e = t.STATUS_COMPLETE,
                            this.logger.info("onStateChanged: stopping forces " + e);
                            break;
                        default:
                            return
                        }
                        break;
                    case r.STATUS_COMPLETE:
                        switch (e) {
                        case t.STATUS_STOPPED:
                        case t.STATUS_PAUSED:
                        case t.STATUS_PLAYING:
                            return
                        }
                    }
                    switch (e) {
                    case t.STATUS_INITIALIZED:
                        e = r.STATUS_INITIALIZED;
                        break;
                    case t.STATUS_PLAYING:
                        if (!this.espnPlayer.sentMediaOpened) {
                            var i = this.espnPlayer.getMetadata();
                            this.espnPlayer.currentMetadata = i,
                            this.dispatch(new s.MediaOpenedEvent(this.espnPlayer.getVideoType(),this.espnPlayer.getSupportedPlaybackSpeeds(),this.espnPlayer.getAvailableAudioLanguages(),this.espnPlayer.getVideoWidth(),this.espnPlayer.getVideoHeight(),Date.now() - this.espnPlayer.latencyStart,(!1),i.isCC)),
                            this.espnPlayer.sentMediaOpened = !0
                        }
                        e = r.STATUS_PLAYING;
                        break;
                    case t.STATUS_PAUSED:
                        e = r.STATUS_PAUSED;
                        break;
                    case t.STATUS_STOPPED:
                        e = r.STATUS_IDLE;
                        break;
                    case t.STATUS_ERROR:
                        e = r.STATUS_ERROR;
                        break;
                    case t.STATUS_COMPLETE:
                        e = r.STATUS_IDLE;
                        break;
                    default:
                        return void this.logger.warn("Player in unknown state: " + e)
                    }
                    this.espnPlayer.currentStatus = e,
                    this.dispatch(new s.PlayStateChangedEvent(e)),
                    e !== r.STATUS_PLAYING ? this.stopProgressTimer() : this.startProgressTimer()
                }
                ,
                t.prototype.onVideoProgress = function() {}
                ,
                t.prototype.stopProgressTimer = function() {
                    this.progressTimer && (clearInterval(this.progressTimer),
                    this.progressTimer = 0)
                }
                ,
                t.prototype.startProgressTimer = function() {
                    var e = this;
                    this.stopProgressTimer(),
                    this.progressTimer = window.setInterval(function() {
                        e.dispatch(new s.MediaProgressEvent(e.espnPlayer.getCurrentPosition(),1,null,null,e.updateInterval))
                    }, this.updateInterval)
                }
                ,
                t.prototype.onVideoStart = function() {
                    this.espnPlayer.getAutoPlay() || this.espnPlayer.pause()
                }
                ,
                t.prototype.onVideoComplete = function() {}
                ,
                t.prototype.onVideoError = function(e) {
                    this.onVideoStateChange(t.STATUS_ERROR);
                    var i = new n.PPError(parseInt(e.code),null,e.description || e.message);
                    this.dispatch(new s.MediaFailedEvent(i))
                }
                ,
                t.prototype.onBitrateChanged = function(e) {
                    this.dispatch(new s.BitrateChangedEvent(1e3 * e.payload,"unknown",this.playerPlatformAPI.getVideoWidth(),this.playerPlatformAPI.getVideoHeight()))
                }
                ,
                t.prototype.onClosedCaptionReached = function(e) {
                    e.text && this.espnPlayer.ccRenderer.display(e.text)
                }
                ,
                t.prototype.onVideoSizeChanged = function() {
                    clearTimeout(this.resizeTimer),
                    this.espnPlayer.resizeStarted(),
                    this.resizeTimer = setTimeout(this.espnPlayer.adjustCCsize.bind(this.espnPlayer), 1e3)
                }
                ,
                t.prototype.dispatch = function(e) {
                    s.dispatchEvent(e)
                }
                ,
                t.STATUS_INITIALIZED = "initialized",
                t.STATUS_PLAYING = "playing",
                t.STATUS_PAUSED = "paused",
                t.STATUS_STOPPED = "stopped",
                t.STATUS_ERROR = "error",
                t.STATUS_COMPLETE = "complete",
                t
            }();
            t.ESPNPlayerEvents = l,
            o.registerModule("ESPNPlayerEvents", l)
        }
        ).call(t, i(11))
    }
    , function(e, t, i) {
        "use strict";
        var n = this && this.__extends || function(e, t) {
            function i() {
                this.constructor = e
            }
            for (var n in t)
                t.hasOwnProperty(n) && (e[n] = t[n]);
            e.prototype = null === t ? Object.create(t) : (i.prototype = t.prototype,
            new i)
        }
          , r = i(35)
          , s = i(1);
        !function(e) {
            e[e.DEFAULT = 0] = "DEFAULT",
            e[e.MONOSPACE_WITH_SERIFS = 1] = "MONOSPACE_WITH_SERIFS",
            e[e.MONOSPACED_WITHOUT_SERIFS = 2] = "MONOSPACED_WITHOUT_SERIFS",
            e[e.PROPORTIONAL_WITH_SERIFS = 3] = "PROPORTIONAL_WITH_SERIFS",
            e[e.PROPORTIONAL_WITHOUT_SERIFS = 4] = "PROPORTIONAL_WITHOUT_SERIFS",
            e[e.CASUAL = 5] = "CASUAL",
            e[e.CURSIVE = 6] = "CURSIVE",
            e[e.SMALL_CAPITALS = 7] = "SMALL_CAPITALS"
        }(t.PSDK_FONT || (t.PSDK_FONT = {}));
        var o = t.PSDK_FONT;
        !function(e) {
            e[e.DEFAULT = 0] = "DEFAULT",
            e[e.SMALL = 1] = "SMALL",
            e[e.MEDIUM = 2] = "MEDIUM",
            e[e.LARGE = 3] = "LARGE"
        }(t.PSDK_FONT_SIZE || (t.PSDK_FONT_SIZE = {}));
        var a = t.PSDK_FONT_SIZE;
        !function(e) {
            e[e.DEFAULT = 0] = "DEFAULT",
            e[e.NONE = 1] = "NONE",
            e[e.RAISED = 2] = "RAISED",
            e[e.DEPRESSED = 3] = "DEPRESSED",
            e[e.UNIFORM = 4] = "UNIFORM",
            e[e.LEFT_DROP_SHADOW = 5] = "LEFT_DROP_SHADOW",
            e[e.RIGHT_DROP_SHADOW = 6] = "RIGHT_DROP_SHADOW"
        }(t.PSDK_FONT_EDGE || (t.PSDK_FONT_EDGE = {}));
        var c = t.PSDK_FONT_EDGE;
        !function(e) {
            e[e.DEFAULT = 0] = "DEFAULT",
            e[e.BLACK = 1] = "BLACK",
            e[e.GRAY = 2] = "GRAY",
            e[e.WHITE = 3] = "WHITE",
            e[e.BRIGHT_WHITE = 4] = "BRIGHT_WHITE",
            e[e.RED = 5] = "RED",
            e[e.DARK_RED = 6] = "DARK_RED",
            e[e.BRIGHT_RED = 7] = "BRIGHT_RED",
            e[e.GREEN = 8] = "GREEN",
            e[e.DARK_GREEN = 9] = "DARK_GREEN",
            e[e.BRIGHT_GREEN = 10] = "BRIGHT_GREEN",
            e[e.BLUE = 11] = "BLUE",
            e[e.DARK_BLUE = 12] = "DARK_BLUE",
            e[e.BRIGHT_BLUE = 13] = "BRIGHT_BLUE",
            e[e.YELLOW = 14] = "YELLOW",
            e[e.DARK_YELLOW = 15] = "DARK_YELLOW",
            e[e.BRIGHT_YELLOW = 16] = "BRIGHT_YELLOW",
            e[e.MAGENTA = 17] = "MAGENTA",
            e[e.DARK_MAGENTA = 18] = "DARK_MAGENTA",
            e[e.BRIGHT_MAGENTA = 19] = "BRIGHT_MAGENTA",
            e[e.CYAN = 20] = "CYAN",
            e[e.DARK_CYAN = 21] = "DARK_CYAN",
            e[e.BRIGHT_CYAN = 22] = "BRIGHT_CYAN"
        }(t.PSDK_COLOR || (t.PSDK_COLOR = {}));
        var l = t.PSDK_COLOR
          , h = function(e) {
            function t() {
                e.apply(this, arguments),
                this.logger = new s.Logger("FlashCCOptions"),
                this.currentStyle = this.defaultFlashCCStyle()
            }
            return n(t, e),
            t.prototype.getStyle = function() {
                return this.currentStyle
            }
            ,
            t.prototype.setStyle = function(e) {
                this.currentStyle = e
            }
            ,
            t.prototype.toFlashFont = function(e) {
                switch (e) {
                case r.PlayerPlatformCCStyle.FONTSTYLE_CASUAL:
                    return o.CASUAL;
                case r.PlayerPlatformCCStyle.FONTSTYLE_CURSIVE:
                    return o.CURSIVE;
                case r.PlayerPlatformCCStyle.FONTSTYLE_DEFAULT:
                    return o.DEFAULT;
                case r.PlayerPlatformCCStyle.FONTSTYLE_MONOSPACED_SANSERIF:
                    return o.MONOSPACED_WITHOUT_SERIFS;
                case r.PlayerPlatformCCStyle.FONTSTYLE_MONOSPACED_SERIF:
                    return o.MONOSPACE_WITH_SERIFS;
                case r.PlayerPlatformCCStyle.FONTSTYLE_PROPORTIONAL_SANSERIF:
                    return o.PROPORTIONAL_WITHOUT_SERIFS;
                case r.PlayerPlatformCCStyle.FONTSTYLE_PROPORTIONAL_SERIF:
                    return o.PROPORTIONAL_WITH_SERIFS;
                case r.PlayerPlatformCCStyle.FONTSTYLE_SMALL_CAPITALS:
                    return o.SMALL_CAPITALS;
                default:
                    return this.logger.warn("Unsupported font style: " + e),
                    o.DEFAULT
                }
            }
            ,
            t.prototype.fromFlashFont = function(e) {
                switch (e) {
                case o.DEFAULT:
                    return r.PlayerPlatformCCStyle.FONTSTYLE_DEFAULT;
                case o.MONOSPACE_WITH_SERIFS:
                    return r.PlayerPlatformCCStyle.FONTSTYLE_MONOSPACED_SERIF;
                case o.MONOSPACED_WITHOUT_SERIFS:
                    return r.PlayerPlatformCCStyle.FONTSTYLE_MONOSPACED_SANSERIF;
                case o.PROPORTIONAL_WITH_SERIFS:
                    return r.PlayerPlatformCCStyle.FONTSTYLE_PROPORTIONAL_SERIF;
                case o.PROPORTIONAL_WITHOUT_SERIFS:
                    return r.PlayerPlatformCCStyle.FONTSTYLE_PROPORTIONAL_SANSERIF;
                case o.CASUAL:
                    return r.PlayerPlatformCCStyle.FONTSTYLE_CASUAL;
                case o.CURSIVE:
                    return r.PlayerPlatformCCStyle.FONTSTYLE_CURSIVE;
                case o.SMALL_CAPITALS:
                    return r.PlayerPlatformCCStyle.FONTSTYLE_SMALL_CAPITALS;
                default:
                    return this.logger.warn("Unsupported font family: " + e),
                    r.PlayerPlatformCCStyle.FONTSTYLE_DEFAULT
                }
            }
            ,
            t.prototype.toFlashFontSize = function(e) {
                switch (e) {
                case r.PlayerPlatformCCStyle.PENSIZE_STANDARD:
                    return a.MEDIUM;
                case r.PlayerPlatformCCStyle.PENSIZE_SMALL:
                    return a.SMALL;
                case r.PlayerPlatformCCStyle.PENSIZE_LARGE:
                    return a.LARGE
                }
            }
            ,
            t.prototype.fromFlashFontSize = function(e) {
                switch (e) {
                case a.DEFAULT:
                    return r.PlayerPlatformCCStyle.PENSIZE_STANDARD;
                case a.SMALL:
                    return r.PlayerPlatformCCStyle.PENSIZE_SMALL;
                case a.MEDIUM:
                    return r.PlayerPlatformCCStyle.PENSIZE_STANDARD;
                case a.LARGE:
                    return r.PlayerPlatformCCStyle.PENSIZE_LARGE
                }
            }
            ,
            t.prototype.toFlashColor = function(e) {
                switch (e) {
                case r.PlayerPlatformCCStyle.COLOR_DEFAULT:
                    return l.DEFAULT;
                case r.PlayerPlatformCCStyle.COLOR_BLACK:
                    return l.BLACK;
                case r.PlayerPlatformCCStyle.COLOR_BLUE:
                    return l.BLUE;
                case r.PlayerPlatformCCStyle.COLOR_CYAN:
                    return l.CYAN;
                case r.PlayerPlatformCCStyle.COLOR_GRAY:
                    return l.GRAY;
                case r.PlayerPlatformCCStyle.COLOR_GREEN:
                    return l.GREEN;
                case r.PlayerPlatformCCStyle.COLOR_MAGENTA:
                    return l.MAGENTA;
                case r.PlayerPlatformCCStyle.COLOR_RED:
                    return l.RED;
                case r.PlayerPlatformCCStyle.COLOR_WHITE:
                    return l.WHITE;
                case r.PlayerPlatformCCStyle.COLOR_YELLOW:
                    return l.YELLOW;
                case r.PlayerPlatformCCStyle.COLOR_BRIGHT_BLUE:
                    return l.BRIGHT_BLUE;
                case r.PlayerPlatformCCStyle.COLOR_BRIGHT_CYAN:
                    return l.BRIGHT_CYAN;
                case r.PlayerPlatformCCStyle.COLOR_BRIGHT_GREEN:
                    return l.BRIGHT_GREEN;
                case r.PlayerPlatformCCStyle.COLOR_BRIGHT_MAGENTA:
                    return l.BRIGHT_MAGENTA;
                case r.PlayerPlatformCCStyle.COLOR_BRIGHT_RED:
                    return l.BRIGHT_RED;
                case r.PlayerPlatformCCStyle.COLOR_BRIGHT_WHITE:
                    return l.BRIGHT_WHITE;
                case r.PlayerPlatformCCStyle.COLOR_BRIGHT_YELLOW:
                    return l.BRIGHT_YELLOW;
                case r.PlayerPlatformCCStyle.COLOR_DARK_BLUE:
                    return l.DARK_BLUE;
                case r.PlayerPlatformCCStyle.COLOR_DARK_CYAN:
                    return l.DARK_CYAN;
                case r.PlayerPlatformCCStyle.COLOR_DARK_GREEN:
                    return l.DARK_GREEN;
                case r.PlayerPlatformCCStyle.COLOR_DARK_MAGENTA:
                    return l.DARK_MAGENTA;
                case r.PlayerPlatformCCStyle.COLOR_DARK_RED:
                    return l.DARK_RED;
                case r.PlayerPlatformCCStyle.COLOR_DARK_YELLOW:
                    return l.DARK_YELLOW;
                default:
                    return this.logger.warn("Unsupported color name: " + e),
                    l.DEFAULT
                }
            }
            ,
            t.prototype.fromFlashColor = function(e) {
                switch (e) {
                case l.DEFAULT:
                    return r.PlayerPlatformCCStyle.COLOR_DEFAULT;
                case l.BLACK:
                    return r.PlayerPlatformCCStyle.COLOR_BLACK;
                case l.BLUE:
                    return r.PlayerPlatformCCStyle.COLOR_BLUE;
                case l.CYAN:
                    return r.PlayerPlatformCCStyle.COLOR_CYAN;
                case l.GRAY:
                    return r.PlayerPlatformCCStyle.COLOR_GRAY;
                case l.GREEN:
                    return r.PlayerPlatformCCStyle.COLOR_GREEN;
                case l.MAGENTA:
                    return r.PlayerPlatformCCStyle.COLOR_MAGENTA;
                case l.RED:
                    return r.PlayerPlatformCCStyle.COLOR_RED;
                case l.WHITE:
                    return r.PlayerPlatformCCStyle.COLOR_WHITE;
                case l.YELLOW:
                    return r.PlayerPlatformCCStyle.COLOR_YELLOW;
                case l.BRIGHT_BLUE:
                    return r.PlayerPlatformCCStyle.COLOR_BRIGHT_BLUE;
                case l.BRIGHT_CYAN:
                    return r.PlayerPlatformCCStyle.COLOR_BRIGHT_CYAN;
                case l.BRIGHT_GREEN:
                    return r.PlayerPlatformCCStyle.COLOR_BRIGHT_GREEN;
                case l.BRIGHT_MAGENTA:
                    return r.PlayerPlatformCCStyle.COLOR_BRIGHT_MAGENTA;
                case l.BRIGHT_RED:
                    return r.PlayerPlatformCCStyle.COLOR_BRIGHT_RED;
                case l.BRIGHT_WHITE:
                    return r.PlayerPlatformCCStyle.COLOR_BRIGHT_WHITE;
                case l.BRIGHT_YELLOW:
                    return r.PlayerPlatformCCStyle.COLOR_BRIGHT_YELLOW;
                case l.DARK_BLUE:
                    return r.PlayerPlatformCCStyle.COLOR_DARK_BLUE;
                case l.DARK_CYAN:
                    return r.PlayerPlatformCCStyle.COLOR_DARK_CYAN;
                case l.DARK_GREEN:
                    return r.PlayerPlatformCCStyle.COLOR_DARK_GREEN;
                case l.DARK_MAGENTA:
                    return r.PlayerPlatformCCStyle.COLOR_DARK_MAGENTA;
                case l.DARK_RED:
                    return r.PlayerPlatformCCStyle.COLOR_DARK_RED;
                case l.DARK_YELLOW:
                    return r.PlayerPlatformCCStyle.COLOR_DARK_YELLOW;
                default:
                    return this.logger.warn("Unsupported color value: " + e),
                    r.PlayerPlatformCCStyle.COLOR_DEFAULT
                }
            }
            ,
            t.prototype.toFlashEdgeStyle = function(e) {
                switch (e) {
                case r.PlayerPlatformCCStyle.EDGE_NONE:
                    return c.NONE;
                case r.PlayerPlatformCCStyle.EDGE_RAISED:
                    return c.RAISED;
                case r.PlayerPlatformCCStyle.EDGE_DEPRESSED:
                    return c.DEPRESSED;
                case r.PlayerPlatformCCStyle.EDGE_UNIFORM:
                    return c.UNIFORM;
                case r.PlayerPlatformCCStyle.EDGE_DROP_SHADOW_LEFT:
                    return c.LEFT_DROP_SHADOW;
                case r.PlayerPlatformCCStyle.EDGE_DROP_SHADOW_RIGHT:
                    return c.RIGHT_DROP_SHADOW;
                default:
                    return this.logger.warn("Unsupported edge style: " + e),
                    c.DEFAULT
                }
            }
            ,
            t.prototype.fromFlashEdgeStyle = function(e) {
                switch (e) {
                case c.DEFAULT:
                    return r.PlayerPlatformCCStyle.EDGE_NONE;
                case c.NONE:
                    return r.PlayerPlatformCCStyle.EDGE_NONE;
                case c.RAISED:
                    return r.PlayerPlatformCCStyle.EDGE_RAISED;
                case c.DEPRESSED:
                    return r.PlayerPlatformCCStyle.EDGE_DEPRESSED;
                case c.UNIFORM:
                    return r.PlayerPlatformCCStyle.EDGE_UNIFORM;
                case c.LEFT_DROP_SHADOW:
                    return r.PlayerPlatformCCStyle.EDGE_DROP_SHADOW_LEFT;
                case c.RIGHT_DROP_SHADOW:
                    return r.PlayerPlatformCCStyle.EDGE_DROP_SHADOW_RIGHT;
                default:
                    return this.logger.warn("Unsupported edge style: " + e),
                    r.PlayerPlatformCCStyle.EDGE_NONE
                }
            }
            ,
            t.prototype.toFlashOpacity = function(e) {
                switch (e) {
                case r.PlayerPlatformCCStyle.OPACITY_SOLID:
                    return "100";
                case r.PlayerPlatformCCStyle.OPACITY_TRANSLUCENT:
                    return "50";
                case r.PlayerPlatformCCStyle.OPACITY_TRANSPARENT:
                    return "0";
                default:
                    return this.logger.warn("Unsupported opacity name: " + e),
                    "0"
                }
            }
            ,
            t.prototype.fromFlashOpacity = function(e) {
                switch (e) {
                case "0":
                    return r.PlayerPlatformCCStyle.OPACITY_TRANSPARENT;
                case "50":
                    return r.PlayerPlatformCCStyle.OPACITY_TRANSLUCENT;
                case "100":
                    return r.PlayerPlatformCCStyle.OPACITY_SOLID;
                default:
                    return this.logger.warn("Unsupported opacity value: " + e),
                    r.PlayerPlatformCCStyle.OPACITY_TRANSPARENT
                }
            }
            ,
            t.prototype.defaultFlashCCStyle = function() {
                return this.toFlashCCStyle(this.getDefaultStyle())
            }
            ,
            t.prototype.toFlashCCStyle = function(e) {
                return {
                    backgroundColor: this.toFlashColor(e.textBackgroundColor || r.PlayerPlatformCCStyle.COLOR_DEFAULT),
                    backgroundOpacity: this.toFlashOpacity(e.textBackgroundOpacity || r.PlayerPlatformCCStyle.OPACITY_SOLID),
                    bottomInset: e.bottomInset,
                    edgeColor: this.toFlashColor(e.textEdgeColor || e.textForegroundColor),
                    fillColor: this.toFlashColor(e.windowFillColor || r.PlayerPlatformCCStyle.COLOR_DEFAULT),
                    fillOpacity: this.toFlashOpacity(e.windowFillOpacity || r.PlayerPlatformCCStyle.OPACITY_TRANSPARENT),
                    font: this.toFlashFont(e.fontStyle),
                    fontColor: this.toFlashColor(e.textForegroundColor),
                    fontEdge: this.toFlashEdgeStyle(e.textEdgeStyle),
                    fontOpacity: this.toFlashOpacity(e.textForegroundOpacity),
                    size: this.toFlashFontSize(e.penSize)
                }
            }
            ,
            t.prototype.fromFlashCCStyle = function(e) {
                return {
                    fontStyle: this.fromFlashFont(e.font),
                    textEdgeColor: this.fromFlashColor(e.edgeColor),
                    textEdgeStyle: this.fromFlashEdgeStyle(e.fontEdge),
                    textForegroundColor: this.fromFlashColor(e.fontColor),
                    textForegroundOpacity: this.fromFlashOpacity(e.fontOpacity),
                    textBackgroundColor: this.fromFlashColor(e.backgroundColor),
                    textBackgroundOpacity: this.fromFlashOpacity(e.backgroundOpacity),
                    penSize: this.fromFlashFontSize(e.size),
                    windowFillColor: this.fromFlashColor(e.fillColor),
                    windowFillOpacity: this.fromFlashOpacity(e.fillOpacity),
                    bottomInset: e.bottomInset
                }
            }
            ,
            t.prototype.supportedFlashCCStyles = function() {
                return {
                    fontStyle: [r.PlayerPlatformCCStyle.FONTSTYLE_DEFAULT, r.PlayerPlatformCCStyle.FONTSTYLE_MONOSPACED_SERIF, r.PlayerPlatformCCStyle.FONTSTYLE_PROPORTIONAL_SERIF, r.PlayerPlatformCCStyle.FONTSTYLE_MONOSPACED_SANSERIF, r.PlayerPlatformCCStyle.FONTSTYLE_PROPORTIONAL_SANSERIF, r.PlayerPlatformCCStyle.FONTSTYLE_CASUAL, r.PlayerPlatformCCStyle.FONTSTYLE_CURSIVE, r.PlayerPlatformCCStyle.FONTSTYLE_SMALL_CAPITALS],
                    textEdgeStyle: [r.PlayerPlatformCCStyle.EDGE_NONE, r.PlayerPlatformCCStyle.EDGE_RAISED, r.PlayerPlatformCCStyle.EDGE_DEPRESSED, r.PlayerPlatformCCStyle.EDGE_UNIFORM, r.PlayerPlatformCCStyle.EDGE_DROP_SHADOW_LEFT, r.PlayerPlatformCCStyle.EDGE_DROP_SHADOW_RIGHT],
                    textForegroundColor: [r.PlayerPlatformCCStyle.COLOR_DEFAULT, r.PlayerPlatformCCStyle.COLOR_BLACK, r.PlayerPlatformCCStyle.COLOR_BLUE, r.PlayerPlatformCCStyle.COLOR_CYAN, r.PlayerPlatformCCStyle.COLOR_GRAY, r.PlayerPlatformCCStyle.COLOR_GREEN, r.PlayerPlatformCCStyle.COLOR_MAGENTA, r.PlayerPlatformCCStyle.COLOR_RED, r.PlayerPlatformCCStyle.COLOR_WHITE, r.PlayerPlatformCCStyle.COLOR_YELLOW, r.PlayerPlatformCCStyle.COLOR_BRIGHT_BLUE, r.PlayerPlatformCCStyle.COLOR_BRIGHT_CYAN, r.PlayerPlatformCCStyle.COLOR_BRIGHT_GREEN, r.PlayerPlatformCCStyle.COLOR_BRIGHT_MAGENTA, r.PlayerPlatformCCStyle.COLOR_BRIGHT_RED, r.PlayerPlatformCCStyle.COLOR_BRIGHT_WHITE, r.PlayerPlatformCCStyle.COLOR_BRIGHT_YELLOW, r.PlayerPlatformCCStyle.COLOR_DARK_BLUE, r.PlayerPlatformCCStyle.COLOR_DARK_CYAN, r.PlayerPlatformCCStyle.COLOR_DARK_GREEN, r.PlayerPlatformCCStyle.COLOR_DARK_MAGENTA, r.PlayerPlatformCCStyle.COLOR_DARK_RED, r.PlayerPlatformCCStyle.COLOR_DARK_YELLOW],
                    textForegroundOpacity: [r.PlayerPlatformCCStyle.OPACITY_SOLID, r.PlayerPlatformCCStyle.OPACITY_TRANSLUCENT, r.PlayerPlatformCCStyle.OPACITY_TRANSPARENT],
                    textBackgroundColor: [r.PlayerPlatformCCStyle.COLOR_DEFAULT, r.PlayerPlatformCCStyle.COLOR_BLACK, r.PlayerPlatformCCStyle.COLOR_BLUE, r.PlayerPlatformCCStyle.COLOR_CYAN, r.PlayerPlatformCCStyle.COLOR_GRAY, r.PlayerPlatformCCStyle.COLOR_GREEN, r.PlayerPlatformCCStyle.COLOR_MAGENTA, r.PlayerPlatformCCStyle.COLOR_RED, r.PlayerPlatformCCStyle.COLOR_WHITE, r.PlayerPlatformCCStyle.COLOR_YELLOW, r.PlayerPlatformCCStyle.COLOR_BRIGHT_BLUE, r.PlayerPlatformCCStyle.COLOR_BRIGHT_CYAN, r.PlayerPlatformCCStyle.COLOR_BRIGHT_GREEN, r.PlayerPlatformCCStyle.COLOR_BRIGHT_MAGENTA, r.PlayerPlatformCCStyle.COLOR_BRIGHT_RED, r.PlayerPlatformCCStyle.COLOR_BRIGHT_WHITE, r.PlayerPlatformCCStyle.COLOR_BRIGHT_YELLOW, r.PlayerPlatformCCStyle.COLOR_DARK_BLUE, r.PlayerPlatformCCStyle.COLOR_DARK_CYAN, r.PlayerPlatformCCStyle.COLOR_DARK_GREEN, r.PlayerPlatformCCStyle.COLOR_DARK_MAGENTA, r.PlayerPlatformCCStyle.COLOR_DARK_RED, r.PlayerPlatformCCStyle.COLOR_DARK_YELLOW],
                    textBackgroundOpacity: [r.PlayerPlatformCCStyle.OPACITY_SOLID, r.PlayerPlatformCCStyle.OPACITY_TRANSLUCENT, r.PlayerPlatformCCStyle.OPACITY_TRANSPARENT],
                    penSize: [r.PlayerPlatformCCStyle.PENSIZE_SMALL, r.PlayerPlatformCCStyle.PENSIZE_STANDARD, r.PlayerPlatformCCStyle.PENSIZE_LARGE],
                    windowFillColor: [r.PlayerPlatformCCStyle.COLOR_DEFAULT, r.PlayerPlatformCCStyle.COLOR_BLACK, r.PlayerPlatformCCStyle.COLOR_BLUE, r.PlayerPlatformCCStyle.COLOR_CYAN, r.PlayerPlatformCCStyle.COLOR_GRAY, r.PlayerPlatformCCStyle.COLOR_GREEN, r.PlayerPlatformCCStyle.COLOR_MAGENTA, r.PlayerPlatformCCStyle.COLOR_RED, r.PlayerPlatformCCStyle.COLOR_WHITE, r.PlayerPlatformCCStyle.COLOR_YELLOW, r.PlayerPlatformCCStyle.COLOR_BRIGHT_BLUE, r.PlayerPlatformCCStyle.COLOR_BRIGHT_CYAN, r.PlayerPlatformCCStyle.COLOR_BRIGHT_GREEN, r.PlayerPlatformCCStyle.COLOR_BRIGHT_MAGENTA, r.PlayerPlatformCCStyle.COLOR_BRIGHT_RED, r.PlayerPlatformCCStyle.COLOR_BRIGHT_WHITE, r.PlayerPlatformCCStyle.COLOR_BRIGHT_YELLOW, r.PlayerPlatformCCStyle.COLOR_DARK_BLUE, r.PlayerPlatformCCStyle.COLOR_DARK_CYAN, r.PlayerPlatformCCStyle.COLOR_DARK_GREEN, r.PlayerPlatformCCStyle.COLOR_DARK_MAGENTA, r.PlayerPlatformCCStyle.COLOR_DARK_RED, r.PlayerPlatformCCStyle.COLOR_DARK_YELLOW],
                    windowFillOpacity: [r.PlayerPlatformCCStyle.OPACITY_SOLID, r.PlayerPlatformCCStyle.OPACITY_TRANSLUCENT, r.PlayerPlatformCCStyle.OPACITY_TRANSPARENT],
                    bottomInset: [r.PlayerPlatformCCStyle.INSET_PIXEL_STRING, r.PlayerPlatformCCStyle.INSET_PERCENT_STRING]
                }
            }
            ,
            t.STANDARD_FONT_SIZE = 24,
            t
        }(r.PlayerPlatformCCStyle);
        t.FlashCCOptions = h
    }
    , function(e, t, i) {
        "use strict";
        var n = i(1)
          , r = i(4)
          , s = i(2)
          , o = i(25)
          , a = i(15)
          , c = i(112)
          , l = i(2)
          , h = i(0);
        i(22),
        i(18),
        i(90),
        i(12),
        i(44);
        var u = (new n.Logger("FlashEventToEventMapper"),
        function() {
            function e() {}
            return e.prototype.init = function(e, t) {
                var i = this;
                return l.toObservable(c.AD_START).map(function(e) {
                    return i._toAdStartEvent(e)
                }).takeUntil(e.destroyed).subscribe(function(e) {
                    return r.emit(e)
                }),
                l.toObservable(c.AD_COMPLETE).map(function(e) {
                    return i._toAdCompleteEvent(e)
                }).takeUntil(e.destroyed).subscribe(function(e) {
                    return r.emit(e)
                }),
                l.toObservable(c.AD_PROGRESS).distinctUntilChanged(function(e, t) {
                    return e.position === t.position
                }).map(function(e) {
                    return i._toAdProgressEvent(e)
                }).takeUntil(e.destroyed).subscribe(function(e) {
                    return r.emit(e)
                }),
                l.toObservable(c.AD_BREAK_START).map(function(e) {
                    return i._toAdBreakStartEvent(e)
                }).takeUntil(e.destroyed).subscribe(function(e) {
                    return r.emit(e)
                }),
                l.toObservable(c.AD_BREAK_COMPLETE).map(function(e) {
                    return i._toAdBreakCompleteEvent(e)
                }).takeUntil(e.destroyed).subscribe(function(e) {
                    return r.emit(e)
                }),
                l.toObservable("api:stop").withLatestFrom(h.Observable.merge(l.toObservable(c.AD_START), l.toObservable(c.AD_PROGRESS), l.toObservable(c.AD_COMPLETE).mapTo(void 0)), h.Observable.merge(l.toObservable(c.AD_BREAK_START), l.toObservable(c.AD_BREAK_COMPLETE).mapTo(void 0)), function(e, t, i) {
                    return {
                        adBreak: i,
                        ad: t
                    }
                }).filter(function(e) {
                    return void 0 !== e.adBreak && void 0 !== e.ad
                }).map(function(e) {
                    return [i._toAdExitedEvent(e.ad), i._toAdBreakExitedEvent(e.adBreak)]
                }).takeUntil(e.destroyed).subscribe(function(e) {
                    e.forEach(function(e) {
                        return r.emit(e)
                    })
                }),
                this
            }
            ,
            e.prototype.destroy = function() {}
            ,
            e.prototype._toAdBreakStartEvent = function(e) {
                return new r.AdBreakStartEvent(this._toVideoAdBreak(e))
            }
            ,
            e.prototype._toAdBreakCompleteEvent = function(e) {
                return new r.AdBreakCompleteEvent(this._toVideoAdBreak(e))
            }
            ,
            e.prototype._toAdBreakExitedEvent = function(e) {
                return new r.AdBreakExitedEvent(this._toVideoAdBreak(e))
            }
            ,
            e.prototype._toVideoAdBreak = function(e) {
                for (var t = [], i = 0, n = 0, r = e.adBreak.ads.length; n < r; n++) {
                    var s = e.adBreak.ads[n];
                    t.push(new o.VideoAd(s.id,i,s.duration,{
                        vpaid: s.vpaid,
                        clickThrough: s.clickUrl,
                        companionAds: s.companionAds
                    })),
                    i += s.duration
                }
                return new a.VideoAdBreak(t)
            }
            ,
            e.prototype._toAdProgressEvent = function(e) {
                return new r.AdProgressEvent(this._toVideoAd(e),e.progress,e.playbackSpeed,e.position)
            }
            ,
            e.prototype._toAdCompleteEvent = function(e) {
                return new r.AdCompleteEvent(this._toVideoAd(e),e.progress,e.playbackSpeed,e.position)
            }
            ,
            e.prototype._toAdExitedEvent = function(e) {
                return new r.AdExitedEvent(this._toVideoAd(e),e.progress,e.playbackSpeed,e.position)
            }
            ,
            e.prototype._toAdStartEvent = function(e) {
                return new r.AdStartEvent(this._toVideoAd(e),e.progress,e.playbackSpeed,e.position)
            }
            ,
            e.prototype._toVideoAd = function(e) {
                return new o.VideoAd(e.ad.id,e.time,e.ad.duration,{
                    vpaid: e.ad.vpaid,
                    clickThrough: e.ad.clickUrl,
                    companionAds: e.ad.companionAds
                })
            }
            ,
            e
        }());
        t.FlashEventToEventMapper = u,
        s.registerModule("FlashEventToEventMapper", u)
    }
    , function(e, t, i) {
        "use strict";
        var n = this && this.__extends || function(e, t) {
            function i() {
                this.constructor = e
            }
            for (var n in t)
                t.hasOwnProperty(n) && (e[n] = t[n]);
            e.prototype = null === t ? Object.create(t) : (i.prototype = t.prototype,
            new i)
        }
          , r = i(35)
          , s = i(1)
          , o = function(e) {
            function t() {
                e.apply(this, arguments),
                this.logger = new s.Logger("HuluCCOptions"),
                this.currentStyle = this.defaultHuluCCStyle()
            }
            return n(t, e),
            t.prototype.getStyle = function() {
                return this.currentStyle
            }
            ,
            t.prototype.setStyle = function(e) {
                this.currentStyle = e
            }
            ,
            t.prototype.toHuluFont = function(e) {
                switch (e) {
                case r.PlayerPlatformCCStyle.FONTSTYLE_CASUAL:
                    return "Impress";
                case r.PlayerPlatformCCStyle.FONTSTYLE_CURSIVE:
                    return "Coronet";
                case r.PlayerPlatformCCStyle.FONTSTYLE_MONOSPACED_SANSERIF:
                    return "Helvetica Monospaced";
                case r.PlayerPlatformCCStyle.FONTSTYLE_MONOSPACED_SERIF:
                    return "Courier New";
                case r.PlayerPlatformCCStyle.FONTSTYLE_PROPORTIONAL_SANSERIF:
                    return "Arial";
                case r.PlayerPlatformCCStyle.FONTSTYLE_PROPORTIONAL_SERIF:
                    return "Times New Roman";
                case r.PlayerPlatformCCStyle.FONTSTYLE_SMALL_CAPITALS:
                    return "Engravers Gothic";
                default:
                    return this.logger.warn("Unsupported font style: " + e),
                    "Courier New"
                }
            }
            ,
            t.prototype.fromHuluFont = function(e) {
                switch (e) {
                case "Arial":
                    return r.PlayerPlatformCCStyle.FONTSTYLE_PROPORTIONAL_SANSERIF;
                case "Coronet":
                    return r.PlayerPlatformCCStyle.FONTSTYLE_CURSIVE;
                case "Courier New":
                    return r.PlayerPlatformCCStyle.FONTSTYLE_MONOSPACED_SERIF;
                case "Engravers Gothic":
                    return r.PlayerPlatformCCStyle.FONTSTYLE_SMALL_CAPITALS;
                case "Helvetica Monospaced":
                    return r.PlayerPlatformCCStyle.FONTSTYLE_MONOSPACED_SANSERIF;
                case "Impress":
                    return r.PlayerPlatformCCStyle.FONTSTYLE_CASUAL;
                case "Times New Roman":
                    return r.PlayerPlatformCCStyle.FONTSTYLE_PROPORTIONAL_SERIF;
                default:
                    return this.logger.warn("Unsupported font family: " + e),
                    r.PlayerPlatformCCStyle.FONTSTYLE_DEFAULT
                }
            }
            ,
            t.prototype.toHuluColor = function(e) {
                var t = this.colorNameToHexValue(e);
                return t || (this.logger.warn("Unsupported color name: " + e),
                t = this.colorNameToHexValue(r.PlayerPlatformCCStyle.COLOR_DEFAULT)),
                t = "0x" + t.substr(1),
                parseInt(t, 16)
            }
            ,
            t.prototype.fromHuluColor = function(e) {
                for (var t = e.toString(16); t.length < 6; )
                    t = "0" + t;
                t = "#" + t;
                var i = this.hexValueToColorName(t);
                return i || (this.logger.warn("Unsupported color value: " + t),
                i = r.PlayerPlatformCCStyle.COLOR_DEFAULT),
                i
            }
            ,
            t.prototype.toHuluOpacity = function(e) {
                switch (e) {
                case r.PlayerPlatformCCStyle.OPACITY_SOLID:
                    return 1;
                case r.PlayerPlatformCCStyle.OPACITY_TRANSLUCENT:
                    return .5;
                case r.PlayerPlatformCCStyle.OPACITY_TRANSPARENT:
                    return 0;
                default:
                    return this.logger.warn("Unsupported opacity name: " + e),
                    0
                }
            }
            ,
            t.prototype.fromHuluOpacity = function(e) {
                switch (e) {
                case 0:
                    return r.PlayerPlatformCCStyle.OPACITY_TRANSPARENT;
                case .5:
                    return r.PlayerPlatformCCStyle.OPACITY_TRANSLUCENT;
                case 1:
                    return r.PlayerPlatformCCStyle.OPACITY_SOLID;
                default:
                    return this.logger.warn("Unsupported opacity value: " + e),
                    r.PlayerPlatformCCStyle.OPACITY_TRANSPARENT
                }
            }
            ,
            t.prototype.defaultHuluCCStyle = function() {
                return this.toHuluCCStyle(this.getDefaultStyle())
            }
            ,
            t.prototype.toHuluCCStyle = function(e) {
                return {
                    backgroundColor: this.toHuluColor(e.textBackgroundColor || r.PlayerPlatformCCStyle.COLOR_BLACK),
                    backgroundOpaque: this.toHuluOpacity(e.textBackgroundOpacity || r.PlayerPlatformCCStyle.OPACITY_SOLID),
                    font: this.toHuluFont(e.fontStyle),
                    textColor: this.toHuluColor(e.textForegroundColor),
                    textOpaque: this.toHuluOpacity(e.textForegroundOpacity),
                    textSize: this.toFontSize(e.penSize),
                    textStyle: e.textEdgeStyle,
                    transitionMode: "popout"
                }
            }
            ,
            t.prototype.fromHuluCCStyle = function(e) {
                return {
                    fontStyle: this.fromHuluFont(e.font),
                    textEdgeStyle: e.textStyle,
                    textForegroundColor: this.fromHuluColor(e.textColor),
                    textForegroundOpacity: this.fromHuluOpacity(e.textOpaque),
                    penSize: this.toPenSize(e.textSize),
                    textBackgroundColor: this.fromHuluColor(e.backgroundColor),
                    textBackgroundOpacity: this.fromHuluOpacity(e.backgroundOpaque)
                }
            }
            ,
            t.prototype.supportedHuluCCStyles = function() {
                return {
                    fontStyle: [r.PlayerPlatformCCStyle.FONTSTYLE_MONOSPACED_SERIF, r.PlayerPlatformCCStyle.FONTSTYLE_PROPORTIONAL_SERIF, r.PlayerPlatformCCStyle.FONTSTYLE_MONOSPACED_SANSERIF, r.PlayerPlatformCCStyle.FONTSTYLE_PROPORTIONAL_SANSERIF, r.PlayerPlatformCCStyle.FONTSTYLE_CASUAL, r.PlayerPlatformCCStyle.FONTSTYLE_CURSIVE, r.PlayerPlatformCCStyle.FONTSTYLE_SMALL_CAPITALS],
                    textEdgeStyle: [r.PlayerPlatformCCStyle.EDGE_NONE, r.PlayerPlatformCCStyle.EDGE_RAISED, r.PlayerPlatformCCStyle.EDGE_DEPRESSED, r.PlayerPlatformCCStyle.EDGE_UNIFORM, r.PlayerPlatformCCStyle.EDGE_DROP_SHADOW_LEFT, r.PlayerPlatformCCStyle.EDGE_DROP_SHADOW_RIGHT],
                    textForegroundColor: [r.PlayerPlatformCCStyle.COLOR_BLACK, r.PlayerPlatformCCStyle.COLOR_BLUE, r.PlayerPlatformCCStyle.COLOR_CYAN, r.PlayerPlatformCCStyle.COLOR_GRAY, r.PlayerPlatformCCStyle.COLOR_GREEN, r.PlayerPlatformCCStyle.COLOR_MAGENTA, r.PlayerPlatformCCStyle.COLOR_RED, r.PlayerPlatformCCStyle.COLOR_WHITE, r.PlayerPlatformCCStyle.COLOR_YELLOW, r.PlayerPlatformCCStyle.COLOR_BRIGHT_BLUE, r.PlayerPlatformCCStyle.COLOR_BRIGHT_CYAN, r.PlayerPlatformCCStyle.COLOR_BRIGHT_GREEN, r.PlayerPlatformCCStyle.COLOR_BRIGHT_MAGENTA, r.PlayerPlatformCCStyle.COLOR_BRIGHT_RED, r.PlayerPlatformCCStyle.COLOR_BRIGHT_WHITE, r.PlayerPlatformCCStyle.COLOR_BRIGHT_YELLOW, r.PlayerPlatformCCStyle.COLOR_DARK_BLUE, r.PlayerPlatformCCStyle.COLOR_DARK_CYAN, r.PlayerPlatformCCStyle.COLOR_DARK_GREEN, r.PlayerPlatformCCStyle.COLOR_DARK_MAGENTA, r.PlayerPlatformCCStyle.COLOR_DARK_RED, r.PlayerPlatformCCStyle.COLOR_DARK_YELLOW],
                    textForegroundOpacity: [r.PlayerPlatformCCStyle.OPACITY_SOLID, r.PlayerPlatformCCStyle.OPACITY_TRANSLUCENT, r.PlayerPlatformCCStyle.OPACITY_TRANSPARENT],
                    penSize: [r.PlayerPlatformCCStyle.PENSIZE_SMALL, r.PlayerPlatformCCStyle.PENSIZE_STANDARD, r.PlayerPlatformCCStyle.PENSIZE_LARGE],
                    textBackgroundColor: [r.PlayerPlatformCCStyle.COLOR_BLACK, r.PlayerPlatformCCStyle.COLOR_BLUE, r.PlayerPlatformCCStyle.COLOR_CYAN, r.PlayerPlatformCCStyle.COLOR_GRAY, r.PlayerPlatformCCStyle.COLOR_GREEN, r.PlayerPlatformCCStyle.COLOR_MAGENTA, r.PlayerPlatformCCStyle.COLOR_RED, r.PlayerPlatformCCStyle.COLOR_WHITE, r.PlayerPlatformCCStyle.COLOR_YELLOW, r.PlayerPlatformCCStyle.COLOR_BRIGHT_BLUE, r.PlayerPlatformCCStyle.COLOR_BRIGHT_CYAN, r.PlayerPlatformCCStyle.COLOR_BRIGHT_GREEN, r.PlayerPlatformCCStyle.COLOR_BRIGHT_MAGENTA, r.PlayerPlatformCCStyle.COLOR_BRIGHT_RED, r.PlayerPlatformCCStyle.COLOR_BRIGHT_WHITE, r.PlayerPlatformCCStyle.COLOR_BRIGHT_YELLOW, r.PlayerPlatformCCStyle.COLOR_DARK_BLUE, r.PlayerPlatformCCStyle.COLOR_DARK_CYAN, r.PlayerPlatformCCStyle.COLOR_DARK_GREEN, r.PlayerPlatformCCStyle.COLOR_DARK_MAGENTA, r.PlayerPlatformCCStyle.COLOR_DARK_RED, r.PlayerPlatformCCStyle.COLOR_DARK_YELLOW],
                    textBackgroundOpacity: [r.PlayerPlatformCCStyle.OPACITY_SOLID, r.PlayerPlatformCCStyle.OPACITY_TRANSLUCENT, r.PlayerPlatformCCStyle.OPACITY_TRANSPARENT]
                }
            }
            ,
            t
        }(r.PlayerPlatformCCStyle);
        t.HuluCCOptions = o
    }
    , function(e, t, i) {
        "use strict";
        (function(e) {
            var n = i(10)
              , r = i(3)
              , s = i(4)
              , o = i(2)
              , a = i(1)
              , c = function() {
                function t() {
                    this.logger = new a.Logger("HuluPlayerEvents"),
                    this.sizeEvent = {
                        width: 0,
                        height: 0
                    },
                    this.lastUpdate = 0,
                    this.listeners = []
                }
                return t.prototype.init = function(t) {
                    return this.huluPlayer = t.parent,
                    this.playerPlatformAPI = t.api,
                    this.sandbox = t,
                    t.subscribe("api:setAsset", this.onSetAsset, {}, this),
                    this.huluPlayer.onPlayerReady(this.initEvents.bind(this)),
                    e.huluPlayerEvents = this,
                    this
                }
                ,
                t.prototype.destroy = function() {
                    for (this.logger.trace("destroy"); this.listeners.length > 0; ) {
                        var t = this.listeners.pop();
                        t && t.object.removeEventListener(t.type, t.handler)
                    }
                    delete e.huluPlayerEvents
                }
                ,
                t.prototype.onSetAsset = function() {
                    this.openingLatency = Date.now(),
                    this.onStateChanged("initializing")
                }
                ,
                t.prototype.addListener = function(e, t, i) {
                    var n = i.bind(this);
                    e.addEventListener(t, n);
                    var r = {
                        object: e,
                        type: t,
                        handler: n
                    };
                    this.listeners.push(r)
                }
                ,
                t.prototype.initEvents = function() {
                    this.logger.trace("initEvents"),
                    this.huluPlayer ? (NewSite.addListener("adComponentBannerChanged", this, "onAdComponentBannerChanged"),
                    NewSite.addListener("availableBitratesReady", this, "onAvailableBitratesReady"),
                    NewSite.addListener("bitrateChanged", this, "onBitrateChanged"),
                    NewSite.addListener("newsiteError", this, "onNewSiteError"),
                    NewSite.addListener("newsiteReady", this, "onNewSiteReady"),
                    NewSite.addListener("overlayAdBegin", this, "onOverlayAdBegin"),
                    NewSite.addListener("playerStateChange", this, "onPlayerStateChange"),
                    NewSite.addListener("theEnd", this, "onPlayComplete"),
                    NewSite.addListener("videoAdBegin", this, "onAdStart"),
                    NewSite.addListener("videoAdEnd", this, "onAdEnd"),
                    NewSite.addListener("videoComplete", this, "onVideoComplete"),
                    NewSite.addListener("videoMetadata", this, "onMetadataLoaded"),
                    NewSite.addListener("videoPlayheadUpdate", this, "onProgress"),
                    NewSite.addListener("videoStart", this, "onPlayStart"),
                    NewSite.addListener("videoStateChange", this, "onStateChanged"),
                    this.addListener(document, "fullscreenchange", this.onFullscreenChange),
                    this.addListener(document, "mozfullscreenchange", this.onMozFullscreenChange),
                    this.addListener(document, "webkitfullscreenchange", this.onWebkitFullscreenChange),
                    this.addListener(window, "resize", this.onWindowResize)) : this.logger.error("initEvents: missing NewSite!"),
                    this.onStateChanged("initialized")
                }
                ,
                t.prototype.onFullscreenChange = function() {
                    this.huluPlayer.enableFullScreen(document.fullscreen)
                }
                ,
                t.prototype.onMozFullscreenChange = function() {
                    this.huluPlayer.enableFullScreen(document.mozFullScreen)
                }
                ,
                t.prototype.onWebkitFullscreenChange = function() {
                    this.huluPlayer.enableFullScreen(document.webkitIsFullScreen)
                }
                ,
                t.prototype.onWindowResize = function() {
                    this.huluPlayer.windowResize();
                    var e = this.huluPlayer.getCurrentBitrate();
                    e !== this.huluPlayer.currentItem.bitrate && (this.huluPlayer.currentItem.bitrate = e,
                    this.dispatch(new s.BitrateChangedEvent(e,"BitrateChanged",this.huluPlayer.getVideoWidth(),this.huluPlayer.getVideoHeight())))
                }
                ,
                t.prototype.checkAutoDisable = function() {
                    this.huluPlayer.hasMetaData && !this.initialVideoStart && (this.initialVideoStart = !0,
                    this.disablePlaying = !this.huluPlayer.getAutoPlay())
                }
                ,
                t.prototype.mapState = function(e) {
                    var t = r.STATUS_ERROR;
                    switch (e) {
                    case "buffering":
                        t = r.STATUS_BUFFERING;
                        break;
                    case "connectionError":
                        t = r.STATUS_ERROR;
                        break;
                    case "disconnected":
                        t = r.STATUS_RELEASED;
                        break;
                    case "ended":
                        t = r.STATUS_SEGMENT_END;
                        break;
                    case "idle":
                        t = r.STATUS_IDLE;
                        break;
                    case "initialized":
                        t = r.STATUS_INITIALIZED;
                        break;
                    case "initializing":
                        t = r.STATUS_INITIALIZING;
                        break;
                    case "loading":
                        t = r.STATUS_PREPARING;
                        break;
                    case "paused":
                        t = r.STATUS_PAUSED;
                        break;
                    case "playing":
                        t = r.STATUS_PLAYING;
                        break;
                    case "ready":
                        t = r.STATUS_PREPARED;
                        break;
                    case "rewinding":
                        t = r.STATUS_SEEKING;
                        break;
                    case "seeking":
                        t = r.STATUS_SEEKING;
                        break;
                    case "stopped":
                        t = r.STATUS_COMPLETE;
                        break;
                    default:
                        t = r.STATUS_ERROR
                    }
                    return t
                }
                ,
                t.prototype.onAdComponentBannerChanged = function(e) {
                    this.logger.trace("onAdComponentBannerChanged: " + e)
                }
                ,
                t.prototype.onAdEnd = function() {
                    this.logger.trace("onAdEnd"),
                    this.sandbox.publish("ads:adComplete")
                }
                ,
                t.prototype.onAdStart = function(e) {
                    this.logger.trace("onAdStart: " + e),
                    this.sandbox.publish("ads:adStart", e)
                }
                ,
                t.prototype.onAvailableBitratesReady = function(e) {
                    this.logger.trace("onAvailableBitratesReady: " + e),
                    this.huluPlayer.currentItem.areBitratesReady = !0,
                    this.huluPlayer.getAvailableBitrates()
                }
                ,
                t.prototype.onBitrateChanged = function(e) {
                    this.logger.trace("onBitrateChanged: " + e)
                }
                ,
                t.prototype.onMetadataLoaded = function(e) {
                    this.logger.trace("onMetadataLoaded event " + JSON.stringify(e, null, 2)),
                    this.huluPlayer.hasMetaData || (this.initialVideoStart = !1,
                    this.disablePlaying = !1,
                    this.huluPlayer.hasMetaData = !0,
                    this.huluPlayer.currentItem = {
                        videoType: "vod",
                        playbackSpeeds: [0, 1],
                        languages: [],
                        bitRatesArray: this.huluPlayer.currentItem.bitRatesArray,
                        bitrate: 0,
                        ccTracks: [],
                        areBitratesReady: this.huluPlayer.currentItem.areBitratesReady,
                        hasDRM: !1,
                        hasCC: !0,
                        duration: parseInt(e.length),
                        position: 0,
                        inAdBreak: !1,
                        vidPosition: 0,
                        vidDuration: parseInt(e.length),
                        adPosition: 0,
                        adDuration: 0,
                        videoLoaded: !0
                    },
                    this.sandbox.publish("ads:adBreaks", NewSite.videoPlayerComponent.getAdBreaks()),
                    this.dispatch(new s.MediaOpenedEvent(this.huluPlayer.getVideoType(),this.huluPlayer.getSupportedPlaybackSpeeds(),this.huluPlayer.getAvailableAudioLanguages(),this.huluPlayer.getVideoWidth(),this.huluPlayer.getVideoHeight(),Date.now() - this.openingLatency,this.huluPlayer.hasDRM(),this.huluPlayer.hasCC())),
                    this.huluPlayer.currentStatus !== r.STATUS_PREPARED && (this.huluPlayer.currentStatus = r.STATUS_BUFFERING,
                    this.dispatch(new s.PlayStateChangedEvent(r.STATUS_BUFFERING))))
                }
                ,
                t.prototype.onNewSiteError = function(e) {
                    this.logger.trace("onNewSiteError: " + e.description);
                    var t = new n.PPError(e.code,null,e.description);
                    this.dispatch(new s.MediaFailedEvent(t)),
                    this.huluPlayer.currentStatus = r.STATUS_ERROR,
                    this.dispatch(new s.PlayStateChangedEvent(r.STATUS_ERROR))
                }
                ,
                t.prototype.onNewSiteReady = function() {
                    this.logger.trace("onNewSiteReady")
                }
                ,
                t.prototype.onOverlayAdBegin = function(e) {
                    this.logger.trace("onOverlayAdBegin: " + JSON.stringify(e, null, 2))
                }
                ,
                t.prototype.onPlayComplete = function(e) {
                    this.logger.trace("onPlayComplete event " + e),
                    this.huluPlayer.currentStatus !== r.STATUS_COMPLETE && (this.huluPlayer.currentStatus = r.STATUS_COMPLETE,
                    this.dispatch(new s.PlayStateChangedEvent(r.STATUS_COMPLETE)),
                    this.dispatch(new s.MediaEndedEvent))
                }
                ,
                t.prototype.onPlayStart = function(e) {
                    this.logger.trace("onPlayStart event " + e),
                    this.dispatch(new s.MediaProgressEvent(this.huluPlayer.getCurrentPosition(),this.huluPlayer.getCurrentPlaybackSpeed(),this.huluPlayer.getStartPosition(),this.huluPlayer.getDuration(),this.huluPlayer.updateInterval)),
                    this.checkAutoDisable()
                }
                ,
                t.prototype.onPlayerStateChange = function(e) {
                    this.logger.trace("onPlayerStateChange: " + e),
                    this.huluPlayer.currentStatus === r.STATUS_STOPPING && "player_loading" === e && (this.huluPlayer.currentStatus = r.STATUS_IDLE,
                    this.dispatch(new s.PlayStateChangedEvent(r.STATUS_IDLE))),
                    "player_endcard" == e && this.huluPlayer.currentStatus !== r.STATUS_COMPLETE && (this.huluPlayer.currentStatus = r.STATUS_COMPLETE,
                    this.dispatch(new s.PlayStateChangedEvent(r.STATUS_COMPLETE)),
                    this.dispatch(new s.MediaEndedEvent))
                }
                ,
                t.prototype.onProgress = function(e) {
                    if (this.disablePlaying)
                        return this.disablePlaying = !1,
                        this.huluPlayer.pause(),
                        void ("paused" !== this.huluPlayer.getVideoState() && (this.huluPlayer.play(),
                        this.huluPlayer.pause()));
                    if (!(e.duration < 0) && (this.huluPlayer.currentItem.position = e.position,
                    this.huluPlayer.currentItem.duration = e.duration,
                    this.huluPlayer.currentItem.vidPosition = e.position,
                    this.huluPlayer.currentItem.vidDuration = e.duration,
                    0 !== this.huluPlayer.updateInterval)) {
                        var t, i = 0;
                        0 === this.lastUpdate || void 0 === this.lastUpdate ? (this.lastUpdate = Date.now(),
                        t = this.lastUpdate,
                        i = 16777215) : (t = Date.now(),
                        i = t - this.lastUpdate),
                        0 !== this.huluPlayer.updateInterval && i > this.huluPlayer.updateInterval && (this.lastUpdate = t,
                        this.sandbox.publish("ads:adProgress", e),
                        this.dispatch(new s.MediaProgressEvent(this.huluPlayer.getCurrentPosition(),this.huluPlayer.getCurrentPlaybackSpeed(),this.huluPlayer.getStartPosition(),this.huluPlayer.getDuration(),this.huluPlayer.updateInterval)))
                    }
                }
                ,
                t.prototype.onStateChanged = function(e) {
                    this.logger.trace("onStateChanged event " + e);
                    var t = this.mapState(e);
                    if (t !== this.huluPlayer.currentStatus) {
                        switch (this.huluPlayer.currentStatus = t,
                        this.dispatch(new s.PlayStateChangedEvent(t)),
                        t) {
                        case r.STATUS_INITIALIZING:
                        case r.STATUS_INITIALIZED:
                            return;
                        case r.STATUS_COMPLETE:
                            this.dispatch(new s.MediaEndedEvent)
                        }
                        this.huluPlayer.windowResize();
                        var i = this.huluPlayer.getCurrentBitrate();
                        i !== this.huluPlayer.currentItem.bitrate && (this.huluPlayer.currentItem.bitrate = i,
                        this.dispatch(new s.BitrateChangedEvent(i,"BitrateChanged",this.huluPlayer.getVideoWidth(),this.huluPlayer.getVideoHeight())))
                    }
                }
                ,
                t.prototype.onPlayerReady = function() {
                    this.onStateChanged("initialized"),
                    this.huluPlayer.setPlayerReady()
                }
                ,
                t.prototype.onError = function(e) {
                    this.logger.error("onError: " + JSON.stringify(e));
                    var t = new n.PPError(e.code,null,e.description);
                    this.dispatch(new s.MediaFailedEvent(t))
                }
                ,
                t.prototype.dispatch = function(e) {
                    this.playerPlatformAPI.dispatchEvent(e)
                }
                ,
                t
            }();
            t.HuluPlayerEvents = c,
            o.registerModule("HuluPlayerEvents", c)
        }
        ).call(t, i(11))
    }
    , function(e, t, i) {
        "use strict";
        var n = this && this.__extends || function(e, t) {
            function i() {
                this.constructor = e
            }
            for (var n in t)
                t.hasOwnProperty(n) && (e[n] = t[n]);
            e.prototype = null === t ? Object.create(t) : (i.prototype = t.prototype,
            new i)
        }
          , r = i(1)
          , s = i(35)
          , o = i(64)
          , a = function(e) {
            function t() {
                e.apply(this, arguments),
                this.logger = new r.Logger("NBCUniPPCCOptions"),
                this.currentStyle = this.defaultNBCUniCPCCCStyle()
            }
            return n(t, e),
            t.prototype.getStyle = function() {
                return this.currentStyle
            }
            ,
            t.prototype.setStyle = function(e) {
                this.currentStyle = e
            }
            ,
            t.prototype.toNBCUniCPCFont = function(e) {
                switch (e) {
                case s.PlayerPlatformCCStyle.FONTSTYLE_CASUAL:
                    return "Impact";
                case s.PlayerPlatformCCStyle.FONTSTYLE_MONOSPACED_SERIF:
                    return "Courier New";
                case s.PlayerPlatformCCStyle.FONTSTYLE_PROPORTIONAL_SANSERIF:
                    return "Arial";
                case s.PlayerPlatformCCStyle.FONTSTYLE_PROPORTIONAL_SERIF:
                    return "Times New Roman";
                default:
                    return this.logger.warn("Unsupported font style: " + e),
                    "Courier New"
                }
            }
            ,
            t.prototype.fromNBCUniCPCFont = function(e) {
                switch (e) {
                case "Arial":
                    return s.PlayerPlatformCCStyle.FONTSTYLE_PROPORTIONAL_SANSERIF;
                case "Courier New":
                    return s.PlayerPlatformCCStyle.FONTSTYLE_MONOSPACED_SERIF;
                case "Impact":
                    return s.PlayerPlatformCCStyle.FONTSTYLE_CASUAL;
                case "Times New Roman":
                    return s.PlayerPlatformCCStyle.FONTSTYLE_PROPORTIONAL_SERIF;
                default:
                    return this.logger.warn("Unsupported font family: " + e),
                    s.PlayerPlatformCCStyle.FONTSTYLE_DEFAULT
                }
            }
            ,
            t.prototype.toNBCUniCPCFontScale = function(e) {
                switch (e) {
                case s.PlayerPlatformCCStyle.PENSIZE_STANDARD:
                    return s.PlayerPlatformCCStyle.STANDARD_SCALE;
                case s.PlayerPlatformCCStyle.PENSIZE_SMALL:
                    return Math.round(s.PlayerPlatformCCStyle.SMALL_SCALE);
                case s.PlayerPlatformCCStyle.PENSIZE_LARGE:
                    return Math.round(s.PlayerPlatformCCStyle.LARGE_SCALE)
                }
            }
            ,
            t.prototype.fromNBCUniCPCFontScale = function(e) {
                return e <= Math.round(s.PlayerPlatformCCStyle.SMALL_SCALE) ? s.PlayerPlatformCCStyle.PENSIZE_SMALL : e >= Math.round(s.PlayerPlatformCCStyle.LARGE_SCALE) ? s.PlayerPlatformCCStyle.PENSIZE_LARGE : s.PlayerPlatformCCStyle.PENSIZE_STANDARD
            }
            ,
            t.prototype.toNBCUniCPCColor = function(e) {
                var t = this.colorNameToHexValue(e);
                return t || (this.logger.warn("Unsupported color name: " + e),
                t = this.colorNameToHexValue(s.PlayerPlatformCCStyle.COLOR_DEFAULT)),
                t
            }
            ,
            t.prototype.fromNBCUniCPCColor = function(e) {
                var t = this.hexValueToColorName(e);
                return t || (this.logger.warn("Unsupported color value: " + e),
                t = s.PlayerPlatformCCStyle.COLOR_DEFAULT),
                t
            }
            ,
            t.prototype.toNBCUniCPCEdge = function(e) {
                switch (e) {
                case s.PlayerPlatformCCStyle.EDGE_DEPRESSED:
                    return "Depressed";
                case s.PlayerPlatformCCStyle.EDGE_DROP_SHADOW_RIGHT:
                    return "DropShadow";
                case s.PlayerPlatformCCStyle.EDGE_NONE:
                    return "None";
                case s.PlayerPlatformCCStyle.EDGE_RAISED:
                    return "Raised";
                case s.PlayerPlatformCCStyle.EDGE_UNIFORM:
                    return "Uniform";
                default:
                    return this.logger.warn("Unsupported edge style: " + e),
                    "None"
                }
            }
            ,
            t.prototype.fromNBCUniCPCEdge = function(e) {
                switch (e) {
                case "Depressed":
                    return s.PlayerPlatformCCStyle.EDGE_DEPRESSED;
                case "DropShadow":
                    return s.PlayerPlatformCCStyle.EDGE_DROP_SHADOW_RIGHT;
                case "None":
                    return s.PlayerPlatformCCStyle.EDGE_NONE;
                case "Raised":
                    return s.PlayerPlatformCCStyle.EDGE_RAISED;
                case "Uniform":
                    return s.PlayerPlatformCCStyle.EDGE_UNIFORM;
                default:
                    return this.logger.warn("Unsupported edge option: " + e),
                    s.PlayerPlatformCCStyle.EDGE_NONE
                }
            }
            ,
            t.prototype.toNBCUniCPCOpacity = function(e) {
                switch (e) {
                case s.PlayerPlatformCCStyle.OPACITY_SOLID:
                    return 1;
                case s.PlayerPlatformCCStyle.OPACITY_TRANSLUCENT:
                    return .5;
                case s.PlayerPlatformCCStyle.OPACITY_TRANSPARENT:
                    return 0;
                default:
                    return this.logger.warn("Unsupported opacity name: " + e),
                    0
                }
            }
            ,
            t.prototype.fromNBCUniCPCOpacity = function(e) {
                switch (e) {
                case 0:
                    return s.PlayerPlatformCCStyle.OPACITY_TRANSPARENT;
                case .5:
                    return s.PlayerPlatformCCStyle.OPACITY_TRANSLUCENT;
                case 1:
                    return s.PlayerPlatformCCStyle.OPACITY_SOLID;
                default:
                    return this.logger.warn("Unsupported opacity value: " + e),
                    s.PlayerPlatformCCStyle.OPACITY_TRANSPARENT
                }
            }
            ,
            t.prototype.defaultNBCUniCPCCCStyle = function() {
                return this.toNBCUniCPCCCStyle(this.getDefaultStyle())
            }
            ,
            t.prototype.toNBCUniCPCCCStyle = function(e) {
                var t = new o.SubtitleStyle;
                return t.backgroundColor = this.toNBCUniCPCColor(e.textBackgroundColor || s.PlayerPlatformCCStyle.COLOR_DEFAULT),
                t.backgroundOpacity = this.toNBCUniCPCOpacity(e.textBackgroundOpacity || s.PlayerPlatformCCStyle.OPACITY_SOLID),
                t.fontFamily = this.toNBCUniCPCFont(e.fontStyle),
                t.fontColor = this.toNBCUniCPCColor(e.textForegroundColor),
                t.opacity = this.toNBCUniCPCOpacity(e.textForegroundOpacity),
                t.fontScale = this.toNBCUniCPCFontScale(e.penSize),
                t.fontEdge = this.toNBCUniCPCEdge(e.textEdgeStyle),
                t.fontEdgeColor = this.toNBCUniCPCColor(e.textEdgeColor),
                t
            }
            ,
            t.prototype.fromNBCUniCPCCCStyle = function(e) {
                return {
                    fontStyle: this.fromNBCUniCPCFont(e.fontFamily),
                    textEdgeColor: this.fromNBCUniCPCColor(e.fontEdgeColor),
                    textEdgeStyle: this.fromNBCUniCPCEdge(e.fontEdge),
                    textForegroundColor: this.fromNBCUniCPCColor(e.fontColor),
                    textForegroundOpacity: this.fromNBCUniCPCOpacity(e.opacity),
                    penSize: this.fromNBCUniCPCFontScale(e.fontScale),
                    textBackgroundColor: this.fromNBCUniCPCColor(e.backgroundColor),
                    textBackgroundOpacity: this.fromNBCUniCPCOpacity(e.backgroundOpacity)
                }
            }
            ,
            t.prototype.supportedNBCUniCPCCCStyles = function() {
                return {
                    fontStyle: [s.PlayerPlatformCCStyle.FONTSTYLE_MONOSPACED_SERIF, s.PlayerPlatformCCStyle.FONTSTYLE_PROPORTIONAL_SERIF, s.PlayerPlatformCCStyle.FONTSTYLE_PROPORTIONAL_SANSERIF, s.PlayerPlatformCCStyle.FONTSTYLE_CASUAL],
                    textEdgeStyle: [s.PlayerPlatformCCStyle.EDGE_NONE, s.PlayerPlatformCCStyle.EDGE_RAISED, s.PlayerPlatformCCStyle.EDGE_DEPRESSED, s.PlayerPlatformCCStyle.EDGE_UNIFORM, s.PlayerPlatformCCStyle.EDGE_DROP_SHADOW_RIGHT],
                    textEdgeColor: [s.PlayerPlatformCCStyle.COLOR_BLACK, s.PlayerPlatformCCStyle.COLOR_BLUE, s.PlayerPlatformCCStyle.COLOR_CYAN, s.PlayerPlatformCCStyle.COLOR_GRAY, s.PlayerPlatformCCStyle.COLOR_GREEN, s.PlayerPlatformCCStyle.COLOR_MAGENTA, s.PlayerPlatformCCStyle.COLOR_RED, s.PlayerPlatformCCStyle.COLOR_WHITE, s.PlayerPlatformCCStyle.COLOR_YELLOW, s.PlayerPlatformCCStyle.COLOR_BRIGHT_BLUE, s.PlayerPlatformCCStyle.COLOR_BRIGHT_CYAN, s.PlayerPlatformCCStyle.COLOR_BRIGHT_GREEN, s.PlayerPlatformCCStyle.COLOR_BRIGHT_MAGENTA, s.PlayerPlatformCCStyle.COLOR_BRIGHT_RED, s.PlayerPlatformCCStyle.COLOR_BRIGHT_WHITE, s.PlayerPlatformCCStyle.COLOR_BRIGHT_YELLOW, s.PlayerPlatformCCStyle.COLOR_DARK_BLUE, s.PlayerPlatformCCStyle.COLOR_DARK_CYAN, s.PlayerPlatformCCStyle.COLOR_DARK_GREEN, s.PlayerPlatformCCStyle.COLOR_DARK_MAGENTA, s.PlayerPlatformCCStyle.COLOR_DARK_RED, s.PlayerPlatformCCStyle.COLOR_DARK_YELLOW],
                    textForegroundColor: [s.PlayerPlatformCCStyle.COLOR_BLACK, s.PlayerPlatformCCStyle.COLOR_BLUE, s.PlayerPlatformCCStyle.COLOR_CYAN, s.PlayerPlatformCCStyle.COLOR_GRAY, s.PlayerPlatformCCStyle.COLOR_GREEN, s.PlayerPlatformCCStyle.COLOR_MAGENTA, s.PlayerPlatformCCStyle.COLOR_RED, s.PlayerPlatformCCStyle.COLOR_WHITE, s.PlayerPlatformCCStyle.COLOR_YELLOW, s.PlayerPlatformCCStyle.COLOR_BRIGHT_BLUE, s.PlayerPlatformCCStyle.COLOR_BRIGHT_CYAN, s.PlayerPlatformCCStyle.COLOR_BRIGHT_GREEN, s.PlayerPlatformCCStyle.COLOR_BRIGHT_MAGENTA, s.PlayerPlatformCCStyle.COLOR_BRIGHT_RED, s.PlayerPlatformCCStyle.COLOR_BRIGHT_WHITE, s.PlayerPlatformCCStyle.COLOR_BRIGHT_YELLOW, s.PlayerPlatformCCStyle.COLOR_DARK_BLUE, s.PlayerPlatformCCStyle.COLOR_DARK_CYAN, s.PlayerPlatformCCStyle.COLOR_DARK_GREEN, s.PlayerPlatformCCStyle.COLOR_DARK_MAGENTA, s.PlayerPlatformCCStyle.COLOR_DARK_RED, s.PlayerPlatformCCStyle.COLOR_DARK_YELLOW],
                    textForegroundOpacity: [s.PlayerPlatformCCStyle.OPACITY_SOLID, s.PlayerPlatformCCStyle.OPACITY_TRANSLUCENT, s.PlayerPlatformCCStyle.OPACITY_TRANSPARENT],
                    penSize: [s.PlayerPlatformCCStyle.PENSIZE_SMALL, s.PlayerPlatformCCStyle.PENSIZE_STANDARD, s.PlayerPlatformCCStyle.PENSIZE_LARGE],
                    textBackgroundColor: [s.PlayerPlatformCCStyle.COLOR_BLACK, s.PlayerPlatformCCStyle.COLOR_BLUE, s.PlayerPlatformCCStyle.COLOR_CYAN, s.PlayerPlatformCCStyle.COLOR_GRAY, s.PlayerPlatformCCStyle.COLOR_GREEN, s.PlayerPlatformCCStyle.COLOR_MAGENTA, s.PlayerPlatformCCStyle.COLOR_RED, s.PlayerPlatformCCStyle.COLOR_WHITE, s.PlayerPlatformCCStyle.COLOR_YELLOW, s.PlayerPlatformCCStyle.COLOR_BRIGHT_BLUE, s.PlayerPlatformCCStyle.COLOR_BRIGHT_CYAN, s.PlayerPlatformCCStyle.COLOR_BRIGHT_GREEN, s.PlayerPlatformCCStyle.COLOR_BRIGHT_MAGENTA, s.PlayerPlatformCCStyle.COLOR_BRIGHT_RED, s.PlayerPlatformCCStyle.COLOR_BRIGHT_WHITE, s.PlayerPlatformCCStyle.COLOR_BRIGHT_YELLOW, s.PlayerPlatformCCStyle.COLOR_DARK_BLUE, s.PlayerPlatformCCStyle.COLOR_DARK_CYAN, s.PlayerPlatformCCStyle.COLOR_DARK_GREEN, s.PlayerPlatformCCStyle.COLOR_DARK_MAGENTA, s.PlayerPlatformCCStyle.COLOR_DARK_RED, s.PlayerPlatformCCStyle.COLOR_DARK_YELLOW],
                    textBackgroundOpacity: [s.PlayerPlatformCCStyle.OPACITY_SOLID, s.PlayerPlatformCCStyle.OPACITY_TRANSLUCENT, s.PlayerPlatformCCStyle.OPACITY_TRANSPARENT]
                }
            }
            ,
            t
        }(s.PlayerPlatformCCStyle);
        t.NBCUniPPCCOptions = a
    }
    , function(e, t, i) {
        "use strict";
        (function(e) {
            var n = i(3)
              , r = i(4)
              , s = i(2)
              , o = i(15)
              , a = i(1)
              , c = i(10)
              , l = i(64)
              , h = function() {
                function t() {
                    this.logger = new a.Logger("NBCUniPlayerEvents"),
                    this.openingLatency = 0,
                    this.listeners = []
                }
                return t.prototype.init = function(t) {
                    return this.nbcPlayer = t.parent,
                    this.nbcPlayer.playerEvents = this,
                    this.playerPlatformAPI = t.api,
                    t.subscribe("api:setAsset", this.onSetAsset, {}, this),
                    e.nbcPlayerEvents = this,
                    this
                }
                ,
                t.prototype.destroy = function(t) {
                    for (this.logger.trace("destroy"); this.listeners.length > 0; ) {
                        var i = this.listeners.pop();
                        i && i.object.removeEventListener(i.type, i.handler)
                    }
                    t.remove("api:setAsset", this.onSetAsset),
                    delete e.nbcPlayerEvents
                }
                ,
                t.prototype.addListener = function(e, t, i) {
                    var n = i.bind(this);
                    e.addEventListener(t, n);
                    var r = {
                        object: e,
                        type: t,
                        handler: n
                    };
                    this.listeners.push(r)
                }
                ,
                t.prototype.initEvents = function() {
                    this.logger.trace("initEvents"),
                    this.nbcPlayer ? (this.addListener(this.nbcPlayer.player, l.Event.AD_BREAK_COMPLETED, this.onAdBreakCompleted),
                    this.addListener(this.nbcPlayer.player, l.Event.AD_BREAK_STARTED, this.onAdBreakStarted),
                    this.addListener(this.nbcPlayer.player, l.Event.AD_COMPLETED, this.onAdCompleted),
                    this.addListener(this.nbcPlayer.player, l.Event.AD_STARTED, this.onAdStarted),
                    this.addListener(this.nbcPlayer.player, l.Event.AD_LOAD_START, this.onAdLoadStart),
                    this.addListener(this.nbcPlayer.player, l.Event.AUTHENTICATION_STATUS, this.onAuthenticationStatus),
                    this.addListener(this.nbcPlayer.player, l.Event.AUTHORIZATION_STATUS, this.onAuthorizationStatus),
                    this.addListener(this.nbcPlayer.player, l.Event.BLACKOUT_STATUS, this.onBlackoutStatus),
                    this.addListener(this.nbcPlayer.player, l.Event.CAPTION_STATE_EVENT, this.onCaptionState),
                    this.addListener(this.nbcPlayer.player, l.Event.FIRST_FRAME_READY, this.onFirstFrameReady),
                    this.addListener(this.nbcPlayer.player, l.Event.MUTE_EVENT, this.onMuteEvent),
                    this.addListener(this.nbcPlayer.player, l.Event.PICKER_REQUESTED, this.onPickerRequested),
                    this.addListener(this.nbcPlayer.player, l.Event.PLAYER_ERROR, this.onPlayerError),
                    this.addListener(this.nbcPlayer.player, l.Event.PLAYER_LOADED, this.onPlayerLoaded),
                    this.addListener(this.nbcPlayer.player, l.Event.PLAYBACK_READY, this.onPlaybackReady),
                    this.addListener(this.nbcPlayer.player, l.Event.PLAYBACK_STARTED, this.onPlaybackStarted),
                    this.addListener(this.nbcPlayer.player, l.Event.POPUP_BLOCKED, this.onPopupBlocked),
                    this.addListener(this.nbcPlayer.player, l.Event.PREVIEW_EXPIRED, this.onPreviewExpired),
                    this.addListener(this.nbcPlayer.player, l.Event.PREVIEW_STATUS, this.onPreviewStatus),
                    this.addListener(this.nbcPlayer.player, l.Event.PROGRAM_CHANGED, this.onProgramChanged),
                    this.addListener(this.nbcPlayer.player, l.Event.PROVIDER_IFRAME_INJECTED, this.onProviderIframe),
                    this.addListener(this.nbcPlayer.player, l.Event.PROVIDER_SELECTED, this.onProviderSelected),
                    this.addListener(this.nbcPlayer.player, l.Event.RELATED_VIDEO_SELECTED, this.onRelatedVideoSelected),
                    this.addListener(this.nbcPlayer.player, l.Event.SEGMENT_COMPLETED, this.onSegmentCompleted),
                    this.addListener(this.nbcPlayer.player, l.Event.SEGMENT_STARTED, this.onSegmentStarted),
                    this.addListener(this.nbcPlayer.player, l.Event.SEGMENT_TYPE_CHANGED, this.onSegmentTypeChanged),
                    this.addListener(this.nbcPlayer.player, l.Event.STATE_CHANGE, this.onStateChange),
                    this.addListener(this.nbcPlayer.player, l.Event.SUBTITLE_STYLE, this.onSubtitleStyle),
                    this.addListener(this.nbcPlayer.player, l.Event.USER_INTERACTION, this.onUserInteraction),
                    this.addListener(this.nbcPlayer.player, l.Event.VOLUME_EVENT, this.onVolumeEvent),
                    this.addListener(this.nbcPlayer.player, "CLIENT_BANDWIDTH", this.onClientBandwidth)) : this.logger.error("initEvents: missing nbcPlayer!")
                }
                ,
                t.prototype.onSetAsset = function(e) {
                    if (!e.serviceZip) {
                        this.broadcastStateChange(n.STATUS_ERROR);
                        var t = new c.PPError(7550,5,"Service zip required for NBC assets");
                        return void r.emit(new r.MediaFailedEvent(t,(!1)))
                    }
                    this.openingLatency = Date.now(),
                    this.nbcPlayer.currentStatus = n.STATUS_INITIALIZING,
                    this.dispatch(new r.PlayStateChangedEvent(n.STATUS_INITIALIZING))
                }
                ,
                t.prototype.broadcastStateChange = function(e) {
                    if (this.logger.trace("broadcastStateChange: " + e),
                    e !== this.nbcPlayer.currentStatus) {
                        switch (this.nbcPlayer.currentStatus) {
                        case n.STATUS_BUFFERING:
                            this.dispatch(new r.BufferCompleteEvent);
                            break;
                        case n.STATUS_SEEKING:
                            this.dispatch(new r.SeekCompleteEvent(this.nbcPlayer.getCurrentPosition()))
                        }
                        if (e === n.STATUS_COMPLETE)
                            try {
                                this.nbcPlayer.currentItem.inAdBreak && (this.nbcPlayer.currentItem.inAdBreak = !1,
                                this.nbcPlayer.currentItem.adStarted && (this.nbcPlayer.currentItem.adStarted = !1,
                                this.dispatch(new r.AdExitedEvent(null,null,null))),
                                this.dispatch(new r.AdBreakExitedEvent(null)))
                            } catch (t) {
                                this.logger.warn("onVideoComplete error exiting ad : " + t)
                            }
                        switch (this.nbcPlayer.currentStatus = e,
                        this.dispatch(new r.PlayStateChangedEvent(e)),
                        e) {
                        case n.STATUS_BUFFERING:
                            this.dispatch(new r.BufferStartEvent);
                            break;
                        case n.STATUS_INITIALIZED:
                            this.nbcPlayer.prepareToPlay();
                            break;
                        case n.STATUS_SEEKING:
                            this.dispatch(new r.SeekStartEvent(this.nbcPlayer.getCurrentPosition()));
                            break;
                        case n.STATUS_COMPLETE:
                            this.dispatch(new r.MediaEndedEvent)
                        }
                    }
                }
                ,
                t.prototype.dispatch = function(e) {
                    this.playerPlatformAPI.dispatchEvent(e)
                }
                ,
                t.prototype.mapState = function(e) {
                    var t = n.STATUS_ERROR;
                    switch (e) {
                    case "error":
                        t = n.STATUS_ERROR;
                        break;
                    case "videoBuffer":
                    case "videoBuffering":
                        t = n.STATUS_BUFFERING;
                        break;
                    case "videoLoading":
                        t = n.STATUS_INITIALIZING;
                        break;
                    case "videoPause":
                        t = n.STATUS_PAUSED;
                        break;
                    case "videoPlay":
                        t = n.STATUS_PLAYING
                    }
                    return t
                }
                ,
                t.prototype.onAdBreakCompleted = function() {
                    this.logger.trace("onAdBreakCompleted"),
                    this.nbcPlayer.currentItem.inAdBreak = !1,
                    this.dispatch(new r.AdBreakCompleteEvent(null))
                }
                ,
                t.prototype.onAdBreakStarted = function() {
                    this.logger.trace("onAdBreakStarted"),
                    this.nbcPlayer.currentItem.inAdBreak = !0;
                    var e = new o.VideoAdBreak;
                    this.dispatch(new r.AdBreakStartEvent(e))
                }
                ,
                t.prototype.onAdCompleted = function() {
                    this.logger.trace("onAdCompleted"),
                    this.nbcPlayer.currentItem.adStarted = !1,
                    this.dispatch(new r.AdCompleteEvent(null,null,null,null))
                }
                ,
                t.prototype.onAdLoadStart = function(e) {
                    this.logger.trace("onAdLoadStart: " + JSON.stringify(e.data))
                }
                ,
                t.prototype.onAdStarted = function(e) {
                    this.logger.trace("onAdStarted: " + JSON.stringify(e.data)),
                    this.nbcPlayer.currentItem.adStarted = !0,
                    this.dispatch(new r.AdStartEvent(null,null,null,null))
                }
                ,
                t.prototype.onAuthenticationStatus = function(e) {
                    this.logger.trace("onAuthenticationStatus: " + JSON.stringify(e.data))
                }
                ,
                t.prototype.onAuthorizationStatus = function(e) {
                    this.logger.trace("onAuthorizationStatus: " + JSON.stringify(e.data)),
                    e.data.isAuthorized && this.nbcPlayer.getPlayerStatus() !== n.STATUS_PLAYING && (this.nbcPlayer.currentStatus = n.STATUS_PLAYING,
                    this.dispatch(new r.PlayStateChangedEvent(n.STATUS_PLAYING)))
                }
                ,
                t.prototype.onBlackoutStatus = function(e) {
                    this.logger.trace("onBlackoutStatus: " + JSON.stringify(e.data))
                }
                ,
                t.prototype.onCaptionState = function(e) {
                    this.logger.trace("onCaptionState: " + JSON.stringify(e.data))
                }
                ,
                t.prototype.onClientBandwidth = function(e) {
                    this.logger.trace("onClientBandwidth: " + JSON.stringify(e.data)),
                    this.nbcPlayer.currentItem.bitrate !== 1e3 * e.data.args[0] && (this.nbcPlayer.currentItem.bitrate = 1e3 * e.data.args[0],
                    this.dispatch(new r.BitrateChangedEvent(this.nbcPlayer.currentItem.bitrate,e.data.info,this.nbcPlayer.getVideoWidth(),this.nbcPlayer.getVideoHeight())))
                }
                ,
                t.prototype.onCompanionAd = function(e) {
                    this.logger.trace("onCompanionAd: " + JSON.stringify(e.data))
                }
                ,
                t.prototype.onFirstFrameReady = function(e) {
                    this.logger.trace("onFirstFrameReady"),
                    this.broadcastStateChange(n.STATUS_READY)
                }
                ,
                t.prototype.onInstreamData = function(e) {
                    this.logger.trace("onInstreamData: " + JSON.stringify(e.data))
                }
                ,
                t.prototype.onMuteEvent = function(e) {
                    this.logger.trace("onMuteEvent: " + JSON.stringify(e.data))
                }
                ,
                t.prototype.onPickerRequested = function(e) {
                    this.logger.trace("onPickerRequested: " + JSON.stringify(e.data))
                }
                ,
                t.prototype.onPlayerError = function(e) {
                    if (this.logger.trace("onPlayerError: " + JSON.stringify(e.data)),
                    "ACTRL021" !== e.data.args[0]) {
                        this.nbcPlayer.currentStatus = n.STATUS_ERROR,
                        this.dispatch(new r.PlayStateChangedEvent(n.STATUS_ERROR));
                        var t = e.data.args[0].code
                          , i = e.data.info + " : " + e.data.args[0].user_msg;
                        if (void 0 !== t) {
                            var s = new c.PPError(t,null,i);
                            this.dispatch(new r.MediaFailedEvent(s))
                        }
                    }
                }
                ,
                t.prototype.onPlayerLoaded = function(e) {
                    this.logger.trace("onPlayerLoaded"),
                    this.nbcPlayer.getPlayerStatus() !== n.STATUS_ERROR && (this.broadcastStateChange(n.STATUS_INITIALIZED),
                    this.dispatch(new r.BitrateChangedEvent(this.nbcPlayer.currentItem.bitrate,"player loaded",this.playerPlatformAPI.getVideoWidth(),this.playerPlatformAPI.getVideoHeight())))
                }
                ,
                t.prototype.onPlaybackReady = function(e) {
                    this.logger.trace("onPlaybackReady"),
                    this.nbcPlayer.getPlayerStatus() !== n.STATUS_ERROR && this.dispatch(new r.MediaOpenedEvent(this.nbcPlayer.getVideoType(),this.nbcPlayer.getSupportedPlaybackSpeeds(),this.nbcPlayer.getAvailableAudioLanguages(),this.nbcPlayer.getVideoWidth(),this.nbcPlayer.getVideoHeight(),Date.now() - this.openingLatency,this.nbcPlayer.hasDRM(),this.nbcPlayer.hasCC()))
                }
                ,
                t.prototype.onPlaybackStarted = function(e) {
                    this.logger.trace("onPlaybackStarted"),
                    this.nbcPlayer.getAutoPlay() || this.nbcPlayer.pause()
                }
                ,
                t.prototype.onPopupBlocked = function(e) {
                    this.logger.trace("onPopupBlocked: " + JSON.stringify(e.data))
                }
                ,
                t.prototype.onPreviewExpired = function(e) {
                    this.logger.trace("onPreviewExpired: " + JSON.stringify(e.data))
                }
                ,
                t.prototype.onPreviewStatus = function(e) {
                    this.logger.trace("onPreviewStatus: " + JSON.stringify(e.data))
                }
                ,
                t.prototype.onProgramChanged = function(e) {
                    this.logger.trace("onProgramChanged: " + JSON.stringify(e.data))
                }
                ,
                t.prototype.onProviderIframe = function(e) {
                    this.logger.trace("onProviderIframe: " + JSON.stringify(e.data))
                }
                ,
                t.prototype.onProviderSelected = function(e) {
                    this.logger.trace("onProviderSelected: " + JSON.stringify(e.data))
                }
                ,
                t.prototype.onRelatedVideoSelected = function(e) {
                    this.logger.trace("onRelatedVideoSelected: " + JSON.stringify(e.data)),
                    this.broadcastStateChange(n.STATUS_COMPLETE)
                }
                ,
                t.prototype.onSegmentCompleted = function(e) {
                    this.logger.trace("onSegmentCompleted")
                }
                ,
                t.prototype.onSegmentStarted = function(e) {
                    this.logger.trace("onSegmentStarted")
                }
                ,
                t.prototype.onSegmentTypeChanged = function(e) {
                    this.logger.trace("onSegmentTypeChanged: " + JSON.stringify(e.data))
                }
                ,
                t.prototype.onStateChange = function(e) {
                    this.logger.trace("onStateChange: " + e.data.playerState),
                    this.broadcastStateChange(this.mapState(e.data.playerState))
                }
                ,
                t.prototype.onSubtitleStyle = function(e) {
                    this.logger.trace("onSubtitleStyle: " + JSON.stringify(e.data)),
                    this.nbcPlayer.currentItem.ccStyle = e.data.subtitleStyle
                }
                ,
                t.prototype.onUserInteraction = function(e) {
                    this.logger.trace("onUserInteraction: " + JSON.stringify(e.data)),
                    "seek" === e.data.interactionType && this.broadcastStateChange(n.STATUS_SEEKING)
                }
                ,
                t.prototype.onVolumeEvent = function(e) {
                    this.logger.trace("onVolumeEvent: " + JSON.stringify(e.data)),
                    this.nbcPlayer.volumeLevel = e.data.level
                }
                ,
                t
            }();
            t.NBCUniPlayerEvents = h,
            s.registerModule("NBCUniPlayerEvents", h)
        }
        ).call(t, i(11))
    }
    , function(e, t, i) {
        "use strict";
        var n = this && this.__extends || function(e, t) {
            function i() {
                this.constructor = e
            }
            for (var n in t)
                t.hasOwnProperty(n) && (e[n] = t[n]);
            e.prototype = null === t ? Object.create(t) : (i.prototype = t.prototype,
            new i)
        }
          , r = i(53)
          , s = i(2)
          , o = i(1)
          , a = i(3)
          , c = function(e) {
            function t() {
                e.call(this),
                this.logger = new o.Logger("NullPlayer")
            }
            return n(t, e),
            t.prototype.init = function(t) {
                return e.prototype.init.call(this, t),
                this.setPlayerReady(),
                this
            }
            ,
            t.prototype.getPlayerStatus = function() {
                return a.STATUS_IDLE
            }
            ,
            t
        }(r.BasePlayer);
        t.NullPlayer = c,
        s.registerModule("NullPlayer", c)
    }
    , function(e, t, i) {
        "use strict";
        var n = i(4);
        i(18),
        i(31),
        i(66),
        i(195),
        i(67);
        var r = function() {
            function e(e, t, i, n, r, s, o) {
                void 0 === s && (s = !1),
                void 0 === o && (o = !1),
                this.prev = e,
                this.next = t,
                this.prevRate = i,
                this.nextRate = n,
                this.duration = r,
                this.seeking = s,
                this.stopped = o
            }
            return e.prototype.equals = function(e) {
                return this.prev === e.prev && this.next === e.next && this.prevRate === e.prevRate && this.nextRate === e.nextRate
            }
            ,
            e.prototype.duringTrickPlay = function() {
                return 1 !== this.nextRate || this.prevRate > 1 || this.prevRate < 0
            }
            ,
            e.create = function(t, i) {
                return i instanceof n.MediaProgressEvent ? new e(t.position,i.position,t.playbackSpeed,i.playbackSpeed,i.endposition) : new e(t.position,t.position,0,0,0,(!1),(!0))
            }
            ,
            e.createObservable = function(t) {
                return t.startWith(new n.MediaProgressEvent((-1),1,0,0,0)).pairwise().map(function(t) {
                    return e.create(t[0], t[1])
                })
            }
            ,
            e.createStopObservable = function(t, i) {
                return e.createObservable(t).merge(i.withLatestFrom(t).map(function(t) {
                    return e.create(t[1], t[0])
                }))
            }
            ,
            e
        }();
        t.ProgressWindow = r
    }
    , function(e, t, i) {
        "use strict";
        function n(e) {
            var t = atob(e)
              , i = s.xml_str2json(t)["xcal-auth-message"]
              , n = (i.attribute || []).reduce(function(e, t) {
                return e[t._key] = t.__text,
                e
            }, {});
            return {
                get zipCode() {
                    return n["device:xcal:locationHomeZip"] || n["device:xcal:locationSessionZip"]
                },
                get inHome() {
                    return "true" === n["device:xcal:locationInHome"]
                },
                get accountId() {
                    return n["account:xcal:id"]
                },
                get deviceId() {
                    return n["device:xcal:id"]
                }
            }
        }
        var r = i(54)
          , s = new r.X2JS;
        t.parse = n
    }
    , function(e, t, i) {
        "use strict";
        var n = this && this.__extends || function(e, t) {
            function i() {
                this.constructor = e
            }
            for (var n in t)
                t.hasOwnProperty(n) && (e[n] = t[n]);
            e.prototype = null === t ? Object.create(t) : (i.prototype = t.prototype,
            new i)
        }
          , r = i(76)
          , s = i(3)
          , o = ["ID", "DURATION"]
          , a = function(e) {
            function t(t, i) {
                e.call(this, "#EXT-X-CUE", t, i, o),
                this.id = this.metadata.ID,
                this.duration = parseFloat(this.metadata.DURATION) * s.MILLISECONDS_PER_SECOND,
                this.psn = "true" === this.metadata.PSN
            }
            return n(t, e),
            t
        }(r.HlsTag);
        t.HlsCueTag = a
    }
    , function(e, t, i) {
        "use strict";
        var n = this && this.__extends || function(e, t) {
            function i() {
                this.constructor = e
            }
            for (var n in t)
                t.hasOwnProperty(n) && (e[n] = t[n]);
            e.prototype = null === t ? Object.create(t) : (i.prototype = t.prototype,
            new i)
        }
          , r = i(76)
          , s = ["ADID", "MODE"]
          , o = function(e) {
            function t(t, i) {
                e.call(this, "#EXT-X-TRICKMODE-RESTRICTION", t, i, s),
                this.id = this.metadata.ADID,
                this.mode = this.metadata.MODE,
                this.limit = this.metadata.LIMIT,
                this.scale = this.metadata.SCALE
            }
            return n(t, e),
            t
        }(r.HlsTag);
        t.HlsTrickmodeRestrictionTag = o
    }
    , function(e, t, i) {
        i(125),
        i(122),
        i(124),
        i(123),
        i(126),
        i(127),
        i(118),
        i(119),
        i(120),
        i(121),
        e.exports = i(128)
    }
    ])
}),
function e(t, i, n) {
    function r(o, a) {
        if (!i[o]) {
            if (!t[o]) {
                var c = "function" == typeof require && require;
                if (!a && c)
                    return c(o, !0);
                if (s)
                    return s(o, !0);
                var l = new Error("Cannot find module '" + o + "'");
                throw l.code = "MODULE_NOT_FOUND",
                l
            }
            var h = i[o] = {
                exports: {}
            };
            t[o][0].call(h.exports, function(e) {
                var i = t[o][1][e];
                return r(i ? i : e)
            }, h, h.exports, e, t, i, n)
        }
        return i[o].exports
    }
    for (var s = "function" == typeof require && require, o = 0; o < n.length; o++)
        r(n[o]);
    return r
}({
    1: [function(e, t, i) {
        window.cryptoB = e("../")
    }
    , {
        "../": 2
    }],
    2: [function(e, t, i) {
        "use strict";
        i.randomBytes = i.rng = i.pseudoRandomBytes = i.prng = e("randombytes"),
        i.createHash = i.Hash = e("create-hash"),
        i.createHmac = i.Hmac = e("create-hmac");
        var n = ["sha1", "sha224", "sha256", "sha384", "sha512", "md5", "rmd160"].concat(Object.keys(e("browserify-sign/algos")));
        i.getHashes = function() {
            return n
        }
        ;
        var r = e("pbkdf2");
        i.pbkdf2 = r.pbkdf2,
        i.pbkdf2Sync = r.pbkdf2Sync;
        var s = e("browserify-cipher");
        ["Cipher", "createCipher", "Cipheriv", "createCipheriv", "Decipher", "createDecipher", "Decipheriv", "createDecipheriv", "getCiphers", "listCiphers"].forEach(function(e) {
            i[e] = s[e]
        });
        var o = e("diffie-hellman");
        ["DiffieHellmanGroup", "createDiffieHellmanGroup", "getDiffieHellman", "createDiffieHellman", "DiffieHellman"].forEach(function(e) {
            i[e] = o[e]
        });
        var a = e("browserify-sign");
        ["createSign", "Sign", "createVerify", "Verify"].forEach(function(e) {
            i[e] = a[e]
        }),
        i.createECDH = e("create-ecdh");
        var c = e("public-encrypt");
        ["publicEncrypt", "privateEncrypt", "publicDecrypt", "privateDecrypt"].forEach(function(e) {
            i[e] = c[e]
        }),
        ["createCredentials"].forEach(function(e) {
            i[e] = function() {
                throw new Error(["sorry, " + e + " is not implemented yet", "we accept pull requests", "https://github.com/crypto-browserify/crypto-browserify"].join("\n"))
            }
        })
    }
    , {
        "browserify-cipher": 21,
        "browserify-sign": 51,
        "browserify-sign/algos": 50,
        "create-ecdh": 101,
        "create-hash": 127,
        "create-hmac": 139,
        "diffie-hellman": 140,
        pbkdf2: 148,
        "public-encrypt": 149,
        randombytes: 177
    }],
    3: [function(e, t, i) {
        (function(i) {
            function n(e, t, n) {
                i.isBuffer(e) || (e = new i(e,"binary")),
                t /= 8,
                n = n || 0;
                for (var s, o, a = 0, c = 0, l = new i(t), h = new i(n), u = 0, d = []; ; ) {
                    if (u++ > 0 && d.push(s),
                    d.push(e),
                    s = r(i.concat(d)),
                    d = [],
                    o = 0,
                    t > 0)
                        for (; ; ) {
                            if (0 === t)
                                break;
                            if (o === s.length)
                                break;
                            l[a++] = s[o],
                            t--,
                            o++
                        }
                    if (n > 0 && o !== s.length)
                        for (; ; ) {
                            if (0 === n)
                                break;
                            if (o === s.length)
                                break;
                            h[c++] = s[o],
                            n--,
                            o++
                        }
                    if (0 === t && 0 === n)
                        break
                }
                for (o = 0; o < s.length; o++)
                    s[o] = 0;
                return {
                    key: l,
                    iv: h
                }
            }
            var r = e("create-hash/md5");
            t.exports = n
        }
        ).call(this, e("buffer").Buffer)
    }
    , {
        buffer: 179,
        "create-hash/md5": 129
    }],
    4: [function(e, t, i) {
        (function(e) {
            function t(e) {
                var t, i;
                return t = e > a || e < 0 ? (i = Math.abs(e) % a,
                e < 0 ? a - i : i) : e
            }
            function n(e) {
                for (var t = 0; t < e.length; e++)
                    e[t] = 0;
                return !1
            }
            function r() {
                this.SBOX = [],
                this.INV_SBOX = [],
                this.SUB_MIX = [[], [], [], []],
                this.INV_SUB_MIX = [[], [], [], []],
                this.init(),
                this.RCON = [0, 1, 2, 4, 8, 16, 32, 64, 128, 27, 54]
            }
            function s(e) {
                for (var t = e.length / 4, i = new Array(t), n = -1; ++n < t; )
                    i[n] = e.readUInt32BE(4 * n);
                return i
            }
            function o(e) {
                this._key = s(e),
                this._doReset()
            }
            var a = Math.pow(2, 32);
            r.prototype.init = function() {
                var e, t, i, n, r, s, o, a, c, l;
                for (e = function() {
                    var e, i;
                    for (i = [],
                    t = e = 0; e < 256; t = ++e)
                        t < 128 ? i.push(t << 1) : i.push(t << 1 ^ 283);
                    return i
                }(),
                r = 0,
                c = 0,
                t = l = 0; l < 256; t = ++l)
                    i = c ^ c << 1 ^ c << 2 ^ c << 3 ^ c << 4,
                    i = i >>> 8 ^ 255 & i ^ 99,
                    this.SBOX[r] = i,
                    this.INV_SBOX[i] = r,
                    s = e[r],
                    o = e[s],
                    a = e[o],
                    n = 257 * e[i] ^ 16843008 * i,
                    this.SUB_MIX[0][r] = n << 24 | n >>> 8,
                    this.SUB_MIX[1][r] = n << 16 | n >>> 16,
                    this.SUB_MIX[2][r] = n << 8 | n >>> 24,
                    this.SUB_MIX[3][r] = n,
                    n = 16843009 * a ^ 65537 * o ^ 257 * s ^ 16843008 * r,
                    this.INV_SUB_MIX[0][i] = n << 24 | n >>> 8,
                    this.INV_SUB_MIX[1][i] = n << 16 | n >>> 16,
                    this.INV_SUB_MIX[2][i] = n << 8 | n >>> 24,
                    this.INV_SUB_MIX[3][i] = n,
                    0 === r ? r = c = 1 : (r = s ^ e[e[e[a ^ s]]],
                    c ^= e[e[c]]);
                return !0
            }
            ;
            var c = new r;
            o.blockSize = 16,
            o.prototype.blockSize = o.blockSize,
            o.keySize = 32,
            o.prototype.keySize = o.keySize,
            o.prototype._doReset = function() {
                var e, t, i, n, r, s;
                for (i = this._key,
                t = i.length,
                this._nRounds = t + 6,
                r = 4 * (this._nRounds + 1),
                this._keySchedule = [],
                n = 0; n < r; n++)
                    this._keySchedule[n] = n < t ? i[n] : (s = this._keySchedule[n - 1],
                    n % t === 0 ? (s = s << 8 | s >>> 24,
                    s = c.SBOX[s >>> 24] << 24 | c.SBOX[s >>> 16 & 255] << 16 | c.SBOX[s >>> 8 & 255] << 8 | c.SBOX[255 & s],
                    s ^= c.RCON[n / t | 0] << 24) : t > 6 && n % t === 4 ? s = c.SBOX[s >>> 24] << 24 | c.SBOX[s >>> 16 & 255] << 16 | c.SBOX[s >>> 8 & 255] << 8 | c.SBOX[255 & s] : void 0,
                    this._keySchedule[n - t] ^ s);
                for (this._invKeySchedule = [],
                e = 0; e < r; e++)
                    n = r - e,
                    s = this._keySchedule[n - (e % 4 ? 0 : 4)],
                    this._invKeySchedule[e] = e < 4 || n <= 4 ? s : c.INV_SUB_MIX[0][c.SBOX[s >>> 24]] ^ c.INV_SUB_MIX[1][c.SBOX[s >>> 16 & 255]] ^ c.INV_SUB_MIX[2][c.SBOX[s >>> 8 & 255]] ^ c.INV_SUB_MIX[3][c.SBOX[255 & s]];
                return !0
            }
            ,
            o.prototype.encryptBlock = function(t) {
                t = s(new e(t));
                var i = this._doCryptBlock(t, this._keySchedule, c.SUB_MIX, c.SBOX)
                  , n = new e(16);
                return n.writeUInt32BE(i[0], 0),
                n.writeUInt32BE(i[1], 4),
                n.writeUInt32BE(i[2], 8),
                n.writeUInt32BE(i[3], 12),
                n
            }
            ,
            o.prototype.decryptBlock = function(t) {
                t = s(new e(t));
                var i = [t[3], t[1]];
                t[1] = i[0],
                t[3] = i[1];
                var n = this._doCryptBlock(t, this._invKeySchedule, c.INV_SUB_MIX, c.INV_SBOX)
                  , r = new e(16);
                return r.writeUInt32BE(n[0], 0),
                r.writeUInt32BE(n[3], 4),
                r.writeUInt32BE(n[2], 8),
                r.writeUInt32BE(n[1], 12),
                r
            }
            ,
            o.prototype.scrub = function() {
                n(this._keySchedule),
                n(this._invKeySchedule),
                n(this._key)
            }
            ,
            o.prototype._doCryptBlock = function(e, i, n, r) {
                var s, o, a, c, l, h, u, d, f;
                o = e[0] ^ i[0],
                a = e[1] ^ i[1],
                c = e[2] ^ i[2],
                l = e[3] ^ i[3],
                s = 4;
                for (var p = 1; p < this._nRounds; p++)
                    h = n[0][o >>> 24] ^ n[1][a >>> 16 & 255] ^ n[2][c >>> 8 & 255] ^ n[3][255 & l] ^ i[s++],
                    u = n[0][a >>> 24] ^ n[1][c >>> 16 & 255] ^ n[2][l >>> 8 & 255] ^ n[3][255 & o] ^ i[s++],
                    d = n[0][c >>> 24] ^ n[1][l >>> 16 & 255] ^ n[2][o >>> 8 & 255] ^ n[3][255 & a] ^ i[s++],
                    f = n[0][l >>> 24] ^ n[1][o >>> 16 & 255] ^ n[2][a >>> 8 & 255] ^ n[3][255 & c] ^ i[s++],
                    o = h,
                    a = u,
                    c = d,
                    l = f;
                return h = (r[o >>> 24] << 24 | r[a >>> 16 & 255] << 16 | r[c >>> 8 & 255] << 8 | r[255 & l]) ^ i[s++],
                u = (r[a >>> 24] << 24 | r[c >>> 16 & 255] << 16 | r[l >>> 8 & 255] << 8 | r[255 & o]) ^ i[s++],
                d = (r[c >>> 24] << 24 | r[l >>> 16 & 255] << 16 | r[o >>> 8 & 255] << 8 | r[255 & a]) ^ i[s++],
                f = (r[l >>> 24] << 24 | r[o >>> 16 & 255] << 16 | r[a >>> 8 & 255] << 8 | r[255 & c]) ^ i[s++],
                [t(h), t(u), t(d), t(f)]
            }
            ,
            i.AES = o
        }
        ).call(this, e("buffer").Buffer)
    }
    , {
        buffer: 179
    }],
    5: [function(e, t, i) {
        (function(i) {
            function n(e, t, r, a) {
                if (!(this instanceof n))
                    return new n(e,t,r);
                o.call(this),
                this._finID = i.concat([r, new i([0, 0, 0, 1])]),
                r = i.concat([r, new i([0, 0, 0, 2])]),
                this._cipher = new s.AES(t),
                this._prev = new i(r.length),
                this._cache = new i(""),
                this._secCache = new i(""),
                this._decrypt = a,
                this._alen = 0,
                this._len = 0,
                r.copy(this._prev),
                this._mode = e;
                var l = new i(4);
                l.fill(0),
                this._ghash = new c(this._cipher.encryptBlock(l)),
                this._authTag = null,
                this._called = !1
            }
            function r(e, t) {
                var i = 0;
                e.length !== t.length && i++;
                for (var n = Math.min(e.length, t.length), r = -1; ++r < n; )
                    i += e[r] ^ t[r];
                return i
            }
            var s = e("./aes")
              , o = e("./cipherBase")
              , a = e("inherits")
              , c = e("./ghash")
              , l = e("buffer-xor");
            a(n, o),
            t.exports = n,
            n.prototype._update = function(e) {
                if (!this._called && this._alen) {
                    var t = 16 - this._alen % 16;
                    t < 16 && (t = new i(t),
                    t.fill(0),
                    this._ghash.update(t))
                }
                this._called = !0;
                var n = this._mode.encrypt(this, e);
                return this._decrypt ? this._ghash.update(e) : this._ghash.update(n),
                this._len += e.length,
                n
            }
            ,
            n.prototype._final = function() {
                if (this._decrypt && !this._authTag)
                    throw new Error("Unsupported state or unable to authenticate data");
                var e = l(this._ghash["final"](8 * this._alen, 8 * this._len), this._cipher.encryptBlock(this._finID));
                if (this._decrypt) {
                    if (r(e, this._authTag))
                        throw new Error("Unsupported state or unable to authenticate data")
                } else
                    this._authTag = e;
                this._cipher.scrub()
            }
            ,
            n.prototype.getAuthTag = function() {
                if (!this._decrypt && i.isBuffer(this._authTag))
                    return this._authTag;
                throw new Error("Attempting to get auth tag in unsupported state")
            }
            ,
            n.prototype.setAuthTag = function(e) {
                if (!this._decrypt)
                    throw new Error("Attempting to set auth tag in unsupported state");
                this._authTag = e
            }
            ,
            n.prototype.setAAD = function(e) {
                if (this._called)
                    throw new Error("Attempting to set AAD in unsupported state");
                this._ghash.update(e),
                this._alen += e.length
            }
        }
        ).call(this, e("buffer").Buffer)
    }
    , {
        "./aes": 4,
        "./cipherBase": 7,
        "./ghash": 10,
        buffer: 179,
        "buffer-xor": 19,
        inherits: 147
    }],
    6: [function(e, t, i) {
        function n() {
            return Object.keys(o)
        }
        var r = e("./encrypter");
        i.createCipher = i.Cipher = r.createCipher,
        i.createCipheriv = i.Cipheriv = r.createCipheriv;
        var s = e("./decrypter");
        i.createDecipher = i.Decipher = s.createDecipher,
        i.createDecipheriv = i.Decipheriv = s.createDecipheriv;
        var o = e("./modes");
        i.listCiphers = i.getCiphers = n
    }
    , {
        "./decrypter": 8,
        "./encrypter": 9,
        "./modes": 11
    }],
    7: [function(e, t, i) {
        (function(i) {
            function n() {
                r.call(this),
                this._base64Cache = new i("")
            }
            var r = e("stream").Transform
              , s = e("inherits");
            t.exports = n,
            s(n, r),
            n.prototype.update = function(e, t, n) {
                "string" == typeof e && (e = new i(e,t));
                var r = this._update(e);
                return n && (r = this._toString(r, n)),
                r
            }
            ,
            n.prototype._transform = function(e, t, i) {
                this.push(this._update(e)),
                i()
            }
            ,
            n.prototype._flush = function(e) {
                try {
                    this.push(this._final())
                } catch (t) {
                    return e(t)
                }
                e()
            }
            ,
            n.prototype["final"] = function(e) {
                var t = this._final() || new i("");
                return e && (t = this._toString(t, e, !0)),
                t
            }
            ,
            n.prototype._toString = function(e, t, n) {
                if ("base64" !== t)
                    return e.toString(t);
                this._base64Cache = i.concat([this._base64Cache, e]);
                var r;
                if (n)
                    return r = this._base64Cache,
                    this._base64Cache = null,
                    r.toString("base64");
                var s = this._base64Cache.length
                  , o = s % 3;
                if (!o)
                    return r = this._base64Cache,
                    this._base64Cache = new i(""),
                    r.toString("base64");
                var a = s - o;
                return a ? (r = this._base64Cache.slice(0, a),
                this._base64Cache = this._base64Cache.slice(-o),
                r.toString("base64")) : ""
            }
        }
        ).call(this, e("buffer").Buffer)
    }
    , {
        buffer: 179,
        inherits: 147,
        stream: 200
    }],
    8: [function(e, t, i) {
        (function(t) {
            function n(e, i, s) {
                return this instanceof n ? (l.call(this),
                this._cache = new r,
                this._last = void 0,
                this._cipher = new c.AES(i),
                this._prev = new t(s.length),
                s.copy(this._prev),
                this._mode = e,
                void (this._autopadding = !0)) : new n(e,i,s)
            }
            function r() {
                return this instanceof r ? void (this.cache = new t("")) : new r
            }
            function s(e) {
                for (var t = e[15], i = -1; ++i < t; )
                    if (e[i + (16 - t)] !== t)
                        throw new Error("unable to decrypt data");
                if (16 !== t)
                    return e.slice(0, 16 - t)
            }
            function o(e, i, r) {
                var s = u[e.toLowerCase()];
                if (!s)
                    throw new TypeError("invalid suite type");
                if ("string" == typeof r && (r = new t(r)),
                "string" == typeof i && (i = new t(i)),
                i.length !== s.key / 8)
                    throw new TypeError("invalid key length " + i.length);
                if (r.length !== s.iv)
                    throw new TypeError("invalid iv length " + r.length);
                return "stream" === s.type ? new d(m[s.mode],i,r,(!0)) : "auth" === s.type ? new f(m[s.mode],i,r,(!0)) : new n(m[s.mode],i,r)
            }
            function a(e, t) {
                var i = u[e.toLowerCase()];
                if (!i)
                    throw new TypeError("invalid suite type");
                var n = p(t, i.key, i.iv);
                return o(e, n.key, n.iv)
            }
            var c = e("./aes")
              , l = e("./cipherBase")
              , h = e("inherits")
              , u = e("./modes")
              , d = e("./streamCipher")
              , f = e("./authCipher")
              , p = e("./EVP_BytesToKey");
            h(n, l),
            n.prototype._update = function(e) {
                this._cache.add(e);
                for (var i, n, r = []; i = this._cache.get(this._autopadding); )
                    n = this._mode.decrypt(this, i),
                    r.push(n);
                return t.concat(r)
            }
            ,
            n.prototype._final = function() {
                var e = this._cache.flush();
                if (this._autopadding)
                    return s(this._mode.decrypt(this, e));
                if (e)
                    throw new Error("data not multiple of block length")
            }
            ,
            n.prototype.setAutoPadding = function(e) {
                this._autopadding = !!e
            }
            ,
            r.prototype.add = function(e) {
                this.cache = t.concat([this.cache, e])
            }
            ,
            r.prototype.get = function(e) {
                var t;
                if (e) {
                    if (this.cache.length > 16)
                        return t = this.cache.slice(0, 16),
                        this.cache = this.cache.slice(16),
                        t
                } else if (this.cache.length >= 16)
                    return t = this.cache.slice(0, 16),
                    this.cache = this.cache.slice(16),
                    t;
                return null
            }
            ,
            r.prototype.flush = function() {
                if (this.cache.length)
                    return this.cache
            }
            ;
            var m = {
                ECB: e("./modes/ecb"),
                CBC: e("./modes/cbc"),
                CFB: e("./modes/cfb"),
                CFB8: e("./modes/cfb8"),
                CFB1: e("./modes/cfb1"),
                OFB: e("./modes/ofb"),
                CTR: e("./modes/ctr"),
                GCM: e("./modes/ctr")
            };
            i.createDecipher = a,
            i.createDecipheriv = o
        }
        ).call(this, e("buffer").Buffer)
    }
    , {
        "./EVP_BytesToKey": 3,
        "./aes": 4,
        "./authCipher": 5,
        "./cipherBase": 7,
        "./modes": 11,
        "./modes/cbc": 12,
        "./modes/cfb": 13,
        "./modes/cfb1": 14,
        "./modes/cfb8": 15,
        "./modes/ctr": 16,
        "./modes/ecb": 17,
        "./modes/ofb": 18,
        "./streamCipher": 20,
        buffer: 179,
        inherits: 147
    }],
    9: [function(e, t, i) {
        (function(t) {
            function n(e, i, s) {
                return this instanceof n ? (c.call(this),
                this._cache = new r,
                this._cipher = new a.AES(i),
                this._prev = new t(s.length),
                s.copy(this._prev),
                this._mode = e,
                void (this._autopadding = !0)) : new n(e,i,s)
            }
            function r() {
                return this instanceof r ? void (this.cache = new t("")) : new r
            }
            function s(e, i, r) {
                var s = h[e.toLowerCase()];
                if (!s)
                    throw new TypeError("invalid suite type");
                if ("string" == typeof r && (r = new t(r)),
                "string" == typeof i && (i = new t(i)),
                i.length !== s.key / 8)
                    throw new TypeError("invalid key length " + i.length);
                if (r.length !== s.iv)
                    throw new TypeError("invalid iv length " + r.length);
                return "stream" === s.type ? new d(p[s.mode],i,r) : "auth" === s.type ? new f(p[s.mode],i,r) : new n(p[s.mode],i,r)
            }
            function o(e, t) {
                var i = h[e.toLowerCase()];
                if (!i)
                    throw new TypeError("invalid suite type");
                var n = u(t, i.key, i.iv);
                return s(e, n.key, n.iv)
            }
            var a = e("./aes")
              , c = e("./cipherBase")
              , l = e("inherits")
              , h = e("./modes")
              , u = e("./EVP_BytesToKey")
              , d = e("./streamCipher")
              , f = e("./authCipher");
            l(n, c),
            n.prototype._update = function(e) {
                this._cache.add(e);
                for (var i, n, r = []; i = this._cache.get(); )
                    n = this._mode.encrypt(this, i),
                    r.push(n);
                return t.concat(r)
            }
            ,
            n.prototype._final = function() {
                var e = this._cache.flush();
                if (this._autopadding)
                    return e = this._mode.encrypt(this, e),
                    this._cipher.scrub(),
                    e;
                if ("10101010101010101010101010101010" !== e.toString("hex"))
                    throw this._cipher.scrub(),
                    new Error("data not multiple of block length")
            }
            ,
            n.prototype.setAutoPadding = function(e) {
                this._autopadding = !!e
            }
            ,
            r.prototype.add = function(e) {
                this.cache = t.concat([this.cache, e])
            }
            ,
            r.prototype.get = function() {
                if (this.cache.length > 15) {
                    var e = this.cache.slice(0, 16);
                    return this.cache = this.cache.slice(16),
                    e
                }
                return null
            }
            ,
            r.prototype.flush = function() {
                for (var e = 16 - this.cache.length, i = new t(e), n = -1; ++n < e; )
                    i.writeUInt8(e, n);
                var r = t.concat([this.cache, i]);
                return r
            }
            ;
            var p = {
                ECB: e("./modes/ecb"),
                CBC: e("./modes/cbc"),
                CFB: e("./modes/cfb"),
                CFB8: e("./modes/cfb8"),
                CFB1: e("./modes/cfb1"),
                OFB: e("./modes/ofb"),
                CTR: e("./modes/ctr"),
                GCM: e("./modes/ctr")
            };
            i.createCipheriv = s,
            i.createCipher = o
        }
        ).call(this, e("buffer").Buffer);
    }
    , {
        "./EVP_BytesToKey": 3,
        "./aes": 4,
        "./authCipher": 5,
        "./cipherBase": 7,
        "./modes": 11,
        "./modes/cbc": 12,
        "./modes/cfb": 13,
        "./modes/cfb1": 14,
        "./modes/cfb8": 15,
        "./modes/ctr": 16,
        "./modes/ecb": 17,
        "./modes/ofb": 18,
        "./streamCipher": 20,
        buffer: 179,
        inherits: 147
    }],
    10: [function(e, t, i) {
        (function(e) {
            function i(t) {
                this.h = t,
                this.state = new e(16),
                this.state.fill(0),
                this.cache = new e("")
            }
            function n(e) {
                return [e.readUInt32BE(0), e.readUInt32BE(4), e.readUInt32BE(8), e.readUInt32BE(12)]
            }
            function r(t) {
                t = t.map(s);
                var i = new e(16);
                return i.writeUInt32BE(t[0], 0),
                i.writeUInt32BE(t[1], 4),
                i.writeUInt32BE(t[2], 8),
                i.writeUInt32BE(t[3], 12),
                i
            }
            function s(e) {
                var t, i;
                return t = e > c || e < 0 ? (i = Math.abs(e) % c,
                e < 0 ? c - i : i) : e
            }
            function o(e, t) {
                return [e[0] ^ t[0], e[1] ^ t[1], e[2] ^ t[2], e[3] ^ t[3]]
            }
            var a = new e(16);
            a.fill(0),
            t.exports = i,
            i.prototype.ghash = function(e) {
                for (var t = -1; ++t < e.length; )
                    this.state[t] ^= e[t];
                this._multiply()
            }
            ,
            i.prototype._multiply = function() {
                for (var e, t, i, s = n(this.h), a = [0, 0, 0, 0], c = -1; ++c < 128; ) {
                    for (t = 0 !== (this.state[~~(c / 8)] & 1 << 7 - c % 8),
                    t && (a = o(a, s)),
                    i = 0 !== (1 & s[3]),
                    e = 3; e > 0; e--)
                        s[e] = s[e] >>> 1 | (1 & s[e - 1]) << 31;
                    s[0] = s[0] >>> 1,
                    i && (s[0] = s[0] ^ 225 << 24)
                }
                this.state = r(a)
            }
            ,
            i.prototype.update = function(t) {
                this.cache = e.concat([this.cache, t]);
                for (var i; this.cache.length >= 16; )
                    i = this.cache.slice(0, 16),
                    this.cache = this.cache.slice(16),
                    this.ghash(i)
            }
            ,
            i.prototype["final"] = function(t, i) {
                return this.cache.length && this.ghash(e.concat([this.cache, a], 16)),
                this.ghash(r([0, t, 0, i])),
                this.state
            }
            ;
            var c = Math.pow(2, 32)
        }
        ).call(this, e("buffer").Buffer)
    }
    , {
        buffer: 179
    }],
    11: [function(e, t, i) {
        i["aes-128-ecb"] = {
            cipher: "AES",
            key: 128,
            iv: 0,
            mode: "ECB",
            type: "block"
        },
        i["aes-192-ecb"] = {
            cipher: "AES",
            key: 192,
            iv: 0,
            mode: "ECB",
            type: "block"
        },
        i["aes-256-ecb"] = {
            cipher: "AES",
            key: 256,
            iv: 0,
            mode: "ECB",
            type: "block"
        },
        i["aes-128-cbc"] = {
            cipher: "AES",
            key: 128,
            iv: 16,
            mode: "CBC",
            type: "block"
        },
        i["aes-192-cbc"] = {
            cipher: "AES",
            key: 192,
            iv: 16,
            mode: "CBC",
            type: "block"
        },
        i["aes-256-cbc"] = {
            cipher: "AES",
            key: 256,
            iv: 16,
            mode: "CBC",
            type: "block"
        },
        i.aes128 = i["aes-128-cbc"],
        i.aes192 = i["aes-192-cbc"],
        i.aes256 = i["aes-256-cbc"],
        i["aes-128-cfb"] = {
            cipher: "AES",
            key: 128,
            iv: 16,
            mode: "CFB",
            type: "stream"
        },
        i["aes-192-cfb"] = {
            cipher: "AES",
            key: 192,
            iv: 16,
            mode: "CFB",
            type: "stream"
        },
        i["aes-256-cfb"] = {
            cipher: "AES",
            key: 256,
            iv: 16,
            mode: "CFB",
            type: "stream"
        },
        i["aes-128-cfb8"] = {
            cipher: "AES",
            key: 128,
            iv: 16,
            mode: "CFB8",
            type: "stream"
        },
        i["aes-192-cfb8"] = {
            cipher: "AES",
            key: 192,
            iv: 16,
            mode: "CFB8",
            type: "stream"
        },
        i["aes-256-cfb8"] = {
            cipher: "AES",
            key: 256,
            iv: 16,
            mode: "CFB8",
            type: "stream"
        },
        i["aes-128-cfb1"] = {
            cipher: "AES",
            key: 128,
            iv: 16,
            mode: "CFB1",
            type: "stream"
        },
        i["aes-192-cfb1"] = {
            cipher: "AES",
            key: 192,
            iv: 16,
            mode: "CFB1",
            type: "stream"
        },
        i["aes-256-cfb1"] = {
            cipher: "AES",
            key: 256,
            iv: 16,
            mode: "CFB1",
            type: "stream"
        },
        i["aes-128-ofb"] = {
            cipher: "AES",
            key: 128,
            iv: 16,
            mode: "OFB",
            type: "stream"
        },
        i["aes-192-ofb"] = {
            cipher: "AES",
            key: 192,
            iv: 16,
            mode: "OFB",
            type: "stream"
        },
        i["aes-256-ofb"] = {
            cipher: "AES",
            key: 256,
            iv: 16,
            mode: "OFB",
            type: "stream"
        },
        i["aes-128-ctr"] = {
            cipher: "AES",
            key: 128,
            iv: 16,
            mode: "CTR",
            type: "stream"
        },
        i["aes-192-ctr"] = {
            cipher: "AES",
            key: 192,
            iv: 16,
            mode: "CTR",
            type: "stream"
        },
        i["aes-256-ctr"] = {
            cipher: "AES",
            key: 256,
            iv: 16,
            mode: "CTR",
            type: "stream"
        },
        i["aes-128-gcm"] = {
            cipher: "AES",
            key: 128,
            iv: 12,
            mode: "GCM",
            type: "auth"
        },
        i["aes-192-gcm"] = {
            cipher: "AES",
            key: 192,
            iv: 12,
            mode: "GCM",
            type: "auth"
        },
        i["aes-256-gcm"] = {
            cipher: "AES",
            key: 256,
            iv: 12,
            mode: "GCM",
            type: "auth"
        }
    }
    , {}],
    12: [function(e, t, i) {
        var n = e("buffer-xor");
        i.encrypt = function(e, t) {
            var i = n(t, e._prev);
            return e._prev = e._cipher.encryptBlock(i),
            e._prev
        }
        ,
        i.decrypt = function(e, t) {
            var i = e._prev;
            e._prev = t;
            var r = e._cipher.decryptBlock(t);
            return n(r, i)
        }
    }
    , {
        "buffer-xor": 19
    }],
    13: [function(e, t, i) {
        (function(t) {
            function n(e, i, n) {
                var s = i.length
                  , o = r(i, e._cache);
                return e._cache = e._cache.slice(s),
                e._prev = t.concat([e._prev, n ? i : o]),
                o
            }
            var r = e("buffer-xor");
            i.encrypt = function(e, i, r) {
                for (var s, o = new t(""); i.length; ) {
                    if (0 === e._cache.length && (e._cache = e._cipher.encryptBlock(e._prev),
                    e._prev = new t("")),
                    !(e._cache.length <= i.length)) {
                        o = t.concat([o, n(e, i, r)]);
                        break
                    }
                    s = e._cache.length,
                    o = t.concat([o, n(e, i.slice(0, s), r)]),
                    i = i.slice(s)
                }
                return o
            }
        }
        ).call(this, e("buffer").Buffer)
    }
    , {
        buffer: 179,
        "buffer-xor": 19
    }],
    14: [function(e, t, i) {
        (function(e) {
            function t(e, t, i) {
                for (var r, s, o, a = -1, c = 8, l = 0; ++a < c; )
                    r = e._cipher.encryptBlock(e._prev),
                    s = t & 1 << 7 - a ? 128 : 0,
                    o = r[0] ^ s,
                    l += (128 & o) >> a % 8,
                    e._prev = n(e._prev, i ? s : o);
                return l
            }
            function n(t, i) {
                var n = t.length
                  , r = -1
                  , s = new e(t.length);
                for (t = e.concat([t, new e([i])]); ++r < n; )
                    s[r] = t[r] << 1 | t[r + 1] >> 7;
                return s
            }
            i.encrypt = function(i, n, r) {
                for (var s = n.length, o = new e(s), a = -1; ++a < s; )
                    o[a] = t(i, n[a], r);
                return o
            }
        }
        ).call(this, e("buffer").Buffer)
    }
    , {
        buffer: 179
    }],
    15: [function(e, t, i) {
        (function(e) {
            function t(t, i, n) {
                var r = t._cipher.encryptBlock(t._prev)
                  , s = r[0] ^ i;
                return t._prev = e.concat([t._prev.slice(1), new e([n ? i : s])]),
                s
            }
            i.encrypt = function(i, n, r) {
                for (var s = n.length, o = new e(s), a = -1; ++a < s; )
                    o[a] = t(i, n[a], r);
                return o
            }
        }
        ).call(this, e("buffer").Buffer)
    }
    , {
        buffer: 179
    }],
    16: [function(e, t, i) {
        (function(t) {
            function n(e) {
                for (var t, i = e.length; i--; ) {
                    if (t = e.readUInt8(i),
                    255 !== t) {
                        t++,
                        e.writeUInt8(t, i);
                        break
                    }
                    e.writeUInt8(0, i)
                }
            }
            function r(e) {
                var t = e._cipher.encryptBlock(e._prev);
                return n(e._prev),
                t
            }
            var s = e("buffer-xor");
            i.encrypt = function(e, i) {
                for (; e._cache.length < i.length; )
                    e._cache = t.concat([e._cache, r(e)]);
                var n = e._cache.slice(0, i.length);
                return e._cache = e._cache.slice(i.length),
                s(i, n)
            }
        }
        ).call(this, e("buffer").Buffer)
    }
    , {
        buffer: 179,
        "buffer-xor": 19
    }],
    17: [function(e, t, i) {
        i.encrypt = function(e, t) {
            return e._cipher.encryptBlock(t)
        }
        ,
        i.decrypt = function(e, t) {
            return e._cipher.decryptBlock(t)
        }
    }
    , {}],
    18: [function(e, t, i) {
        (function(t) {
            function n(e) {
                return e._prev = e._cipher.encryptBlock(e._prev),
                e._prev
            }
            var r = e("buffer-xor");
            i.encrypt = function(e, i) {
                for (; e._cache.length < i.length; )
                    e._cache = t.concat([e._cache, n(e)]);
                var s = e._cache.slice(0, i.length);
                return e._cache = e._cache.slice(i.length),
                r(i, s)
            }
        }
        ).call(this, e("buffer").Buffer)
    }
    , {
        buffer: 179,
        "buffer-xor": 19
    }],
    19: [function(e, t, i) {
        (function(e) {
            t.exports = function(t, i) {
                for (var n = Math.min(t.length, i.length), r = new e(n), s = 0; s < n; ++s)
                    r[s] = t[s] ^ i[s];
                return r
            }
        }
        ).call(this, e("buffer").Buffer)
    }
    , {
        buffer: 179
    }],
    20: [function(e, t, i) {
        (function(i) {
            function n(e, t, o, a) {
                return this instanceof n ? (s.call(this),
                this._cipher = new r.AES(t),
                this._prev = new i(o.length),
                this._cache = new i(""),
                this._secCache = new i(""),
                this._decrypt = a,
                o.copy(this._prev),
                void (this._mode = e)) : new n(e,t,o)
            }
            var r = e("./aes")
              , s = e("./cipherBase")
              , o = e("inherits");
            o(n, s),
            t.exports = n,
            n.prototype._update = function(e) {
                return this._mode.encrypt(this, e, this._decrypt)
            }
            ,
            n.prototype._final = function() {
                this._cipher.scrub()
            }
        }
        ).call(this, e("buffer").Buffer)
    }
    , {
        "./aes": 4,
        "./cipherBase": 7,
        buffer: 179,
        inherits: 147
    }],
    21: [function(e, t, i) {
        function n(e, t) {
            var i, n;
            if (e = e.toLowerCase(),
            d[e])
                i = d[e].key,
                n = d[e].iv;
            else {
                if (!u[e])
                    throw new TypeError("invalid suite type");
                i = 8 * u[e].key,
                n = u[e].iv
            }
            var r = c(t, !1, i, n);
            return s(e, r.key, r.iv)
        }
        function r(e, t) {
            var i, n;
            if (e = e.toLowerCase(),
            d[e])
                i = d[e].key,
                n = d[e].iv;
            else {
                if (!u[e])
                    throw new TypeError("invalid suite type");
                i = 8 * u[e].key,
                n = u[e].iv
            }
            var r = c(t, !1, i, n);
            return o(e, r.key, r.iv)
        }
        function s(e, t, i) {
            if (e = e.toLowerCase(),
            d[e])
                return l.createCipheriv(e, t, i);
            if (u[e])
                return new h({
                    key: t,
                    iv: i,
                    mode: e
                });
            throw new TypeError("invalid suite type")
        }
        function o(e, t, i) {
            if (e = e.toLowerCase(),
            d[e])
                return l.createDecipheriv(e, t, i);
            if (u[e])
                return new h({
                    key: t,
                    iv: i,
                    mode: e,
                    decrypt: !0
                });
            throw new TypeError("invalid suite type")
        }
        function a() {
            return Object.keys(u).concat(l.getCiphers())
        }
        var c = e("evp_bytestokey")
          , l = e("browserify-aes/browser")
          , h = e("browserify-des")
          , u = e("browserify-des/modes")
          , d = e("browserify-aes/modes");
        i.createCipher = i.Cipher = n,
        i.createCipheriv = i.Cipheriv = s,
        i.createDecipher = i.Decipher = r,
        i.createDecipheriv = i.Decipheriv = o,
        i.listCiphers = i.getCiphers = a
    }
    , {
        "browserify-aes/browser": 24,
        "browserify-aes/modes": 28,
        "browserify-des": 39,
        "browserify-des/modes": 40,
        evp_bytestokey: 49
    }],
    22: [function(e, t, i) {
        arguments[4][4][0].apply(i, arguments)
    }
    , {
        buffer: 179,
        dup: 4
    }],
    23: [function(e, t, i) {
        (function(i) {
            function n(e, t, r, a) {
                if (!(this instanceof n))
                    return new n(e,t,r);
                o.call(this),
                this._finID = i.concat([r, new i([0, 0, 0, 1])]),
                r = i.concat([r, new i([0, 0, 0, 2])]),
                this._cipher = new s.AES(t),
                this._prev = new i(r.length),
                this._cache = new i(""),
                this._secCache = new i(""),
                this._decrypt = a,
                this._alen = 0,
                this._len = 0,
                r.copy(this._prev),
                this._mode = e;
                var l = new i(4);
                l.fill(0),
                this._ghash = new c(this._cipher.encryptBlock(l)),
                this._authTag = null,
                this._called = !1
            }
            function r(e, t) {
                var i = 0;
                e.length !== t.length && i++;
                for (var n = Math.min(e.length, t.length), r = -1; ++r < n; )
                    i += e[r] ^ t[r];
                return i
            }
            var s = e("./aes")
              , o = e("cipher-base")
              , a = e("inherits")
              , c = e("./ghash")
              , l = e("buffer-xor");
            a(n, o),
            t.exports = n,
            n.prototype._update = function(e) {
                if (!this._called && this._alen) {
                    var t = 16 - this._alen % 16;
                    t < 16 && (t = new i(t),
                    t.fill(0),
                    this._ghash.update(t))
                }
                this._called = !0;
                var n = this._mode.encrypt(this, e);
                return this._decrypt ? this._ghash.update(e) : this._ghash.update(n),
                this._len += e.length,
                n
            }
            ,
            n.prototype._final = function() {
                if (this._decrypt && !this._authTag)
                    throw new Error("Unsupported state or unable to authenticate data");
                var e = l(this._ghash["final"](8 * this._alen, 8 * this._len), this._cipher.encryptBlock(this._finID));
                if (this._decrypt) {
                    if (r(e, this._authTag))
                        throw new Error("Unsupported state or unable to authenticate data")
                } else
                    this._authTag = e;
                this._cipher.scrub()
            }
            ,
            n.prototype.getAuthTag = function() {
                if (!this._decrypt && i.isBuffer(this._authTag))
                    return this._authTag;
                throw new Error("Attempting to get auth tag in unsupported state")
            }
            ,
            n.prototype.setAuthTag = function(e) {
                if (!this._decrypt)
                    throw new Error("Attempting to set auth tag in unsupported state");
                this._authTag = e
            }
            ,
            n.prototype.setAAD = function(e) {
                if (this._called)
                    throw new Error("Attempting to set AAD in unsupported state");
                this._ghash.update(e),
                this._alen += e.length
            }
        }
        ).call(this, e("buffer").Buffer)
    }
    , {
        "./aes": 22,
        "./ghash": 27,
        buffer: 179,
        "buffer-xor": 36,
        "cipher-base": 37,
        inherits: 147
    }],
    24: [function(e, t, i) {
        arguments[4][6][0].apply(i, arguments)
    }
    , {
        "./decrypter": 25,
        "./encrypter": 26,
        "./modes": 28,
        dup: 6
    }],
    25: [function(e, t, i) {
        (function(t) {
            function n(e, i, s) {
                return this instanceof n ? (l.call(this),
                this._cache = new r,
                this._last = void 0,
                this._cipher = new c.AES(i),
                this._prev = new t(s.length),
                s.copy(this._prev),
                this._mode = e,
                void (this._autopadding = !0)) : new n(e,i,s)
            }
            function r() {
                return this instanceof r ? void (this.cache = new t("")) : new r
            }
            function s(e) {
                for (var t = e[15], i = -1; ++i < t; )
                    if (e[i + (16 - t)] !== t)
                        throw new Error("unable to decrypt data");
                if (16 !== t)
                    return e.slice(0, 16 - t)
            }
            function o(e, i, r) {
                var s = u[e.toLowerCase()];
                if (!s)
                    throw new TypeError("invalid suite type");
                if ("string" == typeof r && (r = new t(r)),
                "string" == typeof i && (i = new t(i)),
                i.length !== s.key / 8)
                    throw new TypeError("invalid key length " + i.length);
                if (r.length !== s.iv)
                    throw new TypeError("invalid iv length " + r.length);
                return "stream" === s.type ? new d(m[s.mode],i,r,(!0)) : "auth" === s.type ? new f(m[s.mode],i,r,(!0)) : new n(m[s.mode],i,r)
            }
            function a(e, t) {
                var i = u[e.toLowerCase()];
                if (!i)
                    throw new TypeError("invalid suite type");
                var n = p(t, !1, i.key, i.iv);
                return o(e, n.key, n.iv)
            }
            var c = e("./aes")
              , l = e("cipher-base")
              , h = e("inherits")
              , u = e("./modes")
              , d = e("./streamCipher")
              , f = e("./authCipher")
              , p = e("evp_bytestokey");
            h(n, l),
            n.prototype._update = function(e) {
                this._cache.add(e);
                for (var i, n, r = []; i = this._cache.get(this._autopadding); )
                    n = this._mode.decrypt(this, i),
                    r.push(n);
                return t.concat(r)
            }
            ,
            n.prototype._final = function() {
                var e = this._cache.flush();
                if (this._autopadding)
                    return s(this._mode.decrypt(this, e));
                if (e)
                    throw new Error("data not multiple of block length")
            }
            ,
            n.prototype.setAutoPadding = function(e) {
                return this._autopadding = !!e,
                this
            }
            ,
            r.prototype.add = function(e) {
                this.cache = t.concat([this.cache, e])
            }
            ,
            r.prototype.get = function(e) {
                var t;
                if (e) {
                    if (this.cache.length > 16)
                        return t = this.cache.slice(0, 16),
                        this.cache = this.cache.slice(16),
                        t
                } else if (this.cache.length >= 16)
                    return t = this.cache.slice(0, 16),
                    this.cache = this.cache.slice(16),
                    t;
                return null
            }
            ,
            r.prototype.flush = function() {
                if (this.cache.length)
                    return this.cache
            }
            ;
            var m = {
                ECB: e("./modes/ecb"),
                CBC: e("./modes/cbc"),
                CFB: e("./modes/cfb"),
                CFB8: e("./modes/cfb8"),
                CFB1: e("./modes/cfb1"),
                OFB: e("./modes/ofb"),
                CTR: e("./modes/ctr"),
                GCM: e("./modes/ctr")
            };
            i.createDecipher = a,
            i.createDecipheriv = o
        }
        ).call(this, e("buffer").Buffer)
    }
    , {
        "./aes": 22,
        "./authCipher": 23,
        "./modes": 28,
        "./modes/cbc": 29,
        "./modes/cfb": 30,
        "./modes/cfb1": 31,
        "./modes/cfb8": 32,
        "./modes/ctr": 33,
        "./modes/ecb": 34,
        "./modes/ofb": 35,
        "./streamCipher": 38,
        buffer: 179,
        "cipher-base": 37,
        evp_bytestokey: 49,
        inherits: 147
    }],
    26: [function(e, t, i) {
        (function(t) {
            function n(e, i, s) {
                return this instanceof n ? (c.call(this),
                this._cache = new r,
                this._cipher = new a.AES(i),
                this._prev = new t(s.length),
                s.copy(this._prev),
                this._mode = e,
                void (this._autopadding = !0)) : new n(e,i,s)
            }
            function r() {
                return this instanceof r ? void (this.cache = new t("")) : new r
            }
            function s(e, i, r) {
                var s = h[e.toLowerCase()];
                if (!s)
                    throw new TypeError("invalid suite type");
                if ("string" == typeof r && (r = new t(r)),
                "string" == typeof i && (i = new t(i)),
                i.length !== s.key / 8)
                    throw new TypeError("invalid key length " + i.length);
                if (r.length !== s.iv)
                    throw new TypeError("invalid iv length " + r.length);
                return "stream" === s.type ? new d(p[s.mode],i,r) : "auth" === s.type ? new f(p[s.mode],i,r) : new n(p[s.mode],i,r)
            }
            function o(e, t) {
                var i = h[e.toLowerCase()];
                if (!i)
                    throw new TypeError("invalid suite type");
                var n = u(t, !1, i.key, i.iv);
                return s(e, n.key, n.iv)
            }
            var a = e("./aes")
              , c = e("cipher-base")
              , l = e("inherits")
              , h = e("./modes")
              , u = e("evp_bytestokey")
              , d = e("./streamCipher")
              , f = e("./authCipher");
            l(n, c),
            n.prototype._update = function(e) {
                this._cache.add(e);
                for (var i, n, r = []; i = this._cache.get(); )
                    n = this._mode.encrypt(this, i),
                    r.push(n);
                return t.concat(r)
            }
            ,
            n.prototype._final = function() {
                var e = this._cache.flush();
                if (this._autopadding)
                    return e = this._mode.encrypt(this, e),
                    this._cipher.scrub(),
                    e;
                if ("10101010101010101010101010101010" !== e.toString("hex"))
                    throw this._cipher.scrub(),
                    new Error("data not multiple of block length")
            }
            ,
            n.prototype.setAutoPadding = function(e) {
                return this._autopadding = !!e,
                this
            }
            ,
            r.prototype.add = function(e) {
                this.cache = t.concat([this.cache, e])
            }
            ,
            r.prototype.get = function() {
                if (this.cache.length > 15) {
                    var e = this.cache.slice(0, 16);
                    return this.cache = this.cache.slice(16),
                    e
                }
                return null
            }
            ,
            r.prototype.flush = function() {
                for (var e = 16 - this.cache.length, i = new t(e), n = -1; ++n < e; )
                    i.writeUInt8(e, n);
                var r = t.concat([this.cache, i]);
                return r
            }
            ;
            var p = {
                ECB: e("./modes/ecb"),
                CBC: e("./modes/cbc"),
                CFB: e("./modes/cfb"),
                CFB8: e("./modes/cfb8"),
                CFB1: e("./modes/cfb1"),
                OFB: e("./modes/ofb"),
                CTR: e("./modes/ctr"),
                GCM: e("./modes/ctr")
            };
            i.createCipheriv = s,
            i.createCipher = o
        }
        ).call(this, e("buffer").Buffer)
    }
    , {
        "./aes": 22,
        "./authCipher": 23,
        "./modes": 28,
        "./modes/cbc": 29,
        "./modes/cfb": 30,
        "./modes/cfb1": 31,
        "./modes/cfb8": 32,
        "./modes/ctr": 33,
        "./modes/ecb": 34,
        "./modes/ofb": 35,
        "./streamCipher": 38,
        buffer: 179,
        "cipher-base": 37,
        evp_bytestokey: 49,
        inherits: 147
    }],
    27: [function(e, t, i) {
        arguments[4][10][0].apply(i, arguments)
    }
    , {
        buffer: 179,
        dup: 10
    }],
    28: [function(e, t, i) {
        arguments[4][11][0].apply(i, arguments)
    }
    , {
        dup: 11
    }],
    29: [function(e, t, i) {
        arguments[4][12][0].apply(i, arguments)
    }
    , {
        "buffer-xor": 36,
        dup: 12
    }],
    30: [function(e, t, i) {
        arguments[4][13][0].apply(i, arguments)
    }
    , {
        buffer: 179,
        "buffer-xor": 36,
        dup: 13
    }],
    31: [function(e, t, i) {
        arguments[4][14][0].apply(i, arguments)
    }
    , {
        buffer: 179,
        dup: 14
    }],
    32: [function(e, t, i) {
        arguments[4][15][0].apply(i, arguments)
    }
    , {
        buffer: 179,
        dup: 15
    }],
    33: [function(e, t, i) {
        arguments[4][16][0].apply(i, arguments)
    }
    , {
        buffer: 179,
        "buffer-xor": 36,
        dup: 16
    }],
    34: [function(e, t, i) {
        arguments[4][17][0].apply(i, arguments)
    }
    , {
        dup: 17
    }],
    35: [function(e, t, i) {
        arguments[4][18][0].apply(i, arguments)
    }
    , {
        buffer: 179,
        "buffer-xor": 36,
        dup: 18
    }],
    36: [function(e, t, i) {
        arguments[4][19][0].apply(i, arguments)
    }
    , {
        buffer: 179,
        dup: 19
    }],
    37: [function(e, t, i) {
        (function(i) {
            function n(e) {
                r.call(this),
                this.hashMode = "string" == typeof e,
                this.hashMode ? this[e] = this._finalOrDigest : this["final"] = this._finalOrDigest,
                this._decoder = null,
                this._encoding = null
            }
            var r = e("stream").Transform
              , s = e("inherits")
              , o = e("string_decoder").StringDecoder;
            t.exports = n,
            s(n, r),
            n.prototype.update = function(e, t, n) {
                "string" == typeof e && (e = new i(e,t));
                var r = this._update(e);
                return this.hashMode ? this : (n && (r = this._toString(r, n)),
                r)
            }
            ,
            n.prototype.setAutoPadding = function() {}
            ,
            n.prototype.getAuthTag = function() {
                throw new Error("trying to get auth tag in unsupported state")
            }
            ,
            n.prototype.setAuthTag = function() {
                throw new Error("trying to set auth tag in unsupported state")
            }
            ,
            n.prototype.setAAD = function() {
                throw new Error("trying to set aad in unsupported state")
            }
            ,
            n.prototype._transform = function(e, t, i) {
                var n;
                try {
                    this.hashMode ? this._update(e) : this.push(this._update(e))
                } catch (r) {
                    n = r
                } finally {
                    i(n)
                }
            }
            ,
            n.prototype._flush = function(e) {
                var t;
                try {
                    this.push(this._final())
                } catch (i) {
                    t = i
                } finally {
                    e(t)
                }
            }
            ,
            n.prototype._finalOrDigest = function(e) {
                var t = this._final() || new i("");
                return e && (t = this._toString(t, e, !0)),
                t
            }
            ,
            n.prototype._toString = function(e, t, i) {
                if (this._decoder || (this._decoder = new o(t),
                this._encoding = t),
                this._encoding !== t)
                    throw new Error("can't switch encodings");
                var n = this._decoder.write(e);
                return i && (n += this._decoder.end()),
                n
            }
        }
        ).call(this, e("buffer").Buffer)
    }
    , {
        buffer: 179,
        inherits: 147,
        stream: 200,
        string_decoder: 201
    }],
    38: [function(e, t, i) {
        (function(i) {
            function n(e, t, o, a) {
                return this instanceof n ? (s.call(this),
                this._cipher = new r.AES(t),
                this._prev = new i(o.length),
                this._cache = new i(""),
                this._secCache = new i(""),
                this._decrypt = a,
                o.copy(this._prev),
                void (this._mode = e)) : new n(e,t,o)
            }
            var r = e("./aes")
              , s = e("cipher-base")
              , o = e("inherits");
            o(n, s),
            t.exports = n,
            n.prototype._update = function(e) {
                return this._mode.encrypt(this, e, this._decrypt)
            }
            ,
            n.prototype._final = function() {
                this._cipher.scrub()
            }
        }
        ).call(this, e("buffer").Buffer)
    }
    , {
        "./aes": 22,
        buffer: 179,
        "cipher-base": 37,
        inherits: 147
    }],
    39: [function(e, t, i) {
        (function(i) {
            function n(e) {
                r.call(this);
                var t, n = e.mode.toLowerCase(), s = a[n];
                t = e.decrypt ? "decrypt" : "encrypt";
                var o = e.key;
                "des-ede" !== n && "des-ede-cbc" !== n || (o = i.concat([o, o.slice(0, 8)]));
                var c = e.iv;
                this._des = s.create({
                    key: o,
                    iv: c,
                    type: t
                })
            }
            var r = e("cipher-base")
              , s = e("des.js")
              , o = e("inherits")
              , a = {
                "des-ede3-cbc": s.CBC.instantiate(s.EDE),
                "des-ede3": s.EDE,
                "des-ede-cbc": s.CBC.instantiate(s.EDE),
                "des-ede": s.EDE,
                "des-cbc": s.CBC.instantiate(s.DES),
                "des-ecb": s.DES
            };
            a.des = a["des-cbc"],
            a.des3 = a["des-ede3-cbc"],
            t.exports = n,
            o(n, r),
            n.prototype._update = function(e) {
                return new i(this._des.update(e))
            }
            ,
            n.prototype._final = function() {
                return new i(this._des["final"]())
            }
        }
        ).call(this, e("buffer").Buffer)
    }
    , {
        buffer: 179,
        "cipher-base": 41,
        "des.js": 42,
        inherits: 147
    }],
    40: [function(e, t, i) {
        i["des-ecb"] = {
            key: 8,
            iv: 0
        },
        i["des-cbc"] = i.des = {
            key: 8,
            iv: 8
        },
        i["des-ede3-cbc"] = i.des3 = {
            key: 24,
            iv: 8
        },
        i["des-ede3"] = {
            key: 24,
            iv: 0
        },
        i["des-ede-cbc"] = {
            key: 16,
            iv: 8
        },
        i["des-ede"] = {
            key: 16,
            iv: 0
        }
    }
    , {}],
    41: [function(e, t, i) {
        arguments[4][37][0].apply(i, arguments)
    }
    , {
        buffer: 179,
        dup: 37,
        inherits: 147,
        stream: 200,
        string_decoder: 201
    }],
    42: [function(e, t, i) {
        "use strict";
        i.utils = e("./des/utils"),
        i.Cipher = e("./des/cipher"),
        i.DES = e("./des/des"),
        i.CBC = e("./des/cbc"),
        i.EDE = e("./des/ede")
    }
    , {
        "./des/cbc": 43,
        "./des/cipher": 44,
        "./des/des": 45,
        "./des/ede": 46,
        "./des/utils": 47
    }],
    43: [function(e, t, i) {
        "use strict";
        function n(e) {
            s.equal(e.length, 8, "Invalid IV length"),
            this.iv = new Array(8);
            for (var t = 0; t < this.iv.length; t++)
                this.iv[t] = e[t]
        }
        function r(e) {
            function t(t) {
                e.call(this, t),
                this._cbcInit()
            }
            o(t, e);
            for (var i = Object.keys(a), n = 0; n < i.length; n++) {
                var r = i[n];
                t.prototype[r] = a[r]
            }
            return t.create = function(e) {
                return new t(e)
            }
            ,
            t
        }
        var s = e("minimalistic-assert")
          , o = e("inherits")
          , a = {};
        i.instantiate = r,
        a._cbcInit = function() {
            var e = new n(this.options.iv);
            this._cbcState = e
        }
        ,
        a._update = function(e, t, i, n) {
            var r = this._cbcState
              , s = this.constructor.super_.prototype
              , o = r.iv;
            if ("encrypt" === this.type) {
                for (var a = 0; a < this.blockSize; a++)
                    o[a] ^= e[t + a];
                s._update.call(this, o, 0, i, n);
                for (var a = 0; a < this.blockSize; a++)
                    o[a] = i[n + a]
            } else {
                s._update.call(this, e, t, i, n);
                for (var a = 0; a < this.blockSize; a++)
                    i[n + a] ^= o[a];
                for (var a = 0; a < this.blockSize; a++)
                    o[a] = e[t + a]
            }
        }
    }
    , {
        inherits: 147,
        "minimalistic-assert": 48
    }],
    44: [function(e, t, i) {
        "use strict";
        function n(e) {
            this.options = e,
            this.type = this.options.type,
            this.blockSize = 8,
            this._init(),
            this.buffer = new Array(this.blockSize),
            this.bufferOff = 0
        }
        var r = e("minimalistic-assert");
        t.exports = n,
        n.prototype._init = function() {}
        ,
        n.prototype.update = function(e) {
            return 0 === e.length ? [] : "decrypt" === this.type ? this._updateDecrypt(e) : this._updateEncrypt(e)
        }
        ,
        n.prototype._buffer = function(e, t) {
            for (var i = Math.min(this.buffer.length - this.bufferOff, e.length - t), n = 0; n < i; n++)
                this.buffer[this.bufferOff + n] = e[t + n];
            return this.bufferOff += i,
            i
        }
        ,
        n.prototype._flushBuffer = function(e, t) {
            return this._update(this.buffer, 0, e, t),
            this.bufferOff = 0,
            this.blockSize
        }
        ,
        n.prototype._updateEncrypt = function(e) {
            var t = 0
              , i = 0
              , n = (this.bufferOff + e.length) / this.blockSize | 0
              , r = new Array(n * this.blockSize);
            0 !== this.bufferOff && (t += this._buffer(e, t),
            this.bufferOff === this.buffer.length && (i += this._flushBuffer(r, i)));
            for (var s = e.length - (e.length - t) % this.blockSize; t < s; t += this.blockSize)
                this._update(e, t, r, i),
                i += this.blockSize;
            for (; t < e.length; t++,
            this.bufferOff++)
                this.buffer[this.bufferOff] = e[t];
            return r
        }
        ,
        n.prototype._updateDecrypt = function(e) {
            for (var t = 0, i = 0, n = Math.ceil((this.bufferOff + e.length) / this.blockSize) - 1, r = new Array(n * this.blockSize); n > 0; n--)
                t += this._buffer(e, t),
                i += this._flushBuffer(r, i);
            return t += this._buffer(e, t),
            r
        }
        ,
        n.prototype["final"] = function(e) {
            var t;
            e && (t = this.update(e));
            var i;
            return i = "encrypt" === this.type ? this._finalEncrypt() : this._finalDecrypt(),
            t ? t.concat(i) : i
        }
        ,
        n.prototype._pad = function(e, t) {
            if (0 === t)
                return !1;
            for (; t < e.length; )
                e[t++] = 0;
            return !0
        }
        ,
        n.prototype._finalEncrypt = function() {
            if (!this._pad(this.buffer, this.bufferOff))
                return [];
            var e = new Array(this.blockSize);
            return this._update(this.buffer, 0, e, 0),
            e
        }
        ,
        n.prototype._unpad = function(e) {
            return e
        }
        ,
        n.prototype._finalDecrypt = function() {
            r.equal(this.bufferOff, this.blockSize, "Not enough data to decrypt");
            var e = new Array(this.blockSize);
            return this._flushBuffer(e, 0),
            this._unpad(e)
        }
    }
    , {
        "minimalistic-assert": 48
    }],
    45: [function(e, t, i) {
        "use strict";
        function n() {
            this.tmp = new Array(2),
            this.keys = null
        }
        function r(e) {
            l.call(this, e);
            var t = new n;
            this._desState = t,
            this.deriveKeys(t, e.key)
        }
        var s = e("minimalistic-assert")
          , o = e("inherits")
          , a = e("../des")
          , c = a.utils
          , l = a.Cipher;
        o(r, l),
        t.exports = r,
        r.create = function(e) {
            return new r(e)
        }
        ;
        var h = [1, 1, 2, 2, 2, 2, 2, 2, 1, 2, 2, 2, 2, 2, 2, 1];
        r.prototype.deriveKeys = function(e, t) {
            e.keys = new Array(32),
            s.equal(t.length, this.blockSize, "Invalid key length");
            var i = c.readUInt32BE(t, 0)
              , n = c.readUInt32BE(t, 4);
            c.pc1(i, n, e.tmp, 0),
            i = e.tmp[0],
            n = e.tmp[1];
            for (var r = 0; r < e.keys.length; r += 2) {
                var o = h[r >>> 1];
                i = c.r28shl(i, o),
                n = c.r28shl(n, o),
                c.pc2(i, n, e.keys, r)
            }
        }
        ,
        r.prototype._update = function(e, t, i, n) {
            var r = this._desState
              , s = c.readUInt32BE(e, t)
              , o = c.readUInt32BE(e, t + 4);
            c.ip(s, o, r.tmp, 0),
            s = r.tmp[0],
            o = r.tmp[1],
            "encrypt" === this.type ? this._encrypt(r, s, o, r.tmp, 0) : this._decrypt(r, s, o, r.tmp, 0),
            s = r.tmp[0],
            o = r.tmp[1],
            c.writeUInt32BE(i, s, n),
            c.writeUInt32BE(i, o, n + 4)
        }
        ,
        r.prototype._pad = function(e, t) {
            for (var i = e.length - t, n = t; n < e.length; n++)
                e[n] = i;
            return !0
        }
        ,
        r.prototype._unpad = function(e) {
            for (var t = e[e.length - 1], i = e.length - t; i < e.length; i++)
                s.equal(e[i], t);
            return e.slice(0, e.length - t)
        }
        ,
        r.prototype._encrypt = function(e, t, i, n, r) {
            for (var s = t, o = i, a = 0; a < e.keys.length; a += 2) {
                var l = e.keys[a]
                  , h = e.keys[a + 1];
                c.expand(o, e.tmp, 0),
                l ^= e.tmp[0],
                h ^= e.tmp[1];
                var u = c.substitute(l, h)
                  , d = c.permute(u)
                  , f = o;
                o = (s ^ d) >>> 0,
                s = f
            }
            c.rip(o, s, n, r)
        }
        ,
        r.prototype._decrypt = function(e, t, i, n, r) {
            for (var s = i, o = t, a = e.keys.length - 2; a >= 0; a -= 2) {
                var l = e.keys[a]
                  , h = e.keys[a + 1];
                c.expand(s, e.tmp, 0),
                l ^= e.tmp[0],
                h ^= e.tmp[1];
                var u = c.substitute(l, h)
                  , d = c.permute(u)
                  , f = s;
                s = (o ^ d) >>> 0,
                o = f
            }
            c.rip(s, o, n, r)
        }
    }
    , {
        "../des": 42,
        inherits: 147,
        "minimalistic-assert": 48
    }],
    46: [function(e, t, i) {
        "use strict";
        function n(e, t) {
            s.equal(t.length, 24, "Invalid key length");
            var i = t.slice(0, 8)
              , n = t.slice(8, 16)
              , r = t.slice(16, 24);
            "encrypt" === e ? this.ciphers = [l.create({
                type: "encrypt",
                key: i
            }), l.create({
                type: "decrypt",
                key: n
            }), l.create({
                type: "encrypt",
                key: r
            })] : this.ciphers = [l.create({
                type: "decrypt",
                key: r
            }), l.create({
                type: "encrypt",
                key: n
            }), l.create({
                type: "decrypt",
                key: i
            })]
        }
        function r(e) {
            c.call(this, e);
            var t = new n(this.type,this.options.key);
            this._edeState = t
        }
        var s = e("minimalistic-assert")
          , o = e("inherits")
          , a = e("../des")
          , c = a.Cipher
          , l = a.DES;
        o(r, c),
        t.exports = r,
        r.create = function(e) {
            return new r(e)
        }
        ,
        r.prototype._update = function(e, t, i, n) {
            var r = this._edeState;
            r.ciphers[0]._update(e, t, i, n),
            r.ciphers[1]._update(i, n, i, n),
            r.ciphers[2]._update(i, n, i, n)
        }
        ,
        r.prototype._pad = l.prototype._pad,
        r.prototype._unpad = l.prototype._unpad
    }
    , {
        "../des": 42,
        inherits: 147,
        "minimalistic-assert": 48
    }],
    47: [function(e, t, i) {
        "use strict";
        i.readUInt32BE = function(e, t) {
            var i = e[0 + t] << 24 | e[1 + t] << 16 | e[2 + t] << 8 | e[3 + t];
            return i >>> 0
        }
        ,
        i.writeUInt32BE = function(e, t, i) {
            e[0 + i] = t >>> 24,
            e[1 + i] = t >>> 16 & 255,
            e[2 + i] = t >>> 8 & 255,
            e[3 + i] = 255 & t
        }
        ,
        i.ip = function(e, t, i, n) {
            for (var r = 0, s = 0, o = 6; o >= 0; o -= 2) {
                for (var a = 0; a <= 24; a += 8)
                    r <<= 1,
                    r |= t >>> a + o & 1;
                for (var a = 0; a <= 24; a += 8)
                    r <<= 1,
                    r |= e >>> a + o & 1
            }
            for (var o = 6; o >= 0; o -= 2) {
                for (var a = 1; a <= 25; a += 8)
                    s <<= 1,
                    s |= t >>> a + o & 1;
                for (var a = 1; a <= 25; a += 8)
                    s <<= 1,
                    s |= e >>> a + o & 1
            }
            i[n + 0] = r >>> 0,
            i[n + 1] = s >>> 0
        }
        ,
        i.rip = function(e, t, i, n) {
            for (var r = 0, s = 0, o = 0; o < 4; o++)
                for (var a = 24; a >= 0; a -= 8)
                    r <<= 1,
                    r |= t >>> a + o & 1,
                    r <<= 1,
                    r |= e >>> a + o & 1;
            for (var o = 4; o < 8; o++)
                for (var a = 24; a >= 0; a -= 8)
                    s <<= 1,
                    s |= t >>> a + o & 1,
                    s <<= 1,
                    s |= e >>> a + o & 1;
            i[n + 0] = r >>> 0,
            i[n + 1] = s >>> 0
        }
        ,
        i.pc1 = function(e, t, i, n) {
            for (var r = 0, s = 0, o = 7; o >= 5; o--) {
                for (var a = 0; a <= 24; a += 8)
                    r <<= 1,
                    r |= t >> a + o & 1;
                for (var a = 0; a <= 24; a += 8)
                    r <<= 1,
                    r |= e >> a + o & 1
            }
            for (var a = 0; a <= 24; a += 8)
                r <<= 1,
                r |= t >> a + o & 1;
            for (var o = 1; o <= 3; o++) {
                for (var a = 0; a <= 24; a += 8)
                    s <<= 1,
                    s |= t >> a + o & 1;
                for (var a = 0; a <= 24; a += 8)
                    s <<= 1,
                    s |= e >> a + o & 1
            }
            for (var a = 0; a <= 24; a += 8)
                s <<= 1,
                s |= e >> a + o & 1;
            i[n + 0] = r >>> 0,
            i[n + 1] = s >>> 0
        }
        ,
        i.r28shl = function(e, t) {
            return e << t & 268435455 | e >>> 28 - t
        }
        ;
        var n = [14, 11, 17, 4, 27, 23, 25, 0, 13, 22, 7, 18, 5, 9, 16, 24, 2, 20, 12, 21, 1, 8, 15, 26, 15, 4, 25, 19, 9, 1, 26, 16, 5, 11, 23, 8, 12, 7, 17, 0, 22, 3, 10, 14, 6, 20, 27, 24];
        i.pc2 = function(e, t, i, r) {
            for (var s = 0, o = 0, a = n.length >>> 1, c = 0; c < a; c++)
                s <<= 1,
                s |= e >>> n[c] & 1;
            for (var c = a; c < n.length; c++)
                o <<= 1,
                o |= t >>> n[c] & 1;
            i[r + 0] = s >>> 0,
            i[r + 1] = o >>> 0
        }
        ,
        i.expand = function(e, t, i) {
            var n = 0
              , r = 0;
            n = (1 & e) << 5 | e >>> 27;
            for (var s = 23; s >= 15; s -= 4)
                n <<= 6,
                n |= e >>> s & 63;
            for (var s = 11; s >= 3; s -= 4)
                r |= e >>> s & 63,
                r <<= 6;
            r |= (31 & e) << 1 | e >>> 31,
            t[i + 0] = n >>> 0,
            t[i + 1] = r >>> 0
        }
        ;
        var r = [14, 0, 4, 15, 13, 7, 1, 4, 2, 14, 15, 2, 11, 13, 8, 1, 3, 10, 10, 6, 6, 12, 12, 11, 5, 9, 9, 5, 0, 3, 7, 8, 4, 15, 1, 12, 14, 8, 8, 2, 13, 4, 6, 9, 2, 1, 11, 7, 15, 5, 12, 11, 9, 3, 7, 14, 3, 10, 10, 0, 5, 6, 0, 13, 15, 3, 1, 13, 8, 4, 14, 7, 6, 15, 11, 2, 3, 8, 4, 14, 9, 12, 7, 0, 2, 1, 13, 10, 12, 6, 0, 9, 5, 11, 10, 5, 0, 13, 14, 8, 7, 10, 11, 1, 10, 3, 4, 15, 13, 4, 1, 2, 5, 11, 8, 6, 12, 7, 6, 12, 9, 0, 3, 5, 2, 14, 15, 9, 10, 13, 0, 7, 9, 0, 14, 9, 6, 3, 3, 4, 15, 6, 5, 10, 1, 2, 13, 8, 12, 5, 7, 14, 11, 12, 4, 11, 2, 15, 8, 1, 13, 1, 6, 10, 4, 13, 9, 0, 8, 6, 15, 9, 3, 8, 0, 7, 11, 4, 1, 15, 2, 14, 12, 3, 5, 11, 10, 5, 14, 2, 7, 12, 7, 13, 13, 8, 14, 11, 3, 5, 0, 6, 6, 15, 9, 0, 10, 3, 1, 4, 2, 7, 8, 2, 5, 12, 11, 1, 12, 10, 4, 14, 15, 9, 10, 3, 6, 15, 9, 0, 0, 6, 12, 10, 11, 1, 7, 13, 13, 8, 15, 9, 1, 4, 3, 5, 14, 11, 5, 12, 2, 7, 8, 2, 4, 14, 2, 14, 12, 11, 4, 2, 1, 12, 7, 4, 10, 7, 11, 13, 6, 1, 8, 5, 5, 0, 3, 15, 15, 10, 13, 3, 0, 9, 14, 8, 9, 6, 4, 11, 2, 8, 1, 12, 11, 7, 10, 1, 13, 14, 7, 2, 8, 13, 15, 6, 9, 15, 12, 0, 5, 9, 6, 10, 3, 4, 0, 5, 14, 3, 12, 10, 1, 15, 10, 4, 15, 2, 9, 7, 2, 12, 6, 9, 8, 5, 0, 6, 13, 1, 3, 13, 4, 14, 14, 0, 7, 11, 5, 3, 11, 8, 9, 4, 14, 3, 15, 2, 5, 12, 2, 9, 8, 5, 12, 15, 3, 10, 7, 11, 0, 14, 4, 1, 10, 7, 1, 6, 13, 0, 11, 8, 6, 13, 4, 13, 11, 0, 2, 11, 14, 7, 15, 4, 0, 9, 8, 1, 13, 10, 3, 14, 12, 3, 9, 5, 7, 12, 5, 2, 10, 15, 6, 8, 1, 6, 1, 6, 4, 11, 11, 13, 13, 8, 12, 1, 3, 4, 7, 10, 14, 7, 10, 9, 15, 5, 6, 0, 8, 15, 0, 14, 5, 2, 9, 3, 2, 12, 13, 1, 2, 15, 8, 13, 4, 8, 6, 10, 15, 3, 11, 7, 1, 4, 10, 12, 9, 5, 3, 6, 14, 11, 5, 0, 0, 14, 12, 9, 7, 2, 7, 2, 11, 1, 4, 14, 1, 7, 9, 4, 12, 10, 14, 8, 2, 13, 0, 15, 6, 12, 10, 9, 13, 0, 15, 3, 3, 5, 5, 6, 8, 11];
        i.substitute = function(e, t) {
            for (var i = 0, n = 0; n < 4; n++) {
                var s = e >>> 18 - 6 * n & 63
                  , o = r[64 * n + s];
                i <<= 4,
                i |= o
            }
            for (var n = 0; n < 4; n++) {
                var s = t >>> 18 - 6 * n & 63
                  , o = r[256 + 64 * n + s];
                i <<= 4,
                i |= o
            }
            return i >>> 0
        }
        ;
        var s = [16, 25, 12, 11, 3, 20, 4, 15, 31, 17, 9, 6, 27, 14, 1, 22, 30, 24, 8, 18, 0, 5, 29, 23, 13, 19, 2, 26, 10, 21, 28, 7];
        i.permute = function(e) {
            for (var t = 0, i = 0; i < s.length; i++)
                t <<= 1,
                t |= e >>> s[i] & 1;
            return t >>> 0
        }
        ,
        i.padSplit = function(e, t, i) {
            for (var n = e.toString(2); n.length < t; )
                n = "0" + n;
            for (var r = [], s = 0; s < t; s += i)
                r.push(n.slice(s, s + i));
            return r.join(" ")
        }
    }
    , {}],
    48: [function(e, t, i) {
        function n(e, t) {
            if (!e)
                throw new Error(t || "Assertion failed")
        }
        t.exports = n,
        n.equal = function(e, t, i) {
            if (e != t)
                throw new Error(i || "Assertion failed: " + e + " != " + t)
        }
    }
    , {}],
    49: [function(e, t, i) {
        (function(i) {
            function n(e, t, n, s) {
                i.isBuffer(e) || (e = new i(e,"binary")),
                t && !i.isBuffer(t) && (t = new i(t,"binary")),
                n /= 8,
                s = s || 0;
                for (var o, a, c = 0, l = 0, h = new i(n), u = new i(s), d = 0, f = []; ; ) {
                    if (d++ > 0 && f.push(o),
                    f.push(e),
                    t && f.push(t),
                    o = r(i.concat(f)),
                    f = [],
                    a = 0,
                    n > 0)
                        for (; ; ) {
                            if (0 === n)
                                break;
                            if (a === o.length)
                                break;
                            h[c++] = o[a],
                            n--,
                            a++
                        }
                    if (s > 0 && a !== o.length)
                        for (; ; ) {
                            if (0 === s)
                                break;
                            if (a === o.length)
                                break;
                            u[l++] = o[a],
                            s--,
                            a++
                        }
                    if (0 === n && 0 === s)
                        break
                }
                for (a = 0; a < o.length; a++)
                    o[a] = 0;
                return {
                    key: h,
                    iv: u
                }
            }
            var r = e("create-hash/md5");
            t.exports = n
        }
        ).call(this, e("buffer").Buffer)
    }
    , {
        buffer: 179,
        "create-hash/md5": 129
    }],
    50: [function(e, t, i) {
        (function(e) {
            "use strict";
            i["RSA-SHA224"] = i.sha224WithRSAEncryption = {
                sign: "rsa",
                hash: "sha224",
                id: new e("302d300d06096086480165030402040500041c","hex")
            },
            i["RSA-SHA256"] = i.sha256WithRSAEncryption = {
                sign: "rsa",
                hash: "sha256",
                id: new e("3031300d060960864801650304020105000420","hex")
            },
            i["RSA-SHA384"] = i.sha384WithRSAEncryption = {
                sign: "rsa",
                hash: "sha384",
                id: new e("3041300d060960864801650304020205000430","hex")
            },
            i["RSA-SHA512"] = i.sha512WithRSAEncryption = {
                sign: "rsa",
                hash: "sha512",
                id: new e("3051300d060960864801650304020305000440","hex")
            },
            i["RSA-SHA1"] = {
                sign: "rsa",
                hash: "sha1",
                id: new e("3021300906052b0e03021a05000414","hex")
            },
            i["ecdsa-with-SHA1"] = {
                sign: "ecdsa",
                hash: "sha1",
                id: new e("","hex")
            },
            i.DSA = i["DSA-SHA1"] = i["DSA-SHA"] = {
                sign: "dsa",
                hash: "sha1",
                id: new e("","hex")
            },
            i["DSA-SHA224"] = i["DSA-WITH-SHA224"] = {
                sign: "dsa",
                hash: "sha224",
                id: new e("","hex")
            },
            i["DSA-SHA256"] = i["DSA-WITH-SHA256"] = {
                sign: "dsa",
                hash: "sha256",
                id: new e("","hex")
            },
            i["DSA-SHA384"] = i["DSA-WITH-SHA384"] = {
                sign: "dsa",
                hash: "sha384",
                id: new e("","hex")
            },
            i["DSA-SHA512"] = i["DSA-WITH-SHA512"] = {
                sign: "dsa",
                hash: "sha512",
                id: new e("","hex")
            },
            i["DSA-RIPEMD160"] = {
                sign: "dsa",
                hash: "rmd160",
                id: new e("","hex")
            },
            i["RSA-RIPEMD160"] = i.ripemd160WithRSA = {
                sign: "rsa",
                hash: "rmd160",
                id: new e("3021300906052b2403020105000414","hex")
            },
            i["RSA-MD5"] = i.md5WithRSAEncryption = {
                sign: "rsa",
                hash: "md5",
                id: new e("3020300c06082a864886f70d020505000410","hex")
            }
        }
        ).call(this, e("buffer").Buffer)
    }
    , {
        buffer: 179
    }],
    51: [function(e, t, i) {
        (function(i) {
            function n(e) {
                u.Writable.call(this);
                var t = f[e];
                if (!t)
                    throw new Error("Unknown message digest");
                this._hashType = t.hash,
                this._hash = c(t.hash),
                this._tag = t.id,
                this._signType = t.sign
            }
            function r(e) {
                u.Writable.call(this);
                var t = f[e];
                if (!t)
                    throw new Error("Unknown message digest");
                this._hash = c(t.hash),
                this._tag = t.id,
                this._signType = t.sign
            }
            function s(e) {
                return new n(e)
            }
            function o(e) {
                return new r(e)
            }
            var a = e("./algos")
              , c = e("create-hash")
              , l = e("inherits")
              , h = e("./sign")
              , u = e("stream")
              , d = e("./verify")
              , f = {};
            Object.keys(a).forEach(function(e) {
                f[e] = f[e.toLowerCase()] = a[e]
            }),
            l(n, u.Writable),
            n.prototype._write = function(e, t, i) {
                this._hash.update(e),
                i()
            }
            ,
            n.prototype.update = function(e, t) {
                return "string" == typeof e && (e = new i(e,t)),
                this._hash.update(e),
                this
            }
            ,
            n.prototype.sign = function(e, t) {
                this.end();
                var n = this._hash.digest()
                  , r = h(i.concat([this._tag, n]), e, this._hashType, this._signType);
                return t ? r.toString(t) : r
            }
            ,
            l(r, u.Writable),
            r.prototype._write = function(e, t, i) {
                this._hash.update(e),
                i()
            }
            ,
            r.prototype.update = function(e, t) {
                return "string" == typeof e && (e = new i(e,t)),
                this._hash.update(e),
                this
            }
            ,
            r.prototype.verify = function(e, t, n) {
                "string" == typeof t && (t = new i(t,n)),
                this.end();
                var r = this._hash.digest();
                return d(t, i.concat([this._tag, r]), e, this._signType)
            }
            ,
            t.exports = {
                Sign: s,
                Verify: o,
                createSign: s,
                createVerify: o
            }
        }
        ).call(this, e("buffer").Buffer)
    }
    , {
        "./algos": 50,
        "./sign": 99,
        "./verify": 100,
        buffer: 179,
        "create-hash": 127,
        inherits: 147,
        stream: 200
    }],
    52: [function(e, t, i) {
        "use strict";
        i["1.3.132.0.10"] = "secp256k1",
        i["1.3.132.0.33"] = "p224",
        i["1.2.840.10045.3.1.1"] = "p192",
        i["1.2.840.10045.3.1.7"] = "p256",
        i["1.3.132.0.34"] = "p384",
        i["1.3.132.0.35"] = "p521"
    }
    , {}],
    53: [function(e, t, i) {
        !function(t, i) {
            "use strict";
            function n(e, t) {
                if (!e)
                    throw new Error(t || "Assertion failed")
            }
            function r(e, t) {
                e.super_ = t;
                var i = function() {};
                i.prototype = t.prototype,
                e.prototype = new i,
                e.prototype.constructor = e
            }
            function s(e, t, i) {
                return null !== e && "object" == typeof e && Array.isArray(e.words) ? e : (this.negative = 0,
                this.words = null,
                this.length = 0,
                this.red = null,
                void (null !== e && ("le" !== t && "be" !== t || (i = t,
                t = 10),
                this._init(e || 0, t || 10, i || "be"))))
            }
            function o(e, t, i) {
                for (var n = 0, r = Math.min(e.length, i), s = t; s < r; s++) {
                    var o = e.charCodeAt(s) - 48;
                    n <<= 4,
                    n |= o >= 49 && o <= 54 ? o - 49 + 10 : o >= 17 && o <= 22 ? o - 17 + 10 : 15 & o
                }
                return n
            }
            function a(e, t, i, n) {
                for (var r = 0, s = Math.min(e.length, i), o = t; o < s; o++) {
                    var a = e.charCodeAt(o) - 48;
                    r *= n,
                    r += a >= 49 ? a - 49 + 10 : a >= 17 ? a - 17 + 10 : a
                }
                return r
            }
            function c(e) {
                for (var t = new Array(e.bitLength()), i = 0; i < t.length; i++) {
                    var n = i / 26 | 0
                      , r = i % 26;
                    t[i] = (e.words[n] & 1 << r) >>> r
                }
                return t
            }
            function l(e, t, i) {
                i.negative = t.negative ^ e.negative;
                var n = e.length + t.length | 0;
                i.length = n,
                n = n - 1 | 0;
                var r = 0 | e.words[0]
                  , s = 0 | t.words[0]
                  , o = r * s
                  , a = 67108863 & o
                  , c = o / 67108864 | 0;
                i.words[0] = a;
                for (var l = 1; l < n; l++) {
                    for (var h = c >>> 26, u = 67108863 & c, d = Math.min(l, t.length - 1), f = Math.max(0, l - e.length + 1); f <= d; f++) {
                        var p = l - f | 0;
                        r = 0 | e.words[p],
                        s = 0 | t.words[f],
                        o = r * s + u,
                        h += o / 67108864 | 0,
                        u = 67108863 & o
                    }
                    i.words[l] = 0 | u,
                    c = 0 | h
                }
                return 0 !== c ? i.words[l] = 0 | c : i.length--,
                i.strip()
            }
            function h(e, t, i) {
                i.negative = t.negative ^ e.negative,
                i.length = e.length + t.length;
                for (var n = 0, r = 0, s = 0; s < i.length - 1; s++) {
                    var o = r;
                    r = 0;
                    for (var a = 67108863 & n, c = Math.min(s, t.length - 1), l = Math.max(0, s - e.length + 1); l <= c; l++) {
                        var h = s - l
                          , u = 0 | e.words[h]
                          , d = 0 | t.words[l]
                          , f = u * d
                          , p = 67108863 & f;
                        o = o + (f / 67108864 | 0) | 0,
                        p = p + a | 0,
                        a = 67108863 & p,
                        o = o + (p >>> 26) | 0,
                        r += o >>> 26,
                        o &= 67108863
                    }
                    i.words[s] = a,
                    n = o,
                    o = r
                }
                return 0 !== n ? i.words[s] = n : i.length--,
                i.strip()
            }
            function u(e, t, i) {
                var n = new d;
                return n.mulp(e, t, i)
            }
            function d(e, t) {
                this.x = e,
                this.y = t
            }
            function f(e, t) {
                this.name = e,
                this.p = new s(t,16),
                this.n = this.p.bitLength(),
                this.k = new s(1).iushln(this.n).isub(this.p),
                this.tmp = this._tmp()
            }
            function p() {
                f.call(this, "k256", "ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")
            }
            function m() {
                f.call(this, "p224", "ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")
            }
            function g() {
                f.call(this, "p192", "ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")
            }
            function y() {
                f.call(this, "25519", "7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")
            }
            function v(e) {
                if ("string" == typeof e) {
                    var t = s._prime(e);
                    this.m = t.p,
                    this.prime = t
                } else
                    this.m = e,
                    this.prime = null
            }
            function _(e) {
                v.call(this, e),
                this.shift = this.m.bitLength(),
                this.shift % 26 !== 0 && (this.shift += 26 - this.shift % 26),
                this.r = new s(1).iushln(this.shift),
                this.r2 = this.imod(this.r.sqr()),
                this.rinv = this.r._invmp(this.m),
                this.minv = this.rinv.mul(this.r).isubn(1).div(this.m),
                this.minv = this.minv.umod(this.r),
                this.minv = this.r.sub(this.minv)
            }
            "object" == typeof t ? t.exports = s : i.BN = s,
            s.BN = s,
            s.wordSize = 26;
            var b;
            try {
                b = e("buffer").Buffer
            } catch (S) {}
            s.max = function(e, t) {
                return e.cmp(t) > 0 ? e : t
            }
            ,
            s.min = function(e, t) {
                return e.cmp(t) < 0 ? e : t
            }
            ,
            s.prototype._init = function(e, t, i) {
                if ("number" == typeof e)
                    return this._initNumber(e, t, i);
                if ("object" == typeof e)
                    return this._initArray(e, t, i);
                "hex" === t && (t = 16),
                n(t === (0 | t) && t >= 2 && t <= 36),
                e = e.toString().replace(/\s+/g, "");
                var r = 0;
                "-" === e[0] && r++,
                16 === t ? this._parseHex(e, r) : this._parseBase(e, t, r),
                "-" === e[0] && (this.negative = 1),
                this.strip(),
                "le" === i && this._initArray(this.toArray(), t, i)
            }
            ,
            s.prototype._initNumber = function(e, t, i) {
                e < 0 && (this.negative = 1,
                e = -e),
                e < 67108864 ? (this.words = [67108863 & e],
                this.length = 1) : e < 4503599627370496 ? (this.words = [67108863 & e, e / 67108864 & 67108863],
                this.length = 2) : (n(e < 9007199254740992),
                this.words = [67108863 & e, e / 67108864 & 67108863, 1],
                this.length = 3),
                "le" === i && this._initArray(this.toArray(), t, i)
            }
            ,
            s.prototype._initArray = function(e, t, i) {
                if (n("number" == typeof e.length),
                e.length <= 0)
                    return this.words = [0],
                    this.length = 1,
                    this;
                this.length = Math.ceil(e.length / 3),
                this.words = new Array(this.length);
                for (var r = 0; r < this.length; r++)
                    this.words[r] = 0;
                var s, o, a = 0;
                if ("be" === i)
                    for (r = e.length - 1,
                    s = 0; r >= 0; r -= 3)
                        o = e[r] | e[r - 1] << 8 | e[r - 2] << 16,
                        this.words[s] |= o << a & 67108863,
                        this.words[s + 1] = o >>> 26 - a & 67108863,
                        a += 24,
                        a >= 26 && (a -= 26,
                        s++);
                else if ("le" === i)
                    for (r = 0,
                    s = 0; r < e.length; r += 3)
                        o = e[r] | e[r + 1] << 8 | e[r + 2] << 16,
                        this.words[s] |= o << a & 67108863,
                        this.words[s + 1] = o >>> 26 - a & 67108863,
                        a += 24,
                        a >= 26 && (a -= 26,
                        s++);
                return this.strip()
            }
            ,
            s.prototype._parseHex = function(e, t) {
                this.length = Math.ceil((e.length - t) / 6),
                this.words = new Array(this.length);
                for (var i = 0; i < this.length; i++)
                    this.words[i] = 0;
                var n, r, s = 0;
                for (i = e.length - 6,
                n = 0; i >= t; i -= 6)
                    r = o(e, i, i + 6),
                    this.words[n] |= r << s & 67108863,
                    this.words[n + 1] |= r >>> 26 - s & 4194303,
                    s += 24,
                    s >= 26 && (s -= 26,
                    n++);
                i + 6 !== t && (r = o(e, t, i + 6),
                this.words[n] |= r << s & 67108863,
                this.words[n + 1] |= r >>> 26 - s & 4194303),
                this.strip()
            }
            ,
            s.prototype._parseBase = function(e, t, i) {
                this.words = [0],
                this.length = 1;
                for (var n = 0, r = 1; r <= 67108863; r *= t)
                    n++;
                n--,
                r = r / t | 0;
                for (var s = e.length - i, o = s % n, c = Math.min(s, s - o) + i, l = 0, h = i; h < c; h += n)
                    l = a(e, h, h + n, t),
                    this.imuln(r),
                    this.words[0] + l < 67108864 ? this.words[0] += l : this._iaddn(l);
                if (0 !== o) {
                    var u = 1;
                    for (l = a(e, h, e.length, t),
                    h = 0; h < o; h++)
                        u *= t;
                    this.imuln(u),
                    this.words[0] + l < 67108864 ? this.words[0] += l : this._iaddn(l)
                }
            }
            ,
            s.prototype.copy = function(e) {
                e.words = new Array(this.length);
                for (var t = 0; t < this.length; t++)
                    e.words[t] = this.words[t];
                e.length = this.length,
                e.negative = this.negative,
                e.red = this.red
            }
            ,
            s.prototype.clone = function() {
                var e = new s(null);
                return this.copy(e),
                e
            }
            ,
            s.prototype.strip = function() {
                for (; this.length > 1 && 0 === this.words[this.length - 1]; )
                    this.length--;
                return this._normSign()
            }
            ,
            s.prototype._normSign = function() {
                return 1 === this.length && 0 === this.words[0] && (this.negative = 0),
                this
            }
            ,
            s.prototype.inspect = function() {
                return (this.red ? "<BN-R: " : "<BN: ") + this.toString(16) + ">"
            }
            ;
            var E = ["", "0", "00", "000", "0000", "00000", "000000", "0000000", "00000000", "000000000", "0000000000", "00000000000", "000000000000", "0000000000000", "00000000000000", "000000000000000", "0000000000000000", "00000000000000000", "000000000000000000", "0000000000000000000", "00000000000000000000", "000000000000000000000", "0000000000000000000000", "00000000000000000000000", "000000000000000000000000", "0000000000000000000000000"]
              , P = [0, 0, 25, 16, 12, 11, 10, 9, 8, 8, 7, 7, 7, 7, 6, 6, 6, 6, 6, 6, 6, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5]
              , T = [0, 0, 33554432, 43046721, 16777216, 48828125, 60466176, 40353607, 16777216, 43046721, 1e7, 19487171, 35831808, 62748517, 7529536, 11390625, 16777216, 24137569, 34012224, 47045881, 64e6, 4084101, 5153632, 6436343, 7962624, 9765625, 11881376, 14348907, 17210368, 20511149, 243e5, 28629151, 33554432, 39135393, 45435424, 52521875, 60466176];
            s.prototype.toString = function(e, t) {
                e = e || 10,
                t = 0 | t || 1;
                var i;
                if (16 === e || "hex" === e) {
                    i = "";
                    for (var r = 0, s = 0, o = 0; o < this.length; o++) {
                        var a = this.words[o]
                          , c = (16777215 & (a << r | s)).toString(16);
                        s = a >>> 24 - r & 16777215,
                        i = 0 !== s || o !== this.length - 1 ? E[6 - c.length] + c + i : c + i,
                        r += 2,
                        r >= 26 && (r -= 26,
                        o--)
                    }
                    for (0 !== s && (i = s.toString(16) + i); i.length % t !== 0; )
                        i = "0" + i;
                    return 0 !== this.negative && (i = "-" + i),
                    i
                }
                if (e === (0 | e) && e >= 2 && e <= 36) {
                    var l = P[e]
                      , h = T[e];
                    i = "";
                    var u = this.clone();
                    for (u.negative = 0; !u.isZero(); ) {
                        var d = u.modn(h).toString(e);
                        u = u.idivn(h),
                        i = u.isZero() ? d + i : E[l - d.length] + d + i
                    }
                    for (this.isZero() && (i = "0" + i); i.length % t !== 0; )
                        i = "0" + i;
                    return 0 !== this.negative && (i = "-" + i),
                    i
                }
                n(!1, "Base should be between 2 and 36")
            }
            ,
            s.prototype.toNumber = function() {
                var e, t = this.bitLength();
                return t <= 26 ? e = this.words[0] : t <= 52 ? e = 67108864 * this.words[1] + this.words[0] : 53 === t ? e = 4503599627370496 + 67108864 * this.words[1] + this.words[0] : n(!1, "Number can only safely store up to 53 bits"),
                0 !== this.negative ? -e : e
            }
            ,
            s.prototype.toJSON = function() {
                return this.toString(16)
            }
            ,
            s.prototype.toBuffer = function(e, t) {
                return n("undefined" != typeof b),
                this.toArrayLike(b, e, t)
            }
            ,
            s.prototype.toArray = function(e, t) {
                return this.toArrayLike(Array, e, t)
            }
            ,
            s.prototype.toArrayLike = function(e, t, i) {
                var r = this.byteLength()
                  , s = i || Math.max(1, r);
                n(r <= s, "byte array longer than desired length"),
                n(s > 0, "Requested array length <= 0"),
                this.strip();
                var o, a, c = "le" === t, l = new e(s), h = this.clone();
                if (c) {
                    for (a = 0; !h.isZero(); a++)
                        o = h.andln(255),
                        h.iushrn(8),
                        l[a] = o;
                    for (; a < s; a++)
                        l[a] = 0
                } else {
                    for (a = 0; a < s - r; a++)
                        l[a] = 0;
                    for (a = 0; !h.isZero(); a++)
                        o = h.andln(255),
                        h.iushrn(8),
                        l[s - a - 1] = o
                }
                return l
            }
            ,
            Math.clz32 ? s.prototype._countBits = function(e) {
                return 32 - Math.clz32(e)
            }
            : s.prototype._countBits = function(e) {
                var t = e
                  , i = 0;
                return t >= 4096 && (i += 13,
                t >>>= 13),
                t >= 64 && (i += 7,
                t >>>= 7),
                t >= 8 && (i += 4,
                t >>>= 4),
                t >= 2 && (i += 2,
                t >>>= 2),
                i + t
            }
            ,
            s.prototype._zeroBits = function(e) {
                if (0 === e)
                    return 26;
                var t = e
                  , i = 0;
                return 0 === (8191 & t) && (i += 13,
                t >>>= 13),
                0 === (127 & t) && (i += 7,
                t >>>= 7),
                0 === (15 & t) && (i += 4,
                t >>>= 4),
                0 === (3 & t) && (i += 2,
                t >>>= 2),
                0 === (1 & t) && i++,
                i
            }
            ,
            s.prototype.bitLength = function() {
                var e = this.words[this.length - 1]
                  , t = this._countBits(e);
                return 26 * (this.length - 1) + t
            }
            ,
            s.prototype.zeroBits = function() {
                if (this.isZero())
                    return 0;
                for (var e = 0, t = 0; t < this.length; t++) {
                    var i = this._zeroBits(this.words[t]);
                    if (e += i,
                    26 !== i)
                        break
                }
                return e
            }
            ,
            s.prototype.byteLength = function() {
                return Math.ceil(this.bitLength() / 8)
            }
            ,
            s.prototype.toTwos = function(e) {
                return 0 !== this.negative ? this.abs().inotn(e).iaddn(1) : this.clone()
            }
            ,
            s.prototype.fromTwos = function(e) {
                return this.testn(e - 1) ? this.notn(e).iaddn(1).ineg() : this.clone()
            }
            ,
            s.prototype.isNeg = function() {
                return 0 !== this.negative
            }
            ,
            s.prototype.neg = function() {
                return this.clone().ineg()
            }
            ,
            s.prototype.ineg = function() {
                return this.isZero() || (this.negative ^= 1),
                this
            }
            ,
            s.prototype.iuor = function(e) {
                for (; this.length < e.length; )
                    this.words[this.length++] = 0;
                for (var t = 0; t < e.length; t++)
                    this.words[t] = this.words[t] | e.words[t];
                return this.strip()
            }
            ,
            s.prototype.ior = function(e) {
                return n(0 === (this.negative | e.negative)),
                this.iuor(e)
            }
            ,
            s.prototype.or = function(e) {
                return this.length > e.length ? this.clone().ior(e) : e.clone().ior(this)
            }
            ,
            s.prototype.uor = function(e) {
                return this.length > e.length ? this.clone().iuor(e) : e.clone().iuor(this)
            }
            ,
            s.prototype.iuand = function(e) {
                var t;
                t = this.length > e.length ? e : this;
                for (var i = 0; i < t.length; i++)
                    this.words[i] = this.words[i] & e.words[i];
                return this.length = t.length,
                this.strip()
            }
            ,
            s.prototype.iand = function(e) {
                return n(0 === (this.negative | e.negative)),
                this.iuand(e)
            }
            ,
            s.prototype.and = function(e) {
                return this.length > e.length ? this.clone().iand(e) : e.clone().iand(this)
            }
            ,
            s.prototype.uand = function(e) {
                return this.length > e.length ? this.clone().iuand(e) : e.clone().iuand(this)
            }
            ,
            s.prototype.iuxor = function(e) {
                var t, i;
                this.length > e.length ? (t = this,
                i = e) : (t = e,
                i = this);
                for (var n = 0; n < i.length; n++)
                    this.words[n] = t.words[n] ^ i.words[n];
                if (this !== t)
                    for (; n < t.length; n++)
                        this.words[n] = t.words[n];
                return this.length = t.length,
                this.strip()
            }
            ,
            s.prototype.ixor = function(e) {
                return n(0 === (this.negative | e.negative)),
                this.iuxor(e)
            }
            ,
            s.prototype.xor = function(e) {
                return this.length > e.length ? this.clone().ixor(e) : e.clone().ixor(this)
            }
            ,
            s.prototype.uxor = function(e) {
                return this.length > e.length ? this.clone().iuxor(e) : e.clone().iuxor(this)
            }
            ,
            s.prototype.inotn = function(e) {
                n("number" == typeof e && e >= 0);
                for (var t = 0 | Math.ceil(e / 26), i = e % 26; this.length < t; )
                    this.words[this.length++] = 0;
                i > 0 && t--;
                for (var r = 0; r < t; r++)
                    this.words[r] = 67108863 & ~this.words[r];
                return i > 0 && (this.words[r] = ~this.words[r] & 67108863 >> 26 - i),
                this.strip()
            }
            ,
            s.prototype.notn = function(e) {
                return this.clone().inotn(e)
            }
            ,
            s.prototype.setn = function(e, t) {
                n("number" == typeof e && e >= 0);
                for (var i = e / 26 | 0, r = e % 26; this.length <= i; )
                    this.words[this.length++] = 0;
                return t ? this.words[i] = this.words[i] | 1 << r : this.words[i] = this.words[i] & ~(1 << r),
                this.strip()
            }
            ,
            s.prototype.iadd = function(e) {
                var t;
                if (0 !== this.negative && 0 === e.negative)
                    return this.negative = 0,
                    t = this.isub(e),
                    this.negative ^= 1,
                    this._normSign();
                if (0 === this.negative && 0 !== e.negative)
                    return e.negative = 0,
                    t = this.isub(e),
                    e.negative = 1,
                    t._normSign();
                var i, n;
                this.length > e.length ? (i = this,
                n = e) : (i = e,
                n = this);
                for (var r = 0, s = 0; s < n.length; s++)
                    t = (0 | i.words[s]) + (0 | n.words[s]) + r,
                    this.words[s] = 67108863 & t,
                    r = t >>> 26;
                for (; 0 !== r && s < i.length; s++)
                    t = (0 | i.words[s]) + r,
                    this.words[s] = 67108863 & t,
                    r = t >>> 26;
                if (this.length = i.length,
                0 !== r)
                    this.words[this.length] = r,
                    this.length++;
                else if (i !== this)
                    for (; s < i.length; s++)
                        this.words[s] = i.words[s];
                return this
            }
            ,
            s.prototype.add = function(e) {
                var t;
                return 0 !== e.negative && 0 === this.negative ? (e.negative = 0,
                t = this.sub(e),
                e.negative ^= 1,
                t) : 0 === e.negative && 0 !== this.negative ? (this.negative = 0,
                t = e.sub(this),
                this.negative = 1,
                t) : this.length > e.length ? this.clone().iadd(e) : e.clone().iadd(this)
            }
            ,
            s.prototype.isub = function(e) {
                if (0 !== e.negative) {
                    e.negative = 0;
                    var t = this.iadd(e);
                    return e.negative = 1,
                    t._normSign()
                }
                if (0 !== this.negative)
                    return this.negative = 0,
                    this.iadd(e),
                    this.negative = 1,
                    this._normSign();
                var i = this.cmp(e);
                if (0 === i)
                    return this.negative = 0,
                    this.length = 1,
                    this.words[0] = 0,
                    this;
                var n, r;
                i > 0 ? (n = this,
                r = e) : (n = e,
                r = this);
                for (var s = 0, o = 0; o < r.length; o++)
                    t = (0 | n.words[o]) - (0 | r.words[o]) + s,
                    s = t >> 26,
                    this.words[o] = 67108863 & t;
                for (; 0 !== s && o < n.length; o++)
                    t = (0 | n.words[o]) + s,
                    s = t >> 26,
                    this.words[o] = 67108863 & t;
                if (0 === s && o < n.length && n !== this)
                    for (; o < n.length; o++)
                        this.words[o] = n.words[o];
                return this.length = Math.max(this.length, o),
                n !== this && (this.negative = 1),
                this.strip()
            }
            ,
            s.prototype.sub = function(e) {
                return this.clone().isub(e)
            }
            ;
            var C = function(e, t, i) {
                var n, r, s, o = e.words, a = t.words, c = i.words, l = 0, h = 0 | o[0], u = 8191 & h, d = h >>> 13, f = 0 | o[1], p = 8191 & f, m = f >>> 13, g = 0 | o[2], y = 8191 & g, v = g >>> 13, _ = 0 | o[3], b = 8191 & _, S = _ >>> 13, E = 0 | o[4], P = 8191 & E, T = E >>> 13, C = 0 | o[5], A = 8191 & C, w = C >>> 13, R = 0 | o[6], O = 8191 & R, I = R >>> 13, L = 0 | o[7], k = 8191 & L, D = L >>> 13, N = 0 | o[8], M = 8191 & N, x = N >>> 13, B = 0 | o[9], F = 8191 & B, V = B >>> 13, U = 0 | a[0], j = 8191 & U, H = U >>> 13, z = 0 | a[1], G = 8191 & z, X = z >>> 13, $ = 0 | a[2], W = 8191 & $, Y = $ >>> 13, K = 0 | a[3], q = 8191 & K, Z = K >>> 13, J = 0 | a[4], Q = 8191 & J, ee = J >>> 13, te = 0 | a[5], ie = 8191 & te, ne = te >>> 13, re = 0 | a[6], se = 8191 & re, oe = re >>> 13, ae = 0 | a[7], ce = 8191 & ae, le = ae >>> 13, he = 0 | a[8], ue = 8191 & he, de = he >>> 13, fe = 0 | a[9], pe = 8191 & fe, me = fe >>> 13;
                i.negative = e.negative ^ t.negative,
                i.length = 19,
                n = Math.imul(u, j),
                r = Math.imul(u, H),
                r += Math.imul(d, j),
                s = Math.imul(d, H);
                var ge = l + n + ((8191 & r) << 13);
                l = s + (r >>> 13) + (ge >>> 26),
                ge &= 67108863,
                n = Math.imul(p, j),
                r = Math.imul(p, H),
                r += Math.imul(m, j),
                s = Math.imul(m, H),
                n += Math.imul(u, G),
                r += Math.imul(u, X),
                r += Math.imul(d, G),
                s += Math.imul(d, X);
                var ye = l + n + ((8191 & r) << 13);
                l = s + (r >>> 13) + (ye >>> 26),
                ye &= 67108863,
                n = Math.imul(y, j),
                r = Math.imul(y, H),
                r += Math.imul(v, j),
                s = Math.imul(v, H),
                n += Math.imul(p, G),
                r += Math.imul(p, X),
                r += Math.imul(m, G),
                s += Math.imul(m, X),
                n += Math.imul(u, W),
                r += Math.imul(u, Y),
                r += Math.imul(d, W),
                s += Math.imul(d, Y);
                var ve = l + n + ((8191 & r) << 13);
                l = s + (r >>> 13) + (ve >>> 26),
                ve &= 67108863,
                n = Math.imul(b, j),
                r = Math.imul(b, H),
                r += Math.imul(S, j),
                s = Math.imul(S, H),
                n += Math.imul(y, G),
                r += Math.imul(y, X),
                r += Math.imul(v, G),
                s += Math.imul(v, X),
                n += Math.imul(p, W),
                r += Math.imul(p, Y),
                r += Math.imul(m, W),
                s += Math.imul(m, Y),
                n += Math.imul(u, q),
                r += Math.imul(u, Z),
                r += Math.imul(d, q),
                s += Math.imul(d, Z);
                var _e = l + n + ((8191 & r) << 13);
                l = s + (r >>> 13) + (_e >>> 26),
                _e &= 67108863,
                n = Math.imul(P, j),
                r = Math.imul(P, H),
                r += Math.imul(T, j),
                s = Math.imul(T, H),
                n += Math.imul(b, G),
                r += Math.imul(b, X),
                r += Math.imul(S, G),
                s += Math.imul(S, X),
                n += Math.imul(y, W),
                r += Math.imul(y, Y),
                r += Math.imul(v, W),
                s += Math.imul(v, Y),
                n += Math.imul(p, q),
                r += Math.imul(p, Z),
                r += Math.imul(m, q),
                s += Math.imul(m, Z),
                n += Math.imul(u, Q),
                r += Math.imul(u, ee),
                r += Math.imul(d, Q),
                s += Math.imul(d, ee);
                var be = l + n + ((8191 & r) << 13);
                l = s + (r >>> 13) + (be >>> 26),
                be &= 67108863,
                n = Math.imul(A, j),
                r = Math.imul(A, H),
                r += Math.imul(w, j),
                s = Math.imul(w, H),
                n += Math.imul(P, G),
                r += Math.imul(P, X),
                r += Math.imul(T, G),
                s += Math.imul(T, X),
                n += Math.imul(b, W),
                r += Math.imul(b, Y),
                r += Math.imul(S, W),
                s += Math.imul(S, Y),
                n += Math.imul(y, q),
                r += Math.imul(y, Z),
                r += Math.imul(v, q),
                s += Math.imul(v, Z),
                n += Math.imul(p, Q),
                r += Math.imul(p, ee),
                r += Math.imul(m, Q),
                s += Math.imul(m, ee),
                n += Math.imul(u, ie),
                r += Math.imul(u, ne),
                r += Math.imul(d, ie),
                s += Math.imul(d, ne);
                var Se = l + n + ((8191 & r) << 13);
                l = s + (r >>> 13) + (Se >>> 26),
                Se &= 67108863,
                n = Math.imul(O, j),
                r = Math.imul(O, H),
                r += Math.imul(I, j),
                s = Math.imul(I, H),
                n += Math.imul(A, G),
                r += Math.imul(A, X),
                r += Math.imul(w, G),
                s += Math.imul(w, X),
                n += Math.imul(P, W),
                r += Math.imul(P, Y),
                r += Math.imul(T, W),
                s += Math.imul(T, Y),
                n += Math.imul(b, q),
                r += Math.imul(b, Z),
                r += Math.imul(S, q),
                s += Math.imul(S, Z),
                n += Math.imul(y, Q),
                r += Math.imul(y, ee),
                r += Math.imul(v, Q),
                s += Math.imul(v, ee),
                n += Math.imul(p, ie),
                r += Math.imul(p, ne),
                r += Math.imul(m, ie),
                s += Math.imul(m, ne),
                n += Math.imul(u, se),
                r += Math.imul(u, oe),
                r += Math.imul(d, se),
                s += Math.imul(d, oe);
                var Ee = l + n + ((8191 & r) << 13);
                l = s + (r >>> 13) + (Ee >>> 26),
                Ee &= 67108863,
                n = Math.imul(k, j),
                r = Math.imul(k, H),
                r += Math.imul(D, j),
                s = Math.imul(D, H),
                n += Math.imul(O, G),
                r += Math.imul(O, X),
                r += Math.imul(I, G),
                s += Math.imul(I, X),
                n += Math.imul(A, W),
                r += Math.imul(A, Y),
                r += Math.imul(w, W),
                s += Math.imul(w, Y),
                n += Math.imul(P, q),
                r += Math.imul(P, Z),
                r += Math.imul(T, q),
                s += Math.imul(T, Z),
                n += Math.imul(b, Q),
                r += Math.imul(b, ee),
                r += Math.imul(S, Q),
                s += Math.imul(S, ee),
                n += Math.imul(y, ie),
                r += Math.imul(y, ne),
                r += Math.imul(v, ie),
                s += Math.imul(v, ne),
                n += Math.imul(p, se),
                r += Math.imul(p, oe),
                r += Math.imul(m, se),
                s += Math.imul(m, oe),
                n += Math.imul(u, ce),
                r += Math.imul(u, le),
                r += Math.imul(d, ce),
                s += Math.imul(d, le);
                var Pe = l + n + ((8191 & r) << 13);
                l = s + (r >>> 13) + (Pe >>> 26),
                Pe &= 67108863,
                n = Math.imul(M, j),
                r = Math.imul(M, H),
                r += Math.imul(x, j),
                s = Math.imul(x, H),
                n += Math.imul(k, G),
                r += Math.imul(k, X),
                r += Math.imul(D, G),
                s += Math.imul(D, X),
                n += Math.imul(O, W),
                r += Math.imul(O, Y),
                r += Math.imul(I, W),
                s += Math.imul(I, Y),
                n += Math.imul(A, q),
                r += Math.imul(A, Z),
                r += Math.imul(w, q),
                s += Math.imul(w, Z),
                n += Math.imul(P, Q),
                r += Math.imul(P, ee),
                r += Math.imul(T, Q),
                s += Math.imul(T, ee),
                n += Math.imul(b, ie),
                r += Math.imul(b, ne),
                r += Math.imul(S, ie),
                s += Math.imul(S, ne),
                n += Math.imul(y, se),
                r += Math.imul(y, oe),
                r += Math.imul(v, se),
                s += Math.imul(v, oe),
                n += Math.imul(p, ce),
                r += Math.imul(p, le),
                r += Math.imul(m, ce),
                s += Math.imul(m, le),
                n += Math.imul(u, ue),
                r += Math.imul(u, de),
                r += Math.imul(d, ue),
                s += Math.imul(d, de);
                var Te = l + n + ((8191 & r) << 13);
                l = s + (r >>> 13) + (Te >>> 26),
                Te &= 67108863,
                n = Math.imul(F, j),
                r = Math.imul(F, H),
                r += Math.imul(V, j),
                s = Math.imul(V, H),
                n += Math.imul(M, G),
                r += Math.imul(M, X),
                r += Math.imul(x, G),
                s += Math.imul(x, X),
                n += Math.imul(k, W),
                r += Math.imul(k, Y),
                r += Math.imul(D, W),
                s += Math.imul(D, Y),
                n += Math.imul(O, q),
                r += Math.imul(O, Z),
                r += Math.imul(I, q),
                s += Math.imul(I, Z),
                n += Math.imul(A, Q),
                r += Math.imul(A, ee),
                r += Math.imul(w, Q),
                s += Math.imul(w, ee),
                n += Math.imul(P, ie),
                r += Math.imul(P, ne),
                r += Math.imul(T, ie),
                s += Math.imul(T, ne),
                n += Math.imul(b, se),
                r += Math.imul(b, oe),
                r += Math.imul(S, se),
                s += Math.imul(S, oe),
                n += Math.imul(y, ce),
                r += Math.imul(y, le),
                r += Math.imul(v, ce),
                s += Math.imul(v, le),
                n += Math.imul(p, ue),
                r += Math.imul(p, de),
                r += Math.imul(m, ue),
                s += Math.imul(m, de),
                n += Math.imul(u, pe),
                r += Math.imul(u, me),
                r += Math.imul(d, pe),
                s += Math.imul(d, me);
                var Ce = l + n + ((8191 & r) << 13);
                l = s + (r >>> 13) + (Ce >>> 26),
                Ce &= 67108863,
                n = Math.imul(F, G),
                r = Math.imul(F, X),
                r += Math.imul(V, G),
                s = Math.imul(V, X),
                n += Math.imul(M, W),
                r += Math.imul(M, Y),
                r += Math.imul(x, W),
                s += Math.imul(x, Y),
                n += Math.imul(k, q),
                r += Math.imul(k, Z),
                r += Math.imul(D, q),
                s += Math.imul(D, Z),
                n += Math.imul(O, Q),
                r += Math.imul(O, ee),
                r += Math.imul(I, Q),
                s += Math.imul(I, ee),
                n += Math.imul(A, ie),
                r += Math.imul(A, ne),
                r += Math.imul(w, ie),
                s += Math.imul(w, ne),
                n += Math.imul(P, se),
                r += Math.imul(P, oe),
                r += Math.imul(T, se),
                s += Math.imul(T, oe),
                n += Math.imul(b, ce),
                r += Math.imul(b, le),
                r += Math.imul(S, ce),
                s += Math.imul(S, le),
                n += Math.imul(y, ue),
                r += Math.imul(y, de),
                r += Math.imul(v, ue),
                s += Math.imul(v, de),
                n += Math.imul(p, pe),
                r += Math.imul(p, me),
                r += Math.imul(m, pe),
                s += Math.imul(m, me);
                var Ae = l + n + ((8191 & r) << 13);
                l = s + (r >>> 13) + (Ae >>> 26),
                Ae &= 67108863,
                n = Math.imul(F, W),
                r = Math.imul(F, Y),
                r += Math.imul(V, W),
                s = Math.imul(V, Y),
                n += Math.imul(M, q),
                r += Math.imul(M, Z),
                r += Math.imul(x, q),
                s += Math.imul(x, Z),
                n += Math.imul(k, Q),
                r += Math.imul(k, ee),
                r += Math.imul(D, Q),
                s += Math.imul(D, ee),
                n += Math.imul(O, ie),
                r += Math.imul(O, ne),
                r += Math.imul(I, ie),
                s += Math.imul(I, ne),
                n += Math.imul(A, se),
                r += Math.imul(A, oe),
                r += Math.imul(w, se),
                s += Math.imul(w, oe),
                n += Math.imul(P, ce),
                r += Math.imul(P, le),
                r += Math.imul(T, ce),
                s += Math.imul(T, le),
                n += Math.imul(b, ue),
                r += Math.imul(b, de),
                r += Math.imul(S, ue),
                s += Math.imul(S, de),
                n += Math.imul(y, pe),
                r += Math.imul(y, me),
                r += Math.imul(v, pe),
                s += Math.imul(v, me);
                var we = l + n + ((8191 & r) << 13);
                l = s + (r >>> 13) + (we >>> 26),
                we &= 67108863,
                n = Math.imul(F, q),
                r = Math.imul(F, Z),
                r += Math.imul(V, q),
                s = Math.imul(V, Z),
                n += Math.imul(M, Q),
                r += Math.imul(M, ee),
                r += Math.imul(x, Q),
                s += Math.imul(x, ee),
                n += Math.imul(k, ie),
                r += Math.imul(k, ne),
                r += Math.imul(D, ie),
                s += Math.imul(D, ne),
                n += Math.imul(O, se),
                r += Math.imul(O, oe),
                r += Math.imul(I, se),
                s += Math.imul(I, oe),
                n += Math.imul(A, ce),
                r += Math.imul(A, le),
                r += Math.imul(w, ce),
                s += Math.imul(w, le),
                n += Math.imul(P, ue),
                r += Math.imul(P, de),
                r += Math.imul(T, ue),
                s += Math.imul(T, de),
                n += Math.imul(b, pe),
                r += Math.imul(b, me),
                r += Math.imul(S, pe),
                s += Math.imul(S, me);
                var Re = l + n + ((8191 & r) << 13);
                l = s + (r >>> 13) + (Re >>> 26),
                Re &= 67108863,
                n = Math.imul(F, Q),
                r = Math.imul(F, ee),
                r += Math.imul(V, Q),
                s = Math.imul(V, ee),
                n += Math.imul(M, ie),
                r += Math.imul(M, ne),
                r += Math.imul(x, ie),
                s += Math.imul(x, ne),
                n += Math.imul(k, se),
                r += Math.imul(k, oe),
                r += Math.imul(D, se),
                s += Math.imul(D, oe),
                n += Math.imul(O, ce),
                r += Math.imul(O, le),
                r += Math.imul(I, ce),
                s += Math.imul(I, le),
                n += Math.imul(A, ue),
                r += Math.imul(A, de),
                r += Math.imul(w, ue),
                s += Math.imul(w, de),
                n += Math.imul(P, pe),
                r += Math.imul(P, me),
                r += Math.imul(T, pe),
                s += Math.imul(T, me);
                var Oe = l + n + ((8191 & r) << 13);
                l = s + (r >>> 13) + (Oe >>> 26),
                Oe &= 67108863,
                n = Math.imul(F, ie),
                r = Math.imul(F, ne),
                r += Math.imul(V, ie),
                s = Math.imul(V, ne),
                n += Math.imul(M, se),
                r += Math.imul(M, oe),
                r += Math.imul(x, se),
                s += Math.imul(x, oe),
                n += Math.imul(k, ce),
                r += Math.imul(k, le),
                r += Math.imul(D, ce),
                s += Math.imul(D, le),
                n += Math.imul(O, ue),
                r += Math.imul(O, de),
                r += Math.imul(I, ue),
                s += Math.imul(I, de),
                n += Math.imul(A, pe),
                r += Math.imul(A, me),
                r += Math.imul(w, pe),
                s += Math.imul(w, me);
                var Ie = l + n + ((8191 & r) << 13);
                l = s + (r >>> 13) + (Ie >>> 26),
                Ie &= 67108863,
                n = Math.imul(F, se),
                r = Math.imul(F, oe),
                r += Math.imul(V, se),
                s = Math.imul(V, oe),
                n += Math.imul(M, ce),
                r += Math.imul(M, le),
                r += Math.imul(x, ce),
                s += Math.imul(x, le),
                n += Math.imul(k, ue),
                r += Math.imul(k, de),
                r += Math.imul(D, ue),
                s += Math.imul(D, de),
                n += Math.imul(O, pe),
                r += Math.imul(O, me),
                r += Math.imul(I, pe),
                s += Math.imul(I, me);
                var Le = l + n + ((8191 & r) << 13);
                l = s + (r >>> 13) + (Le >>> 26),
                Le &= 67108863,
                n = Math.imul(F, ce),
                r = Math.imul(F, le),
                r += Math.imul(V, ce),
                s = Math.imul(V, le),
                n += Math.imul(M, ue),
                r += Math.imul(M, de),
                r += Math.imul(x, ue),
                s += Math.imul(x, de),
                n += Math.imul(k, pe),
                r += Math.imul(k, me),
                r += Math.imul(D, pe),
                s += Math.imul(D, me);
                var ke = l + n + ((8191 & r) << 13);
                l = s + (r >>> 13) + (ke >>> 26),
                ke &= 67108863,
                n = Math.imul(F, ue),
                r = Math.imul(F, de),
                r += Math.imul(V, ue),
                s = Math.imul(V, de),
                n += Math.imul(M, pe),
                r += Math.imul(M, me),
                r += Math.imul(x, pe),
                s += Math.imul(x, me);
                var De = l + n + ((8191 & r) << 13);
                l = s + (r >>> 13) + (De >>> 26),
                De &= 67108863,
                n = Math.imul(F, pe),
                r = Math.imul(F, me),
                r += Math.imul(V, pe),
                s = Math.imul(V, me);
                var Ne = l + n + ((8191 & r) << 13);
                return l = s + (r >>> 13) + (Ne >>> 26),
                Ne &= 67108863,
                c[0] = ge,
                c[1] = ye,
                c[2] = ve,
                c[3] = _e,
                c[4] = be,
                c[5] = Se,
                c[6] = Ee,
                c[7] = Pe,
                c[8] = Te,
                c[9] = Ce,
                c[10] = Ae,
                c[11] = we,
                c[12] = Re,
                c[13] = Oe,
                c[14] = Ie,
                c[15] = Le,
                c[16] = ke,
                c[17] = De,
                c[18] = Ne,
                0 !== l && (c[19] = l,
                i.length++),
                i
            };
            Math.imul || (C = l),
            s.prototype.mulTo = function(e, t) {
                var i, n = this.length + e.length;
                return i = 10 === this.length && 10 === e.length ? C(this, e, t) : n < 63 ? l(this, e, t) : n < 1024 ? h(this, e, t) : u(this, e, t)
            }
            ,
            d.prototype.makeRBT = function(e) {
                for (var t = new Array(e), i = s.prototype._countBits(e) - 1, n = 0; n < e; n++)
                    t[n] = this.revBin(n, i, e);
                return t
            }
            ,
            d.prototype.revBin = function(e, t, i) {
                if (0 === e || e === i - 1)
                    return e;
                for (var n = 0, r = 0; r < t; r++)
                    n |= (1 & e) << t - r - 1,
                    e >>= 1;
                return n
            }
            ,
            d.prototype.permute = function(e, t, i, n, r, s) {
                for (var o = 0; o < s; o++)
                    n[o] = t[e[o]],
                    r[o] = i[e[o]]
            }
            ,
            d.prototype.transform = function(e, t, i, n, r, s) {
                this.permute(s, e, t, i, n, r);
                for (var o = 1; o < r; o <<= 1)
                    for (var a = o << 1, c = Math.cos(2 * Math.PI / a), l = Math.sin(2 * Math.PI / a), h = 0; h < r; h += a)
                        for (var u = c, d = l, f = 0; f < o; f++) {
                            var p = i[h + f]
                              , m = n[h + f]
                              , g = i[h + f + o]
                              , y = n[h + f + o]
                              , v = u * g - d * y;
                            y = u * y + d * g,
                            g = v,
                            i[h + f] = p + g,
                            n[h + f] = m + y,
                            i[h + f + o] = p - g,
                            n[h + f + o] = m - y,
                            f !== a && (v = c * u - l * d,
                            d = c * d + l * u,
                            u = v)
                        }
            }
            ,
            d.prototype.guessLen13b = function(e, t) {
                var i = 1 | Math.max(t, e)
                  , n = 1 & i
                  , r = 0;
                for (i = i / 2 | 0; i; i >>>= 1)
                    r++;
                return 1 << r + 1 + n
            }
            ,
            d.prototype.conjugate = function(e, t, i) {
                if (!(i <= 1))
                    for (var n = 0; n < i / 2; n++) {
                        var r = e[n];
                        e[n] = e[i - n - 1],
                        e[i - n - 1] = r,
                        r = t[n],
                        t[n] = -t[i - n - 1],
                        t[i - n - 1] = -r
                    }
            }
            ,
            d.prototype.normalize13b = function(e, t) {
                for (var i = 0, n = 0; n < t / 2; n++) {
                    var r = 8192 * Math.round(e[2 * n + 1] / t) + Math.round(e[2 * n] / t) + i;
                    e[n] = 67108863 & r,
                    i = r < 67108864 ? 0 : r / 67108864 | 0
                }
                return e
            }
            ,
            d.prototype.convert13b = function(e, t, i, r) {
                for (var s = 0, o = 0; o < t; o++)
                    s += 0 | e[o],
                    i[2 * o] = 8191 & s,
                    s >>>= 13,
                    i[2 * o + 1] = 8191 & s,
                    s >>>= 13;
                for (o = 2 * t; o < r; ++o)
                    i[o] = 0;
                n(0 === s),
                n(0 === (s & -8192))
            }
            ,
            d.prototype.stub = function(e) {
                for (var t = new Array(e), i = 0; i < e; i++)
                    t[i] = 0;
                return t
            }
            ,
            d.prototype.mulp = function(e, t, i) {
                var n = 2 * this.guessLen13b(e.length, t.length)
                  , r = this.makeRBT(n)
                  , s = this.stub(n)
                  , o = new Array(n)
                  , a = new Array(n)
                  , c = new Array(n)
                  , l = new Array(n)
                  , h = new Array(n)
                  , u = new Array(n)
                  , d = i.words;
                d.length = n,
                this.convert13b(e.words, e.length, o, n),
                this.convert13b(t.words, t.length, l, n),
                this.transform(o, s, a, c, n, r),
                this.transform(l, s, h, u, n, r);
                for (var f = 0; f < n; f++) {
                    var p = a[f] * h[f] - c[f] * u[f];
                    c[f] = a[f] * u[f] + c[f] * h[f],
                    a[f] = p
                }
                return this.conjugate(a, c, n),
                this.transform(a, c, d, s, n, r),
                this.conjugate(d, s, n),
                this.normalize13b(d, n),
                i.negative = e.negative ^ t.negative,
                i.length = e.length + t.length,
                i.strip()
            }
            ,
            s.prototype.mul = function(e) {
                var t = new s(null);
                return t.words = new Array(this.length + e.length),
                this.mulTo(e, t)
            }
            ,
            s.prototype.mulf = function(e) {
                var t = new s(null);
                return t.words = new Array(this.length + e.length),
                u(this, e, t)
            }
            ,
            s.prototype.imul = function(e) {
                return this.clone().mulTo(e, this)
            }
            ,
            s.prototype.imuln = function(e) {
                n("number" == typeof e),
                n(e < 67108864);
                for (var t = 0, i = 0; i < this.length; i++) {
                    var r = (0 | this.words[i]) * e
                      , s = (67108863 & r) + (67108863 & t);
                    t >>= 26,
                    t += r / 67108864 | 0,
                    t += s >>> 26,
                    this.words[i] = 67108863 & s
                }
                return 0 !== t && (this.words[i] = t,
                this.length++),
                this
            }
            ,
            s.prototype.muln = function(e) {
                return this.clone().imuln(e)
            }
            ,
            s.prototype.sqr = function() {
                return this.mul(this)
            }
            ,
            s.prototype.isqr = function() {
                return this.imul(this.clone())
            }
            ,
            s.prototype.pow = function(e) {
                var t = c(e);
                if (0 === t.length)
                    return new s(1);
                for (var i = this, n = 0; n < t.length && 0 === t[n]; n++,
                i = i.sqr())
                    ;
                if (++n < t.length)
                    for (var r = i.sqr(); n < t.length; n++,
                    r = r.sqr())
                        0 !== t[n] && (i = i.mul(r));
                return i
            }
            ,
            s.prototype.iushln = function(e) {
                n("number" == typeof e && e >= 0);
                var t, i = e % 26, r = (e - i) / 26, s = 67108863 >>> 26 - i << 26 - i;
                if (0 !== i) {
                    var o = 0;
                    for (t = 0; t < this.length; t++) {
                        var a = this.words[t] & s
                          , c = (0 | this.words[t]) - a << i;
                        this.words[t] = c | o,
                        o = a >>> 26 - i
                    }
                    o && (this.words[t] = o,
                    this.length++)
                }
                if (0 !== r) {
                    for (t = this.length - 1; t >= 0; t--)
                        this.words[t + r] = this.words[t];
                    for (t = 0; t < r; t++)
                        this.words[t] = 0;
                    this.length += r
                }
                return this.strip()
            }
            ,
            s.prototype.ishln = function(e) {
                return n(0 === this.negative),
                this.iushln(e)
            }
            ,
            s.prototype.iushrn = function(e, t, i) {
                n("number" == typeof e && e >= 0);
                var r;
                r = t ? (t - t % 26) / 26 : 0;
                var s = e % 26
                  , o = Math.min((e - s) / 26, this.length)
                  , a = 67108863 ^ 67108863 >>> s << s
                  , c = i;
                if (r -= o,
                r = Math.max(0, r),
                c) {
                    for (var l = 0; l < o; l++)
                        c.words[l] = this.words[l];
                    c.length = o
                }
                if (0 === o)
                    ;
                else if (this.length > o)
                    for (this.length -= o,
                    l = 0; l < this.length; l++)
                        this.words[l] = this.words[l + o];
                else
                    this.words[0] = 0,
                    this.length = 1;
                var h = 0;
                for (l = this.length - 1; l >= 0 && (0 !== h || l >= r); l--) {
                    var u = 0 | this.words[l];
                    this.words[l] = h << 26 - s | u >>> s,
                    h = u & a
                }
                return c && 0 !== h && (c.words[c.length++] = h),
                0 === this.length && (this.words[0] = 0,
                this.length = 1),
                this.strip()
            }
            ,
            s.prototype.ishrn = function(e, t, i) {
                return n(0 === this.negative),
                this.iushrn(e, t, i)
            }
            ,
            s.prototype.shln = function(e) {
                return this.clone().ishln(e)
            }
            ,
            s.prototype.ushln = function(e) {
                return this.clone().iushln(e)
            }
            ,
            s.prototype.shrn = function(e) {
                return this.clone().ishrn(e)
            }
            ,
            s.prototype.ushrn = function(e) {
                return this.clone().iushrn(e)
            }
            ,
            s.prototype.testn = function(e) {
                n("number" == typeof e && e >= 0);
                var t = e % 26
                  , i = (e - t) / 26
                  , r = 1 << t;
                if (this.length <= i)
                    return !1;
                var s = this.words[i];
                return !!(s & r)
            }
            ,
            s.prototype.imaskn = function(e) {
                n("number" == typeof e && e >= 0);
                var t = e % 26
                  , i = (e - t) / 26;
                if (n(0 === this.negative, "imaskn works only with positive numbers"),
                0 !== t && i++,
                this.length = Math.min(i, this.length),
                0 !== t) {
                    var r = 67108863 ^ 67108863 >>> t << t;
                    this.words[this.length - 1] &= r
                }
                return this.strip()
            }
            ,
            s.prototype.maskn = function(e) {
                return this.clone().imaskn(e)
            }
            ,
            s.prototype.iaddn = function(e) {
                return n("number" == typeof e),
                n(e < 67108864),
                e < 0 ? this.isubn(-e) : 0 !== this.negative ? 1 === this.length && (0 | this.words[0]) < e ? (this.words[0] = e - (0 | this.words[0]),
                this.negative = 0,
                this) : (this.negative = 0,
                this.isubn(e),
                this.negative = 1,
                this) : this._iaddn(e)
            }
            ,
            s.prototype._iaddn = function(e) {
                this.words[0] += e;
                for (var t = 0; t < this.length && this.words[t] >= 67108864; t++)
                    this.words[t] -= 67108864,
                    t === this.length - 1 ? this.words[t + 1] = 1 : this.words[t + 1]++;
                return this.length = Math.max(this.length, t + 1),
                this
            }
            ,
            s.prototype.isubn = function(e) {
                if (n("number" == typeof e),
                n(e < 67108864),
                e < 0)
                    return this.iaddn(-e);
                if (0 !== this.negative)
                    return this.negative = 0,
                    this.iaddn(e),
                    this.negative = 1,
                    this;
                if (this.words[0] -= e,
                1 === this.length && this.words[0] < 0)
                    this.words[0] = -this.words[0],
                    this.negative = 1;
                else
                    for (var t = 0; t < this.length && this.words[t] < 0; t++)
                        this.words[t] += 67108864,
                        this.words[t + 1] -= 1;
                return this.strip()
            }
            ,
            s.prototype.addn = function(e) {
                return this.clone().iaddn(e)
            }
            ,
            s.prototype.subn = function(e) {
                return this.clone().isubn(e)
            }
            ,
            s.prototype.iabs = function() {
                return this.negative = 0,
                this
            }
            ,
            s.prototype.abs = function() {
                return this.clone().iabs()
            }
            ,
            s.prototype._ishlnsubmul = function(e, t, i) {
                var r, s = e.length + i;
                if (this.words.length < s) {
                    var o = new Array(s);
                    for (r = 0; r < this.length; r++)
                        o[r] = this.words[r];
                    this.words = o
                } else
                    r = this.length;
                for (this.length = Math.max(this.length, s); r < this.length; r++)
                    this.words[r] = 0;
                var a, c = 0;
                for (r = 0; r < e.length; r++) {
                    a = (0 | this.words[r + i]) + c;
                    var l = (0 | e.words[r]) * t;
                    a -= 67108863 & l,
                    c = (a >> 26) - (l / 67108864 | 0),
                    this.words[r + i] = 67108863 & a
                }
                for (; r < this.length - i; r++)
                    a = (0 | this.words[r + i]) + c,
                    c = a >> 26,
                    this.words[r + i] = 67108863 & a;
                if (0 === c)
                    return this.strip();
                for (n(c === -1),
                c = 0,
                r = 0; r < this.length; r++)
                    a = -(0 | this.words[r]) + c,
                    c = a >> 26,
                    this.words[r] = 67108863 & a;
                return this.negative = 1,
                this.strip()
            }
            ,
            s.prototype._wordDiv = function(e, t) {
                var i = this.length - e.length
                  , n = this.clone()
                  , r = e
                  , o = 0 | r.words[r.length - 1]
                  , a = this._countBits(o);
                i = 26 - a,
                0 !== i && (r = r.ushln(i),
                n.iushln(i),
                o = 0 | r.words[r.length - 1]);
                var c, l = n.length - r.length;
                if ("mod" !== t) {
                    c = new s(null),
                    c.length = l + 1,
                    c.words = new Array(c.length);
                    for (var h = 0; h < c.length; h++)
                        c.words[h] = 0
                }
                var u = n.clone()._ishlnsubmul(r, 1, l);
                0 === u.negative && (n = u,
                c && (c.words[l] = 1));
                for (var d = l - 1; d >= 0; d--) {
                    var f = 67108864 * (0 | n.words[r.length + d]) + (0 | n.words[r.length + d - 1]);
                    for (f = Math.min(f / o | 0, 67108863),
                    n._ishlnsubmul(r, f, d); 0 !== n.negative; )
                        f--,
                        n.negative = 0,
                        n._ishlnsubmul(r, 1, d),
                        n.isZero() || (n.negative ^= 1);
                    c && (c.words[d] = f)
                }
                return c && c.strip(),
                n.strip(),
                "div" !== t && 0 !== i && n.iushrn(i),
                {
                    div: c || null,
                    mod: n
                }
            }
            ,
            s.prototype.divmod = function(e, t, i) {
                n(!e.isZero());
                var r, o, a;
                return 0 !== this.negative && 0 === e.negative ? (a = this.neg().divmod(e, t),
                "mod" !== t && (r = a.div.neg()),
                "div" !== t && (o = a.mod.neg(),
                i && 0 !== o.negative && o.iadd(e)),
                {
                    div: r,
                    mod: o
                }) : 0 === this.negative && 0 !== e.negative ? (a = this.divmod(e.neg(), t),
                "mod" !== t && (r = a.div.neg()),
                {
                    div: r,
                    mod: a.mod
                }) : 0 !== (this.negative & e.negative) ? (a = this.neg().divmod(e.neg(), t),
                "div" !== t && (o = a.mod.neg(),
                i && 0 !== o.negative && o.isub(e)),
                {
                    div: a.div,
                    mod: o
                }) : e.length > this.length || this.cmp(e) < 0 ? {
                    div: new s(0),
                    mod: this
                } : 1 === e.length ? "div" === t ? {
                    div: this.divn(e.words[0]),
                    mod: null
                } : "mod" === t ? {
                    div: null,
                    mod: new s(this.modn(e.words[0]))
                } : {
                    div: this.divn(e.words[0]),
                    mod: new s(this.modn(e.words[0]))
                } : this._wordDiv(e, t)
            }
            ,
            s.prototype.div = function(e) {
                return this.divmod(e, "div", !1).div
            }
            ,
            s.prototype.mod = function(e) {
                return this.divmod(e, "mod", !1).mod
            }
            ,
            s.prototype.umod = function(e) {
                return this.divmod(e, "mod", !0).mod
            }
            ,
            s.prototype.divRound = function(e) {
                var t = this.divmod(e);
                if (t.mod.isZero())
                    return t.div;
                var i = 0 !== t.div.negative ? t.mod.isub(e) : t.mod
                  , n = e.ushrn(1)
                  , r = e.andln(1)
                  , s = i.cmp(n);
                return s < 0 || 1 === r && 0 === s ? t.div : 0 !== t.div.negative ? t.div.isubn(1) : t.div.iaddn(1)
            }
            ,
            s.prototype.modn = function(e) {
                n(e <= 67108863);
                for (var t = (1 << 26) % e, i = 0, r = this.length - 1; r >= 0; r--)
                    i = (t * i + (0 | this.words[r])) % e;
                return i
            }
            ,
            s.prototype.idivn = function(e) {
                n(e <= 67108863);
                for (var t = 0, i = this.length - 1; i >= 0; i--) {
                    var r = (0 | this.words[i]) + 67108864 * t;
                    this.words[i] = r / e | 0,
                    t = r % e
                }
                return this.strip()
            }
            ,
            s.prototype.divn = function(e) {
                return this.clone().idivn(e)
            }
            ,
            s.prototype.egcd = function(e) {
                n(0 === e.negative),
                n(!e.isZero());
                var t = this
                  , i = e.clone();
                t = 0 !== t.negative ? t.umod(e) : t.clone();
                for (var r = new s(1), o = new s(0), a = new s(0), c = new s(1), l = 0; t.isEven() && i.isEven(); )
                    t.iushrn(1),
                    i.iushrn(1),
                    ++l;
                for (var h = i.clone(), u = t.clone(); !t.isZero(); ) {
                    for (var d = 0, f = 1; 0 === (t.words[0] & f) && d < 26; ++d,
                    f <<= 1)
                        ;
                    if (d > 0)
                        for (t.iushrn(d); d-- > 0; )
                            (r.isOdd() || o.isOdd()) && (r.iadd(h),
                            o.isub(u)),
                            r.iushrn(1),
                            o.iushrn(1);
                    for (var p = 0, m = 1; 0 === (i.words[0] & m) && p < 26; ++p,
                    m <<= 1)
                        ;
                    if (p > 0)
                        for (i.iushrn(p); p-- > 0; )
                            (a.isOdd() || c.isOdd()) && (a.iadd(h),
                            c.isub(u)),
                            a.iushrn(1),
                            c.iushrn(1);
                    t.cmp(i) >= 0 ? (t.isub(i),
                    r.isub(a),
                    o.isub(c)) : (i.isub(t),
                    a.isub(r),
                    c.isub(o))
                }
                return {
                    a: a,
                    b: c,
                    gcd: i.iushln(l)
                }
            }
            ,
            s.prototype._invmp = function(e) {
                n(0 === e.negative),
                n(!e.isZero());
                var t = this
                  , i = e.clone();
                t = 0 !== t.negative ? t.umod(e) : t.clone();
                for (var r = new s(1), o = new s(0), a = i.clone(); t.cmpn(1) > 0 && i.cmpn(1) > 0; ) {
                    for (var c = 0, l = 1; 0 === (t.words[0] & l) && c < 26; ++c,
                    l <<= 1)
                        ;
                    if (c > 0)
                        for (t.iushrn(c); c-- > 0; )
                            r.isOdd() && r.iadd(a),
                            r.iushrn(1);
                    for (var h = 0, u = 1; 0 === (i.words[0] & u) && h < 26; ++h,
                    u <<= 1)
                        ;
                    if (h > 0)
                        for (i.iushrn(h); h-- > 0; )
                            o.isOdd() && o.iadd(a),
                            o.iushrn(1);
                    t.cmp(i) >= 0 ? (t.isub(i),
                    r.isub(o)) : (i.isub(t),
                    o.isub(r))
                }
                var d;
                return d = 0 === t.cmpn(1) ? r : o,
                d.cmpn(0) < 0 && d.iadd(e),
                d
            }
            ,
            s.prototype.gcd = function(e) {
                if (this.isZero())
                    return e.clone();
                if (e.isZero())
                    return this.clone();
                var t = this.clone()
                  , i = e.clone();
                t.negative = 0,
                i.negative = 0;
                for (var n = 0; t.isEven() && i.isEven(); n++)
                    t.iushrn(1),
                    i.iushrn(1);
                for (; ; ) {
                    for (; t.isEven(); )
                        t.iushrn(1);
                    for (; i.isEven(); )
                        i.iushrn(1);
                    var r = t.cmp(i);
                    if (r < 0) {
                        var s = t;
                        t = i,
                        i = s
                    } else if (0 === r || 0 === i.cmpn(1))
                        break;
                    t.isub(i)
                }
                return i.iushln(n)
            }
            ,
            s.prototype.invm = function(e) {
                return this.egcd(e).a.umod(e)
            }
            ,
            s.prototype.isEven = function() {
                return 0 === (1 & this.words[0])
            }
            ,
            s.prototype.isOdd = function() {
                return 1 === (1 & this.words[0])
            }
            ,
            s.prototype.andln = function(e) {
                return this.words[0] & e
            }
            ,
            s.prototype.bincn = function(e) {
                n("number" == typeof e);
                var t = e % 26
                  , i = (e - t) / 26
                  , r = 1 << t;
                if (this.length <= i) {
                    for (var s = this.length; s < i + 1; s++)
                        this.words[s] = 0;
                    return this.words[i] |= r,
                    this.length = i + 1,
                    this
                }
                var o = r;
                for (s = i; 0 !== o && s < this.length; s++) {
                    var a = 0 | this.words[s];
                    a += o,
                    o = a >>> 26,
                    a &= 67108863,
                    this.words[s] = a
                }
                return 0 !== o && (this.words[s] = o,
                this.length++),
                this
            }
            ,
            s.prototype.isZero = function() {
                return 1 === this.length && 0 === this.words[0]
            }
            ,
            s.prototype.cmpn = function(e) {
                var t = e < 0;
                if (0 !== this.negative && !t)
                    return -1;
                if (0 === this.negative && t)
                    return 1;
                this.strip();
                var i;
                if (this.length > 1)
                    i = 1;
                else {
                    t && (e = -e),
                    n(e <= 67108863, "Number is too big");
                    var r = 0 | this.words[0];
                    i = r === e ? 0 : r < e ? -1 : 1
                }
                return 0 !== this.negative && (i = -i),
                i
            }
            ,
            s.prototype.cmp = function(e) {
                if (0 !== this.negative && 0 === e.negative)
                    return -1;
                if (0 === this.negative && 0 !== e.negative)
                    return 1;
                var t = this.ucmp(e);
                return 0 !== this.negative ? -t : t
            }
            ,
            s.prototype.ucmp = function(e) {
                if (this.length > e.length)
                    return 1;
                if (this.length < e.length)
                    return -1;
                for (var t = 0, i = this.length - 1; i >= 0; i--) {
                    var n = 0 | this.words[i]
                      , r = 0 | e.words[i];
                    if (n !== r) {
                        n < r ? t = -1 : n > r && (t = 1);
                        break
                    }
                }
                return t
            }
            ,
            s.prototype.gtn = function(e) {
                return 1 === this.cmpn(e)
            }
            ,
            s.prototype.gt = function(e) {
                return 1 === this.cmp(e)
            }
            ,
            s.prototype.gten = function(e) {
                return this.cmpn(e) >= 0
            }
            ,
            s.prototype.gte = function(e) {
                return this.cmp(e) >= 0
            }
            ,
            s.prototype.ltn = function(e) {
                return this.cmpn(e) === -1
            }
            ,
            s.prototype.lt = function(e) {
                return this.cmp(e) === -1
            }
            ,
            s.prototype.lten = function(e) {
                return this.cmpn(e) <= 0
            }
            ,
            s.prototype.lte = function(e) {
                return this.cmp(e) <= 0
            }
            ,
            s.prototype.eqn = function(e) {
                return 0 === this.cmpn(e)
            }
            ,
            s.prototype.eq = function(e) {
                return 0 === this.cmp(e)
            }
            ,
            s.red = function(e) {
                return new v(e)
            }
            ,
            s.prototype.toRed = function(e) {
                return n(!this.red, "Already a number in reduction context"),
                n(0 === this.negative, "red works only with positives"),
                e.convertTo(this)._forceRed(e)
            }
            ,
            s.prototype.fromRed = function() {
                return n(this.red, "fromRed works only with numbers in reduction context"),
                this.red.convertFrom(this)
            }
            ,
            s.prototype._forceRed = function(e) {
                return this.red = e,
                this
            }
            ,
            s.prototype.forceRed = function(e) {
                return n(!this.red, "Already a number in reduction context"),
                this._forceRed(e)
            }
            ,
            s.prototype.redAdd = function(e) {
                return n(this.red, "redAdd works only with red numbers"),
                this.red.add(this, e)
            }
            ,
            s.prototype.redIAdd = function(e) {
                return n(this.red, "redIAdd works only with red numbers"),
                this.red.iadd(this, e)
            }
            ,
            s.prototype.redSub = function(e) {
                return n(this.red, "redSub works only with red numbers"),
                this.red.sub(this, e)
            }
            ,
            s.prototype.redISub = function(e) {
                return n(this.red, "redISub works only with red numbers"),
                this.red.isub(this, e)
            }
            ,
            s.prototype.redShl = function(e) {
                return n(this.red, "redShl works only with red numbers"),
                this.red.ushl(this, e)
            }
            ,
            s.prototype.redMul = function(e) {
                return n(this.red, "redMul works only with red numbers"),
                this.red._verify2(this, e),
                this.red.mul(this, e)
            }
            ,
            s.prototype.redIMul = function(e) {
                return n(this.red, "redMul works only with red numbers"),
                this.red._verify2(this, e),
                this.red.imul(this, e)
            }
            ,
            s.prototype.redSqr = function() {
                return n(this.red, "redSqr works only with red numbers"),
                this.red._verify1(this),
                this.red.sqr(this)
            }
            ,
            s.prototype.redISqr = function() {
                return n(this.red, "redISqr works only with red numbers"),
                this.red._verify1(this),
                this.red.isqr(this)
            }
            ,
            s.prototype.redSqrt = function() {
                return n(this.red, "redSqrt works only with red numbers"),
                this.red._verify1(this),
                this.red.sqrt(this)
            }
            ,
            s.prototype.redInvm = function() {
                return n(this.red, "redInvm works only with red numbers"),
                this.red._verify1(this),
                this.red.invm(this)
            }
            ,
            s.prototype.redNeg = function() {
                return n(this.red, "redNeg works only with red numbers"),
                this.red._verify1(this),
                this.red.neg(this)
            }
            ,
            s.prototype.redPow = function(e) {
                return n(this.red && !e.red, "redPow(normalNum)"),
                this.red._verify1(this),
                this.red.pow(this, e)
            }
            ;
            var A = {
                k256: null,
                p224: null,
                p192: null,
                p25519: null
            };
            f.prototype._tmp = function() {
                var e = new s(null);
                return e.words = new Array(Math.ceil(this.n / 13)),
                e
            }
            ,
            f.prototype.ireduce = function(e) {
                var t, i = e;
                do
                    this.split(i, this.tmp),
                    i = this.imulK(i),
                    i = i.iadd(this.tmp),
                    t = i.bitLength();
                while (t > this.n);var n = t < this.n ? -1 : i.ucmp(this.p);
                return 0 === n ? (i.words[0] = 0,
                i.length = 1) : n > 0 ? i.isub(this.p) : i.strip(),
                i
            }
            ,
            f.prototype.split = function(e, t) {
                e.iushrn(this.n, 0, t)
            }
            ,
            f.prototype.imulK = function(e) {
                return e.imul(this.k)
            }
            ,
            r(p, f),
            p.prototype.split = function(e, t) {
                for (var i = 4194303, n = Math.min(e.length, 9), r = 0; r < n; r++)
                    t.words[r] = e.words[r];
                if (t.length = n,
                e.length <= 9)
                    return e.words[0] = 0,
                    void (e.length = 1);
                var s = e.words[9];
                for (t.words[t.length++] = s & i,
                r = 10; r < e.length; r++) {
                    var o = 0 | e.words[r];
                    e.words[r - 10] = (o & i) << 4 | s >>> 22,
                    s = o
                }
                s >>>= 22,
                e.words[r - 10] = s,
                0 === s && e.length > 10 ? e.length -= 10 : e.length -= 9
            }
            ,
            p.prototype.imulK = function(e) {
                e.words[e.length] = 0,
                e.words[e.length + 1] = 0,
                e.length += 2;
                for (var t = 0, i = 0; i < e.length; i++) {
                    var n = 0 | e.words[i];
                    t += 977 * n,
                    e.words[i] = 67108863 & t,
                    t = 64 * n + (t / 67108864 | 0)
                }
                return 0 === e.words[e.length - 1] && (e.length--,
                0 === e.words[e.length - 1] && e.length--),
                e
            }
            ,
            r(m, f),
            r(g, f),
            r(y, f),
            y.prototype.imulK = function(e) {
                for (var t = 0, i = 0; i < e.length; i++) {
                    var n = 19 * (0 | e.words[i]) + t
                      , r = 67108863 & n;
                    n >>>= 26,
                    e.words[i] = r,
                    t = n
                }
                return 0 !== t && (e.words[e.length++] = t),
                e
            }
            ,
            s._prime = function w(e) {
                if (A[e])
                    return A[e];
                var w;
                if ("k256" === e)
                    w = new p;
                else if ("p224" === e)
                    w = new m;
                else if ("p192" === e)
                    w = new g;
                else {
                    if ("p25519" !== e)
                        throw new Error("Unknown prime " + e);
                    w = new y
                }
                return A[e] = w,
                w
            }
            ,
            v.prototype._verify1 = function(e) {
                n(0 === e.negative, "red works only with positives"),
                n(e.red, "red works only with red numbers")
            }
            ,
            v.prototype._verify2 = function(e, t) {
                n(0 === (e.negative | t.negative), "red works only with positives"),
                n(e.red && e.red === t.red, "red works only with red numbers")
            }
            ,
            v.prototype.imod = function(e) {
                return this.prime ? this.prime.ireduce(e)._forceRed(this) : e.umod(this.m)._forceRed(this)
            }
            ,
            v.prototype.neg = function(e) {
                return e.isZero() ? e.clone() : this.m.sub(e)._forceRed(this)
            }
            ,
            v.prototype.add = function(e, t) {
                this._verify2(e, t);
                var i = e.add(t);
                return i.cmp(this.m) >= 0 && i.isub(this.m),
                i._forceRed(this)
            }
            ,
            v.prototype.iadd = function(e, t) {
                this._verify2(e, t);
                var i = e.iadd(t);
                return i.cmp(this.m) >= 0 && i.isub(this.m),
                i
            }
            ,
            v.prototype.sub = function(e, t) {
                this._verify2(e, t);
                var i = e.sub(t);
                return i.cmpn(0) < 0 && i.iadd(this.m),
                i._forceRed(this)
            }
            ,
            v.prototype.isub = function(e, t) {
                this._verify2(e, t);
                var i = e.isub(t);
                return i.cmpn(0) < 0 && i.iadd(this.m),
                i
            }
            ,
            v.prototype.shl = function(e, t) {
                return this._verify1(e),
                this.imod(e.ushln(t))
            }
            ,
            v.prototype.imul = function(e, t) {
                return this._verify2(e, t),
                this.imod(e.imul(t))
            }
            ,
            v.prototype.mul = function(e, t) {
                return this._verify2(e, t),
                this.imod(e.mul(t))
            }
            ,
            v.prototype.isqr = function(e) {
                return this.imul(e, e.clone())
            }
            ,
            v.prototype.sqr = function(e) {
                return this.mul(e, e)
            }
            ,
            v.prototype.sqrt = function(e) {
                if (e.isZero())
                    return e.clone();
                var t = this.m.andln(3);
                if (n(t % 2 === 1),
                3 === t) {
                    var i = this.m.add(new s(1)).iushrn(2);
                    return this.pow(e, i)
                }
                for (var r = this.m.subn(1), o = 0; !r.isZero() && 0 === r.andln(1); )
                    o++,
                    r.iushrn(1);
                n(!r.isZero());
                var a = new s(1).toRed(this)
                  , c = a.redNeg()
                  , l = this.m.subn(1).iushrn(1)
                  , h = this.m.bitLength();
                for (h = new s(2 * h * h).toRed(this); 0 !== this.pow(h, l).cmp(c); )
                    h.redIAdd(c);
                for (var u = this.pow(h, r), d = this.pow(e, r.addn(1).iushrn(1)), f = this.pow(e, r), p = o; 0 !== f.cmp(a); ) {
                    for (var m = f, g = 0; 0 !== m.cmp(a); g++)
                        m = m.redSqr();
                    n(g < p);
                    var y = this.pow(u, new s(1).iushln(p - g - 1));
                    d = d.redMul(y),
                    u = y.redSqr(),
                    f = f.redMul(u),
                    p = g
                }
                return d
            }
            ,
            v.prototype.invm = function(e) {
                var t = e._invmp(this.m);
                return 0 !== t.negative ? (t.negative = 0,
                this.imod(t).redNeg()) : this.imod(t)
            }
            ,
            v.prototype.pow = function(e, t) {
                if (t.isZero())
                    return new s(1);
                if (0 === t.cmpn(1))
                    return e.clone();
                var i = 4
                  , n = new Array(1 << i);
                n[0] = new s(1).toRed(this),
                n[1] = e;
                for (var r = 2; r < n.length; r++)
                    n[r] = this.mul(n[r - 1], e);
                var o = n[0]
                  , a = 0
                  , c = 0
                  , l = t.bitLength() % 26;
                for (0 === l && (l = 26),
                r = t.length - 1; r >= 0; r--) {
                    for (var h = t.words[r], u = l - 1; u >= 0; u--) {
                        var d = h >> u & 1;
                        o !== n[0] && (o = this.sqr(o)),
                        0 !== d || 0 !== a ? (a <<= 1,
                        a |= d,
                        c++,
                        (c === i || 0 === r && 0 === u) && (o = this.mul(o, n[a]),
                        c = 0,
                        a = 0)) : c = 0
                    }
                    l = 26
                }
                return o
            }
            ,
            v.prototype.convertTo = function(e) {
                var t = e.umod(this.m);
                return t === e ? t.clone() : t
            }
            ,
            v.prototype.convertFrom = function(e) {
                var t = e.clone();
                return t.red = null,
                t
            }
            ,
            s.mont = function(e) {
                return new _(e)
            }
            ,
            r(_, v),
            _.prototype.convertTo = function(e) {
                return this.imod(e.ushln(this.shift))
            }
            ,
            _.prototype.convertFrom = function(e) {
                var t = this.imod(e.mul(this.rinv));
                return t.red = null,
                t
            }
            ,
            _.prototype.imul = function(e, t) {
                if (e.isZero() || t.isZero())
                    return e.words[0] = 0,
                    e.length = 1,
                    e;
                var i = e.imul(t)
                  , n = i.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m)
                  , r = i.isub(n).iushrn(this.shift)
                  , s = r;
                return r.cmp(this.m) >= 0 ? s = r.isub(this.m) : r.cmpn(0) < 0 && (s = r.iadd(this.m)),
                s._forceRed(this)
            }
            ,
            _.prototype.mul = function(e, t) {
                if (e.isZero() || t.isZero())
                    return new s(0)._forceRed(this);
                var i = e.mul(t)
                  , n = i.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m)
                  , r = i.isub(n).iushrn(this.shift)
                  , o = r;
                return r.cmp(this.m) >= 0 ? o = r.isub(this.m) : r.cmpn(0) < 0 && (o = r.iadd(this.m)),
                o._forceRed(this)
            }
            ,
            _.prototype.invm = function(e) {
                var t = this.imod(e._invmp(this.m).mul(this.r2));
                return t._forceRed(this)
            }
        }("undefined" == typeof t || t, this)
    }
    , {}],
    54: [function(e, t, i) {
        (function(i) {
            function n(e) {
                var t = s(e)
                  , i = t.toRed(o.mont(e.modulus)).redPow(new o(e.publicExponent)).fromRed();
                return {
                    blinder: i,
                    unblinder: t.invm(e.modulus)
                }
            }
            function r(e, t) {
                var r = n(t)
                  , s = t.modulus.byteLength()
                  , a = (o.mont(t.modulus),
                new o(e).mul(r.blinder).umod(t.modulus))
                  , c = a.toRed(o.mont(t.prime1))
                  , l = a.toRed(o.mont(t.prime2))
                  , h = t.coefficient
                  , u = t.prime1
                  , d = t.prime2
                  , f = c.redPow(t.exponent1)
                  , p = l.redPow(t.exponent2);
                f = f.fromRed(),
                p = p.fromRed();
                var m = f.isub(p).imul(h).umod(u);
                return m.imul(d),
                p.iadd(m),
                new i(p.imul(r.unblinder).umod(t.modulus).toArray(!1, s))
            }
            function s(e) {
                for (var t = e.modulus.byteLength(), i = new o(a(t)); i.cmp(e.modulus) >= 0 || !i.umod(e.prime1) || !i.umod(e.prime2); )
                    i = new o(a(t));
                return i
            }
            var o = e("bn.js")
              , a = e("randombytes");
            t.exports = r,
            r.getr = s
        }
        ).call(this, e("buffer").Buffer)
    }
    , {
        "bn.js": 53,
        buffer: 179,
        randombytes: 177
    }],
    55: [function(e, t, i) {
        "use strict";
        var n = i;
        n.version = e("../package.json").version,
        n.utils = e("./elliptic/utils"),
        n.rand = e("brorand"),
        n.hmacDRBG = e("./elliptic/hmac-drbg"),
        n.curve = e("./elliptic/curve"),
        n.curves = e("./elliptic/curves"),
        n.ec = e("./elliptic/ec"),
        n.eddsa = e("./elliptic/eddsa")
    }
    , {
        "../package.json": 78,
        "./elliptic/curve": 58,
        "./elliptic/curves": 61,
        "./elliptic/ec": 62,
        "./elliptic/eddsa": 65,
        "./elliptic/hmac-drbg": 68,
        "./elliptic/utils": 70,
        brorand: 71
    }],
    56: [function(e, t, i) {
        "use strict";
        function n(e, t) {
            this.type = e,
            this.p = new s(t.p,16),
            this.red = t.prime ? s.red(t.prime) : s.mont(this.p),
            this.zero = new s(0).toRed(this.red),
            this.one = new s(1).toRed(this.red),
            this.two = new s(2).toRed(this.red),
            this.n = t.n && new s(t.n,16),
            this.g = t.g && this.pointFromJSON(t.g, t.gRed),
            this._wnafT1 = new Array(4),
            this._wnafT2 = new Array(4),
            this._wnafT3 = new Array(4),
            this._wnafT4 = new Array(4)
        }
        function r(e, t) {
            this.curve = e,
            this.type = t,
            this.precomputed = null
        }
        var s = e("bn.js")
          , o = e("../../elliptic")
          , a = o.utils
          , c = a.getNAF
          , l = a.getJSF
          , h = a.assert;
        t.exports = n,
        n.prototype.point = function() {
            throw new Error("Not implemented")
        }
        ,
        n.prototype.validate = function() {
            throw new Error("Not implemented")
        }
        ,
        n.prototype._fixedNafMul = function(e, t) {
            h(e.precomputed);
            var i = e._getDoubles()
              , n = c(t, 1)
              , r = (1 << i.step + 1) - (i.step % 2 === 0 ? 2 : 1);
            r /= 3;
            for (var s = [], o = 0; o < n.length; o += i.step) {
                for (var a = 0, t = o + i.step - 1; t >= o; t--)
                    a = (a << 1) + n[t];
                s.push(a)
            }
            for (var l = this.jpoint(null, null, null), u = this.jpoint(null, null, null), d = r; d > 0; d--) {
                for (var o = 0; o < s.length; o++) {
                    var a = s[o];
                    a === d ? u = u.mixedAdd(i.points[o]) : a === -d && (u = u.mixedAdd(i.points[o].neg()))
                }
                l = l.add(u)
            }
            return l.toP()
        }
        ,
        n.prototype._wnafMul = function(e, t) {
            var i = 4
              , n = e._getNAFPoints(i);
            i = n.wnd;
            for (var r = n.points, s = c(t, i), o = this.jpoint(null, null, null), a = s.length - 1; a >= 0; a--) {
                for (var t = 0; a >= 0 && 0 === s[a]; a--)
                    t++;
                if (a >= 0 && t++,
                o = o.dblp(t),
                a < 0)
                    break;
                var l = s[a];
                h(0 !== l),
                o = "affine" === e.type ? l > 0 ? o.mixedAdd(r[l - 1 >> 1]) : o.mixedAdd(r[-l - 1 >> 1].neg()) : l > 0 ? o.add(r[l - 1 >> 1]) : o.add(r[-l - 1 >> 1].neg())
            }
            return "affine" === e.type ? o.toP() : o
        }
        ,
        n.prototype._wnafMulAdd = function(e, t, i, n) {
            for (var r = this._wnafT1, s = this._wnafT2, o = this._wnafT3, a = 0, h = 0; h < n; h++) {
                var u = t[h]
                  , d = u._getNAFPoints(e);
                r[h] = d.wnd,
                s[h] = d.points
            }
            for (var h = n - 1; h >= 1; h -= 2) {
                var f = h - 1
                  , p = h;
                if (1 === r[f] && 1 === r[p]) {
                    var m = [t[f], null, null, t[p]];
                    0 === t[f].y.cmp(t[p].y) ? (m[1] = t[f].add(t[p]),
                    m[2] = t[f].toJ().mixedAdd(t[p].neg())) : 0 === t[f].y.cmp(t[p].y.redNeg()) ? (m[1] = t[f].toJ().mixedAdd(t[p]),
                    m[2] = t[f].add(t[p].neg())) : (m[1] = t[f].toJ().mixedAdd(t[p]),
                    m[2] = t[f].toJ().mixedAdd(t[p].neg()));
                    var g = [-3, -1, -5, -7, 0, 7, 5, 1, 3]
                      , y = l(i[f], i[p]);
                    a = Math.max(y[0].length, a),
                    o[f] = new Array(a),
                    o[p] = new Array(a);
                    for (var v = 0; v < a; v++) {
                        var _ = 0 | y[0][v]
                          , b = 0 | y[1][v];
                        o[f][v] = g[3 * (_ + 1) + (b + 1)],
                        o[p][v] = 0,
                        s[f] = m
                    }
                } else
                    o[f] = c(i[f], r[f]),
                    o[p] = c(i[p], r[p]),
                    a = Math.max(o[f].length, a),
                    a = Math.max(o[p].length, a)
            }
            for (var S = this.jpoint(null, null, null), E = this._wnafT4, h = a; h >= 0; h--) {
                for (var P = 0; h >= 0; ) {
                    for (var T = !0, v = 0; v < n; v++)
                        E[v] = 0 | o[v][h],
                        0 !== E[v] && (T = !1);
                    if (!T)
                        break;
                    P++,
                    h--
                }
                if (h >= 0 && P++,
                S = S.dblp(P),
                h < 0)
                    break;
                for (var v = 0; v < n; v++) {
                    var u, C = E[v];
                    0 !== C && (C > 0 ? u = s[v][C - 1 >> 1] : C < 0 && (u = s[v][-C - 1 >> 1].neg()),
                    S = "affine" === u.type ? S.mixedAdd(u) : S.add(u))
                }
            }
            for (var h = 0; h < n; h++)
                s[h] = null;
            return S.toP()
        }
        ,
        n.BasePoint = r,
        r.prototype.eq = function() {
            throw new Error("Not implemented")
        }
        ,
        r.prototype.validate = function() {
            return this.curve.validate(this)
        }
        ,
        n.prototype.decodePoint = function(e, t) {
            e = a.toArray(e, t);
            var i = this.p.byteLength();
            if (4 === e[0] && e.length - 1 === 2 * i)
                return this.point(e.slice(1, 1 + i), e.slice(1 + i, 1 + 2 * i));
            if ((2 === e[0] || 3 === e[0]) && e.length - 1 === i)
                return this.pointFromX(e.slice(1, 1 + i), 3 === e[0]);
            throw new Error("Unknown point format")
        }
        ,
        r.prototype.encodeCompressed = function(e) {
            return this.encode(e, !0)
        }
        ,
        r.prototype._encode = function(e) {
            var t = this.curve.p.byteLength()
              , i = this.getX().toArray("be", t);
            return e ? [this.getY().isEven() ? 2 : 3].concat(i) : [4].concat(i, this.getY().toArray("be", t))
        }
        ,
        r.prototype.encode = function(e, t) {
            return a.encode(this._encode(t), e)
        }
        ,
        r.prototype.precompute = function(e) {
            if (this.precomputed)
                return this;
            var t = {
                doubles: null,
                naf: null,
                beta: null
            };
            return t.naf = this._getNAFPoints(8),
            t.doubles = this._getDoubles(4, e),
            t.beta = this._getBeta(),
            this.precomputed = t,
            this
        }
        ,
        r.prototype._hasDoubles = function(e) {
            if (!this.precomputed)
                return !1;
            var t = this.precomputed.doubles;
            return !!t && t.points.length >= Math.ceil((e.bitLength() + 1) / t.step)
        }
        ,
        r.prototype._getDoubles = function(e, t) {
            if (this.precomputed && this.precomputed.doubles)
                return this.precomputed.doubles;
            for (var i = [this], n = this, r = 0; r < t; r += e) {
                for (var s = 0; s < e; s++)
                    n = n.dbl();
                i.push(n)
            }
            return {
                step: e,
                points: i
            }
        }
        ,
        r.prototype._getNAFPoints = function(e) {
            if (this.precomputed && this.precomputed.naf)
                return this.precomputed.naf;
            for (var t = [this], i = (1 << e) - 1, n = 1 === i ? null : this.dbl(), r = 1; r < i; r++)
                t[r] = t[r - 1].add(n);
            return {
                wnd: e,
                points: t
            }
        }
        ,
        r.prototype._getBeta = function() {
            return null
        }
        ,
        r.prototype.dblp = function(e) {
            for (var t = this, i = 0; i < e; i++)
                t = t.dbl();
            return t
        }
    }
    , {
        "../../elliptic": 55,
        "bn.js": 53
    }],
    57: [function(e, t, i) {
        "use strict";
        function n(e) {
            this.twisted = 1 !== (0 | e.a),
            this.mOneA = this.twisted && (0 | e.a) === -1,
            this.extended = this.mOneA,
            l.call(this, "edwards", e),
            this.a = new a(e.a,16).umod(this.red.m),
            this.a = this.a.toRed(this.red),
            this.c = new a(e.c,16).toRed(this.red),
            this.c2 = this.c.redSqr(),
            this.d = new a(e.d,16).toRed(this.red),
            this.dd = this.d.redAdd(this.d),
            h(!this.twisted || 0 === this.c.fromRed().cmpn(1)),
            this.oneC = 1 === (0 | e.c)
        }
        function r(e, t, i, n, r) {
            l.BasePoint.call(this, e, "projective"),
            null === t && null === i && null === n ? (this.x = this.curve.zero,
            this.y = this.curve.one,
            this.z = this.curve.one,
            this.t = this.curve.zero,
            this.zOne = !0) : (this.x = new a(t,16),
            this.y = new a(i,16),
            this.z = n ? new a(n,16) : this.curve.one,
            this.t = r && new a(r,16),
            this.x.red || (this.x = this.x.toRed(this.curve.red)),
            this.y.red || (this.y = this.y.toRed(this.curve.red)),
            this.z.red || (this.z = this.z.toRed(this.curve.red)),
            this.t && !this.t.red && (this.t = this.t.toRed(this.curve.red)),
            this.zOne = this.z === this.curve.one,
            this.curve.extended && !this.t && (this.t = this.x.redMul(this.y),
            this.zOne || (this.t = this.t.redMul(this.z.redInvm()))))
        }
        var s = e("../curve")
          , o = e("../../elliptic")
          , a = e("bn.js")
          , c = e("inherits")
          , l = s.base
          , h = o.utils.assert;
        c(n, l),
        t.exports = n,
        n.prototype._mulA = function(e) {
            return this.mOneA ? e.redNeg() : this.a.redMul(e)
        }
        ,
        n.prototype._mulC = function(e) {
            return this.oneC ? e : this.c.redMul(e)
        }
        ,
        n.prototype.jpoint = function(e, t, i, n) {
            return this.point(e, t, i, n)
        }
        ,
        n.prototype.pointFromX = function(e, t) {
            e = new a(e,16),
            e.red || (e = e.toRed(this.red));
            var i = e.redSqr()
              , n = this.c2.redSub(this.a.redMul(i))
              , r = this.one.redSub(this.c2.redMul(this.d).redMul(i))
              , s = n.redMul(r.redInvm())
              , o = s.redSqrt();
            if (0 !== o.redSqr().redSub(s).cmp(this.zero))
                throw new Error("invalid point");
            var c = o.fromRed().isOdd();
            return (t && !c || !t && c) && (o = o.redNeg()),
            this.point(e, o)
        }
        ,
        n.prototype.pointFromY = function(e, t) {
            e = new a(e,16),
            e.red || (e = e.toRed(this.red));
            var i = e.redSqr()
              , n = i.redSub(this.one)
              , r = i.redMul(this.d).redAdd(this.one)
              , s = n.redMul(r.redInvm());
            if (0 === s.cmp(this.zero)) {
                if (t)
                    throw new Error("invalid point");
                return this.point(this.zero, e)
            }
            var o = s.redSqrt();
            if (0 !== o.redSqr().redSub(s).cmp(this.zero))
                throw new Error("invalid point");
            return o.isOdd() !== t && (o = o.redNeg()),
            this.point(o, e)
        }
        ,
        n.prototype.validate = function(e) {
            if (e.isInfinity())
                return !0;
            e.normalize();
            var t = e.x.redSqr()
              , i = e.y.redSqr()
              , n = t.redMul(this.a).redAdd(i)
              , r = this.c2.redMul(this.one.redAdd(this.d.redMul(t).redMul(i)));
            return 0 === n.cmp(r)
        }
        ,
        c(r, l.BasePoint),
        n.prototype.pointFromJSON = function(e) {
            return r.fromJSON(this, e)
        }
        ,
        n.prototype.point = function(e, t, i, n) {
            return new r(this,e,t,i,n)
        }
        ,
        r.fromJSON = function(e, t) {
            return new r(e,t[0],t[1],t[2])
        }
        ,
        r.prototype.inspect = function() {
            return this.isInfinity() ? "<EC Point Infinity>" : "<EC Point x: " + this.x.fromRed().toString(16, 2) + " y: " + this.y.fromRed().toString(16, 2) + " z: " + this.z.fromRed().toString(16, 2) + ">"
        }
        ,
        r.prototype.isInfinity = function() {
            return 0 === this.x.cmpn(0) && 0 === this.y.cmp(this.z)
        }
        ,
        r.prototype._extDbl = function() {
            var e = this.x.redSqr()
              , t = this.y.redSqr()
              , i = this.z.redSqr();
            i = i.redIAdd(i);
            var n = this.curve._mulA(e)
              , r = this.x.redAdd(this.y).redSqr().redISub(e).redISub(t)
              , s = n.redAdd(t)
              , o = s.redSub(i)
              , a = n.redSub(t)
              , c = r.redMul(o)
              , l = s.redMul(a)
              , h = r.redMul(a)
              , u = o.redMul(s);
            return this.curve.point(c, l, u, h)
        }
        ,
        r.prototype._projDbl = function() {
            var e, t, i, n = this.x.redAdd(this.y).redSqr(), r = this.x.redSqr(), s = this.y.redSqr();
            if (this.curve.twisted) {
                var o = this.curve._mulA(r)
                  , a = o.redAdd(s);
                if (this.zOne)
                    e = n.redSub(r).redSub(s).redMul(a.redSub(this.curve.two)),
                    t = a.redMul(o.redSub(s)),
                    i = a.redSqr().redSub(a).redSub(a);
                else {
                    var c = this.z.redSqr()
                      , l = a.redSub(c).redISub(c);
                    e = n.redSub(r).redISub(s).redMul(l),
                    t = a.redMul(o.redSub(s)),
                    i = a.redMul(l)
                }
            } else {
                var o = r.redAdd(s)
                  , c = this.curve._mulC(this.c.redMul(this.z)).redSqr()
                  , l = o.redSub(c).redSub(c);
                e = this.curve._mulC(n.redISub(o)).redMul(l),
                t = this.curve._mulC(o).redMul(r.redISub(s)),
                i = o.redMul(l)
            }
            return this.curve.point(e, t, i)
        }
        ,
        r.prototype.dbl = function() {
            return this.isInfinity() ? this : this.curve.extended ? this._extDbl() : this._projDbl()
        }
        ,
        r.prototype._extAdd = function(e) {
            var t = this.y.redSub(this.x).redMul(e.y.redSub(e.x))
              , i = this.y.redAdd(this.x).redMul(e.y.redAdd(e.x))
              , n = this.t.redMul(this.curve.dd).redMul(e.t)
              , r = this.z.redMul(e.z.redAdd(e.z))
              , s = i.redSub(t)
              , o = r.redSub(n)
              , a = r.redAdd(n)
              , c = i.redAdd(t)
              , l = s.redMul(o)
              , h = a.redMul(c)
              , u = s.redMul(c)
              , d = o.redMul(a);
            return this.curve.point(l, h, d, u)
        }
        ,
        r.prototype._projAdd = function(e) {
            var t, i, n = this.z.redMul(e.z), r = n.redSqr(), s = this.x.redMul(e.x), o = this.y.redMul(e.y), a = this.curve.d.redMul(s).redMul(o), c = r.redSub(a), l = r.redAdd(a), h = this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(s).redISub(o), u = n.redMul(c).redMul(h);
            return this.curve.twisted ? (t = n.redMul(l).redMul(o.redSub(this.curve._mulA(s))),
            i = c.redMul(l)) : (t = n.redMul(l).redMul(o.redSub(s)),
            i = this.curve._mulC(c).redMul(l)),
            this.curve.point(u, t, i)
        }
        ,
        r.prototype.add = function(e) {
            return this.isInfinity() ? e : e.isInfinity() ? this : this.curve.extended ? this._extAdd(e) : this._projAdd(e)
        }
        ,
        r.prototype.mul = function(e) {
            return this._hasDoubles(e) ? this.curve._fixedNafMul(this, e) : this.curve._wnafMul(this, e)
        }
        ,
        r.prototype.mulAdd = function(e, t, i) {
            return this.curve._wnafMulAdd(1, [this, t], [e, i], 2)
        }
        ,
        r.prototype.normalize = function() {
            if (this.zOne)
                return this;
            var e = this.z.redInvm();
            return this.x = this.x.redMul(e),
            this.y = this.y.redMul(e),
            this.t && (this.t = this.t.redMul(e)),
            this.z = this.curve.one,
            this.zOne = !0,
            this
        }
        ,
        r.prototype.neg = function() {
            return this.curve.point(this.x.redNeg(), this.y, this.z, this.t && this.t.redNeg())
        }
        ,
        r.prototype.getX = function() {
            return this.normalize(),
            this.x.fromRed()
        }
        ,
        r.prototype.getY = function() {
            return this.normalize(),
            this.y.fromRed()
        }
        ,
        r.prototype.eq = function(e) {
            return this === e || 0 === this.getX().cmp(e.getX()) && 0 === this.getY().cmp(e.getY())
        }
        ,
        r.prototype.toP = r.prototype.normalize,
        r.prototype.mixedAdd = r.prototype.add
    }
    , {
        "../../elliptic": 55,
        "../curve": 58,
        "bn.js": 53,
        inherits: 147
    }],
    58: [function(e, t, i) {
        "use strict";
        var n = i;
        n.base = e("./base"),
        n["short"] = e("./short"),
        n.mont = e("./mont"),
        n.edwards = e("./edwards")
    }
    , {
        "./base": 56,
        "./edwards": 57,
        "./mont": 59,
        "./short": 60
    }],
    59: [function(e, t, i) {
        "use strict";
        function n(e) {
            c.call(this, "mont", e),
            this.a = new o(e.a,16).toRed(this.red),
            this.b = new o(e.b,16).toRed(this.red),
            this.i4 = new o(4).toRed(this.red).redInvm(),
            this.two = new o(2).toRed(this.red),
            this.a24 = this.i4.redMul(this.a.redAdd(this.two))
        }
        function r(e, t, i) {
            c.BasePoint.call(this, e, "projective"),
            null === t && null === i ? (this.x = this.curve.one,
            this.z = this.curve.zero) : (this.x = new o(t,16),
            this.z = new o(i,16),
            this.x.red || (this.x = this.x.toRed(this.curve.red)),
            this.z.red || (this.z = this.z.toRed(this.curve.red)))
        }
        var s = e("../curve")
          , o = e("bn.js")
          , a = e("inherits")
          , c = s.base
          , l = e("../../elliptic")
          , h = l.utils;
        a(n, c),
        t.exports = n,
        n.prototype.validate = function(e) {
            var t = e.normalize().x
              , i = t.redSqr()
              , n = i.redMul(t).redAdd(i.redMul(this.a)).redAdd(t)
              , r = n.redSqrt();
            return 0 === r.redSqr().cmp(n)
        }
        ,
        a(r, c.BasePoint),
        n.prototype.decodePoint = function(e, t) {
            return this.point(h.toArray(e, t), 1)
        }
        ,
        n.prototype.point = function(e, t) {
            return new r(this,e,t)
        }
        ,
        n.prototype.pointFromJSON = function(e) {
            return r.fromJSON(this, e)
        }
        ,
        r.prototype.precompute = function() {}
        ,
        r.prototype._encode = function() {
            return this.getX().toArray("be", this.curve.p.byteLength())
        }
        ,
        r.fromJSON = function(e, t) {
            return new r(e,t[0],t[1] || e.one)
        }
        ,
        r.prototype.inspect = function() {
            return this.isInfinity() ? "<EC Point Infinity>" : "<EC Point x: " + this.x.fromRed().toString(16, 2) + " z: " + this.z.fromRed().toString(16, 2) + ">"
        }
        ,
        r.prototype.isInfinity = function() {
            return 0 === this.z.cmpn(0)
        }
        ,
        r.prototype.dbl = function() {
            var e = this.x.redAdd(this.z)
              , t = e.redSqr()
              , i = this.x.redSub(this.z)
              , n = i.redSqr()
              , r = t.redSub(n)
              , s = t.redMul(n)
              , o = r.redMul(n.redAdd(this.curve.a24.redMul(r)));
            return this.curve.point(s, o)
        }
        ,
        r.prototype.add = function() {
            throw new Error("Not supported on Montgomery curve")
        }
        ,
        r.prototype.diffAdd = function(e, t) {
            var i = this.x.redAdd(this.z)
              , n = this.x.redSub(this.z)
              , r = e.x.redAdd(e.z)
              , s = e.x.redSub(e.z)
              , o = s.redMul(i)
              , a = r.redMul(n)
              , c = t.z.redMul(o.redAdd(a).redSqr())
              , l = t.x.redMul(o.redISub(a).redSqr());
            return this.curve.point(c, l)
        }
        ,
        r.prototype.mul = function(e) {
            for (var t = e.clone(), i = this, n = this.curve.point(null, null), r = this, s = []; 0 !== t.cmpn(0); t.iushrn(1))
                s.push(t.andln(1));
            for (var o = s.length - 1; o >= 0; o--)
                0 === s[o] ? (i = i.diffAdd(n, r),
                n = n.dbl()) : (n = i.diffAdd(n, r),
                i = i.dbl());
            return n
        }
        ,
        r.prototype.mulAdd = function() {
            throw new Error("Not supported on Montgomery curve")
        }
        ,
        r.prototype.eq = function(e) {
            return 0 === this.getX().cmp(e.getX())
        }
        ,
        r.prototype.normalize = function() {
            return this.x = this.x.redMul(this.z.redInvm()),
            this.z = this.curve.one,
            this
        }
        ,
        r.prototype.getX = function() {
            return this.normalize(),
            this.x.fromRed()
        }
    }
    , {
        "../../elliptic": 55,
        "../curve": 58,
        "bn.js": 53,
        inherits: 147
    }],
    60: [function(e, t, i) {
        "use strict";
        function n(e) {
            h.call(this, "short", e),
            this.a = new c(e.a,16).toRed(this.red),
            this.b = new c(e.b,16).toRed(this.red),
            this.tinv = this.two.redInvm(),
            this.zeroA = 0 === this.a.fromRed().cmpn(0),
            this.threeA = 0 === this.a.fromRed().sub(this.p).cmpn(-3),
            this.endo = this._getEndomorphism(e),
            this._endoWnafT1 = new Array(4),
            this._endoWnafT2 = new Array(4)
        }
        function r(e, t, i, n) {
            h.BasePoint.call(this, e, "affine"),
            null === t && null === i ? (this.x = null,
            this.y = null,
            this.inf = !0) : (this.x = new c(t,16),
            this.y = new c(i,16),
            n && (this.x.forceRed(this.curve.red),
            this.y.forceRed(this.curve.red)),
            this.x.red || (this.x = this.x.toRed(this.curve.red)),
            this.y.red || (this.y = this.y.toRed(this.curve.red)),
            this.inf = !1)
        }
        function s(e, t, i, n) {
            h.BasePoint.call(this, e, "jacobian"),
            null === t && null === i && null === n ? (this.x = this.curve.one,
            this.y = this.curve.one,
            this.z = new c(0)) : (this.x = new c(t,16),
            this.y = new c(i,16),
            this.z = new c(n,16)),
            this.x.red || (this.x = this.x.toRed(this.curve.red)),
            this.y.red || (this.y = this.y.toRed(this.curve.red)),
            this.z.red || (this.z = this.z.toRed(this.curve.red)),
            this.zOne = this.z === this.curve.one
        }
        var o = e("../curve")
          , a = e("../../elliptic")
          , c = e("bn.js")
          , l = e("inherits")
          , h = o.base
          , u = a.utils.assert;
        l(n, h),
        t.exports = n,
        n.prototype._getEndomorphism = function(e) {
            if (this.zeroA && this.g && this.n && 1 === this.p.modn(3)) {
                var t, i;
                if (e.beta)
                    t = new c(e.beta,16).toRed(this.red);
                else {
                    var n = this._getEndoRoots(this.p);
                    t = n[0].cmp(n[1]) < 0 ? n[0] : n[1],
                    t = t.toRed(this.red)
                }
                if (e.lambda)
                    i = new c(e.lambda,16);
                else {
                    var r = this._getEndoRoots(this.n);
                    0 === this.g.mul(r[0]).x.cmp(this.g.x.redMul(t)) ? i = r[0] : (i = r[1],
                    u(0 === this.g.mul(i).x.cmp(this.g.x.redMul(t))))
                }
                var s;
                return s = e.basis ? e.basis.map(function(e) {
                    return {
                        a: new c(e.a,16),
                        b: new c(e.b,16)
                    }
                }) : this._getEndoBasis(i),
                {
                    beta: t,
                    lambda: i,
                    basis: s
                }
            }
        }
        ,
        n.prototype._getEndoRoots = function(e) {
            var t = e === this.p ? this.red : c.mont(e)
              , i = new c(2).toRed(t).redInvm()
              , n = i.redNeg()
              , r = new c(3).toRed(t).redNeg().redSqrt().redMul(i)
              , s = n.redAdd(r).fromRed()
              , o = n.redSub(r).fromRed();
            return [s, o]
        }
        ,
        n.prototype._getEndoBasis = function(e) {
            for (var t, i, n, r, s, o, a, l, h, u = this.n.ushrn(Math.floor(this.n.bitLength() / 2)), d = e, f = this.n.clone(), p = new c(1), m = new c(0), g = new c(0), y = new c(1), v = 0; 0 !== d.cmpn(0); ) {
                var _ = f.div(d);
                l = f.sub(_.mul(d)),
                h = g.sub(_.mul(p));
                var b = y.sub(_.mul(m));
                if (!n && l.cmp(u) < 0)
                    t = a.neg(),
                    i = p,
                    n = l.neg(),
                    r = h;
                else if (n && 2 === ++v)
                    break;
                a = l,
                f = d,
                d = l,
                g = p,
                p = h,
                y = m,
                m = b
            }
            s = l.neg(),
            o = h;
            var S = n.sqr().add(r.sqr())
              , E = s.sqr().add(o.sqr());
            return E.cmp(S) >= 0 && (s = t,
            o = i),
            n.negative && (n = n.neg(),
            r = r.neg()),
            s.negative && (s = s.neg(),
            o = o.neg()),
            [{
                a: n,
                b: r
            }, {
                a: s,
                b: o
            }]
        }
        ,
        n.prototype._endoSplit = function(e) {
            var t = this.endo.basis
              , i = t[0]
              , n = t[1]
              , r = n.b.mul(e).divRound(this.n)
              , s = i.b.neg().mul(e).divRound(this.n)
              , o = r.mul(i.a)
              , a = s.mul(n.a)
              , c = r.mul(i.b)
              , l = s.mul(n.b)
              , h = e.sub(o).sub(a)
              , u = c.add(l).neg();
            return {
                k1: h,
                k2: u
            }
        }
        ,
        n.prototype.pointFromX = function(e, t) {
            e = new c(e,16),
            e.red || (e = e.toRed(this.red));
            var i = e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b)
              , n = i.redSqrt();
            if (0 !== n.redSqr().redSub(i).cmp(this.zero))
                throw new Error("invalid point");
            var r = n.fromRed().isOdd();
            return (t && !r || !t && r) && (n = n.redNeg()),
            this.point(e, n)
        }
        ,
        n.prototype.validate = function(e) {
            if (e.inf)
                return !0;
            var t = e.x
              , i = e.y
              , n = this.a.redMul(t)
              , r = t.redSqr().redMul(t).redIAdd(n).redIAdd(this.b);
            return 0 === i.redSqr().redISub(r).cmpn(0)
        }
        ,
        n.prototype._endoWnafMulAdd = function(e, t) {
            for (var i = this._endoWnafT1, n = this._endoWnafT2, r = 0; r < e.length; r++) {
                var s = this._endoSplit(t[r])
                  , o = e[r]
                  , a = o._getBeta();
                s.k1.negative && (s.k1.ineg(),
                o = o.neg(!0)),
                s.k2.negative && (s.k2.ineg(),
                a = a.neg(!0)),
                i[2 * r] = o,
                i[2 * r + 1] = a,
                n[2 * r] = s.k1,
                n[2 * r + 1] = s.k2
            }
            for (var c = this._wnafMulAdd(1, i, n, 2 * r), l = 0; l < 2 * r; l++)
                i[l] = null,
                n[l] = null;
            return c
        }
        ,
        l(r, h.BasePoint),
        n.prototype.point = function(e, t, i) {
            return new r(this,e,t,i)
        }
        ,
        n.prototype.pointFromJSON = function(e, t) {
            return r.fromJSON(this, e, t)
        }
        ,
        r.prototype._getBeta = function() {
            if (this.curve.endo) {
                var e = this.precomputed;
                if (e && e.beta)
                    return e.beta;
                var t = this.curve.point(this.x.redMul(this.curve.endo.beta), this.y);
                if (e) {
                    var i = this.curve
                      , n = function(e) {
                        return i.point(e.x.redMul(i.endo.beta), e.y)
                    };
                    e.beta = t,
                    t.precomputed = {
                        beta: null,
                        naf: e.naf && {
                            wnd: e.naf.wnd,
                            points: e.naf.points.map(n)
                        },
                        doubles: e.doubles && {
                            step: e.doubles.step,
                            points: e.doubles.points.map(n)
                        }
                    }
                }
                return t
            }
        }
        ,
        r.prototype.toJSON = function() {
            return this.precomputed ? [this.x, this.y, this.precomputed && {
                doubles: this.precomputed.doubles && {
                    step: this.precomputed.doubles.step,
                    points: this.precomputed.doubles.points.slice(1)
                },
                naf: this.precomputed.naf && {
                    wnd: this.precomputed.naf.wnd,
                    points: this.precomputed.naf.points.slice(1)
                }
            }] : [this.x, this.y]
        }
        ,
        r.fromJSON = function(e, t, i) {
            function n(t) {
                return e.point(t[0], t[1], i)
            }
            "string" == typeof t && (t = JSON.parse(t));
            var r = e.point(t[0], t[1], i);
            if (!t[2])
                return r;
            var s = t[2];
            return r.precomputed = {
                beta: null,
                doubles: s.doubles && {
                    step: s.doubles.step,
                    points: [r].concat(s.doubles.points.map(n))
                },
                naf: s.naf && {
                    wnd: s.naf.wnd,
                    points: [r].concat(s.naf.points.map(n))
                }
            },
            r
        }
        ,
        r.prototype.inspect = function() {
            return this.isInfinity() ? "<EC Point Infinity>" : "<EC Point x: " + this.x.fromRed().toString(16, 2) + " y: " + this.y.fromRed().toString(16, 2) + ">"
        }
        ,
        r.prototype.isInfinity = function() {
            return this.inf
        }
        ,
        r.prototype.add = function(e) {
            if (this.inf)
                return e;
            if (e.inf)
                return this;
            if (this.eq(e))
                return this.dbl();
            if (this.neg().eq(e))
                return this.curve.point(null, null);
            if (0 === this.x.cmp(e.x))
                return this.curve.point(null, null);
            var t = this.y.redSub(e.y);
            0 !== t.cmpn(0) && (t = t.redMul(this.x.redSub(e.x).redInvm()));
            var i = t.redSqr().redISub(this.x).redISub(e.x)
              , n = t.redMul(this.x.redSub(i)).redISub(this.y);
            return this.curve.point(i, n)
        }
        ,
        r.prototype.dbl = function() {
            if (this.inf)
                return this;
            var e = this.y.redAdd(this.y);
            if (0 === e.cmpn(0))
                return this.curve.point(null, null);
            var t = this.curve.a
              , i = this.x.redSqr()
              , n = e.redInvm()
              , r = i.redAdd(i).redIAdd(i).redIAdd(t).redMul(n)
              , s = r.redSqr().redISub(this.x.redAdd(this.x))
              , o = r.redMul(this.x.redSub(s)).redISub(this.y);
            return this.curve.point(s, o)
        }
        ,
        r.prototype.getX = function() {
            return this.x.fromRed()
        }
        ,
        r.prototype.getY = function() {
            return this.y.fromRed()
        }
        ,
        r.prototype.mul = function(e) {
            return e = new c(e,16),
            this._hasDoubles(e) ? this.curve._fixedNafMul(this, e) : this.curve.endo ? this.curve._endoWnafMulAdd([this], [e]) : this.curve._wnafMul(this, e)
        }
        ,
        r.prototype.mulAdd = function(e, t, i) {
            var n = [this, t]
              , r = [e, i];
            return this.curve.endo ? this.curve._endoWnafMulAdd(n, r) : this.curve._wnafMulAdd(1, n, r, 2)
        }
        ,
        r.prototype.eq = function(e) {
            return this === e || this.inf === e.inf && (this.inf || 0 === this.x.cmp(e.x) && 0 === this.y.cmp(e.y))
        }
        ,
        r.prototype.neg = function(e) {
            if (this.inf)
                return this;
            var t = this.curve.point(this.x, this.y.redNeg());
            if (e && this.precomputed) {
                var i = this.precomputed
                  , n = function(e) {
                    return e.neg()
                };
                t.precomputed = {
                    naf: i.naf && {
                        wnd: i.naf.wnd,
                        points: i.naf.points.map(n)
                    },
                    doubles: i.doubles && {
                        step: i.doubles.step,
                        points: i.doubles.points.map(n)
                    }
                }
            }
            return t
        }
        ,
        r.prototype.toJ = function() {
            if (this.inf)
                return this.curve.jpoint(null, null, null);
            var e = this.curve.jpoint(this.x, this.y, this.curve.one);
            return e
        }
        ,
        l(s, h.BasePoint),
        n.prototype.jpoint = function(e, t, i) {
            return new s(this,e,t,i)
        }
        ,
        s.prototype.toP = function() {
            if (this.isInfinity())
                return this.curve.point(null, null);
            var e = this.z.redInvm()
              , t = e.redSqr()
              , i = this.x.redMul(t)
              , n = this.y.redMul(t).redMul(e);
            return this.curve.point(i, n)
        }
        ,
        s.prototype.neg = function() {
            return this.curve.jpoint(this.x, this.y.redNeg(), this.z)
        }
        ,
        s.prototype.add = function(e) {
            if (this.isInfinity())
                return e;
            if (e.isInfinity())
                return this;
            var t = e.z.redSqr()
              , i = this.z.redSqr()
              , n = this.x.redMul(t)
              , r = e.x.redMul(i)
              , s = this.y.redMul(t.redMul(e.z))
              , o = e.y.redMul(i.redMul(this.z))
              , a = n.redSub(r)
              , c = s.redSub(o);
            if (0 === a.cmpn(0))
                return 0 !== c.cmpn(0) ? this.curve.jpoint(null, null, null) : this.dbl();
            var l = a.redSqr()
              , h = l.redMul(a)
              , u = n.redMul(l)
              , d = c.redSqr().redIAdd(h).redISub(u).redISub(u)
              , f = c.redMul(u.redISub(d)).redISub(s.redMul(h))
              , p = this.z.redMul(e.z).redMul(a);
            return this.curve.jpoint(d, f, p)
        }
        ,
        s.prototype.mixedAdd = function(e) {
            if (this.isInfinity())
                return e.toJ();
            if (e.isInfinity())
                return this;
            var t = this.z.redSqr()
              , i = this.x
              , n = e.x.redMul(t)
              , r = this.y
              , s = e.y.redMul(t).redMul(this.z)
              , o = i.redSub(n)
              , a = r.redSub(s);
            if (0 === o.cmpn(0))
                return 0 !== a.cmpn(0) ? this.curve.jpoint(null, null, null) : this.dbl();
            var c = o.redSqr()
              , l = c.redMul(o)
              , h = i.redMul(c)
              , u = a.redSqr().redIAdd(l).redISub(h).redISub(h)
              , d = a.redMul(h.redISub(u)).redISub(r.redMul(l))
              , f = this.z.redMul(o);
            return this.curve.jpoint(u, d, f)
        }
        ,
        s.prototype.dblp = function(e) {
            if (0 === e)
                return this;
            if (this.isInfinity())
                return this;
            if (!e)
                return this.dbl();
            if (this.curve.zeroA || this.curve.threeA) {
                for (var t = this, i = 0; i < e; i++)
                    t = t.dbl();
                return t
            }
            for (var n = this.curve.a, r = this.curve.tinv, s = this.x, o = this.y, a = this.z, c = a.redSqr().redSqr(), l = o.redAdd(o), i = 0; i < e; i++) {
                var h = s.redSqr()
                  , u = l.redSqr()
                  , d = u.redSqr()
                  , f = h.redAdd(h).redIAdd(h).redIAdd(n.redMul(c))
                  , p = s.redMul(u)
                  , m = f.redSqr().redISub(p.redAdd(p))
                  , g = p.redISub(m)
                  , y = f.redMul(g);
                y = y.redIAdd(y).redISub(d);
                var v = l.redMul(a);
                i + 1 < e && (c = c.redMul(d)),
                s = m,
                a = v,
                l = y
            }
            return this.curve.jpoint(s, l.redMul(r), a)
        }
        ,
        s.prototype.dbl = function() {
            return this.isInfinity() ? this : this.curve.zeroA ? this._zeroDbl() : this.curve.threeA ? this._threeDbl() : this._dbl()
        }
        ,
        s.prototype._zeroDbl = function() {
            var e, t, i;
            if (this.zOne) {
                var n = this.x.redSqr()
                  , r = this.y.redSqr()
                  , s = r.redSqr()
                  , o = this.x.redAdd(r).redSqr().redISub(n).redISub(s);
                o = o.redIAdd(o);
                var a = n.redAdd(n).redIAdd(n)
                  , c = a.redSqr().redISub(o).redISub(o)
                  , l = s.redIAdd(s);
                l = l.redIAdd(l),
                l = l.redIAdd(l),
                e = c,
                t = a.redMul(o.redISub(c)).redISub(l),
                i = this.y.redAdd(this.y)
            } else {
                var h = this.x.redSqr()
                  , u = this.y.redSqr()
                  , d = u.redSqr()
                  , f = this.x.redAdd(u).redSqr().redISub(h).redISub(d);
                f = f.redIAdd(f);
                var p = h.redAdd(h).redIAdd(h)
                  , m = p.redSqr()
                  , g = d.redIAdd(d);
                g = g.redIAdd(g),
                g = g.redIAdd(g),
                e = m.redISub(f).redISub(f),
                t = p.redMul(f.redISub(e)).redISub(g),
                i = this.y.redMul(this.z),
                i = i.redIAdd(i)
            }
            return this.curve.jpoint(e, t, i)
        }
        ,
        s.prototype._threeDbl = function() {
            var e, t, i;
            if (this.zOne) {
                var n = this.x.redSqr()
                  , r = this.y.redSqr()
                  , s = r.redSqr()
                  , o = this.x.redAdd(r).redSqr().redISub(n).redISub(s);
                o = o.redIAdd(o);
                var a = n.redAdd(n).redIAdd(n).redIAdd(this.curve.a)
                  , c = a.redSqr().redISub(o).redISub(o);
                e = c;
                var l = s.redIAdd(s);
                l = l.redIAdd(l),
                l = l.redIAdd(l),
                t = a.redMul(o.redISub(c)).redISub(l),
                i = this.y.redAdd(this.y)
            } else {
                var h = this.z.redSqr()
                  , u = this.y.redSqr()
                  , d = this.x.redMul(u)
                  , f = this.x.redSub(h).redMul(this.x.redAdd(h));
                f = f.redAdd(f).redIAdd(f);
                var p = d.redIAdd(d);
                p = p.redIAdd(p);
                var m = p.redAdd(p);
                e = f.redSqr().redISub(m),
                i = this.y.redAdd(this.z).redSqr().redISub(u).redISub(h);
                var g = u.redSqr();
                g = g.redIAdd(g),
                g = g.redIAdd(g),
                g = g.redIAdd(g),
                t = f.redMul(p.redISub(e)).redISub(g)
            }
            return this.curve.jpoint(e, t, i)
        }
        ,
        s.prototype._dbl = function() {
            var e = this.curve.a
              , t = this.x
              , i = this.y
              , n = this.z
              , r = n.redSqr().redSqr()
              , s = t.redSqr()
              , o = i.redSqr()
              , a = s.redAdd(s).redIAdd(s).redIAdd(e.redMul(r))
              , c = t.redAdd(t);
            c = c.redIAdd(c);
            var l = c.redMul(o)
              , h = a.redSqr().redISub(l.redAdd(l))
              , u = l.redISub(h)
              , d = o.redSqr();
            d = d.redIAdd(d),
            d = d.redIAdd(d),
            d = d.redIAdd(d);
            var f = a.redMul(u).redISub(d)
              , p = i.redAdd(i).redMul(n);
            return this.curve.jpoint(h, f, p)
        }
        ,
        s.prototype.trpl = function() {
            if (!this.curve.zeroA)
                return this.dbl().add(this);
            var e = this.x.redSqr()
              , t = this.y.redSqr()
              , i = this.z.redSqr()
              , n = t.redSqr()
              , r = e.redAdd(e).redIAdd(e)
              , s = r.redSqr()
              , o = this.x.redAdd(t).redSqr().redISub(e).redISub(n);
            o = o.redIAdd(o),
            o = o.redAdd(o).redIAdd(o),
            o = o.redISub(s);
            var a = o.redSqr()
              , c = n.redIAdd(n);
            c = c.redIAdd(c),
            c = c.redIAdd(c),
            c = c.redIAdd(c);
            var l = r.redIAdd(o).redSqr().redISub(s).redISub(a).redISub(c)
              , h = t.redMul(l);
            h = h.redIAdd(h),
            h = h.redIAdd(h);
            var u = this.x.redMul(a).redISub(h);
            u = u.redIAdd(u),
            u = u.redIAdd(u);
            var d = this.y.redMul(l.redMul(c.redISub(l)).redISub(o.redMul(a)));
            d = d.redIAdd(d),
            d = d.redIAdd(d),
            d = d.redIAdd(d);
            var f = this.z.redAdd(o).redSqr().redISub(i).redISub(a);
            return this.curve.jpoint(u, d, f)
        }
        ,
        s.prototype.mul = function(e, t) {
            return e = new c(e,t),
            this.curve._wnafMul(this, e)
        }
        ,
        s.prototype.eq = function(e) {
            if ("affine" === e.type)
                return this.eq(e.toJ());
            if (this === e)
                return !0;
            var t = this.z.redSqr()
              , i = e.z.redSqr();
            if (0 !== this.x.redMul(i).redISub(e.x.redMul(t)).cmpn(0))
                return !1;
            var n = t.redMul(this.z)
              , r = i.redMul(e.z);
            return 0 === this.y.redMul(r).redISub(e.y.redMul(n)).cmpn(0)
        }
        ,
        s.prototype.inspect = function() {
            return this.isInfinity() ? "<EC JPoint Infinity>" : "<EC JPoint x: " + this.x.toString(16, 2) + " y: " + this.y.toString(16, 2) + " z: " + this.z.toString(16, 2) + ">"
        }
        ,
        s.prototype.isInfinity = function() {
            return 0 === this.z.cmpn(0)
        }
    }
    , {
        "../../elliptic": 55,
        "../curve": 58,
        "bn.js": 53,
        inherits: 147
    }],
    61: [function(e, t, i) {
        "use strict";
        function n(e) {
            "short" === e.type ? this.curve = new a.curve["short"](e) : "edwards" === e.type ? this.curve = new a.curve.edwards(e) : this.curve = new a.curve.mont(e),
            this.g = this.curve.g,
            this.n = this.curve.n,
            this.hash = e.hash,
            c(this.g.validate(), "Invalid curve"),
            c(this.g.mul(this.n).isInfinity(), "Invalid curve, G*N != O")
        }
        function r(e, t) {
            Object.defineProperty(s, e, {
                configurable: !0,
                enumerable: !0,
                get: function() {
                    var i = new n(t);
                    return Object.defineProperty(s, e, {
                        configurable: !0,
                        enumerable: !0,
                        value: i
                    }),
                    i
                }
            })
        }
        var s = i
          , o = e("hash.js")
          , a = e("../elliptic")
          , c = a.utils.assert;
        s.PresetCurve = n,
        r("p192", {
            type: "short",
            prime: "p192",
            p: "ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",
            a: "ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",
            b: "64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",
            n: "ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",
            hash: o.sha256,
            gRed: !1,
            g: ["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012", "07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]
        }),
        r("p224", {
            type: "short",
            prime: "p224",
            p: "ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",
            a: "ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",
            b: "b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",
            n: "ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",
            hash: o.sha256,
            gRed: !1,
            g: ["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21", "bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]
        }),
        r("p256", {
            type: "short",
            prime: null,
            p: "ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",
            a: "ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",
            b: "5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",
            n: "ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",
            hash: o.sha256,
            gRed: !1,
            g: ["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296", "4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]
        }),
        r("p384", {
            type: "short",
            prime: null,
            p: "ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",
            a: "ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",
            b: "b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",
            n: "ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",
            hash: o.sha384,
            gRed: !1,
            g: ["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7", "3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]
        }),
        r("p521", {
            type: "short",
            prime: null,
            p: "000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",
            a: "000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",
            b: "00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",
            n: "000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",
            hash: o.sha512,
            gRed: !1,
            g: ["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66", "00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]
        }),
        r("curve25519", {
            type: "mont",
            prime: "p25519",
            p: "7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",
            a: "76d06",
            b: "0",
            n: "1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",
            hash: o.sha256,
            gRed: !1,
            g: ["9"]
        }),
        r("ed25519", {
            type: "edwards",
            prime: "p25519",
            p: "7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",
            a: "-1",
            c: "1",
            d: "52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",
            n: "1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",
            hash: o.sha256,
            gRed: !1,
            g: ["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a", "6666666666666666666666666666666666666666666666666666666666666658"]
        });
        var l;
        try {
            l = e("./precomputed/secp256k1")
        } catch (h) {
            l = void 0
        }
        r("secp256k1", {
            type: "short",
            prime: "k256",
            p: "ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",
            a: "0",
            b: "7",
            n: "ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",
            h: "1",
            hash: o.sha256,
            beta: "7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",
            lambda: "5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",
            basis: [{
                a: "3086d221a7d46bcde86c90e49284eb15",
                b: "-e4437ed6010e88286f547fa90abfe4c3"
            }, {
                a: "114ca50f7a8e2f3f657c1108d9d44cfd8",
                b: "3086d221a7d46bcde86c90e49284eb15"
            }],
            gRed: !1,
            g: ["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798", "483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8", l]
        })
    }
    , {
        "../elliptic": 55,
        "./precomputed/secp256k1": 69,
        "hash.js": 72
    }],
    62: [function(e, t, i) {
        "use strict";
        function n(e) {
            return this instanceof n ? ("string" == typeof e && (a(s.curves.hasOwnProperty(e), "Unknown curve " + e),
            e = s.curves[e]),
            e instanceof s.curves.PresetCurve && (e = {
                curve: e
            }),
            this.curve = e.curve.curve,
            this.n = this.curve.n,
            this.nh = this.n.ushrn(1),
            this.g = this.curve.g,
            this.g = e.curve.g,
            this.g.precompute(e.curve.n.bitLength() + 1),
            void (this.hash = e.hash || e.curve.hash)) : new n(e)
        }
        var r = e("bn.js")
          , s = e("../../elliptic")
          , o = s.utils
          , a = o.assert
          , c = e("./key")
          , l = e("./signature");
        t.exports = n,
        n.prototype.keyPair = function(e) {
            return new c(this,e)
        }
        ,
        n.prototype.keyFromPrivate = function(e, t) {
            return c.fromPrivate(this, e, t)
        }
        ,
        n.prototype.keyFromPublic = function(e, t) {
            return c.fromPublic(this, e, t)
        }
        ,
        n.prototype.genKeyPair = function(e) {
            e || (e = {});
            for (var t = new s.hmacDRBG({
                hash: this.hash,
                pers: e.pers,
                entropy: e.entropy || s.rand(this.hash.hmacStrength),
                nonce: this.n.toArray()
            }), i = this.n.byteLength(), n = this.n.sub(new r(2)); ; ) {
                var o = new r(t.generate(i));
                if (!(o.cmp(n) > 0))
                    return o.iaddn(1),
                    this.keyFromPrivate(o)
            }
        }
        ,
        n.prototype._truncateToN = function(e, t) {
            var i = 8 * e.byteLength() - this.n.bitLength();
            return i > 0 && (e = e.ushrn(i)),
            !t && e.cmp(this.n) >= 0 ? e.sub(this.n) : e
        }
        ,
        n.prototype.sign = function(e, t, i, n) {
            "object" == typeof i && (n = i,
            i = null),
            n || (n = {}),
            t = this.keyFromPrivate(t, i),
            e = this._truncateToN(new r(e,16));
            for (var o = this.n.byteLength(), a = t.getPrivate().toArray("be", o), c = e.toArray("be", o), h = new s.hmacDRBG({
                hash: this.hash,
                entropy: a,
                nonce: c,
                pers: n.pers,
                persEnc: n.persEnc
            }), u = this.n.sub(new r(1)), d = 0; !0; d++) {
                var f = n.k ? n.k(d) : new r(h.generate(this.n.byteLength()));
                if (f = this._truncateToN(f, !0),
                !(f.cmpn(1) <= 0 || f.cmp(u) >= 0)) {
                    var p = this.g.mul(f);
                    if (!p.isInfinity()) {
                        var m = p.getX()
                          , g = m.umod(this.n);
                        if (0 !== g.cmpn(0)) {
                            var y = f.invm(this.n).mul(g.mul(t.getPrivate()).iadd(e));
                            if (y = y.umod(this.n),
                            0 !== y.cmpn(0)) {
                                var v = (p.getY().isOdd() ? 1 : 0) | (0 !== m.cmp(g) ? 2 : 0);
                                return n.canonical && y.cmp(this.nh) > 0 && (y = this.n.sub(y),
                                v ^= 1),
                                new l({
                                    r: g,
                                    s: y,
                                    recoveryParam: v
                                })
                            }
                        }
                    }
                }
            }
        }
        ,
        n.prototype.verify = function(e, t, i, n) {
            e = this._truncateToN(new r(e,16)),
            i = this.keyFromPublic(i, n),
            t = new l(t,"hex");
            var s = t.r
              , o = t.s;
            if (s.cmpn(1) < 0 || s.cmp(this.n) >= 0)
                return !1;
            if (o.cmpn(1) < 0 || o.cmp(this.n) >= 0)
                return !1;
            var a = o.invm(this.n)
              , c = a.mul(e).umod(this.n)
              , h = a.mul(s).umod(this.n)
              , u = this.g.mulAdd(c, i.getPublic(), h);
            return !u.isInfinity() && 0 === u.getX().umod(this.n).cmp(s)
        }
        ,
        n.prototype.recoverPubKey = function(e, t, i, n) {
            a((3 & i) === i, "The recovery param is more than two bits"),
            t = new l(t,n);
            var s = this.n
              , o = new r(e)
              , c = t.r
              , h = t.s
              , u = 1 & i
              , d = i >> 1;
            if (c.cmp(this.curve.p.umod(this.curve.n)) >= 0 && d)
                throw new Error("Unable to find sencond key candinate");
            c = d ? this.curve.pointFromX(c.add(this.curve.n), u) : this.curve.pointFromX(c, u);
            var f = s.sub(o)
              , p = t.r.invm(s);
            return this.g.mulAdd(f, c, h).mul(p)
        }
        ,
        n.prototype.getKeyRecoveryParam = function(e, t, i, n) {
            if (t = new l(t,n),
            null !== t.recoveryParam)
                return t.recoveryParam;
            for (var r = 0; r < 4; r++) {
                var s;
                try {
                    s = this.recoverPubKey(e, t, r)
                } catch (e) {
                    continue
                }
                if (s.eq(i))
                    return r
            }
            throw new Error("Unable to find valid recovery factor")
        }
    }
    , {
        "../../elliptic": 55,
        "./key": 63,
        "./signature": 64,
        "bn.js": 53
    }],
    63: [function(e, t, i) {
        "use strict";
        function n(e, t) {
            this.ec = e,
            this.priv = null,
            this.pub = null,
            t.priv && this._importPrivate(t.priv, t.privEnc),
            t.pub && this._importPublic(t.pub, t.pubEnc)
        }
        var r = e("bn.js");
        t.exports = n,
        n.fromPublic = function(e, t, i) {
            return t instanceof n ? t : new n(e,{
                pub: t,
                pubEnc: i
            })
        }
        ,
        n.fromPrivate = function(e, t, i) {
            return t instanceof n ? t : new n(e,{
                priv: t,
                privEnc: i
            })
        }
        ,
        n.prototype.validate = function() {
            var e = this.getPublic();
            return e.isInfinity() ? {
                result: !1,
                reason: "Invalid public key"
            } : e.validate() ? e.mul(this.ec.curve.n).isInfinity() ? {
                result: !0,
                reason: null
            } : {
                result: !1,
                reason: "Public key * N != O"
            } : {
                result: !1,
                reason: "Public key is not a point"
            }
        }
        ,
        n.prototype.getPublic = function(e, t) {
            return "string" == typeof e && (t = e,
            e = null),
            this.pub || (this.pub = this.ec.g.mul(this.priv)),
            t ? this.pub.encode(t, e) : this.pub
        }
        ,
        n.prototype.getPrivate = function(e) {
            return "hex" === e ? this.priv.toString(16, 2) : this.priv
        }
        ,
        n.prototype._importPrivate = function(e, t) {
            this.priv = new r(e,t || 16),
            this.priv = this.priv.umod(this.ec.curve.n)
        }
        ,
        n.prototype._importPublic = function(e, t) {
            return e.x || e.y ? void (this.pub = this.ec.curve.point(e.x, e.y)) : void (this.pub = this.ec.curve.decodePoint(e, t))
        }
        ,
        n.prototype.derive = function(e) {
            return e.mul(this.priv).getX()
        }
        ,
        n.prototype.sign = function(e, t, i) {
            return this.ec.sign(e, this, t, i)
        }
        ,
        n.prototype.verify = function(e, t) {
            return this.ec.verify(e, t, this)
        }
        ,
        n.prototype.inspect = function() {
            return "<Key priv: " + (this.priv && this.priv.toString(16, 2)) + " pub: " + (this.pub && this.pub.inspect()) + " >"
        }
    }
    , {
        "bn.js": 53
    }],
    64: [function(e, t, i) {
        "use strict";
        function n(e, t) {
            return e instanceof n ? e : void (this._importDER(e, t) || (u(e.r && e.s, "Signature without r or s"),
            this.r = new c(e.r,16),
            this.s = new c(e.s,16),
            void 0 === e.recoveryParam ? this.recoveryParam = null : this.recoveryParam = e.recoveryParam))
        }
        function r() {
            this.place = 0
        }
        function s(e, t) {
            var i = e[t.place++];
            if (!(128 & i))
                return i;
            for (var n = 15 & i, r = 0, s = 0, o = t.place; s < n; s++,
            o++)
                r <<= 8,
                r |= e[o];
            return t.place = o,
            r
        }
        function o(e) {
            for (var t = 0, i = e.length - 1; !e[t] && !(128 & e[t + 1]) && t < i; )
                t++;
            return 0 === t ? e : e.slice(t)
        }
        function a(e, t) {
            if (t < 128)
                return void e.push(t);
            var i = 1 + (Math.log(t) / Math.LN2 >>> 3);
            for (e.push(128 | i); --i; )
                e.push(t >>> (i << 3) & 255);
            e.push(t)
        }
        var c = e("bn.js")
          , l = e("../../elliptic")
          , h = l.utils
          , u = h.assert;
        t.exports = n,
        n.prototype._importDER = function(e, t) {
            e = h.toArray(e, t);
            var i = new r;
            if (48 !== e[i.place++])
                return !1;
            var n = s(e, i);
            if (n + i.place !== e.length)
                return !1;
            if (2 !== e[i.place++])
                return !1;
            var o = s(e, i)
              , a = e.slice(i.place, o + i.place);
            if (i.place += o,
            2 !== e[i.place++])
                return !1;
            var l = s(e, i);
            if (e.length !== l + i.place)
                return !1;
            var u = e.slice(i.place, l + i.place);
            return 0 === a[0] && 128 & a[1] && (a = a.slice(1)),
            0 === u[0] && 128 & u[1] && (u = u.slice(1)),
            this.r = new c(a),
            this.s = new c(u),
            this.recoveryParam = null,
            !0
        }
        ,
        n.prototype.toDER = function(e) {
            var t = this.r.toArray()
              , i = this.s.toArray();
            for (128 & t[0] && (t = [0].concat(t)),
            128 & i[0] && (i = [0].concat(i)),
            t = o(t),
            i = o(i); !(i[0] || 128 & i[1]); )
                i = i.slice(1);
            var n = [2];
            a(n, t.length),
            n = n.concat(t),
            n.push(2),
            a(n, i.length);
            var r = n.concat(i)
              , s = [48];
            return a(s, r.length),
            s = s.concat(r),
            h.encode(s, e)
        }
    }
    , {
        "../../elliptic": 55,
        "bn.js": 53
    }],
    65: [function(e, t, i) {
        "use strict";
        function n(e) {
            if (a("ed25519" === e, "only tested with ed25519 so far"),
            !(this instanceof n))
                return new n(e);
            var e = s.curves[e].curve;
            this.curve = e,
            this.g = e.g,
            this.g.precompute(e.n.bitLength() + 1),
            this.pointClass = e.point().constructor,
            this.encodingLength = Math.ceil(e.n.bitLength() / 8),
            this.hash = r.sha512
        }
        var r = e("hash.js")
          , s = e("../../elliptic")
          , o = s.utils
          , a = o.assert
          , c = o.parseBytes
          , l = e("./key")
          , h = e("./signature");
        t.exports = n,
        n.prototype.sign = function(e, t) {
            e = c(e);
            var i = this.keyFromSecret(t)
              , n = this.hashInt(i.messagePrefix(), e)
              , r = this.g.mul(n)
              , s = this.encodePoint(r)
              , o = this.hashInt(s, i.pubBytes(), e).mul(i.priv())
              , a = n.add(o).umod(this.curve.n);
            return this.makeSignature({
                R: r,
                S: a,
                Rencoded: s
            })
        }
        ,
        n.prototype.verify = function(e, t, i) {
            e = c(e),
            t = this.makeSignature(t);
            var n = this.keyFromPublic(i)
              , r = this.hashInt(t.Rencoded(), n.pubBytes(), e)
              , s = this.g.mul(t.S())
              , o = t.R().add(n.pub().mul(r));
            return o.eq(s)
        }
        ,
        n.prototype.hashInt = function() {
            for (var e = this.hash(), t = 0; t < arguments.length; t++)
                e.update(arguments[t]);
            return o.intFromLE(e.digest()).umod(this.curve.n)
        }
        ,
        n.prototype.keyFromPublic = function(e) {
            return l.fromPublic(this, e)
        }
        ,
        n.prototype.keyFromSecret = function(e) {
            return l.fromSecret(this, e)
        }
        ,
        n.prototype.makeSignature = function(e) {
            return e instanceof h ? e : new h(this,e)
        }
        ,
        n.prototype.encodePoint = function(e) {
            var t = e.getY().toArray("le", this.encodingLength);
            return t[this.encodingLength - 1] |= e.getX().isOdd() ? 128 : 0,
            t
        }
        ,
        n.prototype.decodePoint = function(e) {
            e = o.parseBytes(e);
            var t = e.length - 1
              , i = e.slice(0, t).concat(e[t] & -129)
              , n = 0 !== (128 & e[t])
              , r = o.intFromLE(i);
            return this.curve.pointFromY(r, n)
        }
        ,
        n.prototype.encodeInt = function(e) {
            return e.toArray("le", this.encodingLength)
        }
        ,
        n.prototype.decodeInt = function(e) {
            return o.intFromLE(e)
        }
        ,
        n.prototype.isPoint = function(e) {
            return e instanceof this.pointClass
        }
    }
    , {
        "../../elliptic": 55,
        "./key": 66,
        "./signature": 67,
        "hash.js": 72
    }],
    66: [function(e, t, i) {
        "use strict";
        function n(e, t) {
            this.eddsa = e,
            this._secret = a(t.secret),
            e.isPoint(t.pub) ? this._pub = t.pub : this._pubBytes = a(t.pub)
        }
        var r = e("../../elliptic")
          , s = r.utils
          , o = s.assert
          , a = s.parseBytes
          , c = s.cachedProperty;
        n.fromPublic = function(e, t) {
            return t instanceof n ? t : new n(e,{
                pub: t
            })
        }
        ,
        n.fromSecret = function(e, t) {
            return t instanceof n ? t : new n(e,{
                secret: t
            })
        }
        ,
        n.prototype.secret = function() {
            return this._secret
        }
        ,
        c(n, function() {
            return this.eddsa.encodePoint(this.pub())
        }),
        c(n, function() {
            return this._pubBytes ? this.eddsa.decodePoint(this._pubBytes) : this.eddsa.g.mul(this.priv())
        }),
        c(n, function() {
            var e = this.eddsa
              , t = this.hash()
              , i = e.encodingLength - 1
              , n = t.slice(0, e.encodingLength);
            return n[0] &= 248,
            n[i] &= 127,
            n[i] |= 64,
            n
        }),
        c(n, function() {
            return this.eddsa.decodeInt(this.privBytes())
        }),
        c(n, function() {
            return this.eddsa.hash().update(this.secret()).digest()
        }),
        c(n, function() {
            return this.hash().slice(this.eddsa.encodingLength)
        }),
        n.prototype.sign = function(e) {
            return o(this._secret, "KeyPair can only verify"),
            this.eddsa.sign(e, this)
        }
        ,
        n.prototype.verify = function(e, t) {
            return this.eddsa.verify(e, t, this)
        }
        ,
        n.prototype.getSecret = function(e) {
            return o(this._secret, "KeyPair is public only"),
            s.encode(this.secret(), e)
        }
        ,
        n.prototype.getPublic = function(e) {
            return s.encode(this.pubBytes(), e)
        }
        ,
        t.exports = n
    }
    , {
        "../../elliptic": 55
    }],
    67: [function(e, t, i) {
        "use strict";
        function n(e, t) {
            this.eddsa = e,
            "object" != typeof t && (t = l(t)),
            Array.isArray(t) && (t = {
                R: t.slice(0, e.encodingLength),
                S: t.slice(e.encodingLength)
            }),
            a(t.R && t.S, "Signature without R or S"),
            e.isPoint(t.R) && (this._R = t.R),
            t.S instanceof r && (this._S = t.S),
            this._Rencoded = Array.isArray(t.R) ? t.R : t.Rencoded,
            this._Sencoded = Array.isArray(t.S) ? t.S : t.Sencoded
        }
        var r = e("bn.js")
          , s = e("../../elliptic")
          , o = s.utils
          , a = o.assert
          , c = o.cachedProperty
          , l = o.parseBytes;
        c(n, function() {
            return this.eddsa.decodeInt(this.Sencoded())
        }),
        c(n, function() {
            return this.eddsa.decodePoint(this.Rencoded())
        }),
        c(n, function() {
            return this.eddsa.encodePoint(this.R())
        }),
        c(n, function() {
            return this.eddsa.encodeInt(this.S())
        }),
        n.prototype.toBytes = function() {
            return this.Rencoded().concat(this.Sencoded())
        }
        ,
        n.prototype.toHex = function() {
            return o.encode(this.toBytes(), "hex").toUpperCase()
        }
        ,
        t.exports = n
    }
    , {
        "../../elliptic": 55,
        "bn.js": 53
    }],
    68: [function(e, t, i) {
        "use strict";
        function n(e) {
            if (!(this instanceof n))
                return new n(e);
            this.hash = e.hash,
            this.predResist = !!e.predResist,
            this.outLen = this.hash.outSize,
            this.minEntropy = e.minEntropy || this.hash.hmacStrength,
            this.reseed = null,
            this.reseedInterval = null,
            this.K = null,
            this.V = null;
            var t = o.toArray(e.entropy, e.entropyEnc)
              , i = o.toArray(e.nonce, e.nonceEnc)
              , r = o.toArray(e.pers, e.persEnc);
            a(t.length >= this.minEntropy / 8, "Not enough entropy. Minimum is: " + this.minEntropy + " bits"),
            this._init(t, i, r)
        }
        var r = e("hash.js")
          , s = e("../elliptic")
          , o = s.utils
          , a = o.assert;
        t.exports = n,
        n.prototype._init = function(e, t, i) {
            var n = e.concat(t).concat(i);
            this.K = new Array(this.outLen / 8),
            this.V = new Array(this.outLen / 8);
            for (var r = 0; r < this.V.length; r++)
                this.K[r] = 0,
                this.V[r] = 1;
            this._update(n),
            this.reseed = 1,
            this.reseedInterval = 281474976710656
        }
        ,
        n.prototype._hmac = function() {
            return new r.hmac(this.hash,this.K)
        }
        ,
        n.prototype._update = function(e) {
            var t = this._hmac().update(this.V).update([0]);
            e && (t = t.update(e)),
            this.K = t.digest(),
            this.V = this._hmac().update(this.V).digest(),
            e && (this.K = this._hmac().update(this.V).update([1]).update(e).digest(),
            this.V = this._hmac().update(this.V).digest())
        }
        ,
        n.prototype.reseed = function(e, t, i, n) {
            "string" != typeof t && (n = i,
            i = t,
            t = null),
            e = o.toBuffer(e, t),
            i = o.toBuffer(i, n),
            a(e.length >= this.minEntropy / 8, "Not enough entropy. Minimum is: " + this.minEntropy + " bits"),
            this._update(e.concat(i || [])),
            this.reseed = 1
        }
        ,
        n.prototype.generate = function(e, t, i, n) {
            if (this.reseed > this.reseedInterval)
                throw new Error("Reseed is required");
            "string" != typeof t && (n = i,
            i = t,
            t = null),
            i && (i = o.toArray(i, n),
            this._update(i));
            for (var r = []; r.length < e; )
                this.V = this._hmac().update(this.V).digest(),
                r = r.concat(this.V);
            var s = r.slice(0, e);
            return this._update(i),
            this.reseed++,
            o.encode(s, t)
        }
    }
    , {
        "../elliptic": 55,
        "hash.js": 72
    }],
    69: [function(e, t, i) {
        t.exports = {
            doubles: {
                step: 4,
                points: [["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a", "f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"], ["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508", "11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"], ["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739", "d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"], ["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640", "4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"], ["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c", "4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"], ["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda", "96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"], ["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa", "5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"], ["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0", "cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"], ["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d", "9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"], ["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d", "e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"], ["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1", "9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"], ["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0", "5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"], ["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047", "10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"], ["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862", "283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"], ["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7", "7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"], ["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd", "56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"], ["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83", "7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"], ["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a", "53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"], ["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8", "bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"], ["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d", "4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"], ["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725", "7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"], ["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754", "4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"], ["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c", "17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"], ["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6", "6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"], ["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39", "c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"], ["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891", "893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"], ["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b", "febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"], ["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03", "2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"], ["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d", "eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"], ["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070", "7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"], ["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4", "e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"], ["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da", "662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"], ["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11", "1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"], ["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e", "efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"], ["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41", "2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"], ["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef", "67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"], ["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8", "db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"], ["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d", "648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"], ["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96", "35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"], ["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd", "ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"], ["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5", "9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"], ["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266", "40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"], ["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71", "34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"], ["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac", "c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"], ["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751", "1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"], ["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e", "493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"], ["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241", "c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"], ["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3", "be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"], ["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f", "4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"], ["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19", "aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"], ["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be", "b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"], ["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9", "6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"], ["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2", "8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"], ["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13", "7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"], ["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c", "ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"], ["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba", "2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"], ["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151", "e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"], ["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073", "d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"], ["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458", "38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"], ["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b", "69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"], ["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366", "d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"], ["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa", "40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"], ["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0", "620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"], ["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787", "7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"], ["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e", "ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]
            },
            naf: {
                wnd: 7,
                points: [["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9", "388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"], ["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4", "d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"], ["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc", "6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"], ["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe", "cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"], ["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb", "d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"], ["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8", "ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"], ["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e", "581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"], ["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34", "4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"], ["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c", "85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"], ["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5", "321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"], ["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f", "2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"], ["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714", "73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"], ["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729", "a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"], ["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db", "2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"], ["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4", "e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"], ["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5", "b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"], ["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479", "2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"], ["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d", "80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"], ["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f", "1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"], ["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb", "d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"], ["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9", "eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"], ["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963", "758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"], ["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74", "958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"], ["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530", "e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"], ["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b", "5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"], ["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247", "cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"], ["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1", "cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"], ["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120", "4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"], ["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435", "91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"], ["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18", "673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"], ["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8", "59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"], ["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb", "3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"], ["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f", "55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"], ["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143", "efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"], ["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba", "e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"], ["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45", "f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"], ["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a", "744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"], ["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e", "c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"], ["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8", "e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"], ["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c", "30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"], ["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519", "e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"], ["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab", "100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"], ["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca", "ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"], ["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf", "8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"], ["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610", "68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"], ["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4", "f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"], ["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c", "d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"], ["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940", "edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"], ["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980", "a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"], ["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3", "66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"], ["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf", "9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"], ["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63", "4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"], ["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448", "fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"], ["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf", "5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"], ["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5", "8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"], ["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6", "8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"], ["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5", "5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"], ["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99", "f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"], ["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51", "f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"], ["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5", "42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"], ["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5", "204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"], ["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997", "4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"], ["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881", "73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"], ["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5", "39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"], ["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66", "d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"], ["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726", "ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"], ["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede", "6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"], ["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94", "60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"], ["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31", "3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"], ["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51", "b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"], ["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252", "ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"], ["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5", "cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"], ["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b", "6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"], ["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4", "322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"], ["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f", "6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"], ["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889", "2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"], ["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246", "b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"], ["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984", "998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"], ["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a", "b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"], ["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030", "bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"], ["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197", "6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"], ["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593", "c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"], ["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef", "21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"], ["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38", "60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"], ["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a", "49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"], ["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111", "5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"], ["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502", "7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"], ["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea", "be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"], ["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26", "8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"], ["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986", "39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"], ["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e", "62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"], ["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4", "25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"], ["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda", "ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"], ["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859", "cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"], ["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f", "f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"], ["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c", "6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"], ["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942", "fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"], ["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a", "1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"], ["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80", "5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"], ["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d", "438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"], ["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1", "cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"], ["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63", "c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"], ["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352", "6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"], ["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193", "ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"], ["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00", "9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"], ["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58", "ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"], ["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7", "d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"], ["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8", "c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"], ["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e", "67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"], ["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d", "cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"], ["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b", "299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"], ["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f", "f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"], ["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6", "462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"], ["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297", "62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"], ["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a", "7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"], ["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c", "ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"], ["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52", "4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"], ["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb", "bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"], ["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065", "bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"], ["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917", "603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"], ["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9", "cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"], ["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3", "553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"], ["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57", "712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"], ["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66", "ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"], ["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8", "9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"], ["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721", "9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"], ["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180", "4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]
            }
        }
    }
    , {}],
    70: [function(e, t, i) {
        "use strict";
        function n(e, t) {
            if (Array.isArray(e))
                return e.slice();
            if (!e)
                return [];
            var i = [];
            if ("string" != typeof e) {
                for (var n = 0; n < e.length; n++)
                    i[n] = 0 | e[n];
                return i
            }
            if (t) {
                if ("hex" === t) {
                    e = e.replace(/[^a-z0-9]+/gi, ""),
                    e.length % 2 !== 0 && (e = "0" + e);
                    for (var n = 0; n < e.length; n += 2)
                        i.push(parseInt(e[n] + e[n + 1], 16))
                }
            } else
                for (var n = 0; n < e.length; n++) {
                    var r = e.charCodeAt(n)
                      , s = r >> 8
                      , o = 255 & r;
                    s ? i.push(s, o) : i.push(o)
                }
            return i
        }
        function r(e) {
            return 1 === e.length ? "0" + e : e
        }
        function s(e) {
            for (var t = "", i = 0; i < e.length; i++)
                t += r(e[i].toString(16));
            return t
        }
        function o(e, t) {
            for (var i = [], n = 1 << t + 1, r = e.clone(); r.cmpn(1) >= 0; ) {
                var s;
                if (r.isOdd()) {
                    var o = r.andln(n - 1);
                    s = o > (n >> 1) - 1 ? (n >> 1) - o : o,
                    r.isubn(s)
                } else
                    s = 0;
                i.push(s);
                for (var a = 0 !== r.cmpn(0) && 0 === r.andln(n - 1) ? t + 1 : 1, c = 1; c < a; c++)
                    i.push(0);
                r.iushrn(a)
            }
            return i
        }
        function a(e, t) {
            var i = [[], []];
            e = e.clone(),
            t = t.clone();
            for (var n = 0, r = 0; e.cmpn(-n) > 0 || t.cmpn(-r) > 0; ) {
                var s = e.andln(3) + n & 3
                  , o = t.andln(3) + r & 3;
                3 === s && (s = -1),
                3 === o && (o = -1);
                var a;
                if (0 === (1 & s))
                    a = 0;
                else {
                    var c = e.andln(7) + n & 7;
                    a = 3 !== c && 5 !== c || 2 !== o ? s : -s
                }
                i[0].push(a);
                var l;
                if (0 === (1 & o))
                    l = 0;
                else {
                    var c = t.andln(7) + r & 7;
                    l = 3 !== c && 5 !== c || 2 !== s ? o : -o
                }
                i[1].push(l),
                2 * n === a + 1 && (n = 1 - n),
                2 * r === l + 1 && (r = 1 - r),
                e.iushrn(1),
                t.iushrn(1)
            }
            return i
        }
        function c(e, t) {
            var i = t.name
              , n = "_" + i;
            e.prototype[i] = function() {
                return void 0 !== this[n] ? this[n] : this[n] = t.call(this)
            }
        }
        function l(e) {
            return "string" == typeof e ? u.toArray(e, "hex") : e
        }
        function h(e) {
            return new d(e,"hex","le")
        }
        var u = i
          , d = e("bn.js");
        u.assert = function(e, t) {
            if (!e)
                throw new Error(t || "Assertion failed")
        }
        ,
        u.toArray = n,
        u.zero2 = r,
        u.toHex = s,
        u.encode = function(e, t) {
            return "hex" === t ? s(e) : e
        }
        ,
        u.getNAF = o,
        u.getJSF = a,
        u.cachedProperty = c,
        u.parseBytes = l,
        u.intFromLE = h
    }
    , {
        "bn.js": 53
    }],
    71: [function(e, t, i) {
        function n(e) {
            this.rand = e
        }
        var r;
        if (t.exports = function(e) {
            return r || (r = new n(null)),
            r.generate(e)
        }
        ,
        t.exports.Rand = n,
        n.prototype.generate = function(e) {
            return this._rand(e)
        }
        ,
        "object" == typeof window)
            window.crypto && window.crypto.getRandomValues ? n.prototype._rand = function(e) {
                var t = new Uint8Array(e);
                return window.crypto.getRandomValues(t),
                t
            }
            : window.msCrypto && window.msCrypto.getRandomValues ? n.prototype._rand = function(e) {
                var t = new Uint8Array(e);
                return window.msCrypto.getRandomValues(t),
                t
            }
            : n.prototype._rand = function() {
                throw new Error("Not implemented yet")
            }
            ;
        else
            try {
                var s = e("crypto");
                n.prototype._rand = function(e) {
                    return s.randomBytes(e)
                }
            } catch (o) {
                n.prototype._rand = function(e) {
                    for (var t = new Uint8Array(e), i = 0; i < t.length; i++)
                        t[i] = this.rand.getByte();
                    return t
                }
            }
    }
    , {}],
    72: [function(e, t, i) {
        var n = i;
        n.utils = e("./hash/utils"),
        n.common = e("./hash/common"),
        n.sha = e("./hash/sha"),
        n.ripemd = e("./hash/ripemd"),
        n.hmac = e("./hash/hmac"),
        n.sha1 = n.sha.sha1,
        n.sha256 = n.sha.sha256,
        n.sha224 = n.sha.sha224,
        n.sha384 = n.sha.sha384,
        n.sha512 = n.sha.sha512,
        n.ripemd160 = n.ripemd.ripemd160
    }
    , {
        "./hash/common": 73,
        "./hash/hmac": 74,
        "./hash/ripemd": 75,
        "./hash/sha": 76,
        "./hash/utils": 77
    }],
    73: [function(e, t, i) {
        function n() {
            this.pending = null,
            this.pendingTotal = 0,
            this.blockSize = this.constructor.blockSize,
            this.outSize = this.constructor.outSize,
            this.hmacStrength = this.constructor.hmacStrength,
            this.padLength = this.constructor.padLength / 8,
            this.endian = "big",
            this._delta8 = this.blockSize / 8,
            this._delta32 = this.blockSize / 32
        }
        var r = e("../hash")
          , s = r.utils
          , o = s.assert;
        i.BlockHash = n,
        n.prototype.update = function(e, t) {
            if (e = s.toArray(e, t),
            this.pending ? this.pending = this.pending.concat(e) : this.pending = e,
            this.pendingTotal += e.length,
            this.pending.length >= this._delta8) {
                e = this.pending;
                var i = e.length % this._delta8;
                this.pending = e.slice(e.length - i, e.length),
                0 === this.pending.length && (this.pending = null),
                e = s.join32(e, 0, e.length - i, this.endian);
                for (var n = 0; n < e.length; n += this._delta32)
                    this._update(e, n, n + this._delta32)
            }
            return this
        }
        ,
        n.prototype.digest = function(e) {
            return this.update(this._pad()),
            o(null === this.pending),
            this._digest(e)
        }
        ,
        n.prototype._pad = function() {
            var e = this.pendingTotal
              , t = this._delta8
              , i = t - (e + this.padLength) % t
              , n = new Array(i + this.padLength);
            n[0] = 128;
            for (var r = 1; r < i; r++)
                n[r] = 0;
            if (e <<= 3,
            "big" === this.endian) {
                for (var s = 8; s < this.padLength; s++)
                    n[r++] = 0;
                n[r++] = 0,
                n[r++] = 0,
                n[r++] = 0,
                n[r++] = 0,
                n[r++] = e >>> 24 & 255,
                n[r++] = e >>> 16 & 255,
                n[r++] = e >>> 8 & 255,
                n[r++] = 255 & e
            } else {
                n[r++] = 255 & e,
                n[r++] = e >>> 8 & 255,
                n[r++] = e >>> 16 & 255,
                n[r++] = e >>> 24 & 255,
                n[r++] = 0,
                n[r++] = 0,
                n[r++] = 0,
                n[r++] = 0;
                for (var s = 8; s < this.padLength; s++)
                    n[r++] = 0
            }
            return n
        }
    }
    , {
        "../hash": 72
    }],
    74: [function(e, t, i) {
        function n(e, t, i) {
            return this instanceof n ? (this.Hash = e,
            this.blockSize = e.blockSize / 8,
            this.outSize = e.outSize / 8,
            this.inner = null,
            this.outer = null,
            void this._init(s.toArray(t, i))) : new n(e,t,i)
        }
        var r = e("../hash")
          , s = r.utils
          , o = s.assert;
        t.exports = n,
        n.prototype._init = function(e) {
            e.length > this.blockSize && (e = (new this.Hash).update(e).digest()),
            o(e.length <= this.blockSize);
            for (var t = e.length; t < this.blockSize; t++)
                e.push(0);
            for (var t = 0; t < e.length; t++)
                e[t] ^= 54;
            this.inner = (new this.Hash).update(e);
            for (var t = 0; t < e.length; t++)
                e[t] ^= 106;
            this.outer = (new this.Hash).update(e)
        }
        ,
        n.prototype.update = function(e, t) {
            return this.inner.update(e, t),
            this
        }
        ,
        n.prototype.digest = function(e) {
            return this.outer.update(this.inner.digest()),
            this.outer.digest(e)
        }
    }
    , {
        "../hash": 72
    }],
    75: [function(e, t, i) {
        function n() {
            return this instanceof n ? (f.call(this),
            this.h = [1732584193, 4023233417, 2562383102, 271733878, 3285377520],
            void (this.endian = "little")) : new n
        }
        function r(e, t, i, n) {
            return e <= 15 ? t ^ i ^ n : e <= 31 ? t & i | ~t & n : e <= 47 ? (t | ~i) ^ n : e <= 63 ? t & n | i & ~n : t ^ (i | ~n)
        }
        function s(e) {
            return e <= 15 ? 0 : e <= 31 ? 1518500249 : e <= 47 ? 1859775393 : e <= 63 ? 2400959708 : 2840853838
        }
        function o(e) {
            return e <= 15 ? 1352829926 : e <= 31 ? 1548603684 : e <= 47 ? 1836072691 : e <= 63 ? 2053994217 : 0
        }
        var a = e("../hash")
          , c = a.utils
          , l = c.rotl32
          , h = c.sum32
          , u = c.sum32_3
          , d = c.sum32_4
          , f = a.common.BlockHash;
        c.inherits(n, f),
        i.ripemd160 = n,
        n.blockSize = 512,
        n.outSize = 160,
        n.hmacStrength = 192,
        n.padLength = 64,
        n.prototype._update = function(e, t) {
            for (var i = this.h[0], n = this.h[1], a = this.h[2], c = this.h[3], f = this.h[4], v = i, _ = n, b = a, S = c, E = f, P = 0; P < 80; P++) {
                var T = h(l(d(i, r(P, n, a, c), e[p[P] + t], s(P)), g[P]), f);
                i = f,
                f = c,
                c = l(a, 10),
                a = n,
                n = T,
                T = h(l(d(v, r(79 - P, _, b, S), e[m[P] + t], o(P)), y[P]), E),
                v = E,
                E = S,
                S = l(b, 10),
                b = _,
                _ = T
            }
            T = u(this.h[1], a, S),
            this.h[1] = u(this.h[2], c, E),
            this.h[2] = u(this.h[3], f, v),
            this.h[3] = u(this.h[4], i, _),
            this.h[4] = u(this.h[0], n, b),
            this.h[0] = T
        }
        ,
        n.prototype._digest = function(e) {
            return "hex" === e ? c.toHex32(this.h, "little") : c.split32(this.h, "little")
        }
        ;
        var p = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 7, 4, 13, 1, 10, 6, 15, 3, 12, 0, 9, 5, 2, 14, 11, 8, 3, 10, 14, 4, 9, 15, 8, 1, 2, 7, 0, 6, 13, 11, 5, 12, 1, 9, 11, 10, 0, 8, 12, 4, 13, 3, 7, 15, 14, 5, 6, 2, 4, 0, 5, 9, 7, 12, 2, 10, 14, 1, 3, 8, 11, 6, 15, 13]
          , m = [5, 14, 7, 0, 9, 2, 11, 4, 13, 6, 15, 8, 1, 10, 3, 12, 6, 11, 3, 7, 0, 13, 5, 10, 14, 15, 8, 12, 4, 9, 1, 2, 15, 5, 1, 3, 7, 14, 6, 9, 11, 8, 12, 2, 10, 0, 4, 13, 8, 6, 4, 1, 3, 11, 15, 0, 5, 12, 2, 13, 9, 7, 10, 14, 12, 15, 10, 4, 1, 5, 8, 7, 6, 2, 13, 14, 0, 3, 9, 11]
          , g = [11, 14, 15, 12, 5, 8, 7, 9, 11, 13, 14, 15, 6, 7, 9, 8, 7, 6, 8, 13, 11, 9, 7, 15, 7, 12, 15, 9, 11, 7, 13, 12, 11, 13, 6, 7, 14, 9, 13, 15, 14, 8, 13, 6, 5, 12, 7, 5, 11, 12, 14, 15, 14, 15, 9, 8, 9, 14, 5, 6, 8, 6, 5, 12, 9, 15, 5, 11, 6, 8, 13, 12, 5, 12, 13, 14, 11, 8, 5, 6]
          , y = [8, 9, 9, 11, 13, 15, 15, 5, 7, 7, 8, 11, 14, 14, 12, 6, 9, 13, 15, 7, 12, 8, 9, 11, 7, 7, 12, 7, 6, 15, 13, 11, 9, 7, 15, 11, 8, 6, 6, 14, 12, 13, 5, 14, 13, 13, 7, 5, 15, 5, 8, 11, 14, 14, 6, 14, 6, 9, 12, 9, 12, 5, 15, 8, 8, 5, 12, 9, 12, 5, 14, 6, 8, 13, 6, 5, 15, 13, 11, 11]
    }
    , {
        "../hash": 72
    }],
    76: [function(e, t, i) {
        function n() {
            return this instanceof n ? (W.call(this),
            this.h = [1779033703, 3144134277, 1013904242, 2773480762, 1359893119, 2600822924, 528734635, 1541459225],
            this.k = Y,
            void (this.W = new Array(64))) : new n
        }
        function r() {
            return this instanceof r ? (n.call(this),
            void (this.h = [3238371032, 914150663, 812702999, 4144912697, 4290775857, 1750603025, 1694076839, 3204075428])) : new r
        }
        function s() {
            return this instanceof s ? (W.call(this),
            this.h = [1779033703, 4089235720, 3144134277, 2227873595, 1013904242, 4271175723, 2773480762, 1595750129, 1359893119, 2917565137, 2600822924, 725511199, 528734635, 4215389547, 1541459225, 327033209],
            this.k = K,
            void (this.W = new Array(160))) : new s
        }
        function o() {
            return this instanceof o ? (s.call(this),
            void (this.h = [3418070365, 3238371032, 1654270250, 914150663, 2438529370, 812702999, 355462360, 4144912697, 1731405415, 4290775857, 2394180231, 1750603025, 3675008525, 1694076839, 1203062813, 3204075428])) : new o
        }
        function a() {
            return this instanceof a ? (W.call(this),
            this.h = [1732584193, 4023233417, 2562383102, 271733878, 3285377520],
            void (this.W = new Array(80))) : new a
        }
        function c(e, t, i) {
            return e & t ^ ~e & i
        }
        function l(e, t, i) {
            return e & t ^ e & i ^ t & i
        }
        function h(e, t, i) {
            return e ^ t ^ i
        }
        function u(e) {
            return L(e, 2) ^ L(e, 13) ^ L(e, 22)
        }
        function d(e) {
            return L(e, 6) ^ L(e, 11) ^ L(e, 25)
        }
        function f(e) {
            return L(e, 7) ^ L(e, 18) ^ e >>> 3
        }
        function p(e) {
            return L(e, 17) ^ L(e, 19) ^ e >>> 10
        }
        function m(e, t, i, n) {
            return 0 === e ? c(t, i, n) : 1 === e || 3 === e ? h(t, i, n) : 2 === e ? l(t, i, n) : void 0
        }
        function g(e, t, i, n, r, s) {
            var o = e & i ^ ~e & r;
            return o < 0 && (o += 4294967296),
            o
        }
        function y(e, t, i, n, r, s) {
            var o = t & n ^ ~t & s;
            return o < 0 && (o += 4294967296),
            o
        }
        function v(e, t, i, n, r, s) {
            var o = e & i ^ e & r ^ i & r;
            return o < 0 && (o += 4294967296),
            o
        }
        function _(e, t, i, n, r, s) {
            var o = t & n ^ t & s ^ n & s;
            return o < 0 && (o += 4294967296),
            o
        }
        function b(e, t) {
            var i = x(e, t, 28)
              , n = x(t, e, 2)
              , r = x(t, e, 7)
              , s = i ^ n ^ r;
            return s < 0 && (s += 4294967296),
            s
        }
        function S(e, t) {
            var i = B(e, t, 28)
              , n = B(t, e, 2)
              , r = B(t, e, 7)
              , s = i ^ n ^ r;
            return s < 0 && (s += 4294967296),
            s
        }
        function E(e, t) {
            var i = x(e, t, 14)
              , n = x(e, t, 18)
              , r = x(t, e, 9)
              , s = i ^ n ^ r;
            return s < 0 && (s += 4294967296),
            s
        }
        function P(e, t) {
            var i = B(e, t, 14)
              , n = B(e, t, 18)
              , r = B(t, e, 9)
              , s = i ^ n ^ r;
            return s < 0 && (s += 4294967296),
            s
        }
        function T(e, t) {
            var i = x(e, t, 1)
              , n = x(e, t, 8)
              , r = F(e, t, 7)
              , s = i ^ n ^ r;
            return s < 0 && (s += 4294967296),
            s
        }
        function C(e, t) {
            var i = B(e, t, 1)
              , n = B(e, t, 8)
              , r = V(e, t, 7)
              , s = i ^ n ^ r;
            return s < 0 && (s += 4294967296),
            s
        }
        function A(e, t) {
            var i = x(e, t, 19)
              , n = x(t, e, 29)
              , r = F(e, t, 6)
              , s = i ^ n ^ r;
            return s < 0 && (s += 4294967296),
            s
        }
        function w(e, t) {
            var i = B(e, t, 19)
              , n = B(t, e, 29)
              , r = V(e, t, 6)
              , s = i ^ n ^ r;
            return s < 0 && (s += 4294967296),
            s
        }
        var R = e("../hash")
          , O = R.utils
          , I = O.assert
          , L = O.rotr32
          , k = O.rotl32
          , D = O.sum32
          , N = O.sum32_4
          , M = O.sum32_5
          , x = O.rotr64_hi
          , B = O.rotr64_lo
          , F = O.shr64_hi
          , V = O.shr64_lo
          , U = O.sum64
          , j = O.sum64_hi
          , H = O.sum64_lo
          , z = O.sum64_4_hi
          , G = O.sum64_4_lo
          , X = O.sum64_5_hi
          , $ = O.sum64_5_lo
          , W = R.common.BlockHash
          , Y = [1116352408, 1899447441, 3049323471, 3921009573, 961987163, 1508970993, 2453635748, 2870763221, 3624381080, 310598401, 607225278, 1426881987, 1925078388, 2162078206, 2614888103, 3248222580, 3835390401, 4022224774, 264347078, 604807628, 770255983, 1249150122, 1555081692, 1996064986, 2554220882, 2821834349, 2952996808, 3210313671, 3336571891, 3584528711, 113926993, 338241895, 666307205, 773529912, 1294757372, 1396182291, 1695183700, 1986661051, 2177026350, 2456956037, 2730485921, 2820302411, 3259730800, 3345764771, 3516065817, 3600352804, 4094571909, 275423344, 430227734, 506948616, 659060556, 883997877, 958139571, 1322822218, 1537002063, 1747873779, 1955562222, 2024104815, 2227730452, 2361852424, 2428436474, 2756734187, 3204031479, 3329325298]
          , K = [1116352408, 3609767458, 1899447441, 602891725, 3049323471, 3964484399, 3921009573, 2173295548, 961987163, 4081628472, 1508970993, 3053834265, 2453635748, 2937671579, 2870763221, 3664609560, 3624381080, 2734883394, 310598401, 1164996542, 607225278, 1323610764, 1426881987, 3590304994, 1925078388, 4068182383, 2162078206, 991336113, 2614888103, 633803317, 3248222580, 3479774868, 3835390401, 2666613458, 4022224774, 944711139, 264347078, 2341262773, 604807628, 2007800933, 770255983, 1495990901, 1249150122, 1856431235, 1555081692, 3175218132, 1996064986, 2198950837, 2554220882, 3999719339, 2821834349, 766784016, 2952996808, 2566594879, 3210313671, 3203337956, 3336571891, 1034457026, 3584528711, 2466948901, 113926993, 3758326383, 338241895, 168717936, 666307205, 1188179964, 773529912, 1546045734, 1294757372, 1522805485, 1396182291, 2643833823, 1695183700, 2343527390, 1986661051, 1014477480, 2177026350, 1206759142, 2456956037, 344077627, 2730485921, 1290863460, 2820302411, 3158454273, 3259730800, 3505952657, 3345764771, 106217008, 3516065817, 3606008344, 3600352804, 1432725776, 4094571909, 1467031594, 275423344, 851169720, 430227734, 3100823752, 506948616, 1363258195, 659060556, 3750685593, 883997877, 3785050280, 958139571, 3318307427, 1322822218, 3812723403, 1537002063, 2003034995, 1747873779, 3602036899, 1955562222, 1575990012, 2024104815, 1125592928, 2227730452, 2716904306, 2361852424, 442776044, 2428436474, 593698344, 2756734187, 3733110249, 3204031479, 2999351573, 3329325298, 3815920427, 3391569614, 3928383900, 3515267271, 566280711, 3940187606, 3454069534, 4118630271, 4000239992, 116418474, 1914138554, 174292421, 2731055270, 289380356, 3203993006, 460393269, 320620315, 685471733, 587496836, 852142971, 1086792851, 1017036298, 365543100, 1126000580, 2618297676, 1288033470, 3409855158, 1501505948, 4234509866, 1607167915, 987167468, 1816402316, 1246189591]
          , q = [1518500249, 1859775393, 2400959708, 3395469782];
        O.inherits(n, W),
        i.sha256 = n,
        n.blockSize = 512,
        n.outSize = 256,
        n.hmacStrength = 192,
        n.padLength = 64,
        n.prototype._update = function(e, t) {
            for (var i = this.W, n = 0; n < 16; n++)
                i[n] = e[t + n];
            for (; n < i.length; n++)
                i[n] = N(p(i[n - 2]), i[n - 7], f(i[n - 15]), i[n - 16]);
            var r = this.h[0]
              , s = this.h[1]
              , o = this.h[2]
              , a = this.h[3]
              , h = this.h[4]
              , m = this.h[5]
              , g = this.h[6]
              , y = this.h[7];
            I(this.k.length === i.length);
            for (var n = 0; n < i.length; n++) {
                var v = M(y, d(h), c(h, m, g), this.k[n], i[n])
                  , _ = D(u(r), l(r, s, o));
                y = g,
                g = m,
                m = h,
                h = D(a, v),
                a = o,
                o = s,
                s = r,
                r = D(v, _)
            }
            this.h[0] = D(this.h[0], r),
            this.h[1] = D(this.h[1], s),
            this.h[2] = D(this.h[2], o),
            this.h[3] = D(this.h[3], a),
            this.h[4] = D(this.h[4], h),
            this.h[5] = D(this.h[5], m),
            this.h[6] = D(this.h[6], g),
            this.h[7] = D(this.h[7], y)
        }
        ,
        n.prototype._digest = function(e) {
            return "hex" === e ? O.toHex32(this.h, "big") : O.split32(this.h, "big")
        }
        ,
        O.inherits(r, n),
        i.sha224 = r,
        r.blockSize = 512,
        r.outSize = 224,
        r.hmacStrength = 192,
        r.padLength = 64,
        r.prototype._digest = function(e) {
            return "hex" === e ? O.toHex32(this.h.slice(0, 7), "big") : O.split32(this.h.slice(0, 7), "big")
        }
        ,
        O.inherits(s, W),
        i.sha512 = s,
        s.blockSize = 1024,
        s.outSize = 512,
        s.hmacStrength = 192,
        s.padLength = 128,
        s.prototype._prepareBlock = function(e, t) {
            for (var i = this.W, n = 0; n < 32; n++)
                i[n] = e[t + n];
            for (; n < i.length; n += 2) {
                var r = A(i[n - 4], i[n - 3])
                  , s = w(i[n - 4], i[n - 3])
                  , o = i[n - 14]
                  , a = i[n - 13]
                  , c = T(i[n - 30], i[n - 29])
                  , l = C(i[n - 30], i[n - 29])
                  , h = i[n - 32]
                  , u = i[n - 31];
                i[n] = z(r, s, o, a, c, l, h, u),
                i[n + 1] = G(r, s, o, a, c, l, h, u)
            }
        }
        ,
        s.prototype._update = function(e, t) {
            this._prepareBlock(e, t);
            var i = this.W
              , n = this.h[0]
              , r = this.h[1]
              , s = this.h[2]
              , o = this.h[3]
              , a = this.h[4]
              , c = this.h[5]
              , l = this.h[6]
              , h = this.h[7]
              , u = this.h[8]
              , d = this.h[9]
              , f = this.h[10]
              , p = this.h[11]
              , m = this.h[12]
              , T = this.h[13]
              , C = this.h[14]
              , A = this.h[15];
            I(this.k.length === i.length);
            for (var w = 0; w < i.length; w += 2) {
                var R = C
                  , O = A
                  , L = E(u, d)
                  , k = P(u, d)
                  , D = g(u, d, f, p, m, T)
                  , N = y(u, d, f, p, m, T)
                  , M = this.k[w]
                  , x = this.k[w + 1]
                  , B = i[w]
                  , F = i[w + 1]
                  , V = X(R, O, L, k, D, N, M, x, B, F)
                  , z = $(R, O, L, k, D, N, M, x, B, F)
                  , R = b(n, r)
                  , O = S(n, r)
                  , L = v(n, r, s, o, a, c)
                  , k = _(n, r, s, o, a, c)
                  , G = j(R, O, L, k)
                  , W = H(R, O, L, k);
                C = m,
                A = T,
                m = f,
                T = p,
                f = u,
                p = d,
                u = j(l, h, V, z),
                d = H(h, h, V, z),
                l = a,
                h = c,
                a = s,
                c = o,
                s = n,
                o = r,
                n = j(V, z, G, W),
                r = H(V, z, G, W)
            }
            U(this.h, 0, n, r),
            U(this.h, 2, s, o),
            U(this.h, 4, a, c),
            U(this.h, 6, l, h),
            U(this.h, 8, u, d),
            U(this.h, 10, f, p),
            U(this.h, 12, m, T),
            U(this.h, 14, C, A)
        }
        ,
        s.prototype._digest = function(e) {
            return "hex" === e ? O.toHex32(this.h, "big") : O.split32(this.h, "big")
        }
        ,
        O.inherits(o, s),
        i.sha384 = o,
        o.blockSize = 1024,
        o.outSize = 384,
        o.hmacStrength = 192,
        o.padLength = 128,
        o.prototype._digest = function(e) {
            return "hex" === e ? O.toHex32(this.h.slice(0, 12), "big") : O.split32(this.h.slice(0, 12), "big")
        }
        ,
        O.inherits(a, W),
        i.sha1 = a,
        a.blockSize = 512,
        a.outSize = 160,
        a.hmacStrength = 80,
        a.padLength = 64,
        a.prototype._update = function(e, t) {
            for (var i = this.W, n = 0; n < 16; n++)
                i[n] = e[t + n];
            for (; n < i.length; n++)
                i[n] = k(i[n - 3] ^ i[n - 8] ^ i[n - 14] ^ i[n - 16], 1);
            for (var r = this.h[0], s = this.h[1], o = this.h[2], a = this.h[3], c = this.h[4], n = 0; n < i.length; n++) {
                var l = ~~(n / 20)
                  , h = M(k(r, 5), m(l, s, o, a), c, i[n], q[l]);
                c = a,
                a = o,
                o = k(s, 30),
                s = r,
                r = h
            }
            this.h[0] = D(this.h[0], r),
            this.h[1] = D(this.h[1], s),
            this.h[2] = D(this.h[2], o),
            this.h[3] = D(this.h[3], a),
            this.h[4] = D(this.h[4], c)
        }
        ,
        a.prototype._digest = function(e) {
            return "hex" === e ? O.toHex32(this.h, "big") : O.split32(this.h, "big")
        }
    }
    , {
        "../hash": 72
    }],
    77: [function(e, t, i) {
        function n(e, t) {
            if (Array.isArray(e))
                return e.slice();
            if (!e)
                return [];
            var i = [];
            if ("string" == typeof e)
                if (t) {
                    if ("hex" === t) {
                        e = e.replace(/[^a-z0-9]+/gi, ""),
                        e.length % 2 !== 0 && (e = "0" + e);
                        for (var n = 0; n < e.length; n += 2)
                            i.push(parseInt(e[n] + e[n + 1], 16))
                    }
                } else
                    for (var n = 0; n < e.length; n++) {
                        var r = e.charCodeAt(n)
                          , s = r >> 8
                          , o = 255 & r;
                        s ? i.push(s, o) : i.push(o)
                    }
            else
                for (var n = 0; n < e.length; n++)
                    i[n] = 0 | e[n];
            return i
        }
        function r(e) {
            for (var t = "", i = 0; i < e.length; i++)
                t += a(e[i].toString(16));
            return t
        }
        function s(e) {
            var t = e >>> 24 | e >>> 8 & 65280 | e << 8 & 16711680 | (255 & e) << 24;
            return t >>> 0
        }
        function o(e, t) {
            for (var i = "", n = 0; n < e.length; n++) {
                var r = e[n];
                "little" === t && (r = s(r)),
                i += c(r.toString(16))
            }
            return i
        }
        function a(e) {
            return 1 === e.length ? "0" + e : e
        }
        function c(e) {
            return 7 === e.length ? "0" + e : 6 === e.length ? "00" + e : 5 === e.length ? "000" + e : 4 === e.length ? "0000" + e : 3 === e.length ? "00000" + e : 2 === e.length ? "000000" + e : 1 === e.length ? "0000000" + e : e
        }
        function l(e, t, i, n) {
            var r = i - t;
            y(r % 4 === 0);
            for (var s = new Array(r / 4), o = 0, a = t; o < s.length; o++,
            a += 4) {
                var c;
                c = "big" === n ? e[a] << 24 | e[a + 1] << 16 | e[a + 2] << 8 | e[a + 3] : e[a + 3] << 24 | e[a + 2] << 16 | e[a + 1] << 8 | e[a],
                s[o] = c >>> 0
            }
            return s
        }
        function h(e, t) {
            for (var i = new Array(4 * e.length), n = 0, r = 0; n < e.length; n++,
            r += 4) {
                var s = e[n];
                "big" === t ? (i[r] = s >>> 24,
                i[r + 1] = s >>> 16 & 255,
                i[r + 2] = s >>> 8 & 255,
                i[r + 3] = 255 & s) : (i[r + 3] = s >>> 24,
                i[r + 2] = s >>> 16 & 255,
                i[r + 1] = s >>> 8 & 255,
                i[r] = 255 & s)
            }
            return i
        }
        function u(e, t) {
            return e >>> t | e << 32 - t
        }
        function d(e, t) {
            return e << t | e >>> 32 - t
        }
        function f(e, t) {
            return e + t >>> 0
        }
        function p(e, t, i) {
            return e + t + i >>> 0
        }
        function m(e, t, i, n) {
            return e + t + i + n >>> 0
        }
        function g(e, t, i, n, r) {
            return e + t + i + n + r >>> 0
        }
        function y(e, t) {
            if (!e)
                throw new Error(t || "Assertion failed")
        }
        function v(e, t, i, n) {
            var r = e[t]
              , s = e[t + 1]
              , o = n + s >>> 0
              , a = (o < n ? 1 : 0) + i + r;
            e[t] = a >>> 0,
            e[t + 1] = o
        }
        function _(e, t, i, n) {
            var r = t + n >>> 0
              , s = (r < t ? 1 : 0) + e + i;
            return s >>> 0
        }
        function b(e, t, i, n) {
            var r = t + n;
            return r >>> 0
        }
        function S(e, t, i, n, r, s, o, a) {
            var c = 0
              , l = t;
            l = l + n >>> 0,
            c += l < t ? 1 : 0,
            l = l + s >>> 0,
            c += l < s ? 1 : 0,
            l = l + a >>> 0,
            c += l < a ? 1 : 0;
            var h = e + i + r + o + c;
            return h >>> 0
        }
        function E(e, t, i, n, r, s, o, a) {
            var c = t + n + s + a;
            return c >>> 0
        }
        function P(e, t, i, n, r, s, o, a, c, l) {
            var h = 0
              , u = t;
            u = u + n >>> 0,
            h += u < t ? 1 : 0,
            u = u + s >>> 0,
            h += u < s ? 1 : 0,
            u = u + a >>> 0,
            h += u < a ? 1 : 0,
            u = u + l >>> 0,
            h += u < l ? 1 : 0;
            var d = e + i + r + o + c + h;
            return d >>> 0
        }
        function T(e, t, i, n, r, s, o, a, c, l) {
            var h = t + n + s + a + l;
            return h >>> 0
        }
        function C(e, t, i) {
            var n = t << 32 - i | e >>> i;
            return n >>> 0
        }
        function A(e, t, i) {
            var n = e << 32 - i | t >>> i;
            return n >>> 0
        }
        function w(e, t, i) {
            return e >>> i
        }
        function R(e, t, i) {
            var n = e << 32 - i | t >>> i;
            return n >>> 0
        }
        var O = i
          , I = e("inherits");
        O.toArray = n,
        O.toHex = r,
        O.htonl = s,
        O.toHex32 = o,
        O.zero2 = a,
        O.zero8 = c,
        O.join32 = l,
        O.split32 = h,
        O.rotr32 = u,
        O.rotl32 = d,
        O.sum32 = f,
        O.sum32_3 = p,
        O.sum32_4 = m,
        O.sum32_5 = g,
        O.assert = y,
        O.inherits = I,
        i.sum64 = v,
        i.sum64_hi = _,
        i.sum64_lo = b,
        i.sum64_4_hi = S,
        i.sum64_4_lo = E,
        i.sum64_5_hi = P,
        i.sum64_5_lo = T,
        i.rotr64_hi = C,
        i.rotr64_lo = A,
        i.shr64_hi = w,
        i.shr64_lo = R
    }
    , {
        inherits: 147
    }],
    78: [function(e, t, i) {
        t.exports = {
            name: "elliptic",
            version: "6.2.3",
            description: "EC cryptography",
            main: "lib/elliptic.js",
            files: ["lib"],
            scripts: {
                coverage: "npm run unit --coverage",
                coveralls: "npm run coverage && cat ./coverage/lcov.info | coveralls",
                jscs: "jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/*.js",
                jshint: "jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/*.js",
                lint: "npm run jscs && npm run jshint",
                test: "npm run lint && npm run unit",
                unit: "istanbul test _mocha --reporter=spec test/*-test.js"
            },
            repository: {
                type: "git",
                url: "git+ssh://git@github.com/indutny/elliptic.git"
            },
            keywords: ["EC", "Elliptic", "curve", "Cryptography"],
            author: {
                name: "Fedor Indutny",
                email: "fedor@indutny.com"
            },
            license: "MIT",
            bugs: {
                url: "https://github.com/indutny/elliptic/issues"
            },
            homepage: "https://github.com/indutny/elliptic",
            devDependencies: {
                coveralls: "^2.11.3",
                istanbul: "^0.4.2",
                jscs: "^2.9.0",
                jshint: "^2.6.0",
                mocha: "^2.1.0"
            },
            dependencies: {
                "bn.js": "^4.0.0",
                brorand: "^1.0.1",
                "hash.js": "^1.0.0",
                inherits: "^2.0.1"
            },
            gitHead: "c32f20b22b420eb6af3c6dda28963deb7facf823",
            _id: "elliptic@6.2.3",
            _shasum: "18e46d7306b0951275a2d42063270a14b74ebe99",
            _from: "elliptic@>=6.0.0 <7.0.0",
            _npmVersion: "3.3.12",
            _nodeVersion: "5.4.1",
            _npmUser: {
                name: "indutny",
                email: "fedor@indutny.com"
            },
            dist: {
                shasum: "18e46d7306b0951275a2d42063270a14b74ebe99",
                tarball: "http://registry.npmjs.org/elliptic/-/elliptic-6.2.3.tgz"
            },
            maintainers: [{
                name: "indutny",
                email: "fedor@indutny.com"
            }],
            directories: {},
            _resolved: "https://registry.npmjs.org/elliptic/-/elliptic-6.2.3.tgz"
        }
    }
    , {}],
    79: [function(e, t, i) {
        t.exports = {
            "2.16.840.1.101.3.4.1.1": "aes-128-ecb",
            "2.16.840.1.101.3.4.1.2": "aes-128-cbc",
            "2.16.840.1.101.3.4.1.3": "aes-128-ofb",
            "2.16.840.1.101.3.4.1.4": "aes-128-cfb",
            "2.16.840.1.101.3.4.1.21": "aes-192-ecb",
            "2.16.840.1.101.3.4.1.22": "aes-192-cbc",
            "2.16.840.1.101.3.4.1.23": "aes-192-ofb",
            "2.16.840.1.101.3.4.1.24": "aes-192-cfb",
            "2.16.840.1.101.3.4.1.41": "aes-256-ecb",
            "2.16.840.1.101.3.4.1.42": "aes-256-cbc",
            "2.16.840.1.101.3.4.1.43": "aes-256-ofb",
            "2.16.840.1.101.3.4.1.44": "aes-256-cfb"
        }
    }
    , {}],
    80: [function(e, t, i) {
        var n = e("asn1.js")
          , r = n.define("RSAPrivateKey", function() {
            this.seq().obj(this.key("version")["int"](), this.key("modulus")["int"](), this.key("publicExponent")["int"](), this.key("privateExponent")["int"](), this.key("prime1")["int"](), this.key("prime2")["int"](), this.key("exponent1")["int"](), this.key("exponent2")["int"](), this.key("coefficient")["int"]())
        });
        i.RSAPrivateKey = r;
        var s = n.define("RSAPublicKey", function() {
            this.seq().obj(this.key("modulus")["int"](), this.key("publicExponent")["int"]())
        });
        i.RSAPublicKey = s;
        var o = n.define("SubjectPublicKeyInfo", function() {
            this.seq().obj(this.key("algorithm").use(a), this.key("subjectPublicKey").bitstr())
        });
        i.PublicKey = o;
        var a = n.define("AlgorithmIdentifier", function() {
            this.seq().obj(this.key("algorithm").objid(), this.key("none").null_().optional(), this.key("curve").objid().optional(), this.key("params").seq().obj(this.key("p")["int"](), this.key("q")["int"](), this.key("g")["int"]()).optional())
        })
          , c = n.define("PrivateKeyInfo", function() {
            this.seq().obj(this.key("version")["int"](), this.key("algorithm").use(a), this.key("subjectPrivateKey").octstr())
        });
        i.PrivateKey = c;
        var l = n.define("EncryptedPrivateKeyInfo", function() {
            this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(), this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(), this.key("kdeparams").seq().obj(this.key("salt").octstr(), this.key("iters")["int"]())), this.key("cipher").seq().obj(this.key("algo").objid(), this.key("iv").octstr()))), this.key("subjectPrivateKey").octstr())
        });
        i.EncryptedPrivateKey = l;
        var h = n.define("DSAPrivateKey", function() {
            this.seq().obj(this.key("version")["int"](), this.key("p")["int"](), this.key("q")["int"](), this.key("g")["int"](), this.key("pub_key")["int"](), this.key("priv_key")["int"]())
        });
        i.DSAPrivateKey = h,
        i.DSAparam = n.define("DSAparam", function() {
            this["int"]()
        });
        var u = n.define("ECPrivateKey", function() {
            this.seq().obj(this.key("version")["int"](), this.key("privateKey").octstr(), this.key("parameters").optional().explicit(0).use(d), this.key("publicKey").optional().explicit(1).bitstr())
        });
        i.ECPrivateKey = u;
        var d = n.define("ECParameters", function() {
            this.choice({
                namedCurve: this.objid()
            })
        });
        i.signature = n.define("signature", function() {
            this.seq().obj(this.key("r")["int"](), this.key("s")["int"]())
        })
    }
    , {
        "asn1.js": 83
    }],
    81: [function(e, t, i) {
        (function(i) {
            var n = /Proc-Type: 4,ENCRYPTED\r?\nDEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)\r?\n\r?\n([0-9A-z\n\r\+\/\=]+)\r?\n/m
              , r = /^-----BEGIN (.*) KEY-----\r?\n/m
              , s = /^-----BEGIN (.*) KEY-----\r?\n([0-9A-z\n\r\+\/\=]+)\r?\n-----END \1 KEY-----$/m
              , o = e("evp_bytestokey")
              , a = e("browserify-aes");
            t.exports = function(e, t) {
                var c, l = e.toString(), h = l.match(n);
                if (h) {
                    var u = "aes" + h[1]
                      , d = new i(h[2],"hex")
                      , f = new i(h[3].replace(/\r?\n/g, ""),"base64")
                      , p = o(t, d.slice(0, 8), parseInt(h[1], 10)).key
                      , m = []
                      , g = a.createDecipheriv(u, p, d);
                    m.push(g.update(f)),
                    m.push(g["final"]()),
                    c = i.concat(m)
                } else {
                    var y = l.match(s);
                    c = new i(y[2].replace(/\r?\n/g, ""),"base64")
                }
                var v = l.match(r)[1] + " KEY";
                return {
                    tag: v,
                    data: c
                }
            }
        }
        ).call(this, e("buffer").Buffer)
    }
    , {
        "browserify-aes": 6,
        buffer: 179,
        evp_bytestokey: 98
    }],
    82: [function(e, t, i) {
        (function(i) {
            function n(e) {
                var t;
                "object" != typeof e || i.isBuffer(e) || (t = e.passphrase,
                e = e.key),
                "string" == typeof e && (e = new i(e));
                var n, o, c = a(e, t), l = c.tag, h = c.data;
                switch (l) {
                case "PUBLIC KEY":
                    switch (o = s.PublicKey.decode(h, "der"),
                    n = o.algorithm.algorithm.join(".")) {
                    case "1.2.840.113549.1.1.1":
                        return s.RSAPublicKey.decode(o.subjectPublicKey.data, "der");
                    case "1.2.840.10045.2.1":
                        return o.subjectPrivateKey = o.subjectPublicKey,
                        {
                            type: "ec",
                            data: o
                        };
                    case "1.2.840.10040.4.1":
                        return o.algorithm.params.pub_key = s.DSAparam.decode(o.subjectPublicKey.data, "der"),
                        {
                            type: "dsa",
                            data: o.algorithm.params
                        };
                    default:
                        throw new Error("unknown key id " + n)
                    }
                    throw new Error("unknown key type " + l);
                case "ENCRYPTED PRIVATE KEY":
                    h = s.EncryptedPrivateKey.decode(h, "der"),
                    h = r(h, t);
                case "PRIVATE KEY":
                    switch (o = s.PrivateKey.decode(h, "der"),
                    n = o.algorithm.algorithm.join(".")) {
                    case "1.2.840.113549.1.1.1":
                        return s.RSAPrivateKey.decode(o.subjectPrivateKey, "der");
                    case "1.2.840.10045.2.1":
                        return {
                            curve: o.algorithm.curve,
                            privateKey: s.ECPrivateKey.decode(o.subjectPrivateKey, "der").privateKey
                        };
                    case "1.2.840.10040.4.1":
                        return o.algorithm.params.priv_key = s.DSAparam.decode(o.subjectPrivateKey, "der"),
                        {
                            type: "dsa",
                            params: o.algorithm.params
                        };
                    default:
                        throw new Error("unknown key id " + n)
                    }
                    throw new Error("unknown key type " + l);
                case "RSA PUBLIC KEY":
                    return s.RSAPublicKey.decode(h, "der");
                case "RSA PRIVATE KEY":
                    return s.RSAPrivateKey.decode(h, "der");
                case "DSA PRIVATE KEY":
                    return {
                        type: "dsa",
                        params: s.DSAPrivateKey.decode(h, "der")
                    };
                case "EC PRIVATE KEY":
                    return h = s.ECPrivateKey.decode(h, "der"),
                    {
                        curve: h.parameters.value,
                        privateKey: h.privateKey
                    };
                default:
                    throw new Error("unknown key type " + l)
                }
            }
            function r(e, t) {
                var n = e.algorithm.decrypt.kde.kdeparams.salt
                  , r = parseInt(e.algorithm.decrypt.kde.kdeparams.iters.toString(), 10)
                  , s = o[e.algorithm.decrypt.cipher.algo.join(".")]
                  , a = e.algorithm.decrypt.cipher.iv
                  , h = e.subjectPrivateKey
                  , u = parseInt(s.split("-")[1], 10) / 8
                  , d = l.pbkdf2Sync(t, n, r, u)
                  , f = c.createDecipheriv(s, d, a)
                  , p = [];
                return p.push(f.update(h)),
                p.push(f["final"]()),
                i.concat(p)
            }
            var s = e("./asn1")
              , o = e("./aesid.json")
              , a = e("./fixProc")
              , c = e("browserify-aes")
              , l = e("pbkdf2");
            t.exports = n,
            n.signature = s.signature
        }
        ).call(this, e("buffer").Buffer)
    }
    , {
        "./aesid.json": 79,
        "./asn1": 80,
        "./fixProc": 81,
        "browserify-aes": 6,
        buffer: 179,
        pbkdf2: 148
    }],
    83: [function(e, t, i) {
        var n = i;
        n.bignum = e("bn.js"),
        n.define = e("./asn1/api").define,
        n.base = e("./asn1/base"),
        n.constants = e("./asn1/constants"),
        n.decoders = e("./asn1/decoders"),
        n.encoders = e("./asn1/encoders")
    }
    , {
        "./asn1/api": 84,
        "./asn1/base": 86,
        "./asn1/constants": 90,
        "./asn1/decoders": 92,
        "./asn1/encoders": 95,
        "bn.js": 53
    }],
    84: [function(e, t, i) {
        function n(e, t) {
            this.name = e,
            this.body = t,
            this.decoders = {},
            this.encoders = {}
        }
        var r = e("../asn1")
          , s = e("inherits")
          , o = i;
        o.define = function(e, t) {
            return new n(e,t)
        }
        ,
        n.prototype._createNamed = function(t) {
            var i;
            try {
                i = e("vm").runInThisContext("(function " + this.name + "(entity) {\n  this._initNamed(entity);\n})")
            } catch (n) {
                i = function(e) {
                    this._initNamed(e)
                }
            }
            return s(i, t),
            i.prototype._initNamed = function(e) {
                t.call(this, e)
            }
            ,
            new i(this)
        }
        ,
        n.prototype._getDecoder = function(e) {
            return this.decoders.hasOwnProperty(e) || (this.decoders[e] = this._createNamed(r.decoders[e])),
            this.decoders[e]
        }
        ,
        n.prototype.decode = function(e, t, i) {
            return this._getDecoder(t).decode(e, i)
        }
        ,
        n.prototype._getEncoder = function(e) {
            return this.encoders.hasOwnProperty(e) || (this.encoders[e] = this._createNamed(r.encoders[e])),
            this.encoders[e]
        }
        ,
        n.prototype.encode = function(e, t, i) {
            return this._getEncoder(t).encode(e, i)
        }
    }
    , {
        "../asn1": 83,
        inherits: 147,
        vm: 202
    }],
    85: [function(e, t, i) {
        function n(e, t) {
            return o.call(this, t),
            a.isBuffer(e) ? (this.base = e,
            this.offset = 0,
            void (this.length = e.length)) : void this.error("Input not Buffer")
        }
        function r(e, t) {
            if (Array.isArray(e))
                this.length = 0,
                this.value = e.map(function(e) {
                    return e instanceof r || (e = new r(e,t)),
                    this.length += e.length,
                    e
                }, this);
            else if ("number" == typeof e) {
                if (!(0 <= e && e <= 255))
                    return t.error("non-byte EncoderBuffer value");
                this.value = e,
                this.length = 1
            } else if ("string" == typeof e)
                this.value = e,
                this.length = a.byteLength(e);
            else {
                if (!a.isBuffer(e))
                    return t.error("Unsupported type: " + typeof e);
                this.value = e,
                this.length = e.length
            }
        }
        var s = e("inherits")
          , o = e("../base").Reporter
          , a = e("buffer").Buffer;
        s(n, o),
        i.DecoderBuffer = n,
        n.prototype.save = function() {
            return {
                offset: this.offset,
                reporter: o.prototype.save.call(this)
            }
        }
        ,
        n.prototype.restore = function(e) {
            var t = new n(this.base);
            return t.offset = e.offset,
            t.length = this.offset,
            this.offset = e.offset,
            o.prototype.restore.call(this, e.reporter),
            t
        }
        ,
        n.prototype.isEmpty = function() {
            return this.offset === this.length
        }
        ,
        n.prototype.readUInt8 = function(e) {
            return this.offset + 1 <= this.length ? this.base.readUInt8(this.offset++, !0) : this.error(e || "DecoderBuffer overrun")
        }
        ,
        n.prototype.skip = function(e, t) {
            if (!(this.offset + e <= this.length))
                return this.error(t || "DecoderBuffer overrun");
            var i = new n(this.base);
            return i._reporterState = this._reporterState,
            i.offset = this.offset,
            i.length = this.offset + e,
            this.offset += e,
            i
        }
        ,
        n.prototype.raw = function(e) {
            return this.base.slice(e ? e.offset : this.offset, this.length)
        }
        ,
        i.EncoderBuffer = r,
        r.prototype.join = function(e, t) {
            return e || (e = new a(this.length)),
            t || (t = 0),
            0 === this.length ? e : (Array.isArray(this.value) ? this.value.forEach(function(i) {
                i.join(e, t),
                t += i.length
            }) : ("number" == typeof this.value ? e[t] = this.value : "string" == typeof this.value ? e.write(this.value, t) : a.isBuffer(this.value) && this.value.copy(e, t),
            t += this.length),
            e)
        }
    }
    , {
        "../base": 86,
        buffer: 179,
        inherits: 147
    }],
    86: [function(e, t, i) {
        var n = i;
        n.Reporter = e("./reporter").Reporter,
        n.DecoderBuffer = e("./buffer").DecoderBuffer,
        n.EncoderBuffer = e("./buffer").EncoderBuffer,
        n.Node = e("./node")
    }
    , {
        "./buffer": 85,
        "./node": 87,
        "./reporter": 88
    }],
    87: [function(e, t, i) {
        function n(e, t) {
            var i = {};
            this._baseState = i,
            i.enc = e,
            i.parent = t || null,
            i.children = null,
            i.tag = null,
            i.args = null,
            i.reverseArgs = null,
            i.choice = null,
            i.optional = !1,
            i.any = !1,
            i.obj = !1,
            i.use = null,
            i.useDecoder = null,
            i.key = null,
            i["default"] = null,
            i.explicit = null,
            i.implicit = null,
            i.contains = null,
            i.parent || (i.children = [],
            this._wrap())
        }
        var r = e("../base").Reporter
          , s = e("../base").EncoderBuffer
          , o = e("../base").DecoderBuffer
          , a = e("minimalistic-assert")
          , c = ["seq", "seqof", "set", "setof", "octstr", "bitstr", "objid", "bool", "gentime", "utctime", "null_", "enum", "int", "ia5str", "utf8str", "bmpstr", "numstr", "printstr"]
          , l = ["key", "obj", "use", "optional", "explicit", "implicit", "def", "choice", "any", "contains"].concat(c)
          , h = ["_peekTag", "_decodeTag", "_use", "_decodeStr", "_decodeObjid", "_decodeTime", "_decodeNull", "_decodeInt", "_decodeBool", "_decodeList", "_encodeComposite", "_encodeStr", "_encodeObjid", "_encodeTime", "_encodeNull", "_encodeInt", "_encodeBool"];
        t.exports = n;
        var u = ["enc", "parent", "children", "tag", "args", "reverseArgs", "choice", "optional", "any", "obj", "use", "alteredUse", "key", "default", "explicit", "implicit"];
        n.prototype.clone = function() {
            var e = this._baseState
              , t = {};
            u.forEach(function(i) {
                t[i] = e[i]
            });
            var i = new this.constructor(t.parent);
            return i._baseState = t,
            i
        }
        ,
        n.prototype._wrap = function() {
            var e = this._baseState;
            l.forEach(function(t) {
                this[t] = function() {
                    var i = new this.constructor(this);
                    return e.children.push(i),
                    i[t].apply(i, arguments)
                }
            }, this)
        }
        ,
        n.prototype._init = function(e) {
            var t = this._baseState;
            a(null === t.parent),
            e.call(this),
            t.children = t.children.filter(function(e) {
                return e._baseState.parent === this
            }, this),
            a.equal(t.children.length, 1, "Root node can have only one child")
        }
        ,
        n.prototype._useArgs = function(e) {
            var t = this._baseState
              , i = e.filter(function(e) {
                return e instanceof this.constructor
            }, this);
            e = e.filter(function(e) {
                return !(e instanceof this.constructor)
            }, this),
            0 !== i.length && (a(null === t.children),
            t.children = i,
            i.forEach(function(e) {
                e._baseState.parent = this
            }, this)),
            0 !== e.length && (a(null === t.args),
            t.args = e,
            t.reverseArgs = e.map(function(e) {
                if ("object" != typeof e || e.constructor !== Object)
                    return e;
                var t = {};
                return Object.keys(e).forEach(function(i) {
                    i == (0 | i) && (i |= 0);
                    var n = e[i];
                    t[n] = i
                }),
                t
            }))
        }
        ,
        h.forEach(function(e) {
            n.prototype[e] = function() {
                var t = this._baseState;
                throw new Error(e + " not implemented for encoding: " + t.enc)
            }
        }),
        c.forEach(function(e) {
            n.prototype[e] = function() {
                var t = this._baseState
                  , i = Array.prototype.slice.call(arguments);
                return a(null === t.tag),
                t.tag = e,
                this._useArgs(i),
                this
            }
        }),
        n.prototype.use = function(e) {
            var t = this._baseState;
            return a(null === t.use),
            t.use = e,
            this
        }
        ,
        n.prototype.optional = function() {
            var e = this._baseState;
            return e.optional = !0,
            this
        }
        ,
        n.prototype.def = function(e) {
            var t = this._baseState;
            return a(null === t["default"]),
            t["default"] = e,
            t.optional = !0,
            this
        }
        ,
        n.prototype.explicit = function(e) {
            var t = this._baseState;
            return a(null === t.explicit && null === t.implicit),
            t.explicit = e,
            this
        }
        ,
        n.prototype.implicit = function(e) {
            var t = this._baseState;
            return a(null === t.explicit && null === t.implicit),
            t.implicit = e,
            this
        }
        ,
        n.prototype.obj = function() {
            var e = this._baseState
              , t = Array.prototype.slice.call(arguments);
            return e.obj = !0,
            0 !== t.length && this._useArgs(t),
            this
        }
        ,
        n.prototype.key = function(e) {
            var t = this._baseState;
            return a(null === t.key),
            t.key = e,
            this
        }
        ,
        n.prototype.any = function() {
            var e = this._baseState;
            return e.any = !0,
            this
        }
        ,
        n.prototype.choice = function(e) {
            var t = this._baseState;
            return a(null === t.choice),
            t.choice = e,
            this._useArgs(Object.keys(e).map(function(t) {
                return e[t]
            })),
            this
        }
        ,
        n.prototype.contains = function(e) {
            var t = this._baseState;
            return a(null === t.use),
            t.contains = e,
            this
        }
        ,
        n.prototype._decode = function(e) {
            var t = this._baseState;
            if (null === t.parent)
                return e.wrapResult(t.children[0]._decode(e));
            var i, n = t["default"], r = !0;
            if (null !== t.key && (i = e.enterKey(t.key)),
            t.optional) {
                var s = null;
                if (null !== t.explicit ? s = t.explicit : null !== t.implicit ? s = t.implicit : null !== t.tag && (s = t.tag),
                null !== s || t.any) {
                    if (r = this._peekTag(e, s, t.any),
                    e.isError(r))
                        return r
                } else {
                    var a = e.save();
                    try {
                        null === t.choice ? this._decodeGeneric(t.tag, e) : this._decodeChoice(e),
                        r = !0
                    } catch (c) {
                        r = !1
                    }
                    e.restore(a)
                }
            }
            var l;
            if (t.obj && r && (l = e.enterObject()),
            r) {
                if (null !== t.explicit) {
                    var h = this._decodeTag(e, t.explicit);
                    if (e.isError(h))
                        return h;
                    e = h
                }
                if (null === t.use && null === t.choice) {
                    if (t.any)
                        var a = e.save();
                    var u = this._decodeTag(e, null !== t.implicit ? t.implicit : t.tag, t.any);
                    if (e.isError(u))
                        return u;
                    t.any ? n = e.raw(a) : e = u
                }
                if (n = t.any ? n : null === t.choice ? this._decodeGeneric(t.tag, e) : this._decodeChoice(e),
                e.isError(n))
                    return n;
                if (!t.any && null === t.choice && null !== t.children) {
                    var d = t.children.some(function(t) {
                        t._decode(e)
                    });
                    if (d)
                        return err
                }
                if (t.contains && ("octstr" === t.tag || "bitstr" === t.tag)) {
                    var f = new o(n);
                    n = this._getUse(t.contains, e._reporterState.obj)._decode(f)
                }
            }
            return t.obj && r && (n = e.leaveObject(l)),
            null === t.key || null === n && r !== !0 || e.leaveKey(i, t.key, n),
            n
        }
        ,
        n.prototype._decodeGeneric = function(e, t) {
            var i = this._baseState;
            return "seq" === e || "set" === e ? null : "seqof" === e || "setof" === e ? this._decodeList(t, e, i.args[0]) : "octstr" === e || "bitstr" === e ? this._decodeStr(t, e) : "ia5str" === e || "utf8str" === e || "bmpstr" === e ? this._decodeStr(t, e) : "numstr" === e || "printstr" === e ? this._decodeStr(t, e) : "objid" === e && i.args ? this._decodeObjid(t, i.args[0], i.args[1]) : "objid" === e ? this._decodeObjid(t, null, null) : "gentime" === e || "utctime" === e ? this._decodeTime(t, e) : "null_" === e ? this._decodeNull(t) : "bool" === e ? this._decodeBool(t) : "int" === e || "enum" === e ? this._decodeInt(t, i.args && i.args[0]) : null !== i.use ? this._getUse(i.use, t._reporterState.obj)._decode(t) : t.error("unknown tag: " + e)
        }
        ,
        n.prototype._getUse = function(e, t) {
            var i = this._baseState;
            return i.useDecoder = this._use(e, t),
            a(null === i.useDecoder._baseState.parent),
            i.useDecoder = i.useDecoder._baseState.children[0],
            i.implicit !== i.useDecoder._baseState.implicit && (i.useDecoder = i.useDecoder.clone(),
            i.useDecoder._baseState.implicit = i.implicit),
            i.useDecoder
        }
        ,
        n.prototype._decodeChoice = function(e) {
            var t = this._baseState
              , i = null
              , n = !1;
            return Object.keys(t.choice).some(function(r) {
                var s = e.save()
                  , o = t.choice[r];
                try {
                    var a = o._decode(e);
                    if (e.isError(a))
                        return !1;
                    i = {
                        type: r,
                        value: a
                    },
                    n = !0
                } catch (c) {
                    return e.restore(s),
                    !1
                }
                return !0
            }, this),
            n ? i : e.error("Choice not matched")
        }
        ,
        n.prototype._createEncoderBuffer = function(e) {
            return new s(e,this.reporter)
        }
        ,
        n.prototype._encode = function(e, t, i) {
            var n = this._baseState;
            if (null === n["default"] || n["default"] !== e) {
                var r = this._encodeValue(e, t, i);
                if (void 0 !== r && !this._skipDefault(r, t, i))
                    return r
            }
        }
        ,
        n.prototype._encodeValue = function(e, t, i) {
            var n = this._baseState;
            if (null === n.parent)
                return n.children[0]._encode(e, t || new r);
            var s = null;
            if (this.reporter = t,
            n.optional && void 0 === e) {
                if (null === n["default"])
                    return;
                e = n["default"]
            }
            var o = null
              , a = !1;
            if (n.any)
                s = this._createEncoderBuffer(e);
            else if (n.choice)
                s = this._encodeChoice(e, t);
            else if (n.contains)
                o = this._getUse(n.contains, i)._encode(e, t),
                a = !0;
            else if (n.children)
                o = n.children.map(function(i) {
                    if ("null_" === i._baseState.tag)
                        return i._encode(null, t, e);
                    if (null === i._baseState.key)
                        return t.error("Child should have a key");
                    var n = t.enterKey(i._baseState.key);
                    if ("object" != typeof e)
                        return t.error("Child expected, but input is not object");
                    var r = i._encode(e[i._baseState.key], t, e);
                    return t.leaveKey(n),
                    r
                }, this).filter(function(e) {
                    return e
                }),
                o = this._createEncoderBuffer(o);
            else if ("seqof" === n.tag || "setof" === n.tag) {
                if (!n.args || 1 !== n.args.length)
                    return t.error("Too many args for : " + n.tag);
                if (!Array.isArray(e))
                    return t.error("seqof/setof, but data is not Array");
                var c = this.clone();
                c._baseState.implicit = null,
                o = this._createEncoderBuffer(e.map(function(i) {
                    var n = this._baseState;
                    return this._getUse(n.args[0], e)._encode(i, t)
                }, c))
            } else
                null !== n.use ? s = this._getUse(n.use, i)._encode(e, t) : (o = this._encodePrimitive(n.tag, e),
                a = !0);
            var s;
            if (!n.any && null === n.choice) {
                var l = null !== n.implicit ? n.implicit : n.tag
                  , h = null === n.implicit ? "universal" : "context";
                null === l ? null === n.use && t.error("Tag could be ommited only for .use()") : null === n.use && (s = this._encodeComposite(l, a, h, o))
            }
            return null !== n.explicit && (s = this._encodeComposite(n.explicit, !1, "context", s)),
            s
        }
        ,
        n.prototype._encodeChoice = function(e, t) {
            var i = this._baseState
              , n = i.choice[e.type];
            return n || a(!1, e.type + " not found in " + JSON.stringify(Object.keys(i.choice))),
            n._encode(e.value, t)
        }
        ,
        n.prototype._encodePrimitive = function(e, t) {
            var i = this._baseState;
            if ("octstr" === e || "bitstr" === e || "ia5str" === e)
                return this._encodeStr(t, e);
            if ("utf8str" === e || "bmpstr" === e)
                return this._encodeStr(t, e);
            if ("numstr" === e || "printstr" === e)
                return this._encodeStr(t, e);
            if ("objid" === e && i.args)
                return this._encodeObjid(t, i.reverseArgs[0], i.args[1]);
            if ("objid" === e)
                return this._encodeObjid(t, null, null);
            if ("gentime" === e || "utctime" === e)
                return this._encodeTime(t, e);
            if ("null_" === e)
                return this._encodeNull();
            if ("int" === e || "enum" === e)
                return this._encodeInt(t, i.args && i.reverseArgs[0]);
            if ("bool" === e)
                return this._encodeBool(t);
            throw new Error("Unsupported tag: " + e)
        }
        ,
        n.prototype._isNumstr = function(e) {
            return /^[0-9 ]*$/.test(e)
        }
        ,
        n.prototype._isPrintstr = function(e) {
            return /^[A-Za-z0-9 '\(\)\+,\-\.\/:=\?]*$/.test(e)
        }
    }
    , {
        "../base": 86,
        "minimalistic-assert": 97
    }],
    88: [function(e, t, i) {
        function n(e) {
            this._reporterState = {
                obj: null,
                path: [],
                options: e || {},
                errors: []
            }
        }
        function r(e, t) {
            this.path = e,
            this.rethrow(t)
        }
        var s = e("inherits");
        i.Reporter = n,
        n.prototype.isError = function(e) {
            return e instanceof r
        }
        ,
        n.prototype.save = function() {
            var e = this._reporterState;
            return {
                obj: e.obj,
                pathLen: e.path.length
            }
        }
        ,
        n.prototype.restore = function(e) {
            var t = this._reporterState;
            t.obj = e.obj,
            t.path = t.path.slice(0, e.pathLen)
        }
        ,
        n.prototype.enterKey = function(e) {
            return this._reporterState.path.push(e)
        }
        ,
        n.prototype.leaveKey = function(e, t, i) {
            var n = this._reporterState;
            n.path = n.path.slice(0, e - 1),
            null !== n.obj && (n.obj[t] = i)
        }
        ,
        n.prototype.enterObject = function() {
            var e = this._reporterState
              , t = e.obj;
            return e.obj = {},
            t
        }
        ,
        n.prototype.leaveObject = function(e) {
            var t = this._reporterState
              , i = t.obj;
            return t.obj = e,
            i
        }
        ,
        n.prototype.error = function(e) {
            var t, i = this._reporterState, n = e instanceof r;
            if (t = n ? e : new r(i.path.map(function(e) {
                return "[" + JSON.stringify(e) + "]"
            }).join(""),e.message || e,e.stack),
            !i.options.partial)
                throw t;
            return n || i.errors.push(t),
            t
        }
        ,
        n.prototype.wrapResult = function(e) {
            var t = this._reporterState;
            return t.options.partial ? {
                result: this.isError(e) ? null : e,
                errors: t.errors
            } : e
        }
        ,
        s(r, Error),
        r.prototype.rethrow = function(e) {
            return this.message = e + " at: " + (this.path || "(shallow)"),
            Error.captureStackTrace(this, r),
            this
        }
    }
    , {
        inherits: 147
    }],
    89: [function(e, t, i) {
        var n = e("../constants");
        i.tagClass = {
            0: "universal",
            1: "application",
            2: "context",
            3: "private"
        },
        i.tagClassByName = n._reverse(i.tagClass),
        i.tag = {
            0: "end",
            1: "bool",
            2: "int",
            3: "bitstr",
            4: "octstr",
            5: "null_",
            6: "objid",
            7: "objDesc",
            8: "external",
            9: "real",
            10: "enum",
            11: "embed",
            12: "utf8str",
            13: "relativeOid",
            16: "seq",
            17: "set",
            18: "numstr",
            19: "printstr",
            20: "t61str",
            21: "videostr",
            22: "ia5str",
            23: "utctime",
            24: "gentime",
            25: "graphstr",
            26: "iso646str",
            27: "genstr",
            28: "unistr",
            29: "charstr",
            30: "bmpstr"
        },
        i.tagByName = n._reverse(i.tag)
    }
    , {
        "../constants": 90
    }],
    90: [function(e, t, i) {
        var n = i;
        n._reverse = function(e) {
            var t = {};
            return Object.keys(e).forEach(function(i) {
                (0 | i) == i && (i = 0 | i);
                var n = e[i];
                t[n] = i
            }),
            t
        }
        ,
        n.der = e("./der")
    }
    , {
        "./der": 89
    }],
    91: [function(e, t, i) {
        function n(e) {
            this.enc = "der",
            this.name = e.name,
            this.entity = e,
            this.tree = new r,
            this.tree._init(e.body)
        }
        function r(e) {
            l.Node.call(this, "der", e)
        }
        function s(e, t) {
            var i = e.readUInt8(t);
            if (e.isError(i))
                return i;
            var n = u.tagClass[i >> 6]
              , r = 0 === (32 & i);
            if (31 === (31 & i)) {
                var s = i;
                for (i = 0; 128 === (128 & s); ) {
                    if (s = e.readUInt8(t),
                    e.isError(s))
                        return s;
                    i <<= 7,
                    i |= 127 & s
                }
            } else
                i &= 31;
            var o = u.tag[i];
            return {
                cls: n,
                primitive: r,
                tag: i,
                tagStr: o
            }
        }
        function o(e, t, i) {
            var n = e.readUInt8(i);
            if (e.isError(n))
                return n;
            if (!t && 128 === n)
                return null;
            if (0 === (128 & n))
                return n;
            var r = 127 & n;
            if (r >= 4)
                return e.error("length octect is too long");
            n = 0;
            for (var s = 0; s < r; s++) {
                n <<= 8;
                var o = e.readUInt8(i);
                if (e.isError(o))
                    return o;
                n |= o
            }
            return n
        }
        var a = e("inherits")
          , c = e("../../asn1")
          , l = c.base
          , h = c.bignum
          , u = c.constants.der;
        t.exports = n,
        n.prototype.decode = function(e, t) {
            return e instanceof l.DecoderBuffer || (e = new l.DecoderBuffer(e,t)),
            this.tree._decode(e, t)
        }
        ,
        a(r, l.Node),
        r.prototype._peekTag = function(e, t, i) {
            if (e.isEmpty())
                return !1;
            var n = e.save()
              , r = s(e, 'Failed to peek tag: "' + t + '"');
            return e.isError(r) ? r : (e.restore(n),
            r.tag === t || r.tagStr === t || i)
        }
        ,
        r.prototype._decodeTag = function(e, t, i) {
            var n = s(e, 'Failed to decode tag of "' + t + '"');
            if (e.isError(n))
                return n;
            var r = o(e, n.primitive, 'Failed to get length of "' + t + '"');
            if (e.isError(r))
                return r;
            if (!i && n.tag !== t && n.tagStr !== t && n.tagStr + "of" !== t)
                return e.error('Failed to match tag: "' + t + '"');
            if (n.primitive || null !== r)
                return e.skip(r, 'Failed to match body of: "' + t + '"');
            var a = e.save()
              , c = this._skipUntilEnd(e, 'Failed to skip indefinite length body: "' + this.tag + '"');
            return e.isError(c) ? c : (r = e.offset - a.offset,
            e.restore(a),
            e.skip(r, 'Failed to match body of: "' + t + '"'))
        }
        ,
        r.prototype._skipUntilEnd = function(e, t) {
            for (; ; ) {
                var i = s(e, t);
                if (e.isError(i))
                    return i;
                var n = o(e, i.primitive, t);
                if (e.isError(n))
                    return n;
                var r;
                if (r = i.primitive || null !== n ? e.skip(n) : this._skipUntilEnd(e, t),
                e.isError(r))
                    return r;
                if ("end" === i.tagStr)
                    break
            }
        }
        ,
        r.prototype._decodeList = function(e, t, i) {
            for (var n = []; !e.isEmpty(); ) {
                var r = this._peekTag(e, "end");
                if (e.isError(r))
                    return r;
                var s = i.decode(e, "der");
                if (e.isError(s) && r)
                    break;
                n.push(s)
            }
            return n
        }
        ,
        r.prototype._decodeStr = function(e, t) {
            if ("octstr" === t)
                return e.raw();
            if ("bitstr" === t) {
                var i = e.readUInt8();
                return e.isError(i) ? i : {
                    unused: i,
                    data: e.raw()
                }
            }
            if ("ia5str" === t || "utf8str" === t)
                return e.raw().toString();
            if ("numstr" === t) {
                var n = e.raw().toString("ascii");
                return this._isNumstr(n) ? n : e.error("Decoding of string type: numstr unsupported characters")
            }
            if ("printstr" === t) {
                var r = e.raw().toString("ascii");
                return this._isPrintstr(r) ? r : e.error("Decoding of string type: printstr unsupported characters")
            }
            if ("bmpstr" === t) {
                var s = e.raw();
                if (s.length % 2 === 1)
                    return e.error("Decoding of string type: bmpstr length mismatch");
                for (var o = "", a = 0; a < s.length / 2; a++)
                    o += String.fromCharCode(s.readUInt16BE(2 * a));
                return o
            }
            return e.error("Decoding of string type: " + t + " unsupported")
        }
        ,
        r.prototype._decodeObjid = function(e, t, i) {
            for (var n, r = [], s = 0; !e.isEmpty(); ) {
                var o = e.readUInt8();
                s <<= 7,
                s |= 127 & o,
                0 === (128 & o) && (r.push(s),
                s = 0)
            }
            128 & o && r.push(s);
            var a = r[0] / 40 | 0
              , c = r[0] % 40;
            if (n = i ? r : [a, c].concat(r.slice(1)),
            t) {
                var l = t[n.join(" ")];
                void 0 === l && (l = t[n.join(".")]),
                void 0 !== l && (n = l)
            }
            return n
        }
        ,
        r.prototype._decodeTime = function(e, t) {
            var i = e.raw().toString();
            if ("gentime" === t)
                var n = 0 | i.slice(0, 4)
                  , r = 0 | i.slice(4, 6)
                  , s = 0 | i.slice(6, 8)
                  , o = 0 | i.slice(8, 10)
                  , a = 0 | i.slice(10, 12)
                  , c = 0 | i.slice(12, 14);
            else {
                if ("utctime" !== t)
                    return e.error("Decoding " + t + " time is not supported yet");
                var n = 0 | i.slice(0, 2)
                  , r = 0 | i.slice(2, 4)
                  , s = 0 | i.slice(4, 6)
                  , o = 0 | i.slice(6, 8)
                  , a = 0 | i.slice(8, 10)
                  , c = 0 | i.slice(10, 12);
                n = n < 70 ? 2e3 + n : 1900 + n
            }
            return Date.UTC(n, r - 1, s, o, a, c, 0)
        }
        ,
        r.prototype._decodeNull = function(e) {
            return null
        }
        ,
        r.prototype._decodeBool = function(e) {
            var t = e.readUInt8();
            return e.isError(t) ? t : 0 !== t
        }
        ,
        r.prototype._decodeInt = function(e, t) {
            var i = e.raw()
              , n = new h(i);
            return t && (n = t[n.toString(10)] || n),
            n
        }
        ,
        r.prototype._use = function(e, t) {
            return "function" == typeof e && (e = e(t)),
            e._getDecoder("der").tree
        }
    }
    , {
        "../../asn1": 83,
        inherits: 147
    }],
    92: [function(e, t, i) {
        var n = i;
        n.der = e("./der"),
        n.pem = e("./pem")
    }
    , {
        "./der": 91,
        "./pem": 93
    }],
    93: [function(e, t, i) {
        function n(e) {
            o.call(this, e),
            this.enc = "pem"
        }
        var r = e("inherits")
          , s = e("buffer").Buffer
          , o = (e("../../asn1"),
        e("./der"));
        r(n, o),
        t.exports = n,
        n.prototype.decode = function(e, t) {
            for (var i = e.toString().split(/[\r\n]+/g), n = t.label.toUpperCase(), r = /^-----(BEGIN|END) ([^-]+)-----$/, a = -1, c = -1, l = 0; l < i.length; l++) {
                var h = i[l].match(r);
                if (null !== h && h[2] === n) {
                    if (a !== -1) {
                        if ("END" !== h[1])
                            break;
                        c = l;
                        break
                    }
                    if ("BEGIN" !== h[1])
                        break;
                    a = l
                }
            }
            if (a === -1 || c === -1)
                throw new Error("PEM section not found for: " + n);
            var u = i.slice(a + 1, c).join("");
            u.replace(/[^a-z0-9\+\/=]+/gi, "");
            var d = new s(u,"base64");
            return o.prototype.decode.call(this, d, t)
        }
    }
    , {
        "../../asn1": 83,
        "./der": 91,
        buffer: 179,
        inherits: 147
    }],
    94: [function(e, t, i) {
        function n(e) {
            this.enc = "der",
            this.name = e.name,
            this.entity = e,
            this.tree = new r,
            this.tree._init(e.body)
        }
        function r(e) {
            h.Node.call(this, "der", e)
        }
        function s(e) {
            return e < 10 ? "0" + e : e
        }
        function o(e, t, i, n) {
            var r;
            if ("seqof" === e ? e = "seq" : "setof" === e && (e = "set"),
            u.tagByName.hasOwnProperty(e))
                r = u.tagByName[e];
            else {
                if ("number" != typeof e || (0 | e) !== e)
                    return n.error("Unknown tag: " + e);
                r = e
            }
            return r >= 31 ? n.error("Multi-octet tag encoding unsupported") : (t || (r |= 32),
            r |= u.tagClassByName[i || "universal"] << 6)
        }
        var a = e("inherits")
          , c = e("buffer").Buffer
          , l = e("../../asn1")
          , h = l.base
          , u = (l.bignum,
        l.constants.der);
        t.exports = n,
        n.prototype.encode = function(e, t) {
            return this.tree._encode(e, t).join()
        }
        ,
        a(r, h.Node),
        r.prototype._encodeComposite = function(e, t, i, n) {
            var r = o(e, t, i, this.reporter);
            if (n.length < 128) {
                var s = new c(2);
                return s[0] = r,
                s[1] = n.length,
                this._createEncoderBuffer([s, n])
            }
            for (var a = 1, l = n.length; l >= 256; l >>= 8)
                a++;
            var s = new c(2 + a);
            s[0] = r,
            s[1] = 128 | a;
            for (var l = 1 + a, h = n.length; h > 0; l--,
            h >>= 8)
                s[l] = 255 & h;
            return this._createEncoderBuffer([s, n])
        }
        ,
        r.prototype._encodeStr = function(e, t) {
            if ("octstr" === t)
                return this._createEncoderBuffer(e);
            if ("bitstr" === t)
                return this._createEncoderBuffer([0 | e.unused, e.data]);
            if ("ia5str" === t || "utf8str" === t)
                return this._createEncoderBuffer(e);
            if ("bmpstr" === t) {
                for (var i = new c(2 * e.length), n = 0; n < e.length; n++)
                    i.writeUInt16BE(e.charCodeAt(n), 2 * n);
                return this._createEncoderBuffer(i)
            }
            return "numstr" === t ? this._isNumstr(e) ? this._createEncoderBuffer(e) : this.reporter.error("Encoding of string type: numstr supports only digits and space") : "printstr" === t ? this._isPrintstr(e) ? this._createEncoderBuffer(e) : this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark") : this.reporter.error("Encoding of string type: " + t + " unsupported")
        }
        ,
        r.prototype._encodeObjid = function(e, t, i) {
            if ("string" == typeof e) {
                if (!t)
                    return this.reporter.error("string objid given, but no values map found");
                if (!t.hasOwnProperty(e))
                    return this.reporter.error("objid not found in values map");
                e = t[e].split(/[\s\.]+/g);
                for (var n = 0; n < e.length; n++)
                    e[n] |= 0
            } else if (Array.isArray(e)) {
                e = e.slice();
                for (var n = 0; n < e.length; n++)
                    e[n] |= 0
            }
            if (!Array.isArray(e))
                return this.reporter.error("objid() should be either array or string, got: " + JSON.stringify(e));
            if (!i) {
                if (e[1] >= 40)
                    return this.reporter.error("Second objid identifier OOB");
                e.splice(0, 2, 40 * e[0] + e[1])
            }
            for (var r = 0, n = 0; n < e.length; n++) {
                var s = e[n];
                for (r++; s >= 128; s >>= 7)
                    r++
            }
            for (var o = new c(r), a = o.length - 1, n = e.length - 1; n >= 0; n--) {
                var s = e[n];
                for (o[a--] = 127 & s; (s >>= 7) > 0; )
                    o[a--] = 128 | 127 & s
            }
            return this._createEncoderBuffer(o)
        }
        ,
        r.prototype._encodeTime = function(e, t) {
            var i, n = new Date(e);
            return "gentime" === t ? i = [s(n.getFullYear()), s(n.getUTCMonth() + 1), s(n.getUTCDate()), s(n.getUTCHours()), s(n.getUTCMinutes()), s(n.getUTCSeconds()), "Z"].join("") : "utctime" === t ? i = [s(n.getFullYear() % 100), s(n.getUTCMonth() + 1), s(n.getUTCDate()), s(n.getUTCHours()), s(n.getUTCMinutes()), s(n.getUTCSeconds()), "Z"].join("") : this.reporter.error("Encoding " + t + " time is not supported yet"),
            this._encodeStr(i, "octstr")
        }
        ,
        r.prototype._encodeNull = function() {
            return this._createEncoderBuffer("")
        }
        ,
        r.prototype._encodeInt = function(e, t) {
            if ("string" == typeof e) {
                if (!t)
                    return this.reporter.error("String int or enum given, but no values map");
                if (!t.hasOwnProperty(e))
                    return this.reporter.error("Values map doesn't contain: " + JSON.stringify(e));
                e = t[e]
            }
            if ("number" != typeof e && !c.isBuffer(e)) {
                var i = e.toArray();
                !e.sign && 128 & i[0] && i.unshift(0),
                e = new c(i)
            }
            if (c.isBuffer(e)) {
                var n = e.length;
                0 === e.length && n++;
                var r = new c(n);
                return e.copy(r),
                0 === e.length && (r[0] = 0),
                this._createEncoderBuffer(r)
            }
            if (e < 128)
                return this._createEncoderBuffer(e);
            if (e < 256)
                return this._createEncoderBuffer([0, e]);
            for (var n = 1, s = e; s >= 256; s >>= 8)
                n++;
            for (var r = new Array(n), s = r.length - 1; s >= 0; s--)
                r[s] = 255 & e,
                e >>= 8;
            return 128 & r[0] && r.unshift(0),
            this._createEncoderBuffer(new c(r))
        }
        ,
        r.prototype._encodeBool = function(e) {
            return this._createEncoderBuffer(e ? 255 : 0)
        }
        ,
        r.prototype._use = function(e, t) {
            return "function" == typeof e && (e = e(t)),
            e._getEncoder("der").tree
        }
        ,
        r.prototype._skipDefault = function(e, t, i) {
            var n, r = this._baseState;
            if (null === r["default"])
                return !1;
            var s = e.join();
            if (void 0 === r.defaultBuffer && (r.defaultBuffer = this._encodeValue(r["default"], t, i).join()),
            s.length !== r.defaultBuffer.length)
                return !1;
            for (n = 0; n < s.length; n++)
                if (s[n] !== r.defaultBuffer[n])
                    return !1;
            return !0
        }
    }
    , {
        "../../asn1": 83,
        buffer: 179,
        inherits: 147
    }],
    95: [function(e, t, i) {
        var n = i;
        n.der = e("./der"),
        n.pem = e("./pem")
    }
    , {
        "./der": 94,
        "./pem": 96
    }],
    96: [function(e, t, i) {
        function n(e) {
            s.call(this, e),
            this.enc = "pem"
        }
        var r = e("inherits")
          , s = (e("buffer").Buffer,
        e("../../asn1"),
        e("./der"));
        r(n, s),
        t.exports = n,
        n.prototype.encode = function(e, t) {
            for (var i = s.prototype.encode.call(this, e), n = i.toString("base64"), r = ["-----BEGIN " + t.label + "-----"], o = 0; o < n.length; o += 64)
                r.push(n.slice(o, o + 64));
            return r.push("-----END " + t.label + "-----"),
            r.join("\n")
        }
    }
    , {
        "../../asn1": 83,
        "./der": 94,
        buffer: 179,
        inherits: 147
    }],
    97: [function(e, t, i) {
        arguments[4][48][0].apply(i, arguments)
    }
    , {
        dup: 48
    }],
    98: [function(e, t, i) {
        arguments[4][49][0].apply(i, arguments)
    }
    , {
        buffer: 179,
        "create-hash/md5": 129,
        dup: 49
    }],
    99: [function(e, t, i) {
        (function(i) {
            function n(e, t, i, n) {
                var o = g(t);
                if (o.curve) {
                    if ("ecdsa" !== n)
                        throw new Error("wrong private key type");
                    return r(e, o)
                }
                if ("dsa" === o.type) {
                    if ("dsa" !== n)
                        throw new Error("wrong private key type");
                    return s(e, o, i)
                }
                if ("rsa" !== n)
                    throw new Error("wrong private key type");
                for (var a = o.modulus.byteLength(), c = [0, 1]; e.length + c.length + 1 < a; )
                    c.push(255);
                c.push(0);
                for (var l = -1; ++l < e.length; )
                    c.push(e[l]);
                var h = f(c, o);
                return h
            }
            function r(e, t) {
                var n = p[t.curve.join(".")];
                if (!n)
                    throw new Error("unknown curve " + t.curve.join("."));
                var r = new v(n)
                  , s = r.genKeyPair();
                s._importPrivate(t.privateKey);
                var o = s.sign(e);
                return new i(o.toDER())
            }
            function s(e, t, i) {
                for (var n, r = t.params.priv_key, s = t.params.p, l = t.params.q, d = t.params.g, f = new y(0), p = c(e, l).mod(l), m = !1, g = a(r, l, e, i); m === !1; )
                    n = h(l, g, i),
                    f = u(d, n, s, l),
                    m = n.invm(l).imul(p.add(r.mul(f))).mod(l),
                    m.cmpn(0) || (m = !1,
                    f = new y(0));
                return o(f, m)
            }
            function o(e, t) {
                e = e.toArray(),
                t = t.toArray(),
                128 & e[0] && (e = [0].concat(e)),
                128 & t[0] && (t = [0].concat(t));
                var n = e.length + t.length + 4
                  , r = [48, n, 2, e.length];
                return r = r.concat(e, [2, t.length], t),
                new i(r)
            }
            function a(e, t, n, r) {
                if (e = new i(e.toArray()),
                e.length < t.byteLength()) {
                    var s = new i(t.byteLength() - e.length);
                    s.fill(0),
                    e = i.concat([s, e])
                }
                var o = n.length
                  , a = l(n, t)
                  , c = new i(o);
                c.fill(1);
                var h = new i(o);
                return h.fill(0),
                h = d(r, h).update(c).update(new i([0])).update(e).update(a).digest(),
                c = d(r, h).update(c).digest(),
                h = d(r, h).update(c).update(new i([1])).update(e).update(a).digest(),
                c = d(r, h).update(c).digest(),
                {
                    k: h,
                    v: c
                }
            }
            function c(e, t) {
                var i = new y(e)
                  , n = (e.length << 3) - t.bitLength();
                return n > 0 && i.ishrn(n),
                i
            }
            function l(e, t) {
                e = c(e, t),
                e = e.mod(t);
                var n = new i(e.toArray());
                if (n.length < t.byteLength()) {
                    var r = new i(t.byteLength() - n.length);
                    r.fill(0),
                    n = i.concat([r, n])
                }
                return n
            }
            function h(e, t, n) {
                var r, s;
                do {
                    for (r = new i(""); 8 * r.length < e.bitLength(); )
                        t.v = d(n, t.k).update(t.v).digest(),
                        r = i.concat([r, t.v]);
                    s = c(r, e),
                    t.k = d(n, t.k).update(t.v).update(new i([0])).digest(),
                    t.v = d(n, t.k).update(t.v).digest()
                } while (s.cmp(e) !== -1);return s
            }
            function u(e, t, i, n) {
                return e.toRed(y.mont(i)).redPow(t).fromRed().mod(n)
            }
            var d = e("create-hmac")
              , f = e("browserify-rsa")
              , p = e("./curves")
              , m = e("elliptic")
              , g = e("parse-asn1")
              , y = e("bn.js")
              , v = m.ec;
            t.exports = n,
            t.exports.getKey = a,
            t.exports.makeKey = h
        }
        ).call(this, e("buffer").Buffer)
    }
    , {
        "./curves": 52,
        "bn.js": 53,
        "browserify-rsa": 54,
        buffer: 179,
        "create-hmac": 139,
        elliptic: 55,
        "parse-asn1": 82
    }],
    100: [function(e, t, i) {
        (function(i) {
            function n(e, t, n, o) {
                var a = l(n);
                if ("ec" === a.type) {
                    if ("ecdsa" !== o)
                        throw new Error("wrong public key type");
                    return r(e, t, a)
                }
                if ("dsa" === a.type) {
                    if ("dsa" !== o)
                        throw new Error("wrong public key type");
                    return s(e, t, a)
                }
                if ("rsa" !== o)
                    throw new Error("wrong public key type");
                for (var c = a.modulus.byteLength(), u = [1], d = 0; t.length + u.length + 2 < c; )
                    u.push(255),
                    d++;
                u.push(0);
                for (var f = -1; ++f < t.length; )
                    u.push(t[f]);
                u = new i(u);
                var p = h.mont(a.modulus);
                e = new h(e).toRed(p),
                e = e.redPow(new h(a.publicExponent)),
                e = new i(e.fromRed().toArray());
                var m = 0;
                for (d < 8 && (m = 1),
                c = Math.min(e.length, u.length),
                e.length !== u.length && (m = 1),
                f = -1; ++f < c; )
                    m |= e[f] ^ u[f];
                return 0 === m
            }
            function r(e, t, i) {
                var n = a[i.data.algorithm.curve.join(".")];
                if (!n)
                    throw new Error("unknown curve " + i.data.algorithm.curve.join("."));
                var r = new u(n)
                  , s = i.data.subjectPrivateKey.data;
                return r.verify(t, e, s)
            }
            function s(e, t, i) {
                var n = i.data.p
                  , r = i.data.q
                  , s = i.data.g
                  , a = i.data.pub_key
                  , c = l.signature.decode(e, "der")
                  , u = c.s
                  , d = c.r;
                o(u, r),
                o(d, r);
                var f = h.mont(n)
                  , p = u.invm(r)
                  , m = s.toRed(f).redPow(new h(t).mul(p).mod(r)).fromRed().mul(a.toRed(f).redPow(d.mul(p).mod(r)).fromRed()).mod(n).mod(r);
                return !m.cmp(d)
            }
            function o(e, t) {
                if (e.cmpn(0) <= 0)
                    throw new Error("invalid sig");
                if (e.cmp(t) >= t)
                    throw new Error("invalid sig")
            }
            var a = e("./curves")
              , c = e("elliptic")
              , l = e("parse-asn1")
              , h = e("bn.js")
              , u = c.ec;
            t.exports = n
        }
        ).call(this, e("buffer").Buffer)
    }
    , {
        "./curves": 52,
        "bn.js": 53,
        buffer: 179,
        elliptic: 55,
        "parse-asn1": 82
    }],
    101: [function(e, t, i) {
        (function(i) {
            function n(e) {
                this.curveType = a[e],
                this.curveType || (this.curveType = {
                    name: e
                }),
                this.curve = new s.ec(this.curveType.name),
                this.keys = void 0
            }
            function r(e, t, n) {
                Array.isArray(e) || (e = e.toArray());
                var r = new i(e);
                if (n && r.length < n) {
                    var s = new i(n - r.length);
                    s.fill(0),
                    r = i.concat([s, r])
                }
                return t ? r.toString(t) : r
            }
            var s = e("elliptic")
              , o = e("bn.js");
            t.exports = function(e) {
                return new n(e)
            }
            ;
            var a = {
                secp256k1: {
                    name: "secp256k1",
                    byteLength: 32
                },
                secp224r1: {
                    name: "p224",
                    byteLength: 28
                },
                prime256v1: {
                    name: "p256",
                    byteLength: 32
                },
                prime192v1: {
                    name: "p192",
                    byteLength: 24
                },
                ed25519: {
                    name: "ed25519",
                    byteLength: 32
                },
                secp384r1: {
                    name: "p384",
                    byteLength: 48
                },
                secp521r1: {
                    name: "p521",
                    byteLength: 66
                }
            };
            a.p224 = a.secp224r1,
            a.p256 = a.secp256r1 = a.prime256v1,
            a.p192 = a.secp192r1 = a.prime192v1,
            a.p384 = a.secp384r1,
            a.p521 = a.secp521r1,
            n.prototype.generateKeys = function(e, t) {
                return this.keys = this.curve.genKeyPair(),
                this.getPublicKey(e, t)
            }
            ,
            n.prototype.computeSecret = function(e, t, n) {
                t = t || "utf8",
                i.isBuffer(e) || (e = new i(e,t));
                var s = this.curve.keyFromPublic(e).getPublic()
                  , o = s.mul(this.keys.getPrivate()).getX();
                return r(o, n, this.curveType.byteLength)
            }
            ,
            n.prototype.getPublicKey = function(e, t) {
                var i = this.keys.getPublic("compressed" === t, !0);
                return "hybrid" === t && (i[i.length - 1] % 2 ? i[0] = 7 : i[0] = 6),
                r(i, e)
            }
            ,
            n.prototype.getPrivateKey = function(e) {
                return r(this.keys.getPrivate(), e)
            }
            ,
            n.prototype.setPublicKey = function(e, t) {
                return t = t || "utf8",
                i.isBuffer(e) || (e = new i(e,t)),
                this.keys._importPublic(e),
                this
            }
            ,
            n.prototype.setPrivateKey = function(e, t) {
                t = t || "utf8",
                i.isBuffer(e) || (e = new i(e,t));
                var n = new o(e);
                return n = n.toString(16),
                this.keys._importPrivate(n),
                this
            }
        }
        ).call(this, e("buffer").Buffer)
    }
    , {
        "bn.js": 102,
        buffer: 179,
        elliptic: 103
    }],
    102: [function(e, t, i) {
        arguments[4][53][0].apply(i, arguments)
    }
    , {
        dup: 53
    }],
    103: [function(e, t, i) {
        arguments[4][55][0].apply(i, arguments)
    }
    , {
        "../package.json": 126,
        "./elliptic/curve": 106,
        "./elliptic/curves": 109,
        "./elliptic/ec": 110,
        "./elliptic/eddsa": 113,
        "./elliptic/hmac-drbg": 116,
        "./elliptic/utils": 118,
        brorand: 119,
        dup: 55
    }],
    104: [function(e, t, i) {
        arguments[4][56][0].apply(i, arguments)
    }
    , {
        "../../elliptic": 103,
        "bn.js": 102,
        dup: 56
    }],
    105: [function(e, t, i) {
        arguments[4][57][0].apply(i, arguments)
    }
    , {
        "../../elliptic": 103,
        "../curve": 106,
        "bn.js": 102,
        dup: 57,
        inherits: 147
    }],
    106: [function(e, t, i) {
        arguments[4][58][0].apply(i, arguments)
    }
    , {
        "./base": 104,
        "./edwards": 105,
        "./mont": 107,
        "./short": 108,
        dup: 58
    }],
    107: [function(e, t, i) {
        arguments[4][59][0].apply(i, arguments)
    }
    , {
        "../../elliptic": 103,
        "../curve": 106,
        "bn.js": 102,
        dup: 59,
        inherits: 147
    }],
    108: [function(e, t, i) {
        arguments[4][60][0].apply(i, arguments)
    }
    , {
        "../../elliptic": 103,
        "../curve": 106,
        "bn.js": 102,
        dup: 60,
        inherits: 147
    }],
    109: [function(e, t, i) {
        arguments[4][61][0].apply(i, arguments)
    }
    , {
        "../elliptic": 103,
        "./precomputed/secp256k1": 117,
        dup: 61,
        "hash.js": 120
    }],
    110: [function(e, t, i) {
        arguments[4][62][0].apply(i, arguments)
    }
    , {
        "../../elliptic": 103,
        "./key": 111,
        "./signature": 112,
        "bn.js": 102,
        dup: 62
    }],
    111: [function(e, t, i) {
        arguments[4][63][0].apply(i, arguments)
    }
    , {
        "bn.js": 102,
        dup: 63
    }],
    112: [function(e, t, i) {
        arguments[4][64][0].apply(i, arguments)
    }
    , {
        "../../elliptic": 103,
        "bn.js": 102,
        dup: 64
    }],
    113: [function(e, t, i) {
        arguments[4][65][0].apply(i, arguments)
    }
    , {
        "../../elliptic": 103,
        "./key": 114,
        "./signature": 115,
        dup: 65,
        "hash.js": 120
    }],
    114: [function(e, t, i) {
        arguments[4][66][0].apply(i, arguments)
    }
    , {
        "../../elliptic": 103,
        dup: 66
    }],
    115: [function(e, t, i) {
        arguments[4][67][0].apply(i, arguments)
    }
    , {
        "../../elliptic": 103,
        "bn.js": 102,
        dup: 67
    }],
    116: [function(e, t, i) {
        arguments[4][68][0].apply(i, arguments)
    }
    , {
        "../elliptic": 103,
        dup: 68,
        "hash.js": 120
    }],
    117: [function(e, t, i) {
        arguments[4][69][0].apply(i, arguments)
    }
    , {
        dup: 69
    }],
    118: [function(e, t, i) {
        arguments[4][70][0].apply(i, arguments)
    }
    , {
        "bn.js": 102,
        dup: 70
    }],
    119: [function(e, t, i) {
        arguments[4][71][0].apply(i, arguments)
    }
    , {
        dup: 71
    }],
    120: [function(e, t, i) {
        arguments[4][72][0].apply(i, arguments)
    }
    , {
        "./hash/common": 121,
        "./hash/hmac": 122,
        "./hash/ripemd": 123,
        "./hash/sha": 124,
        "./hash/utils": 125,
        dup: 72
    }],
    121: [function(e, t, i) {
        arguments[4][73][0].apply(i, arguments)
    }
    , {
        "../hash": 120,
        dup: 73
    }],
    122: [function(e, t, i) {
        arguments[4][74][0].apply(i, arguments)
    }
    , {
        "../hash": 120,
        dup: 74
    }],
    123: [function(e, t, i) {
        arguments[4][75][0].apply(i, arguments)
    }
    , {
        "../hash": 120,
        dup: 75
    }],
    124: [function(e, t, i) {
        arguments[4][76][0].apply(i, arguments)
    }
    , {
        "../hash": 120,
        dup: 76
    }],
    125: [function(e, t, i) {
        arguments[4][77][0].apply(i, arguments)
    }
    , {
        dup: 77,
        inherits: 147
    }],
    126: [function(e, t, i) {
        arguments[4][78][0].apply(i, arguments)
    }
    , {
        dup: 78
    }],
    127: [function(e, t, i) {
        (function(i) {
            "use strict";
            function n(e) {
                l.call(this),
                this._hash = e,
                this.buffers = []
            }
            function r(e) {
                l.call(this),
                this._hash = e
            }
            var s = e("inherits")
              , o = e("./md5")
              , a = e("ripemd160")
              , c = e("sha.js")
              , l = e("stream").Transform;
            s(n, l),
            n.prototype._transform = function(e, t, i) {
                this.buffers.push(e),
                i()
            }
            ,
            n.prototype._flush = function(e) {
                this.push(this.digest()),
                e()
            }
            ,
            n.prototype.update = function(e, t) {
                return "string" == typeof e && (e = new i(e,t)),
                this.buffers.push(e),
                this
            }
            ,
            n.prototype.digest = function(e) {
                var t = i.concat(this.buffers)
                  , n = this._hash(t);
                return this.buffers = null,
                e ? n.toString(e) : n
            }
            ,
            s(r, l),
            r.prototype._transform = function(e, t, n) {
                t && (e = new i(e,t)),
                this._hash.update(e),
                n()
            }
            ,
            r.prototype._flush = function(e) {
                this.push(this._hash.digest()),
                this._hash = null,
                e()
            }
            ,
            r.prototype.update = function(e, t) {
                return "string" == typeof e && (e = new i(e,t)),
                this._hash.update(e),
                this
            }
            ,
            r.prototype.digest = function(e) {
                var t = this._hash.digest();
                return e ? t.toString(e) : t
            }
            ,
            t.exports = function(e) {
                return "md5" === e ? new n(o) : "rmd160" === e ? new n(a) : new r(c(e))
            }
        }
        ).call(this, e("buffer").Buffer)
    }
    , {
        "./md5": 129,
        buffer: 179,
        inherits: 147,
        ripemd160: 130,
        "sha.js": 132,
        stream: 200
    }],
    128: [function(e, t, i) {
        (function(e) {
            "use strict";
            function t(t, i) {
                if (t.length % s !== 0) {
                    var n = t.length + (s - t.length % s);
                    t = e.concat([t, o], n)
                }
                for (var r = [], a = i ? t.readInt32BE : t.readInt32LE, c = 0; c < t.length; c += s)
                    r.push(a.call(t, c));
                return r
            }
            function n(t, i, n) {
                for (var r = new e(i), s = n ? r.writeInt32BE : r.writeInt32LE, o = 0; o < t.length; o++)
                    s.call(r, t[o], 4 * o, !0);
                return r
            }
            function r(i, r, s, o) {
                e.isBuffer(i) || (i = new e(i));
                var c = r(t(i, o), i.length * a);
                return n(c, s, o)
            }
            var s = 4
              , o = new e(s);
            o.fill(0);
            var a = 8;
            i.hash = r
        }
        ).call(this, e("buffer").Buffer)
    }
    , {
        buffer: 179
    }],
    129: [function(e, t, i) {
        "use strict";
        function n(e, t) {
            e[t >> 5] |= 128 << t % 32,
            e[(t + 64 >>> 9 << 4) + 14] = t;
            for (var i = 1732584193, n = -271733879, r = -1732584194, h = 271733878, u = 0; u < e.length; u += 16) {
                var d = i
                  , f = n
                  , p = r
                  , m = h;
                i = s(i, n, r, h, e[u + 0], 7, -680876936),
                h = s(h, i, n, r, e[u + 1], 12, -389564586),
                r = s(r, h, i, n, e[u + 2], 17, 606105819),
                n = s(n, r, h, i, e[u + 3], 22, -1044525330),
                i = s(i, n, r, h, e[u + 4], 7, -176418897),
                h = s(h, i, n, r, e[u + 5], 12, 1200080426),
                r = s(r, h, i, n, e[u + 6], 17, -1473231341),
                n = s(n, r, h, i, e[u + 7], 22, -45705983),
                i = s(i, n, r, h, e[u + 8], 7, 1770035416),
                h = s(h, i, n, r, e[u + 9], 12, -1958414417),
                r = s(r, h, i, n, e[u + 10], 17, -42063),
                n = s(n, r, h, i, e[u + 11], 22, -1990404162),
                i = s(i, n, r, h, e[u + 12], 7, 1804603682),
                h = s(h, i, n, r, e[u + 13], 12, -40341101),
                r = s(r, h, i, n, e[u + 14], 17, -1502002290),
                n = s(n, r, h, i, e[u + 15], 22, 1236535329),
                i = o(i, n, r, h, e[u + 1], 5, -165796510),
                h = o(h, i, n, r, e[u + 6], 9, -1069501632),
                r = o(r, h, i, n, e[u + 11], 14, 643717713),
                n = o(n, r, h, i, e[u + 0], 20, -373897302),
                i = o(i, n, r, h, e[u + 5], 5, -701558691),
                h = o(h, i, n, r, e[u + 10], 9, 38016083),
                r = o(r, h, i, n, e[u + 15], 14, -660478335),
                n = o(n, r, h, i, e[u + 4], 20, -405537848),
                i = o(i, n, r, h, e[u + 9], 5, 568446438),
                h = o(h, i, n, r, e[u + 14], 9, -1019803690),
                r = o(r, h, i, n, e[u + 3], 14, -187363961),
                n = o(n, r, h, i, e[u + 8], 20, 1163531501),
                i = o(i, n, r, h, e[u + 13], 5, -1444681467),
                h = o(h, i, n, r, e[u + 2], 9, -51403784),
                r = o(r, h, i, n, e[u + 7], 14, 1735328473),
                n = o(n, r, h, i, e[u + 12], 20, -1926607734),
                i = a(i, n, r, h, e[u + 5], 4, -378558),
                h = a(h, i, n, r, e[u + 8], 11, -2022574463),
                r = a(r, h, i, n, e[u + 11], 16, 1839030562),
                n = a(n, r, h, i, e[u + 14], 23, -35309556),
                i = a(i, n, r, h, e[u + 1], 4, -1530992060),
                h = a(h, i, n, r, e[u + 4], 11, 1272893353),
                r = a(r, h, i, n, e[u + 7], 16, -155497632),
                n = a(n, r, h, i, e[u + 10], 23, -1094730640),
                i = a(i, n, r, h, e[u + 13], 4, 681279174),
                h = a(h, i, n, r, e[u + 0], 11, -358537222),
                r = a(r, h, i, n, e[u + 3], 16, -722521979),
                n = a(n, r, h, i, e[u + 6], 23, 76029189),
                i = a(i, n, r, h, e[u + 9], 4, -640364487),
                h = a(h, i, n, r, e[u + 12], 11, -421815835),
                r = a(r, h, i, n, e[u + 15], 16, 530742520),
                n = a(n, r, h, i, e[u + 2], 23, -995338651),
                i = c(i, n, r, h, e[u + 0], 6, -198630844),
                h = c(h, i, n, r, e[u + 7], 10, 1126891415),
                r = c(r, h, i, n, e[u + 14], 15, -1416354905),
                n = c(n, r, h, i, e[u + 5], 21, -57434055),
                i = c(i, n, r, h, e[u + 12], 6, 1700485571),
                h = c(h, i, n, r, e[u + 3], 10, -1894986606),
                r = c(r, h, i, n, e[u + 10], 15, -1051523),
                n = c(n, r, h, i, e[u + 1], 21, -2054922799),
                i = c(i, n, r, h, e[u + 8], 6, 1873313359),
                h = c(h, i, n, r, e[u + 15], 10, -30611744),
                r = c(r, h, i, n, e[u + 6], 15, -1560198380),
                n = c(n, r, h, i, e[u + 13], 21, 1309151649),
                i = c(i, n, r, h, e[u + 4], 6, -145523070),
                h = c(h, i, n, r, e[u + 11], 10, -1120210379),
                r = c(r, h, i, n, e[u + 2], 15, 718787259),
                n = c(n, r, h, i, e[u + 9], 21, -343485551),
                i = l(i, d),
                n = l(n, f),
                r = l(r, p),
                h = l(h, m)
            }
            return Array(i, n, r, h)
        }
        function r(e, t, i, n, r, s) {
            return l(h(l(l(t, e), l(n, s)), r), i)
        }
        function s(e, t, i, n, s, o, a) {
            return r(t & i | ~t & n, e, t, s, o, a)
        }
        function o(e, t, i, n, s, o, a) {
            return r(t & n | i & ~n, e, t, s, o, a)
        }
        function a(e, t, i, n, s, o, a) {
            return r(t ^ i ^ n, e, t, s, o, a)
        }
        function c(e, t, i, n, s, o, a) {
            return r(i ^ (t | ~n), e, t, s, o, a)
        }
        function l(e, t) {
            var i = (65535 & e) + (65535 & t)
              , n = (e >> 16) + (t >> 16) + (i >> 16);
            return n << 16 | 65535 & i
        }
        function h(e, t) {
            return e << t | e >>> 32 - t
        }
        var u = e("./helpers");
        t.exports = function(e) {
            return u.hash(e, n, 16)
        }
    }
    , {
        "./helpers": 128
    }],
    130: [function(e, t, i) {
        (function(e) {
            function i(e) {
                for (var t = [], i = 0, n = 0; i < e.length; i++,
                n += 8)
                    t[n >>> 5] |= e[i] << 24 - n % 32;
                return t
            }
            function n(e) {
                for (var t = [], i = 0; i < 32 * e.length; i += 8)
                    t.push(e[i >>> 5] >>> 24 - i % 32 & 255);
                return t
            }
            function r(e, t, i) {
                for (var n = 0; n < 16; n++) {
                    var r = i + n
                      , u = t[r];
                    t[r] = 16711935 & (u << 8 | u >>> 24) | 4278255360 & (u << 24 | u >>> 8)
                }
                var v, _, b, S, E, P, T, C, A, w;
                P = v = e[0],
                T = _ = e[1],
                C = b = e[2],
                A = S = e[3],
                w = E = e[4];
                var R;
                for (n = 0; n < 80; n += 1)
                    R = v + t[i + d[n]] | 0,
                    R += n < 16 ? s(_, b, S) + g[0] : n < 32 ? o(_, b, S) + g[1] : n < 48 ? a(_, b, S) + g[2] : n < 64 ? c(_, b, S) + g[3] : l(_, b, S) + g[4],
                    R = 0 | R,
                    R = h(R, p[n]),
                    R = R + E | 0,
                    v = E,
                    E = S,
                    S = h(b, 10),
                    b = _,
                    _ = R,
                    R = P + t[i + f[n]] | 0,
                    R += n < 16 ? l(T, C, A) + y[0] : n < 32 ? c(T, C, A) + y[1] : n < 48 ? a(T, C, A) + y[2] : n < 64 ? o(T, C, A) + y[3] : s(T, C, A) + y[4],
                    R = 0 | R,
                    R = h(R, m[n]),
                    R = R + w | 0,
                    P = w,
                    w = A,
                    A = h(C, 10),
                    C = T,
                    T = R;
                R = e[1] + b + A | 0,
                e[1] = e[2] + S + w | 0,
                e[2] = e[3] + E + P | 0,
                e[3] = e[4] + v + T | 0,
                e[4] = e[0] + _ + C | 0,
                e[0] = R
            }
            function s(e, t, i) {
                return e ^ t ^ i
            }
            function o(e, t, i) {
                return e & t | ~e & i
            }
            function a(e, t, i) {
                return (e | ~t) ^ i
            }
            function c(e, t, i) {
                return e & i | t & ~i
            }
            function l(e, t, i) {
                return e ^ (t | ~i)
            }
            function h(e, t) {
                return e << t | e >>> 32 - t
            }
            function u(t) {
                var s = [1732584193, 4023233417, 2562383102, 271733878, 3285377520];
                "string" == typeof t && (t = new e(t,"utf8"));
                var o = i(t)
                  , a = 8 * t.length
                  , c = 8 * t.length;
                o[a >>> 5] |= 128 << 24 - a % 32,
                o[(a + 64 >>> 9 << 4) + 14] = 16711935 & (c << 8 | c >>> 24) | 4278255360 & (c << 24 | c >>> 8);
                for (var l = 0; l < o.length; l += 16)
                    r(s, o, l);
                for (l = 0; l < 5; l++) {
                    var h = s[l];
                    s[l] = 16711935 & (h << 8 | h >>> 24) | 4278255360 & (h << 24 | h >>> 8)
                }
                var u = n(s);
                return new e(u)
            }
            /** @preserve
(c) 2012 by Cédric Mesnil. All rights reserved.

Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/
            var d = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 7, 4, 13, 1, 10, 6, 15, 3, 12, 0, 9, 5, 2, 14, 11, 8, 3, 10, 14, 4, 9, 15, 8, 1, 2, 7, 0, 6, 13, 11, 5, 12, 1, 9, 11, 10, 0, 8, 12, 4, 13, 3, 7, 15, 14, 5, 6, 2, 4, 0, 5, 9, 7, 12, 2, 10, 14, 1, 3, 8, 11, 6, 15, 13]
              , f = [5, 14, 7, 0, 9, 2, 11, 4, 13, 6, 15, 8, 1, 10, 3, 12, 6, 11, 3, 7, 0, 13, 5, 10, 14, 15, 8, 12, 4, 9, 1, 2, 15, 5, 1, 3, 7, 14, 6, 9, 11, 8, 12, 2, 10, 0, 4, 13, 8, 6, 4, 1, 3, 11, 15, 0, 5, 12, 2, 13, 9, 7, 10, 14, 12, 15, 10, 4, 1, 5, 8, 7, 6, 2, 13, 14, 0, 3, 9, 11]
              , p = [11, 14, 15, 12, 5, 8, 7, 9, 11, 13, 14, 15, 6, 7, 9, 8, 7, 6, 8, 13, 11, 9, 7, 15, 7, 12, 15, 9, 11, 7, 13, 12, 11, 13, 6, 7, 14, 9, 13, 15, 14, 8, 13, 6, 5, 12, 7, 5, 11, 12, 14, 15, 14, 15, 9, 8, 9, 14, 5, 6, 8, 6, 5, 12, 9, 15, 5, 11, 6, 8, 13, 12, 5, 12, 13, 14, 11, 8, 5, 6]
              , m = [8, 9, 9, 11, 13, 15, 15, 5, 7, 7, 8, 11, 14, 14, 12, 6, 9, 13, 15, 7, 12, 8, 9, 11, 7, 7, 12, 7, 6, 15, 13, 11, 9, 7, 15, 11, 8, 6, 6, 14, 12, 13, 5, 14, 13, 13, 7, 5, 15, 5, 8, 11, 14, 14, 6, 14, 6, 9, 12, 9, 12, 5, 15, 8, 8, 5, 12, 9, 12, 5, 14, 6, 8, 13, 6, 5, 15, 13, 11, 11]
              , g = [0, 1518500249, 1859775393, 2400959708, 2840853838]
              , y = [1352829926, 1548603684, 1836072691, 2053994217, 0];
            t.exports = u
        }
        ).call(this, e("buffer").Buffer)
    }
    , {
        buffer: 179
    }],
    131: [function(e, t, i) {
        (function(e) {
            function i(t, i) {
                this._block = new e(t),
                this._finalSize = i,
                this._blockSize = t,
                this._len = 0,
                this._s = 0
            }
            i.prototype.update = function(t, i) {
                "string" == typeof t && (i = i || "utf8",
                t = new e(t,i));
                for (var n = this._len += t.length, r = this._s || 0, s = 0, o = this._block; r < n; ) {
                    for (var a = Math.min(t.length, s + this._blockSize - r % this._blockSize), c = a - s, l = 0; l < c; l++)
                        o[r % this._blockSize + l] = t[l + s];
                    r += c,
                    s += c,
                    r % this._blockSize === 0 && this._update(o)
                }
                return this._s = r,
                this
            }
            ,
            i.prototype.digest = function(e) {
                var t = 8 * this._len;
                this._block[this._len % this._blockSize] = 128,
                this._block.fill(0, this._len % this._blockSize + 1),
                t % (8 * this._blockSize) >= 8 * this._finalSize && (this._update(this._block),
                this._block.fill(0)),
                this._block.writeInt32BE(t, this._blockSize - 4);
                var i = this._update(this._block) || this._hash();
                return e ? i.toString(e) : i
            }
            ,
            i.prototype._update = function() {
                throw new Error("_update must be implemented by subclass")
            }
            ,
            t.exports = i
        }
        ).call(this, e("buffer").Buffer)
    }
    , {
        buffer: 179
    }],
    132: [function(e, t, i) {
        var i = t.exports = function(e) {
            e = e.toLowerCase();
            var t = i[e];
            if (!t)
                throw new Error(e + " is not supported (we accept pull requests)");
            return new t
        }
        ;
        i.sha = e("./sha"),
        i.sha1 = e("./sha1"),
        i.sha224 = e("./sha224"),
        i.sha256 = e("./sha256"),
        i.sha384 = e("./sha384"),
        i.sha512 = e("./sha512")
    }
    , {
        "./sha": 133,
        "./sha1": 134,
        "./sha224": 135,
        "./sha256": 136,
        "./sha384": 137,
        "./sha512": 138
    }],
    133: [function(e, t, i) {
        (function(i) {
            function n() {
                this.init(),
                this._w = a,
                o.call(this, 64, 56)
            }
            function r(e, t) {
                return e << t | e >>> 32 - t
            }
            var s = e("inherits")
              , o = e("./hash")
              , a = new Array(80);
            s(n, o),
            n.prototype.init = function() {
                return this._a = 1732584193,
                this._b = -271733879,
                this._c = -1732584194,
                this._d = 271733878,
                this._e = -1009589776,
                this
            }
            ,
            n.prototype._update = function(e) {
                function t() {
                    return s[u - 3] ^ s[u - 8] ^ s[u - 14] ^ s[u - 16]
                }
                function i(e, t) {
                    s[u] = e;
                    var i = r(o, 5) + t + h + e + n;
                    h = l,
                    l = c,
                    c = r(a, 30),
                    a = o,
                    o = i,
                    u++
                }
                var n, s = this._w, o = this._a, a = this._b, c = this._c, l = this._d, h = this._e, u = 0;
                for (n = 1518500249; u < 16; )
                    i(e.readInt32BE(4 * u), a & c | ~a & l);
                for (; u < 20; )
                    i(t(), a & c | ~a & l);
                for (n = 1859775393; u < 40; )
                    i(t(), a ^ c ^ l);
                for (n = -1894007588; u < 60; )
                    i(t(), a & c | a & l | c & l);
                for (n = -899497514; u < 80; )
                    i(t(), a ^ c ^ l);
                this._a = o + this._a | 0,
                this._b = a + this._b | 0,
                this._c = c + this._c | 0,
                this._d = l + this._d | 0,
                this._e = h + this._e | 0
            }
            ,
            n.prototype._hash = function() {
                var e = new i(20);
                return e.writeInt32BE(0 | this._a, 0),
                e.writeInt32BE(0 | this._b, 4),
                e.writeInt32BE(0 | this._c, 8),
                e.writeInt32BE(0 | this._d, 12),
                e.writeInt32BE(0 | this._e, 16),
                e
            }
            ,
            t.exports = n
        }
        ).call(this, e("buffer").Buffer)
    }
    , {
        "./hash": 131,
        buffer: 179,
        inherits: 147
    }],
    134: [function(e, t, i) {
        (function(i) {
            function n() {
                this.init(),
                this._w = a,
                o.call(this, 64, 56)
            }
            function r(e, t) {
                return e << t | e >>> 32 - t
            }
            var s = e("inherits")
              , o = e("./hash")
              , a = new Array(80);
            s(n, o),
            n.prototype.init = function() {
                return this._a = 1732584193,
                this._b = -271733879,
                this._c = -1732584194,
                this._d = 271733878,
                this._e = -1009589776,
                this
            }
            ,
            n.prototype._update = function(e) {
                function t() {
                    return r(s[u - 3] ^ s[u - 8] ^ s[u - 14] ^ s[u - 16], 1)
                }
                function i(e, t) {
                    s[u] = e;
                    var i = r(o, 5) + t + h + e + n;
                    h = l,
                    l = c,
                    c = r(a, 30),
                    a = o,
                    o = i,
                    u++
                }
                var n, s = this._w, o = this._a, a = this._b, c = this._c, l = this._d, h = this._e, u = 0;
                for (n = 1518500249; u < 16; )
                    i(e.readInt32BE(4 * u), a & c | ~a & l);
                for (; u < 20; )
                    i(t(), a & c | ~a & l);
                for (n = 1859775393; u < 40; )
                    i(t(), a ^ c ^ l);
                for (n = -1894007588; u < 60; )
                    i(t(), a & c | a & l | c & l);
                for (n = -899497514; u < 80; )
                    i(t(), a ^ c ^ l);
                this._a = o + this._a | 0,
                this._b = a + this._b | 0,
                this._c = c + this._c | 0,
                this._d = l + this._d | 0,
                this._e = h + this._e | 0
            }
            ,
            n.prototype._hash = function() {
                var e = new i(20);
                return e.writeInt32BE(0 | this._a, 0),
                e.writeInt32BE(0 | this._b, 4),
                e.writeInt32BE(0 | this._c, 8),
                e.writeInt32BE(0 | this._d, 12),
                e.writeInt32BE(0 | this._e, 16),
                e
            }
            ,
            t.exports = n
        }
        ).call(this, e("buffer").Buffer)
    }
    , {
        "./hash": 131,
        buffer: 179,
        inherits: 147
    }],
    135: [function(e, t, i) {
        (function(i) {
            function n() {
                this.init(),
                this._w = a,
                o.call(this, 64, 56)
            }
            var r = e("inherits")
              , s = e("./sha256")
              , o = e("./hash")
              , a = new Array(64);
            r(n, s),
            n.prototype.init = function() {
                return this._a = -1056596264,
                this._b = 914150663,
                this._c = 812702999,
                this._d = -150054599,
                this._e = -4191439,
                this._f = 1750603025,
                this._g = 1694076839,
                this._h = -1090891868,
                this
            }
            ,
            n.prototype._hash = function() {
                var e = new i(28);
                return e.writeInt32BE(this._a, 0),
                e.writeInt32BE(this._b, 4),
                e.writeInt32BE(this._c, 8),
                e.writeInt32BE(this._d, 12),
                e.writeInt32BE(this._e, 16),
                e.writeInt32BE(this._f, 20),
                e.writeInt32BE(this._g, 24),
                e
            }
            ,
            t.exports = n
        }
        ).call(this, e("buffer").Buffer)
    }
    , {
        "./hash": 131,
        "./sha256": 136,
        buffer: 179,
        inherits: 147
    }],
    136: [function(e, t, i) {
        (function(i) {
            function n() {
                this.init(),
                this._w = m,
                f.call(this, 64, 56)
            }
            function r(e, t) {
                return e >>> t | e << 32 - t
            }
            function s(e, t) {
                return e >>> t
            }
            function o(e, t, i) {
                return e & t ^ ~e & i
            }
            function a(e, t, i) {
                return e & t ^ e & i ^ t & i
            }
            function c(e) {
                return r(e, 2) ^ r(e, 13) ^ r(e, 22)
            }
            function l(e) {
                return r(e, 6) ^ r(e, 11) ^ r(e, 25)
            }
            function h(e) {
                return r(e, 7) ^ r(e, 18) ^ s(e, 3)
            }
            function u(e) {
                return r(e, 17) ^ r(e, 19) ^ s(e, 10)
            }
            var d = e("inherits")
              , f = e("./hash")
              , p = [1116352408, 1899447441, 3049323471, 3921009573, 961987163, 1508970993, 2453635748, 2870763221, 3624381080, 310598401, 607225278, 1426881987, 1925078388, 2162078206, 2614888103, 3248222580, 3835390401, 4022224774, 264347078, 604807628, 770255983, 1249150122, 1555081692, 1996064986, 2554220882, 2821834349, 2952996808, 3210313671, 3336571891, 3584528711, 113926993, 338241895, 666307205, 773529912, 1294757372, 1396182291, 1695183700, 1986661051, 2177026350, 2456956037, 2730485921, 2820302411, 3259730800, 3345764771, 3516065817, 3600352804, 4094571909, 275423344, 430227734, 506948616, 659060556, 883997877, 958139571, 1322822218, 1537002063, 1747873779, 1955562222, 2024104815, 2227730452, 2361852424, 2428436474, 2756734187, 3204031479, 3329325298]
              , m = new Array(64);
            d(n, f),
            n.prototype.init = function() {
                return this._a = 1779033703,
                this._b = -1150833019,
                this._c = 1013904242,
                this._d = -1521486534,
                this._e = 1359893119,
                this._f = -1694144372,
                this._g = 528734635,
                this._h = 1541459225,
                this
            }
            ,
            n.prototype._update = function(e) {
                function t() {
                    return u(n[_ - 2]) + n[_ - 7] + h(n[_ - 15]) + n[_ - 16]
                }
                function i(e) {
                    n[_] = e;
                    var t = v + l(m) + o(m, g, y) + p[_] + e
                      , i = c(r) + a(r, s, d);
                    v = y,
                    y = g,
                    g = m,
                    m = f + t,
                    f = d,
                    d = s,
                    s = r,
                    r = t + i,
                    _++
                }
                for (var n = this._w, r = 0 | this._a, s = 0 | this._b, d = 0 | this._c, f = 0 | this._d, m = 0 | this._e, g = 0 | this._f, y = 0 | this._g, v = 0 | this._h, _ = 0; _ < 16; )
                    i(e.readInt32BE(4 * _));
                for (; _ < 64; )
                    i(t());
                this._a = r + this._a | 0,
                this._b = s + this._b | 0,
                this._c = d + this._c | 0,
                this._d = f + this._d | 0,
                this._e = m + this._e | 0,
                this._f = g + this._f | 0,
                this._g = y + this._g | 0,
                this._h = v + this._h | 0
            }
            ,
            n.prototype._hash = function() {
                var e = new i(32);
                return e.writeInt32BE(this._a, 0),
                e.writeInt32BE(this._b, 4),
                e.writeInt32BE(this._c, 8),
                e.writeInt32BE(this._d, 12),
                e.writeInt32BE(this._e, 16),
                e.writeInt32BE(this._f, 20),
                e.writeInt32BE(this._g, 24),
                e.writeInt32BE(this._h, 28),
                e
            }
            ,
            t.exports = n
        }
        ).call(this, e("buffer").Buffer)
    }
    , {
        "./hash": 131,
        buffer: 179,
        inherits: 147
    }],
    137: [function(e, t, i) {
        (function(i) {
            function n() {
                this.init(),
                this._w = a,
                o.call(this, 128, 112)
            }
            var r = e("inherits")
              , s = e("./sha512")
              , o = e("./hash")
              , a = new Array(160);
            r(n, s),
            n.prototype.init = function() {
                return this._a = -876896931,
                this._b = 1654270250,
                this._c = -1856437926,
                this._d = 355462360,
                this._e = 1731405415,
                this._f = -1900787065,
                this._g = -619958771,
                this._h = 1203062813,
                this._al = -1056596264,
                this._bl = 914150663,
                this._cl = 812702999,
                this._dl = -150054599,
                this._el = -4191439,
                this._fl = 1750603025,
                this._gl = 1694076839,
                this._hl = -1090891868,
                this
            }
            ,
            n.prototype._hash = function() {
                function e(e, i, n) {
                    t.writeInt32BE(e, n),
                    t.writeInt32BE(i, n + 4)
                }
                var t = new i(48);
                return e(this._a, this._al, 0),
                e(this._b, this._bl, 8),
                e(this._c, this._cl, 16),
                e(this._d, this._dl, 24),
                e(this._e, this._el, 32),
                e(this._f, this._fl, 40),
                t
            }
            ,
            t.exports = n
        }
        ).call(this, e("buffer").Buffer)
    }
    , {
        "./hash": 131,
        "./sha512": 138,
        buffer: 179,
        inherits: 147
    }],
    138: [function(e, t, i) {
        (function(i) {
            function n() {
                this.init(),
                this._w = h,
                c.call(this, 128, 112)
            }
            function r(e, t, i) {
                return e >>> i | t << 32 - i
            }
            function s(e, t, i) {
                return e & t ^ ~e & i
            }
            function o(e, t, i) {
                return e & t ^ e & i ^ t & i
            }
            var a = e("inherits")
              , c = e("./hash")
              , l = [1116352408, 3609767458, 1899447441, 602891725, 3049323471, 3964484399, 3921009573, 2173295548, 961987163, 4081628472, 1508970993, 3053834265, 2453635748, 2937671579, 2870763221, 3664609560, 3624381080, 2734883394, 310598401, 1164996542, 607225278, 1323610764, 1426881987, 3590304994, 1925078388, 4068182383, 2162078206, 991336113, 2614888103, 633803317, 3248222580, 3479774868, 3835390401, 2666613458, 4022224774, 944711139, 264347078, 2341262773, 604807628, 2007800933, 770255983, 1495990901, 1249150122, 1856431235, 1555081692, 3175218132, 1996064986, 2198950837, 2554220882, 3999719339, 2821834349, 766784016, 2952996808, 2566594879, 3210313671, 3203337956, 3336571891, 1034457026, 3584528711, 2466948901, 113926993, 3758326383, 338241895, 168717936, 666307205, 1188179964, 773529912, 1546045734, 1294757372, 1522805485, 1396182291, 2643833823, 1695183700, 2343527390, 1986661051, 1014477480, 2177026350, 1206759142, 2456956037, 344077627, 2730485921, 1290863460, 2820302411, 3158454273, 3259730800, 3505952657, 3345764771, 106217008, 3516065817, 3606008344, 3600352804, 1432725776, 4094571909, 1467031594, 275423344, 851169720, 430227734, 3100823752, 506948616, 1363258195, 659060556, 3750685593, 883997877, 3785050280, 958139571, 3318307427, 1322822218, 3812723403, 1537002063, 2003034995, 1747873779, 3602036899, 1955562222, 1575990012, 2024104815, 1125592928, 2227730452, 2716904306, 2361852424, 442776044, 2428436474, 593698344, 2756734187, 3733110249, 3204031479, 2999351573, 3329325298, 3815920427, 3391569614, 3928383900, 3515267271, 566280711, 3940187606, 3454069534, 4118630271, 4000239992, 116418474, 1914138554, 174292421, 2731055270, 289380356, 3203993006, 460393269, 320620315, 685471733, 587496836, 852142971, 1086792851, 1017036298, 365543100, 1126000580, 2618297676, 1288033470, 3409855158, 1501505948, 4234509866, 1607167915, 987167468, 1816402316, 1246189591]
              , h = new Array(160);
            a(n, c),
            n.prototype.init = function() {
                return this._a = 1779033703,
                this._b = -1150833019,
                this._c = 1013904242,
                this._d = -1521486534,
                this._e = 1359893119,
                this._f = -1694144372,
                this._g = 528734635,
                this._h = 1541459225,
                this._al = -205731576,
                this._bl = -2067093701,
                this._cl = -23791573,
                this._dl = 1595750129,
                this._el = -1377402159,
                this._fl = 725511199,
                this._gl = -79577749,
                this._hl = 327033209,
                this
            }
            ,
            n.prototype._update = function(e) {
                function t() {
                    var e = c[w - 30]
                      , t = c[w - 30 + 1]
                      , i = r(e, t, 1) ^ r(e, t, 8) ^ e >>> 7
                      , s = r(t, e, 1) ^ r(t, e, 8) ^ r(t, e, 7);
                    e = c[w - 4],
                    t = c[w - 4 + 1];
                    var o = r(e, t, 19) ^ r(t, e, 29) ^ e >>> 6
                      , l = r(t, e, 19) ^ r(e, t, 29) ^ r(t, e, 6)
                      , h = c[w - 14]
                      , u = c[w - 14 + 1]
                      , d = c[w - 32]
                      , f = c[w - 32 + 1];
                    a = s + u,
                    n = i + h + (a >>> 0 < s >>> 0 ? 1 : 0),
                    a += l,
                    n = n + o + (a >>> 0 < l >>> 0 ? 1 : 0),
                    a += f,
                    n = n + d + (a >>> 0 < f >>> 0 ? 1 : 0)
                }
                function i() {
                    c[w] = n,
                    c[w + 1] = a;
                    var e = o(h, u, d)
                      , t = o(v, _, b)
                      , i = r(h, v, 28) ^ r(v, h, 2) ^ r(v, h, 7)
                      , R = r(v, h, 28) ^ r(h, v, 2) ^ r(h, v, 7)
                      , O = r(p, E, 14) ^ r(p, E, 18) ^ r(E, p, 9)
                      , I = r(E, p, 14) ^ r(E, p, 18) ^ r(p, E, 9)
                      , L = l[w]
                      , k = l[w + 1]
                      , D = s(p, m, g)
                      , N = s(E, P, T)
                      , M = C + I
                      , x = y + O + (M >>> 0 < C >>> 0 ? 1 : 0);
                    M += N,
                    x = x + D + (M >>> 0 < N >>> 0 ? 1 : 0),
                    M += k,
                    x = x + L + (M >>> 0 < k >>> 0 ? 1 : 0),
                    M += a,
                    x = x + n + (M >>> 0 < a >>> 0 ? 1 : 0);
                    var B = R + t
                      , F = i + e + (B >>> 0 < R >>> 0 ? 1 : 0);
                    y = g,
                    C = T,
                    g = m,
                    T = P,
                    m = p,
                    P = E,
                    E = S + M | 0,
                    p = f + x + (E >>> 0 < S >>> 0 ? 1 : 0) | 0,
                    f = d,
                    S = b,
                    d = u,
                    b = _,
                    u = h,
                    _ = v,
                    v = M + B | 0,
                    h = x + F + (v >>> 0 < M >>> 0 ? 1 : 0) | 0,
                    A++,
                    w += 2
                }
                for (var n, a, c = this._w, h = 0 | this._a, u = 0 | this._b, d = 0 | this._c, f = 0 | this._d, p = 0 | this._e, m = 0 | this._f, g = 0 | this._g, y = 0 | this._h, v = 0 | this._al, _ = 0 | this._bl, b = 0 | this._cl, S = 0 | this._dl, E = 0 | this._el, P = 0 | this._fl, T = 0 | this._gl, C = 0 | this._hl, A = 0, w = 0; A < 16; )
                    n = e.readInt32BE(4 * w),
                    a = e.readInt32BE(4 * w + 4),
                    i();
                for (; A < 80; )
                    t(),
                    i();
                this._al = this._al + v | 0,
                this._bl = this._bl + _ | 0,
                this._cl = this._cl + b | 0,
                this._dl = this._dl + S | 0,
                this._el = this._el + E | 0,
                this._fl = this._fl + P | 0,
                this._gl = this._gl + T | 0,
                this._hl = this._hl + C | 0,
                this._a = this._a + h + (this._al >>> 0 < v >>> 0 ? 1 : 0) | 0,
                this._b = this._b + u + (this._bl >>> 0 < _ >>> 0 ? 1 : 0) | 0,
                this._c = this._c + d + (this._cl >>> 0 < b >>> 0 ? 1 : 0) | 0,
                this._d = this._d + f + (this._dl >>> 0 < S >>> 0 ? 1 : 0) | 0,
                this._e = this._e + p + (this._el >>> 0 < E >>> 0 ? 1 : 0) | 0,
                this._f = this._f + m + (this._fl >>> 0 < P >>> 0 ? 1 : 0) | 0,
                this._g = this._g + g + (this._gl >>> 0 < T >>> 0 ? 1 : 0) | 0,
                this._h = this._h + y + (this._hl >>> 0 < C >>> 0 ? 1 : 0) | 0
            }
            ,
            n.prototype._hash = function() {
                function e(e, i, n) {
                    t.writeInt32BE(e, n),
                    t.writeInt32BE(i, n + 4)
                }
                var t = new i(64);
                return e(this._a, this._al, 0),
                e(this._b, this._bl, 8),
                e(this._c, this._cl, 16),
                e(this._d, this._dl, 24),
                e(this._e, this._el, 32),
                e(this._f, this._fl, 40),
                e(this._g, this._gl, 48),
                e(this._h, this._hl, 56),
                t
            }
            ,
            t.exports = n
        }
        ).call(this, e("buffer").Buffer)
    }
    , {
        "./hash": 131,
        buffer: 179,
        inherits: 147
    }],
    139: [function(e, t, i) {
        (function(i) {
            "use strict";
            function n(e, t) {
                o.call(this),
                "string" == typeof t && (t = new i(t));
                var n = "sha512" === e || "sha384" === e ? 128 : 64;
                this._alg = e,
                this._key = t,
                t.length > n ? t = r(e).update(t).digest() : t.length < n && (t = i.concat([t, a], n));
                for (var s = this._ipad = new i(n), c = this._opad = new i(n), l = 0; l < n; l++)
                    s[l] = 54 ^ t[l],
                    c[l] = 92 ^ t[l];
                this._hash = r(e).update(s)
            }
            var r = e("create-hash/browser")
              , s = e("inherits")
              , o = e("stream").Transform
              , a = new i(128);
            a.fill(0),
            s(n, o),
            n.prototype.update = function(e, t) {
                return this._hash.update(e, t),
                this
            }
            ,
            n.prototype._transform = function(e, t, i) {
                this._hash.update(e),
                i()
            }
            ,
            n.prototype._flush = function(e) {
                this.push(this.digest()),
                e()
            }
            ,
            n.prototype.digest = function(e) {
                var t = this._hash.digest();
                return r(this._alg).update(this._opad).update(t).digest(e)
            }
            ,
            t.exports = function(e, t) {
                return new n(e,t)
            }
        }
        ).call(this, e("buffer").Buffer)
    }
    , {
        buffer: 179,
        "create-hash/browser": 127,
        inherits: 147,
        stream: 200
    }],
    140: [function(e, t, i) {
        (function(t) {
            function n(e) {
                var i = new t(o[e].prime,"hex")
                  , n = new t(o[e].gen,"hex");
                return new a(i,n)
            }
            function r(e, i, n, o) {
                return t.isBuffer(i) || void 0 === c[i] ? r(e, "binary", i, n) : (i = i || "binary",
                o = o || "binary",
                n = n || new t([2]),
                t.isBuffer(n) || (n = new t(n,o)),
                "number" == typeof e ? new a(s(e, n),n,(!0)) : (t.isBuffer(e) || (e = new t(e,i)),
                new a(e,n,(!0))))
            }
            var s = e("./lib/generatePrime")
              , o = e("./lib/primes.json")
              , a = e("./lib/dh")
              , c = {
                binary: !0,
                hex: !0,
                base64: !0
            };
            i.DiffieHellmanGroup = i.createDiffieHellmanGroup = i.getDiffieHellman = n,
            i.createDiffieHellman = i.DiffieHellman = r
        }
        ).call(this, e("buffer").Buffer)
    }
    , {
        "./lib/dh": 141,
        "./lib/generatePrime": 142,
        "./lib/primes.json": 143,
        buffer: 179
    }],
    141: [function(e, t, i) {
        (function(i) {
            function n(e, t) {
                return t = t || "utf8",
                i.isBuffer(e) || (e = new i(e,t)),
                this._pub = new c(e),
                this
            }
            function r(e, t) {
                return t = t || "utf8",
                i.isBuffer(e) || (e = new i(e,t)),
                this._priv = new c(e),
                this
            }
            function s(e, t) {
                var i = t.toString("hex")
                  , n = [i, e.toString(16)].join("_");
                if (n in v)
                    return v[n];
                var r = 0;
                if (e.isEven() || !g.simpleSieve || !g.fermatTest(e) || !h.test(e))
                    return r += 1,
                    r += "02" === i || "05" === i ? 8 : 4,
                    v[n] = r,
                    r;
                h.test(e.shrn(1)) || (r += 2);
                var s;
                switch (i) {
                case "02":
                    e.mod(u).cmp(d) && (r += 8);
                    break;
                case "05":
                    s = e.mod(f),
                    s.cmp(p) && s.cmp(m) && (r += 8);
                    break;
                default:
                    r += 4
                }
                return v[n] = r,
                r
            }
            function o(e, t, i) {
                this.setGenerator(t),
                this.__prime = new c(e),
                this._prime = c.mont(this.__prime),
                this._primeLen = e.length,
                this._pub = void 0,
                this._priv = void 0,
                this._primeCode = void 0,
                i ? (this.setPublicKey = n,
                this.setPrivateKey = r) : this._primeCode = 8
            }
            function a(e, t) {
                var n = new i(e.toArray());
                return t ? n.toString(t) : n
            }
            var c = e("bn.js")
              , l = e("miller-rabin")
              , h = new l
              , u = new c(24)
              , d = new c(11)
              , f = new c(10)
              , p = new c(3)
              , m = new c(7)
              , g = e("./generatePrime")
              , y = e("randombytes");
            t.exports = o;
            var v = {};
            Object.defineProperty(o.prototype, "verifyError", {
                enumerable: !0,
                get: function() {
                    return "number" != typeof this._primeCode && (this._primeCode = s(this.__prime, this.__gen)),
                    this._primeCode
                }
            }),
            o.prototype.generateKeys = function() {
                return this._priv || (this._priv = new c(y(this._primeLen))),
                this._pub = this._gen.toRed(this._prime).redPow(this._priv).fromRed(),
                this.getPublicKey()
            }
            ,
            o.prototype.computeSecret = function(e) {
                e = new c(e),
                e = e.toRed(this._prime);
                var t = e.redPow(this._priv).fromRed()
                  , n = new i(t.toArray())
                  , r = this.getPrime();
                if (n.length < r.length) {
                    var s = new i(r.length - n.length);
                    s.fill(0),
                    n = i.concat([s, n])
                }
                return n
            }
            ,
            o.prototype.getPublicKey = function(e) {
                return a(this._pub, e)
            }
            ,
            o.prototype.getPrivateKey = function(e) {
                return a(this._priv, e)
            }
            ,
            o.prototype.getPrime = function(e) {
                return a(this.__prime, e)
            }
            ,
            o.prototype.getGenerator = function(e) {
                return a(this._gen, e)
            }
            ,
            o.prototype.setGenerator = function(e, t) {
                return t = t || "utf8",
                i.isBuffer(e) || (e = new i(e,t)),
                this.__gen = e,
                this._gen = new c(e),
                this
            }
        }
        ).call(this, e("buffer").Buffer)
    }
    , {
        "./generatePrime": 142,
        "bn.js": 144,
        buffer: 179,
        "miller-rabin": 145,
        randombytes: 177
    }],
    142: [function(e, t, i) {
        function n() {
            if (null !== _)
                return _;
            var e = 1048576
              , t = [];
            t[0] = 2;
            for (var i = 1, n = 3; n < e; n += 2) {
                for (var r = Math.ceil(Math.sqrt(n)), s = 0; s < i && t[s] <= r && n % t[s] !== 0; s++)
                    ;
                i !== s && t[s] <= r || (t[i++] = n)
            }
            return _ = t,
            t
        }
        function r(e) {
            for (var t = n(), i = 0; i < t.length; i++)
                if (0 === e.modn(t[i]))
                    return 0 === e.cmpn(t[i]);
            return !0
        }
        function s(e) {
            var t = c.mont(e);
            return 0 === f.toRed(t).redPow(e.subn(1)).fromRed().cmpn(1)
        }
        function o(e, t) {
            if (e < 16)
                return new c(2 === t || 5 === t ? [140, 123] : [140, 39]);
            t = new c(t);
            for (var i, n; ; ) {
                for (i = new c(a(Math.ceil(e / 8))); i.bitLength() > e; )
                    i.ishrn(1);
                if (i.isEven() && i.iadd(d),
                i.testn(1) || i.iadd(f),
                t.cmp(f)) {
                    if (!t.cmp(p))
                        for (; i.mod(m).cmp(g); )
                            i.iadd(v)
                } else
                    for (; i.mod(l).cmp(y); )
                        i.iadd(v);
                if (n = i.shrn(1),
                r(n) && r(i) && s(n) && s(i) && u.test(n) && u.test(i))
                    return i
            }
        }
        var a = e("randombytes");
        t.exports = o,
        o.simpleSieve = r,
        o.fermatTest = s;
        var c = e("bn.js")
          , l = new c(24)
          , h = e("miller-rabin")
          , u = new h
          , d = new c(1)
          , f = new c(2)
          , p = new c(5)
          , m = (new c(16),
        new c(8),
        new c(10))
          , g = new c(3)
          , y = (new c(7),
        new c(11))
          , v = new c(4)
          , _ = (new c(12),
        null)
    }
    , {
        "bn.js": 144,
        "miller-rabin": 145,
        randombytes: 177
    }],
    143: [function(e, t, i) {
        t.exports = {
            modp1: {
                gen: "02",
                prime: "ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"
            },
            modp2: {
                gen: "02",
                prime: "ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"
            },
            modp5: {
                gen: "02",
                prime: "ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"
            },
            modp14: {
                gen: "02",
                prime: "ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"
            },
            modp15: {
                gen: "02",
                prime: "ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"
            },
            modp16: {
                gen: "02",
                prime: "ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"
            },
            modp17: {
                gen: "02",
                prime: "ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"
            },
            modp18: {
                gen: "02",
                prime: "ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"
            }
        }
    }
    , {}],
    144: [function(e, t, i) {
        arguments[4][53][0].apply(i, arguments)
    }
    , {
        dup: 53
    }],
    145: [function(e, t, i) {
        function n(e) {
            this.rand = e || new s.Rand
        }
        var r = e("bn.js")
          , s = e("brorand");
        t.exports = n,
        n.create = function(e) {
            return new n(e)
        }
        ,
        n.prototype._rand = function(e) {
            var t = e.bitLength()
              , i = this.rand.generate(Math.ceil(t / 8));
            i[0] |= 3;
            var n = 7 & t;
            return 0 !== n && (i[i.length - 1] >>= 7 - n),
            new r(i)
        }
        ,
        n.prototype.test = function(e, t, i) {
            var n = e.bitLength()
              , s = r.mont(e)
              , o = new r(1).toRed(s);
            t || (t = Math.max(1, n / 48 | 0));
            for (var a = e.subn(1), c = a.subn(1), l = 0; !a.testn(l); l++)
                ;
            for (var h = e.shrn(l), u = a.toRed(s), d = !0; t > 0; t--) {
                var f = this._rand(c);
                i && i(f);
                var p = f.toRed(s).redPow(h);
                if (0 !== p.cmp(o) && 0 !== p.cmp(u)) {
                    for (var m = 1; m < l; m++) {
                        if (p = p.redSqr(),
                        0 === p.cmp(o))
                            return !1;
                        if (0 === p.cmp(u))
                            break
                    }
                    if (m === l)
                        return !1
                }
            }
            return d
        }
        ,
        n.prototype.getDivisor = function(e, t) {
            var i = e.bitLength()
              , n = r.mont(e)
              , s = new r(1).toRed(n);
            t || (t = Math.max(1, i / 48 | 0));
            for (var o = e.subn(1), a = o.subn(1), c = 0; !o.testn(c); c++)
                ;
            for (var l = e.shrn(c), h = o.toRed(n); t > 0; t--) {
                var u = this._rand(a)
                  , d = e.gcd(u);
                if (0 !== d.cmpn(1))
                    return d;
                var f = u.toRed(n).redPow(l);
                if (0 !== f.cmp(s) && 0 !== f.cmp(h)) {
                    for (var p = 1; p < c; p++) {
                        if (f = f.redSqr(),
                        0 === f.cmp(s))
                            return f.fromRed().subn(1).gcd(e);
                        if (0 === f.cmp(h))
                            break
                    }
                    if (p === c)
                        return f = f.redSqr(),
                        f.fromRed().subn(1).gcd(e)
                }
            }
            return !1
        }
    }
    , {
        "bn.js": 144,
        brorand: 146
    }],
    146: [function(e, t, i) {
        arguments[4][71][0].apply(i, arguments)
    }
    , {
        dup: 71
    }],
    147: [function(e, t, i) {
        "function" == typeof Object.create ? t.exports = function(e, t) {
            e.super_ = t,
            e.prototype = Object.create(t.prototype, {
                constructor: {
                    value: e,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            })
        }
        : t.exports = function(e, t) {
            e.super_ = t;
            var i = function() {};
            i.prototype = t.prototype,
            e.prototype = new i,
            e.prototype.constructor = e
        }
    }
    , {}],
    148: [function(e, t, i) {
        (function(t) {
            function n(e, t, i, n, s, o) {
                if ("function" == typeof s && (o = s,
                s = void 0),
                "function" != typeof o)
                    throw new Error("No callback provided to pbkdf2");
                var a = r(e, t, i, n, s);
                setTimeout(function() {
                    o(void 0, a)
                })
            }
            function r(e, i, n, r, a) {
                if ("number" != typeof n)
                    throw new TypeError("Iterations not a number");
                if (n < 0)
                    throw new TypeError("Bad iterations");
                if ("number" != typeof r)
                    throw new TypeError("Key length not a number");
                if (r < 0 || r > o)
                    throw new TypeError("Bad key length");
                a = a || "sha1",
                t.isBuffer(e) || (e = new t(e,"binary")),
                t.isBuffer(i) || (i = new t(i,"binary"));
                var c, l = 1, h = new t(r), u = new t(i.length + 4);
                i.copy(u, 0, 0, i.length);
                for (var d, f, p = 1; p <= l; p++) {
                    u.writeUInt32BE(p, i.length);
                    var m = s(a, e).update(u).digest();
                    c || (c = m.length,
                    f = new t(c),
                    l = Math.ceil(r / c),
                    d = r - (l - 1) * c),
                    m.copy(f, 0, 0, c);
                    for (var g = 1; g < n; g++) {
                        m = s(a, e).update(m).digest();
                        for (var y = 0; y < c; y++)
                            f[y] ^= m[y]
                    }
                    var v = (p - 1) * c
                      , _ = p === l ? d : c;
                    f.copy(h, v, 0, _)
                }
                return h
            }
            var s = e("create-hmac")
              , o = Math.pow(2, 30) - 1;
            i.pbkdf2 = n,
            i.pbkdf2Sync = r
        }
        ).call(this, e("buffer").Buffer)
    }
    , {
        buffer: 179,
        "create-hmac": 139
    }],
    149: [function(e, t, i) {
        i.publicEncrypt = e("./publicEncrypt"),
        i.privateDecrypt = e("./privateDecrypt"),
        i.privateEncrypt = function(e, t) {
            return i.publicEncrypt(e, t, !0)
        }
        ,
        i.publicDecrypt = function(e, t) {
            return i.privateDecrypt(e, t, !0)
        }
    }
    , {
        "./privateDecrypt": 173,
        "./publicEncrypt": 174
    }],
    150: [function(e, t, i) {
        (function(i) {
            function n(e) {
                var t = new i(4);
                return t.writeUInt32BE(e, 0),
                t
            }
            var r = e("create-hash");
            t.exports = function(e, t) {
                for (var s, o = new i(""), a = 0; o.length < t; )
                    s = n(a++),
                    o = i.concat([o, r("sha1").update(e).update(s).digest()]);
                return o.slice(0, t)
            }
        }
        ).call(this, e("buffer").Buffer)
    }
    , {
        buffer: 179,
        "create-hash": 127
    }],
    151: [function(e, t, i) {
        arguments[4][53][0].apply(i, arguments)
    }
    , {
        dup: 53
    }],
    152: [function(e, t, i) {
        arguments[4][54][0].apply(i, arguments)
    }
    , {
        "bn.js": 151,
        buffer: 179,
        dup: 54,
        randombytes: 177
    }],
    153: [function(e, t, i) {
        arguments[4][79][0].apply(i, arguments)
    }
    , {
        dup: 79
    }],
    154: [function(e, t, i) {
        arguments[4][80][0].apply(i, arguments)
    }
    , {
        "asn1.js": 157,
        dup: 80
    }],
    155: [function(e, t, i) {
        arguments[4][81][0].apply(i, arguments)
    }
    , {
        "browserify-aes": 6,
        buffer: 179,
        dup: 81,
        evp_bytestokey: 172
    }],
    156: [function(e, t, i) {
        arguments[4][82][0].apply(i, arguments)
    }
    , {
        "./aesid.json": 153,
        "./asn1": 154,
        "./fixProc": 155,
        "browserify-aes": 6,
        buffer: 179,
        dup: 82,
        pbkdf2: 148
    }],
    157: [function(e, t, i) {
        arguments[4][83][0].apply(i, arguments)
    }
    , {
        "./asn1/api": 158,
        "./asn1/base": 160,
        "./asn1/constants": 164,
        "./asn1/decoders": 166,
        "./asn1/encoders": 169,
        "bn.js": 151,
        dup: 83
    }],
    158: [function(e, t, i) {
        arguments[4][84][0].apply(i, arguments)
    }
    , {
        "../asn1": 157,
        dup: 84,
        inherits: 147,
        vm: 202
    }],
    159: [function(e, t, i) {
        arguments[4][85][0].apply(i, arguments)
    }
    , {
        "../base": 160,
        buffer: 179,
        dup: 85,
        inherits: 147
    }],
    160: [function(e, t, i) {
        arguments[4][86][0].apply(i, arguments)
    }
    , {
        "./buffer": 159,
        "./node": 161,
        "./reporter": 162,
        dup: 86
    }],
    161: [function(e, t, i) {
        arguments[4][87][0].apply(i, arguments)
    }
    , {
        "../base": 160,
        dup: 87,
        "minimalistic-assert": 171
    }],
    162: [function(e, t, i) {
        arguments[4][88][0].apply(i, arguments)
    }
    , {
        dup: 88,
        inherits: 147
    }],
    163: [function(e, t, i) {
        arguments[4][89][0].apply(i, arguments)
    }
    , {
        "../constants": 164,
        dup: 89
    }],
    164: [function(e, t, i) {
        arguments[4][90][0].apply(i, arguments)
    }
    , {
        "./der": 163,
        dup: 90
    }],
    165: [function(e, t, i) {
        arguments[4][91][0].apply(i, arguments)
    }
    , {
        "../../asn1": 157,
        dup: 91,
        inherits: 147
    }],
    166: [function(e, t, i) {
        arguments[4][92][0].apply(i, arguments)
    }
    , {
        "./der": 165,
        "./pem": 167,
        dup: 92
    }],
    167: [function(e, t, i) {
        arguments[4][93][0].apply(i, arguments)
    }
    , {
        "../../asn1": 157,
        "./der": 165,
        buffer: 179,
        dup: 93,
        inherits: 147
    }],
    168: [function(e, t, i) {
        arguments[4][94][0].apply(i, arguments)
    }
    , {
        "../../asn1": 157,
        buffer: 179,
        dup: 94,
        inherits: 147
    }],
    169: [function(e, t, i) {
        arguments[4][95][0].apply(i, arguments)
    }
    , {
        "./der": 168,
        "./pem": 170,
        dup: 95
    }],
    170: [function(e, t, i) {
        arguments[4][96][0].apply(i, arguments)
    }
    , {
        "../../asn1": 157,
        "./der": 168,
        buffer: 179,
        dup: 96,
        inherits: 147
    }],
    171: [function(e, t, i) {
        arguments[4][48][0].apply(i, arguments)
    }
    , {
        dup: 48
    }],
    172: [function(e, t, i) {
        arguments[4][49][0].apply(i, arguments)
    }
    , {
        buffer: 179,
        "create-hash/md5": 129,
        dup: 49
    }],
    173: [function(e, t, i) {
        (function(i) {
            function n(e, t) {
                var n = (e.modulus,
                e.modulus.byteLength())
                  , r = (t.length,
                u("sha1").update(new i("")).digest())
                  , o = r.length;
                if (0 !== t[0])
                    throw new Error("decryption error");
                var l = t.slice(1, o + 1)
                  , h = t.slice(o + 1)
                  , d = c(l, a(h, o))
                  , f = c(h, a(d, n - o - 1));
                if (s(r, f.slice(0, o)))
                    throw new Error("decryption error");
                for (var p = o; 0 === f[p]; )
                    p++;
                if (1 !== f[p++])
                    throw new Error("decryption error");
                return f.slice(p)
            }
            function r(e, t, i) {
                for (var n = t.slice(0, 2), r = 2, s = 0; 0 !== t[r++]; )
                    if (r >= t.length) {
                        s++;
                        break
                    }
                var o = t.slice(2, r - 1);
                t.slice(r - 1, r);
                if (("0002" !== n.toString("hex") && !i || "0001" !== n.toString("hex") && i) && s++,
                o.length < 8 && s++,
                s)
                    throw new Error("decryption error");
                return t.slice(r)
            }
            function s(e, t) {
                e = new i(e),
                t = new i(t);
                var n = 0
                  , r = e.length;
                e.length !== t.length && (n++,
                r = Math.min(e.length, t.length));
                for (var s = -1; ++s < r; )
                    n += e[s] ^ t[s];
                return n
            }
            var o = e("parse-asn1")
              , a = e("./mgf")
              , c = e("./xor")
              , l = e("bn.js")
              , h = e("browserify-rsa")
              , u = e("create-hash")
              , d = e("./withPublic");
            t.exports = function(e, t, s) {
                var a;
                a = e.padding ? e.padding : s ? 1 : 4;
                var c = o(e)
                  , u = c.modulus.byteLength();
                if (t.length > u || new l(t).cmp(c.modulus) >= 0)
                    throw new Error("decryption error");
                var f;
                f = s ? d(new l(t), c) : h(t, c);
                var p = new i(u - f.length);
                if (p.fill(0),
                f = i.concat([p, f], u),
                4 === a)
                    return n(c, f);
                if (1 === a)
                    return r(c, f, s);
                if (3 === a)
                    return f;
                throw new Error("unknown padding")
            }
        }
        ).call(this, e("buffer").Buffer)
    }
    , {
        "./mgf": 150,
        "./withPublic": 175,
        "./xor": 176,
        "bn.js": 151,
        "browserify-rsa": 152,
        buffer: 179,
        "create-hash": 127,
        "parse-asn1": 156
    }],
    174: [function(e, t, i) {
        (function(i) {
            function n(e, t) {
                var n = e.modulus.byteLength()
                  , r = t.length
                  , s = c("sha1").update(new i("")).digest()
                  , o = s.length
                  , d = 2 * o;
                if (r > n - d - 2)
                    throw new Error("message too long");
                var f = new i(n - r - d - 2);
                f.fill(0);
                var p = n - o - 1
                  , m = a(o)
                  , g = h(i.concat([s, f, new i([1]), t], p), l(m, p))
                  , y = h(m, l(g, o));
                return new u(i.concat([new i([0]), y, g], n))
            }
            function r(e, t, n) {
                var r = t.length
                  , o = e.modulus.byteLength();
                if (r > o - 11)
                    throw new Error("message too long");
                var a;
                return n ? (a = new i(o - r - 3),
                a.fill(255)) : a = s(o - r - 3),
                new u(i.concat([new i([0, n ? 1 : 2]), a, new i([0]), t], o))
            }
            function s(e, t) {
                for (var n, r = new i(e), s = 0, o = a(2 * e), c = 0; s < e; )
                    c === o.length && (o = a(2 * e),
                    c = 0),
                    n = o[c++],
                    n && (r[s++] = n);
                return r
            }
            var o = e("parse-asn1")
              , a = e("randombytes")
              , c = e("create-hash")
              , l = e("./mgf")
              , h = e("./xor")
              , u = e("bn.js")
              , d = e("./withPublic")
              , f = e("browserify-rsa");
            t.exports = function(e, t, i) {
                var s;
                s = e.padding ? e.padding : i ? 1 : 4;
                var a, c = o(e);
                if (4 === s)
                    a = n(c, t);
                else if (1 === s)
                    a = r(c, t, i);
                else {
                    if (3 !== s)
                        throw new Error("unknown padding");
                    if (a = new u(t),
                    a.cmp(c.modulus) >= 0)
                        throw new Error("data too long for modulus")
                }
                return i ? f(a, c) : d(a, c)
            }
        }
        ).call(this, e("buffer").Buffer)
    }
    , {
        "./mgf": 150,
        "./withPublic": 175,
        "./xor": 176,
        "bn.js": 151,
        "browserify-rsa": 152,
        buffer: 179,
        "create-hash": 127,
        "parse-asn1": 156,
        randombytes: 177
    }],
    175: [function(e, t, i) {
        (function(i) {
            function n(e, t) {
                return new i(e.toRed(r.mont(t.modulus)).redPow(new r(t.publicExponent)).fromRed().toArray())
            }
            var r = e("bn.js");
            t.exports = n
        }
        ).call(this, e("buffer").Buffer)
    }
    , {
        "bn.js": 151,
        buffer: 179
    }],
    176: [function(e, t, i) {
        t.exports = function(e, t) {
            for (var i = e.length, n = -1; ++n < i; )
                e[n] ^= t[n];
            return e
        }
    }
    , {}],
    177: [function(e, t, i) {
        (function(e, i, n) {
            "use strict";
            function r(t, i) {
                var r = new n(t);
                return o.getRandomValues(r),
                "function" == typeof i ? e.nextTick(function() {
                    i(null, r)
                }) : r
            }
            function s() {
                throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")
            }
            var o = i.crypto || i.msCrypto;
            o && o.getRandomValues ? t.exports = r : t.exports = s
        }
        ).call(this, e("_process"), "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {}, e("buffer").Buffer)
    }
    , {
        _process: 186,
        buffer: 179
    }],
    178: [function(e, t, i) {}
    , {}],
    179: [function(e, t, i) {
        function n() {
            return r.TYPED_ARRAY_SUPPORT ? 2147483647 : 1073741823
        }
        function r(e) {
            return this instanceof r ? (this.length = 0,
            this.parent = void 0,
            "number" == typeof e ? s(this, e) : "string" == typeof e ? o(this, e, arguments.length > 1 ? arguments[1] : "utf8") : a(this, e)) : arguments.length > 1 ? new r(e,arguments[1]) : new r(e)
        }
        function s(e, t) {
            if (e = p(e, t < 0 ? 0 : 0 | m(t)),
            !r.TYPED_ARRAY_SUPPORT)
                for (var i = 0; i < t; i++)
                    e[i] = 0;
            return e
        }
        function o(e, t, i) {
            "string" == typeof i && "" !== i || (i = "utf8");
            var n = 0 | y(t, i);
            return e = p(e, n),
            e.write(t, i),
            e
        }
        function a(e, t) {
            if (r.isBuffer(t))
                return c(e, t);
            if (K(t))
                return l(e, t);
            if (null == t)
                throw new TypeError("must start with number, buffer, array or string");
            if ("undefined" != typeof ArrayBuffer) {
                if (t.buffer instanceof ArrayBuffer)
                    return h(e, t);
                if (t instanceof ArrayBuffer)
                    return u(e, t)
            }
            return t.length ? d(e, t) : f(e, t)
        }
        function c(e, t) {
            var i = 0 | m(t.length);
            return e = p(e, i),
            t.copy(e, 0, 0, i),
            e
        }
        function l(e, t) {
            var i = 0 | m(t.length);
            e = p(e, i);
            for (var n = 0; n < i; n += 1)
                e[n] = 255 & t[n];
            return e
        }
        function h(e, t) {
            var i = 0 | m(t.length);
            e = p(e, i);
            for (var n = 0; n < i; n += 1)
                e[n] = 255 & t[n];
            return e
        }
        function u(e, t) {
            return r.TYPED_ARRAY_SUPPORT ? (t.byteLength,
            e = r._augment(new Uint8Array(t))) : e = h(e, new Uint8Array(t)),
            e
        }
        function d(e, t) {
            var i = 0 | m(t.length);
            e = p(e, i);
            for (var n = 0; n < i; n += 1)
                e[n] = 255 & t[n];
            return e
        }
        function f(e, t) {
            var i, n = 0;
            "Buffer" === t.type && K(t.data) && (i = t.data,
            n = 0 | m(i.length)),
            e = p(e, n);
            for (var r = 0; r < n; r += 1)
                e[r] = 255 & i[r];
            return e
        }
        function p(e, t) {
            r.TYPED_ARRAY_SUPPORT ? e = r._augment(new Uint8Array(t)) : (e.length = t,
            e._isBuffer = !0);
            var i = 0 !== t && t <= r.poolSize >>> 1;
            return i && (e.parent = q),
            e
        }
        function m(e) {
            if (e >= n())
                throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x" + n().toString(16) + " bytes");
            return 0 | e
        }
        function g(e, t) {
            if (!(this instanceof g))
                return new g(e,t);
            var i = new r(e,t);
            return delete i.parent,
            i
        }
        function y(e, t) {
            "string" != typeof e && (e = "" + e);
            var i = e.length;
            if (0 === i)
                return 0;
            for (var n = !1; ; )
                switch (t) {
                case "ascii":
                case "binary":
                case "raw":
                case "raws":
                    return i;
                case "utf8":
                case "utf-8":
                    return j(e).length;
                case "ucs2":
                case "ucs-2":
                case "utf16le":
                case "utf-16le":
                    return 2 * i;
                case "hex":
                    return i >>> 1;
                case "base64":
                    return G(e).length;
                default:
                    if (n)
                        return j(e).length;
                    t = ("" + t).toLowerCase(),
                    n = !0
                }
        }
        function v(e, t, i) {
            var n = !1;
            if (t = 0 | t,
            i = void 0 === i || i === 1 / 0 ? this.length : 0 | i,
            e || (e = "utf8"),
            t < 0 && (t = 0),
            i > this.length && (i = this.length),
            i <= t)
                return "";
            for (; ; )
                switch (e) {
                case "hex":
                    return O(this, t, i);
                case "utf8":
                case "utf-8":
                    return A(this, t, i);
                case "ascii":
                    return w(this, t, i);
                case "binary":
                    return R(this, t, i);
                case "base64":
                    return C(this, t, i);
                case "ucs2":
                case "ucs-2":
                case "utf16le":
                case "utf-16le":
                    return I(this, t, i);
                default:
                    if (n)
                        throw new TypeError("Unknown encoding: " + e);
                    e = (e + "").toLowerCase(),
                    n = !0
                }
        }
        function _(e, t, i, n) {
            i = Number(i) || 0;
            var r = e.length - i;
            n ? (n = Number(n),
            n > r && (n = r)) : n = r;
            var s = t.length;
            if (s % 2 !== 0)
                throw new Error("Invalid hex string");
            n > s / 2 && (n = s / 2);
            for (var o = 0; o < n; o++) {
                var a = parseInt(t.substr(2 * o, 2), 16);
                if (isNaN(a))
                    throw new Error("Invalid hex string");
                e[i + o] = a
            }
            return o
        }
        function b(e, t, i, n) {
            return X(j(t, e.length - i), e, i, n)
        }
        function S(e, t, i, n) {
            return X(H(t), e, i, n)
        }
        function E(e, t, i, n) {
            return S(e, t, i, n)
        }
        function P(e, t, i, n) {
            return X(G(t), e, i, n)
        }
        function T(e, t, i, n) {
            return X(z(t, e.length - i), e, i, n)
        }
        function C(e, t, i) {
            return 0 === t && i === e.length ? W.fromByteArray(e) : W.fromByteArray(e.slice(t, i))
        }
        function A(e, t, i) {
            var n = ""
              , r = "";
            i = Math.min(e.length, i);
            for (var s = t; s < i; s++)
                e[s] <= 127 ? (n += $(r) + String.fromCharCode(e[s]),
                r = "") : r += "%" + e[s].toString(16);
            return n + $(r)
        }
        function w(e, t, i) {
            var n = "";
            i = Math.min(e.length, i);
            for (var r = t; r < i; r++)
                n += String.fromCharCode(127 & e[r]);
            return n
        }
        function R(e, t, i) {
            var n = "";
            i = Math.min(e.length, i);
            for (var r = t; r < i; r++)
                n += String.fromCharCode(e[r]);
            return n
        }
        function O(e, t, i) {
            var n = e.length;
            (!t || t < 0) && (t = 0),
            (!i || i < 0 || i > n) && (i = n);
            for (var r = "", s = t; s < i; s++)
                r += U(e[s]);
            return r
        }
        function I(e, t, i) {
            for (var n = e.slice(t, i), r = "", s = 0; s < n.length; s += 2)
                r += String.fromCharCode(n[s] + 256 * n[s + 1]);
            return r
        }
        function L(e, t, i) {
            if (e % 1 !== 0 || e < 0)
                throw new RangeError("offset is not uint");
            if (e + t > i)
                throw new RangeError("Trying to access beyond buffer length")
        }
        function k(e, t, i, n, s, o) {
            if (!r.isBuffer(e))
                throw new TypeError("buffer must be a Buffer instance");
            if (t > s || t < o)
                throw new RangeError("value is out of bounds");
            if (i + n > e.length)
                throw new RangeError("index out of range")
        }
        function D(e, t, i, n) {
            t < 0 && (t = 65535 + t + 1);
            for (var r = 0, s = Math.min(e.length - i, 2); r < s; r++)
                e[i + r] = (t & 255 << 8 * (n ? r : 1 - r)) >>> 8 * (n ? r : 1 - r)
        }
        function N(e, t, i, n) {
            t < 0 && (t = 4294967295 + t + 1);
            for (var r = 0, s = Math.min(e.length - i, 4); r < s; r++)
                e[i + r] = t >>> 8 * (n ? r : 3 - r) & 255
        }
        function M(e, t, i, n, r, s) {
            if (t > r || t < s)
                throw new RangeError("value is out of bounds");
            if (i + n > e.length)
                throw new RangeError("index out of range");
            if (i < 0)
                throw new RangeError("index out of range")
        }
        function x(e, t, i, n, r) {
            return r || M(e, t, i, 4, 3.4028234663852886e38, -3.4028234663852886e38),
            Y.write(e, t, i, n, 23, 4),
            i + 4
        }
        function B(e, t, i, n, r) {
            return r || M(e, t, i, 8, 1.7976931348623157e308, -1.7976931348623157e308),
            Y.write(e, t, i, n, 52, 8),
            i + 8
        }
        function F(e) {
            if (e = V(e).replace(J, ""),
            e.length < 2)
                return "";
            for (; e.length % 4 !== 0; )
                e += "=";
            return e
        }
        function V(e) {
            return e.trim ? e.trim() : e.replace(/^\s+|\s+$/g, "")
        }
        function U(e) {
            return e < 16 ? "0" + e.toString(16) : e.toString(16)
        }
        function j(e, t) {
            t = t || 1 / 0;
            for (var i, n = e.length, r = null, s = [], o = 0; o < n; o++) {
                if (i = e.charCodeAt(o),
                i > 55295 && i < 57344) {
                    if (!r) {
                        if (i > 56319) {
                            (t -= 3) > -1 && s.push(239, 191, 189);
                            continue
                        }
                        if (o + 1 === n) {
                            (t -= 3) > -1 && s.push(239, 191, 189);
                            continue
                        }
                        r = i;
                        continue
                    }
                    if (i < 56320) {
                        (t -= 3) > -1 && s.push(239, 191, 189),
                        r = i;
                        continue
                    }
                    i = r - 55296 << 10 | i - 56320 | 65536,
                    r = null
                } else
                    r && ((t -= 3) > -1 && s.push(239, 191, 189),
                    r = null);
                if (i < 128) {
                    if ((t -= 1) < 0)
                        break;
                    s.push(i)
                } else if (i < 2048) {
                    if ((t -= 2) < 0)
                        break;
                    s.push(i >> 6 | 192, 63 & i | 128)
                } else if (i < 65536) {
                    if ((t -= 3) < 0)
                        break;
                    s.push(i >> 12 | 224, i >> 6 & 63 | 128, 63 & i | 128)
                } else {
                    if (!(i < 2097152))
                        throw new Error("Invalid code point");
                    if ((t -= 4) < 0)
                        break;
                    s.push(i >> 18 | 240, i >> 12 & 63 | 128, i >> 6 & 63 | 128, 63 & i | 128)
                }
            }
            return s
        }
        function H(e) {
            for (var t = [], i = 0; i < e.length; i++)
                t.push(255 & e.charCodeAt(i));
            return t
        }
        function z(e, t) {
            for (var i, n, r, s = [], o = 0; o < e.length && !((t -= 2) < 0); o++)
                i = e.charCodeAt(o),
                n = i >> 8,
                r = i % 256,
                s.push(r),
                s.push(n);
            return s
        }
        function G(e) {
            return W.toByteArray(F(e))
        }
        function X(e, t, i, n) {
            for (var r = 0; r < n && !(r + i >= t.length || r >= e.length); r++)
                t[r + i] = e[r];
            return r
        }
        function $(e) {
            try {
                return decodeURIComponent(e)
            } catch (t) {
                return String.fromCharCode(65533)
            }
        }
        /*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
        var W = e("base64-js")
          , Y = e("ieee754")
          , K = e("is-array");
        i.Buffer = r,
        i.SlowBuffer = g,
        i.INSPECT_MAX_BYTES = 50,
        r.poolSize = 8192;
        var q = {};
        r.TYPED_ARRAY_SUPPORT = function() {
            function e() {}
            try {
                var t = new Uint8Array(1);
                return t.foo = function() {
                    return 42
                }
                ,
                t.constructor = e,
                42 === t.foo() && t.constructor === e && "function" == typeof t.subarray && 0 === t.subarray(1, 1).byteLength
            } catch (i) {
                return !1
            }
        }(),
        window.Buffer = r,
        r.isBuffer = function(e) {
            return !(null == e || !e._isBuffer)
        }
        ,
        r.compare = function(e, t) {
            if (!r.isBuffer(e) || !r.isBuffer(t))
                throw new TypeError("Arguments must be Buffers");
            if (e === t)
                return 0;
            for (var i = e.length, n = t.length, s = 0, o = Math.min(i, n); s < o && e[s] === t[s]; )
                ++s;
            return s !== o && (i = e[s],
            n = t[s]),
            i < n ? -1 : n < i ? 1 : 0
        }
        ,
        r.isEncoding = function(e) {
            switch (String(e).toLowerCase()) {
            case "hex":
            case "utf8":
            case "utf-8":
            case "ascii":
            case "binary":
            case "base64":
            case "raw":
            case "ucs2":
            case "ucs-2":
            case "utf16le":
            case "utf-16le":
                return !0;
            default:
                return !1
            }
        }
        ,
        r.concat = function(e, t) {
            if (!K(e))
                throw new TypeError("list argument must be an Array of Buffers.");
            if (0 === e.length)
                return new r(0);
            var i;
            if (void 0 === t)
                for (t = 0,
                i = 0; i < e.length; i++)
                    t += e[i].length;
            var n = new r(t)
              , s = 0;
            for (i = 0; i < e.length; i++) {
                var o = e[i];
                o.copy(n, s),
                s += o.length
            }
            return n
        }
        ,
        r.byteLength = y,
        r.prototype.length = void 0,
        r.prototype.parent = void 0,
        r.prototype.toString = function() {
            var e = 0 | this.length;
            return 0 === e ? "" : 0 === arguments.length ? A(this, 0, e) : v.apply(this, arguments)
        }
        ,
        r.prototype.equals = function(e) {
            if (!r.isBuffer(e))
                throw new TypeError("Argument must be a Buffer");
            return this === e || 0 === r.compare(this, e)
        }
        ,
        r.prototype.inspect = function() {
            var e = ""
              , t = i.INSPECT_MAX_BYTES;
            return this.length > 0 && (e = this.toString("hex", 0, t).match(/.{2}/g).join(" "),
            this.length > t && (e += " ... ")),
            "<Buffer " + e + ">"
        }
        ,
        r.prototype.compare = function(e) {
            if (!r.isBuffer(e))
                throw new TypeError("Argument must be a Buffer");
            return this === e ? 0 : r.compare(this, e)
        }
        ,
        r.prototype.indexOf = function(e, t) {
            function i(e, t, i) {
                for (var n = -1, r = 0; i + r < e.length; r++)
                    if (e[i + r] === t[n === -1 ? 0 : r - n]) {
                        if (n === -1 && (n = r),
                        r - n + 1 === t.length)
                            return i + n
                    } else
                        n = -1;
                return -1
            }
            if (t > 2147483647 ? t = 2147483647 : t < -2147483648 && (t = -2147483648),
            t >>= 0,
            0 === this.length)
                return -1;
            if (t >= this.length)
                return -1;
            if (t < 0 && (t = Math.max(this.length + t, 0)),
            "string" == typeof e)
                return 0 === e.length ? -1 : String.prototype.indexOf.call(this, e, t);
            if (r.isBuffer(e))
                return i(this, e, t);
            if ("number" == typeof e)
                return r.TYPED_ARRAY_SUPPORT && "function" === Uint8Array.prototype.indexOf ? Uint8Array.prototype.indexOf.call(this, e, t) : i(this, [e], t);
            throw new TypeError("val must be string, number or Buffer")
        }
        ,
        r.prototype.get = function(e) {
            return console.log(".get() is deprecated. Access using array indexes instead."),
            this.readUInt8(e)
        }
        ,
        r.prototype.set = function(e, t) {
            return console.log(".set() is deprecated. Access using array indexes instead."),
            this.writeUInt8(e, t)
        }
        ,
        r.prototype.write = function(e, t, i, n) {
            if (void 0 === t)
                n = "utf8",
                i = this.length,
                t = 0;
            else if (void 0 === i && "string" == typeof t)
                n = t,
                i = this.length,
                t = 0;
            else if (isFinite(t))
                t = 0 | t,
                isFinite(i) ? (i = 0 | i,
                void 0 === n && (n = "utf8")) : (n = i,
                i = void 0);
            else {
                var r = n;
                n = t,
                t = 0 | i,
                i = r
            }
            var s = this.length - t;
            if ((void 0 === i || i > s) && (i = s),
            e.length > 0 && (i < 0 || t < 0) || t > this.length)
                throw new RangeError("attempt to write outside buffer bounds");
            n || (n = "utf8");
            for (var o = !1; ; )
                switch (n) {
                case "hex":
                    return _(this, e, t, i);
                case "utf8":
                case "utf-8":
                    return b(this, e, t, i);
                case "ascii":
                    return S(this, e, t, i);
                case "binary":
                    return E(this, e, t, i);
                case "base64":
                    return P(this, e, t, i);
                case "ucs2":
                case "ucs-2":
                case "utf16le":
                case "utf-16le":
                    return T(this, e, t, i);
                default:
                    if (o)
                        throw new TypeError("Unknown encoding: " + n);
                    n = ("" + n).toLowerCase(),
                    o = !0
                }
        }
        ,
        r.prototype.toJSON = function() {
            return {
                type: "Buffer",
                data: Array.prototype.slice.call(this._arr || this, 0)
            }
        }
        ,
        r.prototype.slice = function(e, t) {
            var i = this.length;
            e = ~~e,
            t = void 0 === t ? i : ~~t,
            e < 0 ? (e += i,
            e < 0 && (e = 0)) : e > i && (e = i),
            t < 0 ? (t += i,
            t < 0 && (t = 0)) : t > i && (t = i),
            t < e && (t = e);
            var n;
            if (r.TYPED_ARRAY_SUPPORT)
                n = r._augment(this.subarray(e, t));
            else {
                var s = t - e;
                n = new r(s,(void 0));
                for (var o = 0; o < s; o++)
                    n[o] = this[o + e]
            }
            return n.length && (n.parent = this.parent || this),
            n
        }
        ,
        r.prototype.readUIntLE = function(e, t, i) {
            e = 0 | e,
            t = 0 | t,
            i || L(e, t, this.length);
            for (var n = this[e], r = 1, s = 0; ++s < t && (r *= 256); )
                n += this[e + s] * r;
            return n
        }
        ,
        r.prototype.readUIntBE = function(e, t, i) {
            e = 0 | e,
            t = 0 | t,
            i || L(e, t, this.length);
            for (var n = this[e + --t], r = 1; t > 0 && (r *= 256); )
                n += this[e + --t] * r;
            return n
        }
        ,
        r.prototype.readUInt8 = function(e, t) {
            return t || L(e, 1, this.length),
            this[e]
        }
        ,
        r.prototype.readUInt16LE = function(e, t) {
            return t || L(e, 2, this.length),
            this[e] | this[e + 1] << 8
        }
        ,
        r.prototype.readUInt16BE = function(e, t) {
            return t || L(e, 2, this.length),
            this[e] << 8 | this[e + 1]
        }
        ,
        r.prototype.readUInt32LE = function(e, t) {
            return t || L(e, 4, this.length),
            (this[e] | this[e + 1] << 8 | this[e + 2] << 16) + 16777216 * this[e + 3]
        }
        ,
        r.prototype.readUInt32BE = function(e, t) {
            return t || L(e, 4, this.length),
            16777216 * this[e] + (this[e + 1] << 16 | this[e + 2] << 8 | this[e + 3])
        }
        ,
        r.prototype.readIntLE = function(e, t, i) {
            e = 0 | e,
            t = 0 | t,
            i || L(e, t, this.length);
            for (var n = this[e], r = 1, s = 0; ++s < t && (r *= 256); )
                n += this[e + s] * r;
            return r *= 128,
            n >= r && (n -= Math.pow(2, 8 * t)),
            n
        }
        ,
        r.prototype.readIntBE = function(e, t, i) {
            e = 0 | e,
            t = 0 | t,
            i || L(e, t, this.length);
            for (var n = t, r = 1, s = this[e + --n]; n > 0 && (r *= 256); )
                s += this[e + --n] * r;
            return r *= 128,
            s >= r && (s -= Math.pow(2, 8 * t)),
            s
        }
        ,
        r.prototype.readInt8 = function(e, t) {
            return t || L(e, 1, this.length),
            128 & this[e] ? (255 - this[e] + 1) * -1 : this[e]
        }
        ,
        r.prototype.readInt16LE = function(e, t) {
            t || L(e, 2, this.length);
            var i = this[e] | this[e + 1] << 8;
            return 32768 & i ? 4294901760 | i : i
        }
        ,
        r.prototype.readInt16BE = function(e, t) {
            t || L(e, 2, this.length);
            var i = this[e + 1] | this[e] << 8;
            return 32768 & i ? 4294901760 | i : i
        }
        ,
        r.prototype.readInt32LE = function(e, t) {
            return t || L(e, 4, this.length),
            this[e] | this[e + 1] << 8 | this[e + 2] << 16 | this[e + 3] << 24
        }
        ,
        r.prototype.readInt32BE = function(e, t) {
            return t || L(e, 4, this.length),
            this[e] << 24 | this[e + 1] << 16 | this[e + 2] << 8 | this[e + 3]
        }
        ,
        r.prototype.readFloatLE = function(e, t) {
            return t || L(e, 4, this.length),
            Y.read(this, e, !0, 23, 4)
        }
        ,
        r.prototype.readFloatBE = function(e, t) {
            return t || L(e, 4, this.length),
            Y.read(this, e, !1, 23, 4)
        }
        ,
        r.prototype.readDoubleLE = function(e, t) {
            return t || L(e, 8, this.length),
            Y.read(this, e, !0, 52, 8)
        }
        ,
        r.prototype.readDoubleBE = function(e, t) {
            return t || L(e, 8, this.length),
            Y.read(this, e, !1, 52, 8)
        }
        ,
        r.prototype.writeUIntLE = function(e, t, i, n) {
            e = +e,
            t = 0 | t,
            i = 0 | i,
            n || k(this, e, t, i, Math.pow(2, 8 * i), 0);
            var r = 1
              , s = 0;
            for (this[t] = 255 & e; ++s < i && (r *= 256); )
                this[t + s] = e / r & 255;
            return t + i
        }
        ,
        r.prototype.writeUIntBE = function(e, t, i, n) {
            e = +e,
            t = 0 | t,
            i = 0 | i,
            n || k(this, e, t, i, Math.pow(2, 8 * i), 0);
            var r = i - 1
              , s = 1;
            for (this[t + r] = 255 & e; --r >= 0 && (s *= 256); )
                this[t + r] = e / s & 255;
            return t + i
        }
        ,
        r.prototype.writeUInt8 = function(e, t, i) {
            return e = +e,
            t = 0 | t,
            i || k(this, e, t, 1, 255, 0),
            r.TYPED_ARRAY_SUPPORT || (e = Math.floor(e)),
            this[t] = e,
            t + 1
        }
        ,
        r.prototype.writeUInt16LE = function(e, t, i) {
            return e = +e,
            t = 0 | t,
            i || k(this, e, t, 2, 65535, 0),
            r.TYPED_ARRAY_SUPPORT ? (this[t] = e,
            this[t + 1] = e >>> 8) : D(this, e, t, !0),
            t + 2
        }
        ,
        r.prototype.writeUInt16BE = function(e, t, i) {
            return e = +e,
            t = 0 | t,
            i || k(this, e, t, 2, 65535, 0),
            r.TYPED_ARRAY_SUPPORT ? (this[t] = e >>> 8,
            this[t + 1] = e) : D(this, e, t, !1),
            t + 2
        }
        ,
        r.prototype.writeUInt32LE = function(e, t, i) {
            return e = +e,
            t = 0 | t,
            i || k(this, e, t, 4, 4294967295, 0),
            r.TYPED_ARRAY_SUPPORT ? (this[t + 3] = e >>> 24,
            this[t + 2] = e >>> 16,
            this[t + 1] = e >>> 8,
            this[t] = e) : N(this, e, t, !0),
            t + 4
        }
        ,
        r.prototype.writeUInt32BE = function(e, t, i) {
            return e = +e,
            t = 0 | t,
            i || k(this, e, t, 4, 4294967295, 0),
            r.TYPED_ARRAY_SUPPORT ? (this[t] = e >>> 24,
            this[t + 1] = e >>> 16,
            this[t + 2] = e >>> 8,
            this[t + 3] = e) : N(this, e, t, !1),
            t + 4
        }
        ,
        r.prototype.writeIntLE = function(e, t, i, n) {
            if (e = +e,
            t = 0 | t,
            !n) {
                var r = Math.pow(2, 8 * i - 1);
                k(this, e, t, i, r - 1, -r)
            }
            var s = 0
              , o = 1
              , a = e < 0 ? 1 : 0;
            for (this[t] = 255 & e; ++s < i && (o *= 256); )
                this[t + s] = (e / o >> 0) - a & 255;
            return t + i
        }
        ,
        r.prototype.writeIntBE = function(e, t, i, n) {
            if (e = +e,
            t = 0 | t,
            !n) {
                var r = Math.pow(2, 8 * i - 1);
                k(this, e, t, i, r - 1, -r)
            }
            var s = i - 1
              , o = 1
              , a = e < 0 ? 1 : 0;
            for (this[t + s] = 255 & e; --s >= 0 && (o *= 256); )
                this[t + s] = (e / o >> 0) - a & 255;
            return t + i
        }
        ,
        r.prototype.writeInt8 = function(e, t, i) {
            return e = +e,
            t = 0 | t,
            i || k(this, e, t, 1, 127, -128),
            r.TYPED_ARRAY_SUPPORT || (e = Math.floor(e)),
            e < 0 && (e = 255 + e + 1),
            this[t] = e,
            t + 1
        }
        ,
        r.prototype.writeInt16LE = function(e, t, i) {
            return e = +e,
            t = 0 | t,
            i || k(this, e, t, 2, 32767, -32768),
            r.TYPED_ARRAY_SUPPORT ? (this[t] = e,
            this[t + 1] = e >>> 8) : D(this, e, t, !0),
            t + 2
        }
        ,
        r.prototype.writeInt16BE = function(e, t, i) {
            return e = +e,
            t = 0 | t,
            i || k(this, e, t, 2, 32767, -32768),
            r.TYPED_ARRAY_SUPPORT ? (this[t] = e >>> 8,
            this[t + 1] = e) : D(this, e, t, !1),
            t + 2
        }
        ,
        r.prototype.writeInt32LE = function(e, t, i) {
            return e = +e,
            t = 0 | t,
            i || k(this, e, t, 4, 2147483647, -2147483648),
            r.TYPED_ARRAY_SUPPORT ? (this[t] = e,
            this[t + 1] = e >>> 8,
            this[t + 2] = e >>> 16,
            this[t + 3] = e >>> 24) : N(this, e, t, !0),
            t + 4
        }
        ,
        r.prototype.writeInt32BE = function(e, t, i) {
            return e = +e,
            t = 0 | t,
            i || k(this, e, t, 4, 2147483647, -2147483648),
            e < 0 && (e = 4294967295 + e + 1),
            r.TYPED_ARRAY_SUPPORT ? (this[t] = e >>> 24,
            this[t + 1] = e >>> 16,
            this[t + 2] = e >>> 8,
            this[t + 3] = e) : N(this, e, t, !1),
            t + 4
        }
        ,
        r.prototype.writeFloatLE = function(e, t, i) {
            return x(this, e, t, !0, i)
        }
        ,
        r.prototype.writeFloatBE = function(e, t, i) {
            return x(this, e, t, !1, i)
        }
        ,
        r.prototype.writeDoubleLE = function(e, t, i) {
            return B(this, e, t, !0, i)
        }
        ,
        r.prototype.writeDoubleBE = function(e, t, i) {
            return B(this, e, t, !1, i)
        }
        ,
        r.prototype.copy = function(e, t, i, n) {
            if (i || (i = 0),
            n || 0 === n || (n = this.length),
            t >= e.length && (t = e.length),
            t || (t = 0),
            n > 0 && n < i && (n = i),
            n === i)
                return 0;
            if (0 === e.length || 0 === this.length)
                return 0;
            if (t < 0)
                throw new RangeError("targetStart out of bounds");
            if (i < 0 || i >= this.length)
                throw new RangeError("sourceStart out of bounds");
            if (n < 0)
                throw new RangeError("sourceEnd out of bounds");
            n > this.length && (n = this.length),
            e.length - t < n - i && (n = e.length - t + i);
            var s, o = n - i;
            if (this === e && i < t && t < n)
                for (s = o - 1; s >= 0; s--)
                    e[s + t] = this[s + i];
            else if (o < 1e3 || !r.TYPED_ARRAY_SUPPORT)
                for (s = 0; s < o; s++)
                    e[s + t] = this[s + i];
            else
                e._set(this.subarray(i, i + o), t);
            return o
        }
        ,
        r.prototype.fill = function(e, t, i) {
            if (e || (e = 0),
            t || (t = 0),
            i || (i = this.length),
            i < t)
                throw new RangeError("end < start");
            if (i !== t && 0 !== this.length) {
                if (t < 0 || t >= this.length)
                    throw new RangeError("start out of bounds");
                if (i < 0 || i > this.length)
                    throw new RangeError("end out of bounds");
                var n;
                if ("number" == typeof e)
                    for (n = t; n < i; n++)
                        this[n] = e;
                else {
                    var r = j(e.toString())
                      , s = r.length;
                    for (n = t; n < i; n++)
                        this[n] = r[n % s]
                }
                return this
            }
        }
        ,
        r.prototype.toArrayBuffer = function() {
            if ("undefined" != typeof Uint8Array) {
                if (r.TYPED_ARRAY_SUPPORT)
                    return new r(this).buffer;
                for (var e = new Uint8Array(this.length), t = 0, i = e.length; t < i; t += 1)
                    e[t] = this[t];
                return e.buffer
            }
            throw new TypeError("Buffer.toArrayBuffer not supported in this browser")
        }
        ;
        var Z = r.prototype;
        r._augment = function(e) {
            return e.constructor = r,
            e._isBuffer = !0,
            e._set = e.set,
            e.get = Z.get,
            e.set = Z.set,
            e.write = Z.write,
            e.toString = Z.toString,
            e.toLocaleString = Z.toString,
            e.toJSON = Z.toJSON,
            e.equals = Z.equals,
            e.compare = Z.compare,
            e.indexOf = Z.indexOf,
            e.copy = Z.copy,
            e.slice = Z.slice,
            e.readUIntLE = Z.readUIntLE,
            e.readUIntBE = Z.readUIntBE,
            e.readUInt8 = Z.readUInt8,
            e.readUInt16LE = Z.readUInt16LE,
            e.readUInt16BE = Z.readUInt16BE,
            e.readUInt32LE = Z.readUInt32LE,
            e.readUInt32BE = Z.readUInt32BE,
            e.readIntLE = Z.readIntLE,
            e.readIntBE = Z.readIntBE,
            e.readInt8 = Z.readInt8,
            e.readInt16LE = Z.readInt16LE,
            e.readInt16BE = Z.readInt16BE,
            e.readInt32LE = Z.readInt32LE,
            e.readInt32BE = Z.readInt32BE,
            e.readFloatLE = Z.readFloatLE,
            e.readFloatBE = Z.readFloatBE,
            e.readDoubleLE = Z.readDoubleLE,
            e.readDoubleBE = Z.readDoubleBE,
            e.writeUInt8 = Z.writeUInt8,
            e.writeUIntLE = Z.writeUIntLE,
            e.writeUIntBE = Z.writeUIntBE,
            e.writeUInt16LE = Z.writeUInt16LE,
            e.writeUInt16BE = Z.writeUInt16BE,
            e.writeUInt32LE = Z.writeUInt32LE,
            e.writeUInt32BE = Z.writeUInt32BE,
            e.writeIntLE = Z.writeIntLE,
            e.writeIntBE = Z.writeIntBE,
            e.writeInt8 = Z.writeInt8,
            e.writeInt16LE = Z.writeInt16LE,
            e.writeInt16BE = Z.writeInt16BE,
            e.writeInt32LE = Z.writeInt32LE,
            e.writeInt32BE = Z.writeInt32BE,
            e.writeFloatLE = Z.writeFloatLE,
            e.writeFloatBE = Z.writeFloatBE,
            e.writeDoubleLE = Z.writeDoubleLE,
            e.writeDoubleBE = Z.writeDoubleBE,
            e.fill = Z.fill,
            e.inspect = Z.inspect,
            e.toArrayBuffer = Z.toArrayBuffer,
            e
        }
        ;
        var J = /[^+\/0-9A-Za-z-_]/g
    }
    , {
        "base64-js": 180,
        ieee754: 181,
        "is-array": 182
    }],
    180: [function(e, t, i) {
        var n = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";
        !function(e) {
            "use strict";
            function t(e) {
                var t = e.charCodeAt(0);
                return t === o || t === u ? 62 : t === a || t === d ? 63 : t < c ? -1 : t < c + 10 ? t - c + 26 + 26 : t < h + 26 ? t - h : t < l + 26 ? t - l + 26 : void 0
            }
            function i(e) {
                function i(e) {
                    l[u++] = e
                }
                var n, r, o, a, c, l;
                if (e.length % 4 > 0)
                    throw new Error("Invalid string. Length must be a multiple of 4");
                var h = e.length;
                c = "=" === e.charAt(h - 2) ? 2 : "=" === e.charAt(h - 1) ? 1 : 0,
                l = new s(3 * e.length / 4 - c),
                o = c > 0 ? e.length - 4 : e.length;
                var u = 0;
                for (n = 0,
                r = 0; n < o; n += 4,
                r += 3)
                    a = t(e.charAt(n)) << 18 | t(e.charAt(n + 1)) << 12 | t(e.charAt(n + 2)) << 6 | t(e.charAt(n + 3)),
                    i((16711680 & a) >> 16),
                    i((65280 & a) >> 8),
                    i(255 & a);
                return 2 === c ? (a = t(e.charAt(n)) << 2 | t(e.charAt(n + 1)) >> 4,
                i(255 & a)) : 1 === c && (a = t(e.charAt(n)) << 10 | t(e.charAt(n + 1)) << 4 | t(e.charAt(n + 2)) >> 2,
                i(a >> 8 & 255),
                i(255 & a)),
                l
            }
            function r(e) {
                function t(e) {
                    return n.charAt(e)
                }
                function i(e) {
                    return t(e >> 18 & 63) + t(e >> 12 & 63) + t(e >> 6 & 63) + t(63 & e)
                }
                var r, s, o, a = e.length % 3, c = "";
                for (r = 0,
                o = e.length - a; r < o; r += 3)
                    s = (e[r] << 16) + (e[r + 1] << 8) + e[r + 2],
                    c += i(s);
                switch (a) {
                case 1:
                    s = e[e.length - 1],
                    c += t(s >> 2),
                    c += t(s << 4 & 63),
                    c += "==";
                    break;
                case 2:
                    s = (e[e.length - 2] << 8) + e[e.length - 1],
                    c += t(s >> 10),
                    c += t(s >> 4 & 63),
                    c += t(s << 2 & 63),
                    c += "="
                }
                return c
            }
            var s = "undefined" != typeof Uint8Array ? Uint8Array : Array
              , o = "+".charCodeAt(0)
              , a = "/".charCodeAt(0)
              , c = "0".charCodeAt(0)
              , l = "a".charCodeAt(0)
              , h = "A".charCodeAt(0)
              , u = "-".charCodeAt(0)
              , d = "_".charCodeAt(0);
            e.toByteArray = i,
            e.fromByteArray = r
        }("undefined" == typeof i ? this.base64js = {} : i)
    }
    , {}],
    181: [function(e, t, i) {
        i.read = function(e, t, i, n, r) {
            var s, o, a = 8 * r - n - 1, c = (1 << a) - 1, l = c >> 1, h = -7, u = i ? r - 1 : 0, d = i ? -1 : 1, f = e[t + u];
            for (u += d,
            s = f & (1 << -h) - 1,
            f >>= -h,
            h += a; h > 0; s = 256 * s + e[t + u],
            u += d,
            h -= 8)
                ;
            for (o = s & (1 << -h) - 1,
            s >>= -h,
            h += n; h > 0; o = 256 * o + e[t + u],
            u += d,
            h -= 8)
                ;
            if (0 === s)
                s = 1 - l;
            else {
                if (s === c)
                    return o ? NaN : (f ? -1 : 1) * (1 / 0);
                o += Math.pow(2, n),
                s -= l
            }
            return (f ? -1 : 1) * o * Math.pow(2, s - n)
        }
        ,
        i.write = function(e, t, i, n, r, s) {
            var o, a, c, l = 8 * s - r - 1, h = (1 << l) - 1, u = h >> 1, d = 23 === r ? Math.pow(2, -24) - Math.pow(2, -77) : 0, f = n ? 0 : s - 1, p = n ? 1 : -1, m = t < 0 || 0 === t && 1 / t < 0 ? 1 : 0;
            for (t = Math.abs(t),
            isNaN(t) || t === 1 / 0 ? (a = isNaN(t) ? 1 : 0,
            o = h) : (o = Math.floor(Math.log(t) / Math.LN2),
            t * (c = Math.pow(2, -o)) < 1 && (o--,
            c *= 2),
            t += o + u >= 1 ? d / c : d * Math.pow(2, 1 - u),
            t * c >= 2 && (o++,
            c /= 2),
            o + u >= h ? (a = 0,
            o = h) : o + u >= 1 ? (a = (t * c - 1) * Math.pow(2, r),
            o += u) : (a = t * Math.pow(2, u - 1) * Math.pow(2, r),
            o = 0)); r >= 8; e[i + f] = 255 & a,
            f += p,
            a /= 256,
            r -= 8)
                ;
            for (o = o << r | a,
            l += r; l > 0; e[i + f] = 255 & o,
            f += p,
            o /= 256,
            l -= 8)
                ;
            e[i + f - p] |= 128 * m
        }
    }
    , {}],
    182: [function(e, t, i) {
        var n = Array.isArray
          , r = Object.prototype.toString;
        t.exports = n || function(e) {
            return !!e && "[object Array]" == r.call(e)
        }
    }
    , {}],
    183: [function(e, t, i) {
        function n() {
            this._events = this._events || {},
            this._maxListeners = this._maxListeners || void 0
        }
        function r(e) {
            return "function" == typeof e
        }
        function s(e) {
            return "number" == typeof e
        }
        function o(e) {
            return "object" == typeof e && null !== e
        }
        function a(e) {
            return void 0 === e
        }
        t.exports = n,
        n.EventEmitter = n,
        n.prototype._events = void 0,
        n.prototype._maxListeners = void 0,
        n.defaultMaxListeners = 10,
        n.prototype.setMaxListeners = function(e) {
            if (!s(e) || e < 0 || isNaN(e))
                throw TypeError("n must be a positive number");
            return this._maxListeners = e,
            this
        }
        ,
        n.prototype.emit = function(e) {
            var t, i, n, s, c, l;
            if (this._events || (this._events = {}),
            "error" === e && (!this._events.error || o(this._events.error) && !this._events.error.length)) {
                if (t = arguments[1],
                t instanceof Error)
                    throw t;
                throw TypeError('Uncaught, unspecified "error" event.')
            }
            if (i = this._events[e],
            a(i))
                return !1;
            if (r(i))
                switch (arguments.length) {
                case 1:
                    i.call(this);
                    break;
                case 2:
                    i.call(this, arguments[1]);
                    break;
                case 3:
                    i.call(this, arguments[1], arguments[2]);
                    break;
                default:
                    for (n = arguments.length,
                    s = new Array(n - 1),
                    c = 1; c < n; c++)
                        s[c - 1] = arguments[c];
                    i.apply(this, s)
                }
            else if (o(i)) {
                for (n = arguments.length,
                s = new Array(n - 1),
                c = 1; c < n; c++)
                    s[c - 1] = arguments[c];
                for (l = i.slice(),
                n = l.length,
                c = 0; c < n; c++)
                    l[c].apply(this, s)
            }
            return !0
        }
        ,
        n.prototype.addListener = function(e, t) {
            var i;
            if (!r(t))
                throw TypeError("listener must be a function");
            if (this._events || (this._events = {}),
            this._events.newListener && this.emit("newListener", e, r(t.listener) ? t.listener : t),
            this._events[e] ? o(this._events[e]) ? this._events[e].push(t) : this._events[e] = [this._events[e], t] : this._events[e] = t,
            o(this._events[e]) && !this._events[e].warned) {
                var i;
                i = a(this._maxListeners) ? n.defaultMaxListeners : this._maxListeners,
                i && i > 0 && this._events[e].length > i && (this._events[e].warned = !0,
                console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.", this._events[e].length),
                "function" == typeof console.trace && console.trace())
            }
            return this
        }
        ,
        n.prototype.on = n.prototype.addListener,
        n.prototype.once = function(e, t) {
            function i() {
                this.removeListener(e, i),
                n || (n = !0,
                t.apply(this, arguments))
            }
            if (!r(t))
                throw TypeError("listener must be a function");
            var n = !1;
            return i.listener = t,
            this.on(e, i),
            this
        }
        ,
        n.prototype.removeListener = function(e, t) {
            var i, n, s, a;
            if (!r(t))
                throw TypeError("listener must be a function");
            if (!this._events || !this._events[e])
                return this;
            if (i = this._events[e],
            s = i.length,
            n = -1,
            i === t || r(i.listener) && i.listener === t)
                delete this._events[e],
                this._events.removeListener && this.emit("removeListener", e, t);
            else if (o(i)) {
                for (a = s; a-- > 0; )
                    if (i[a] === t || i[a].listener && i[a].listener === t) {
                        n = a;
                        break
                    }
                if (n < 0)
                    return this;
                1 === i.length ? (i.length = 0,
                delete this._events[e]) : i.splice(n, 1),
                this._events.removeListener && this.emit("removeListener", e, t)
            }
            return this
        }
        ,
        n.prototype.removeAllListeners = function(e) {
            var t, i;
            if (!this._events)
                return this;
            if (!this._events.removeListener)
                return 0 === arguments.length ? this._events = {} : this._events[e] && delete this._events[e],
                this;
            if (0 === arguments.length) {
                for (t in this._events)
                    "removeListener" !== t && this.removeAllListeners(t);
                return this.removeAllListeners("removeListener"),
                this._events = {},
                this
            }
            if (i = this._events[e],
            r(i))
                this.removeListener(e, i);
            else
                for (; i.length; )
                    this.removeListener(e, i[i.length - 1]);
            return delete this._events[e],
            this
        }
        ,
        n.prototype.listeners = function(e) {
            var t;
            return t = this._events && this._events[e] ? r(this._events[e]) ? [this._events[e]] : this._events[e].slice() : []
        }
        ,
        n.listenerCount = function(e, t) {
            var i;
            return i = e._events && e._events[t] ? r(e._events[t]) ? 1 : e._events[t].length : 0
        }
    }
    , {}],
    184: [function(e, t, i) {
        arguments[4][147][0].apply(i, arguments)
    }
    , {
        dup: 147
    }],
    185: [function(e, t, i) {
        t.exports = Array.isArray || function(e) {
            return "[object Array]" == Object.prototype.toString.call(e)
        }
    }
    , {}],
    186: [function(e, t, i) {
        function n() {
            h = !1,
            a.length ? l = a.concat(l) : u = -1,
            l.length && r()
        }
        function r() {
            if (!h) {
                var e = setTimeout(n);
                h = !0;
                for (var t = l.length; t; ) {
                    for (a = l,
                    l = []; ++u < t; )
                        a[u].run();
                    u = -1,
                    t = l.length
                }
                a = null,
                h = !1,
                clearTimeout(e)
            }
        }
        function s(e, t) {
            this.fun = e,
            this.array = t
        }
        function o() {}
        var a, c = t.exports = {}, l = [], h = !1, u = -1;
        c.nextTick = function(e) {
            var t = new Array(arguments.length - 1);
            if (arguments.length > 1)
                for (var i = 1; i < arguments.length; i++)
                    t[i - 1] = arguments[i];
            l.push(new s(e,t)),
            1 !== l.length || h || setTimeout(r, 0)
        }
        ,
        s.prototype.run = function() {
            this.fun.apply(null, this.array)
        }
        ,
        c.title = "browser",
        c.browser = !0,
        c.env = {},
        c.argv = [],
        c.version = "",
        c.versions = {},
        c.on = o,
        c.addListener = o,
        c.once = o,
        c.off = o,
        c.removeListener = o,
        c.removeAllListeners = o,
        c.emit = o,
        c.binding = function(e) {
            throw new Error("process.binding is not supported")
        }
        ,
        c.cwd = function() {
            return "/"
        }
        ,
        c.chdir = function(e) {
            throw new Error("process.chdir is not supported")
        }
        ,
        c.umask = function() {
            return 0
        }
    }
    , {}],
    187: [function(e, t, i) {
        t.exports = e("./lib/_stream_duplex.js")
    }
    , {
        "./lib/_stream_duplex.js": 188
    }],
    188: [function(e, t, i) {
        "use strict";
        function n(e) {
            return this instanceof n ? (l.call(this, e),
            h.call(this, e),
            e && e.readable === !1 && (this.readable = !1),
            e && e.writable === !1 && (this.writable = !1),
            this.allowHalfOpen = !0,
            e && e.allowHalfOpen === !1 && (this.allowHalfOpen = !1),
            void this.once("end", r)) : new n(e)
        }
        function r() {
            this.allowHalfOpen || this._writableState.ended || a(s, this)
        }
        function s(e) {
            e.end()
        }
        var o = Object.keys || function(e) {
            var t = [];
            for (var i in e)
                t.push(i);
            return t
        }
        ;
        t.exports = n;
        var a = e("process-nextick-args")
          , c = e("core-util-is");
        c.inherits = e("inherits");
        var l = e("./_stream_readable")
          , h = e("./_stream_writable");
        c.inherits(n, l);
        for (var u = o(h.prototype), d = 0; d < u.length; d++) {
            var f = u[d];
            n.prototype[f] || (n.prototype[f] = h.prototype[f])
        }
    }
    , {
        "./_stream_readable": 190,
        "./_stream_writable": 192,
        "core-util-is": 193,
        inherits: 184,
        "process-nextick-args": 194
    }],
    189: [function(e, t, i) {
        "use strict";
        function n(e) {
            return this instanceof n ? void r.call(this, e) : new n(e)
        }
        t.exports = n;
        var r = e("./_stream_transform")
          , s = e("core-util-is");
        s.inherits = e("inherits"),
        s.inherits(n, r),
        n.prototype._transform = function(e, t, i) {
            i(null, e)
        }
    }
    , {
        "./_stream_transform": 191,
        "core-util-is": 193,
        inherits: 184
    }],
    190: [function(e, t, i) {
        (function(i) {
            "use strict";
            function n(t, i) {
                var n = e("./_stream_duplex");
                t = t || {},
                this.objectMode = !!t.objectMode,
                i instanceof n && (this.objectMode = this.objectMode || !!t.readableObjectMode);
                var r = t.highWaterMark
                  , s = this.objectMode ? 16 : 16384;
                this.highWaterMark = r || 0 === r ? r : s,
                this.highWaterMark = ~~this.highWaterMark,
                this.buffer = [],
                this.length = 0,
                this.pipes = null,
                this.pipesCount = 0,
                this.flowing = null,
                this.ended = !1,
                this.endEmitted = !1,
                this.reading = !1,
                this.sync = !0,
                this.needReadable = !1,
                this.emittedReadable = !1,
                this.readableListening = !1,
                this.defaultEncoding = t.defaultEncoding || "utf8",
                this.ranOut = !1,
                this.awaitDrain = 0,
                this.readingMore = !1,
                this.decoder = null,
                this.encoding = null,
                t.encoding && (k || (k = e("string_decoder/").StringDecoder),
                this.decoder = new k(t.encoding),
                this.encoding = t.encoding)
            }
            function r(t) {
                e("./_stream_duplex");
                return this instanceof r ? (this._readableState = new n(t,this),
                this.readable = !0,
                t && "function" == typeof t.read && (this._read = t.read),
                void O.call(this)) : new r(t)
            }
            function s(e, t, i, n, r) {
                var s = l(t, i);
                if (s)
                    e.emit("error", s);
                else if (null === i)
                    t.reading = !1,
                    h(e, t);
                else if (t.objectMode || i && i.length > 0)
                    if (t.ended && !r) {
                        var a = new Error("stream.push() after EOF");
                        e.emit("error", a)
                    } else if (t.endEmitted && r) {
                        var a = new Error("stream.unshift() after end event");
                        e.emit("error", a)
                    } else
                        !t.decoder || r || n || (i = t.decoder.write(i)),
                        r || (t.reading = !1),
                        t.flowing && 0 === t.length && !t.sync ? (e.emit("data", i),
                        e.read(0)) : (t.length += t.objectMode ? 1 : i.length,
                        r ? t.buffer.unshift(i) : t.buffer.push(i),
                        t.needReadable && u(e)),
                        f(e, t);
                else
                    r || (t.reading = !1);
                return o(t)
            }
            function o(e) {
                return !e.ended && (e.needReadable || e.length < e.highWaterMark || 0 === e.length)
            }
            function a(e) {
                if (e >= D)
                    e = D;
                else {
                    e--;
                    for (var t = 1; t < 32; t <<= 1)
                        e |= e >> t;
                    e++
                }
                return e
            }
            function c(e, t) {
                return 0 === t.length && t.ended ? 0 : t.objectMode ? 0 === e ? 0 : 1 : null === e || isNaN(e) ? t.flowing && t.buffer.length ? t.buffer[0].length : t.length : e <= 0 ? 0 : (e > t.highWaterMark && (t.highWaterMark = a(e)),
                e > t.length ? t.ended ? t.length : (t.needReadable = !0,
                0) : e)
            }
            function l(e, t) {
                var i = null;
                return w.isBuffer(t) || "string" == typeof t || null === t || void 0 === t || e.objectMode || (i = new TypeError("Invalid non-string/buffer chunk")),
                i
            }
            function h(e, t) {
                if (!t.ended) {
                    if (t.decoder) {
                        var i = t.decoder.end();
                        i && i.length && (t.buffer.push(i),
                        t.length += t.objectMode ? 1 : i.length)
                    }
                    t.ended = !0,
                    u(e)
                }
            }
            function u(e) {
                var t = e._readableState;
                t.needReadable = !1,
                t.emittedReadable || (L("emitReadable", t.flowing),
                t.emittedReadable = !0,
                t.sync ? C(d, e) : d(e))
            }
            function d(e) {
                L("emit readable"),
                e.emit("readable"),
                _(e)
            }
            function f(e, t) {
                t.readingMore || (t.readingMore = !0,
                C(p, e, t))
            }
            function p(e, t) {
                for (var i = t.length; !t.reading && !t.flowing && !t.ended && t.length < t.highWaterMark && (L("maybeReadMore read 0"),
                e.read(0),
                i !== t.length); )
                    i = t.length;
                t.readingMore = !1
            }
            function m(e) {
                return function() {
                    var t = e._readableState;
                    L("pipeOnDrain", t.awaitDrain),
                    t.awaitDrain && t.awaitDrain--,
                    0 === t.awaitDrain && R.listenerCount(e, "data") && (t.flowing = !0,
                    _(e))
                }
            }
            function g(e) {
                L("readable nexttick read 0"),
                e.read(0)
            }
            function y(e, t) {
                t.resumeScheduled || (t.resumeScheduled = !0,
                C(v, e, t))
            }
            function v(e, t) {
                t.reading || (L("resume read 0"),
                e.read(0)),
                t.resumeScheduled = !1,
                e.emit("resume"),
                _(e),
                t.flowing && !t.reading && e.read(0)
            }
            function _(e) {
                var t = e._readableState;
                if (L("flow", t.flowing),
                t.flowing)
                    do
                        var i = e.read();
                    while (null !== i && t.flowing)
            }
            function b(e, t) {
                var i, n = t.buffer, r = t.length, s = !!t.decoder, o = !!t.objectMode;
                if (0 === n.length)
                    return null;
                if (0 === r)
                    i = null;
                else if (o)
                    i = n.shift();
                else if (!e || e >= r)
                    i = s ? n.join("") : w.concat(n, r),
                    n.length = 0;
                else if (e < n[0].length) {
                    var a = n[0];
                    i = a.slice(0, e),
                    n[0] = a.slice(e)
                } else if (e === n[0].length)
                    i = n.shift();
                else {
                    i = s ? "" : new w(e);
                    for (var c = 0, l = 0, h = n.length; l < h && c < e; l++) {
                        var a = n[0]
                          , u = Math.min(e - c, a.length);
                        s ? i += a.slice(0, u) : a.copy(i, c, 0, u),
                        u < a.length ? n[0] = a.slice(u) : n.shift(),
                        c += u
                    }
                }
                return i
            }
            function S(e) {
                var t = e._readableState;
                if (t.length > 0)
                    throw new Error("endReadable called on non-empty stream");
                t.endEmitted || (t.ended = !0,
                C(E, t, e))
            }
            function E(e, t) {
                e.endEmitted || 0 !== e.length || (e.endEmitted = !0,
                t.readable = !1,
                t.emit("end"))
            }
            function P(e, t) {
                for (var i = 0, n = e.length; i < n; i++)
                    t(e[i], i)
            }
            function T(e, t) {
                for (var i = 0, n = e.length; i < n; i++)
                    if (e[i] === t)
                        return i;
                return -1
            }
            t.exports = r;
            var C = e("process-nextick-args")
              , A = e("isarray")
              , w = e("buffer").Buffer;
            r.ReadableState = n;
            var R = e("events").EventEmitter;
            R.listenerCount || (R.listenerCount = function(e, t) {
                return e.listeners(t).length
            }
            );
            var O;
            !function() {
                try {
                    O = e("stream")
                } catch (t) {} finally {
                    O || (O = e("events").EventEmitter)
                }
            }();
            var w = e("buffer").Buffer
              , I = e("core-util-is");
            I.inherits = e("inherits");
            var L = e("util");
            L = L && L.debuglog ? L.debuglog("stream") : function() {}
            ;
            var k;
            I.inherits(r, O),
            r.prototype.push = function(e, t) {
                var i = this._readableState;
                return i.objectMode || "string" != typeof e || (t = t || i.defaultEncoding,
                t !== i.encoding && (e = new w(e,t),
                t = "")),
                s(this, i, e, t, !1)
            }
            ,
            r.prototype.unshift = function(e) {
                var t = this._readableState;
                return s(this, t, e, "", !0)
            }
            ,
            r.prototype.isPaused = function() {
                return this._readableState.flowing === !1
            }
            ,
            r.prototype.setEncoding = function(t) {
                return k || (k = e("string_decoder/").StringDecoder),
                this._readableState.decoder = new k(t),
                this._readableState.encoding = t,
                this
            }
            ;
            var D = 8388608;
            r.prototype.read = function(e) {
                L("read", e);
                var t = this._readableState
                  , i = e;
                if (("number" != typeof e || e > 0) && (t.emittedReadable = !1),
                0 === e && t.needReadable && (t.length >= t.highWaterMark || t.ended))
                    return L("read: emitReadable", t.length, t.ended),
                    0 === t.length && t.ended ? S(this) : u(this),
                    null;
                if (e = c(e, t),
                0 === e && t.ended)
                    return 0 === t.length && S(this),
                    null;
                var n = t.needReadable;
                L("need readable", n),
                (0 === t.length || t.length - e < t.highWaterMark) && (n = !0,
                L("length less than watermark", n)),
                (t.ended || t.reading) && (n = !1,
                L("reading or ended", n)),
                n && (L("do read"),
                t.reading = !0,
                t.sync = !0,
                0 === t.length && (t.needReadable = !0),
                this._read(t.highWaterMark),
                t.sync = !1),
                n && !t.reading && (e = c(i, t));
                var r;
                return r = e > 0 ? b(e, t) : null,
                null === r && (t.needReadable = !0,
                e = 0),
                t.length -= e,
                0 !== t.length || t.ended || (t.needReadable = !0),
                i !== e && t.ended && 0 === t.length && S(this),
                null !== r && this.emit("data", r),
                r
            }
            ,
            r.prototype._read = function(e) {
                this.emit("error", new Error("not implemented"))
            }
            ,
            r.prototype.pipe = function(e, t) {
                function n(e) {
                    L("onunpipe"),
                    e === u && s()
                }
                function r() {
                    L("onend"),
                    e.end()
                }
                function s() {
                    L("cleanup"),
                    e.removeListener("close", c),
                    e.removeListener("finish", l),
                    e.removeListener("drain", g),
                    e.removeListener("error", a),
                    e.removeListener("unpipe", n),
                    u.removeListener("end", r),
                    u.removeListener("end", s),
                    u.removeListener("data", o),
                    !d.awaitDrain || e._writableState && !e._writableState.needDrain || g()
                }
                function o(t) {
                    L("ondata");
                    var i = e.write(t);
                    !1 === i && (L("false write response, pause", u._readableState.awaitDrain),
                    u._readableState.awaitDrain++,
                    u.pause())
                }
                function a(t) {
                    L("onerror", t),
                    h(),
                    e.removeListener("error", a),
                    0 === R.listenerCount(e, "error") && e.emit("error", t)
                }
                function c() {
                    e.removeListener("finish", l),
                    h()
                }
                function l() {
                    L("onfinish"),
                    e.removeListener("close", c),
                    h()
                }
                function h() {
                    L("unpipe"),
                    u.unpipe(e)
                }
                var u = this
                  , d = this._readableState;
                switch (d.pipesCount) {
                case 0:
                    d.pipes = e;
                    break;
                case 1:
                    d.pipes = [d.pipes, e];
                    break;
                default:
                    d.pipes.push(e)
                }
                d.pipesCount += 1,
                L("pipe count=%d opts=%j", d.pipesCount, t);
                var f = (!t || t.end !== !1) && e !== i.stdout && e !== i.stderr
                  , p = f ? r : s;
                d.endEmitted ? C(p) : u.once("end", p),
                e.on("unpipe", n);
                var g = m(u);
                return e.on("drain", g),
                u.on("data", o),
                e._events && e._events.error ? A(e._events.error) ? e._events.error.unshift(a) : e._events.error = [a, e._events.error] : e.on("error", a),
                e.once("close", c),
                e.once("finish", l),
                e.emit("pipe", u),
                d.flowing || (L("pipe resume"),
                u.resume()),
                e
            }
            ,
            r.prototype.unpipe = function(e) {
                var t = this._readableState;
                if (0 === t.pipesCount)
                    return this;
                if (1 === t.pipesCount)
                    return e && e !== t.pipes ? this : (e || (e = t.pipes),
                    t.pipes = null,
                    t.pipesCount = 0,
                    t.flowing = !1,
                    e && e.emit("unpipe", this),
                    this);
                if (!e) {
                    var i = t.pipes
                      , n = t.pipesCount;
                    t.pipes = null,
                    t.pipesCount = 0,
                    t.flowing = !1;
                    for (var r = 0; r < n; r++)
                        i[r].emit("unpipe", this);
                    return this
                }
                var r = T(t.pipes, e);
                return r === -1 ? this : (t.pipes.splice(r, 1),
                t.pipesCount -= 1,
                1 === t.pipesCount && (t.pipes = t.pipes[0]),
                e.emit("unpipe", this),
                this)
            }
            ,
            r.prototype.on = function(e, t) {
                var i = O.prototype.on.call(this, e, t);
                if ("data" === e && !1 !== this._readableState.flowing && this.resume(),
                "readable" === e && this.readable) {
                    var n = this._readableState;
                    n.readableListening || (n.readableListening = !0,
                    n.emittedReadable = !1,
                    n.needReadable = !0,
                    n.reading ? n.length && u(this, n) : C(g, this))
                }
                return i
            }
            ,
            r.prototype.addListener = r.prototype.on,
            r.prototype.resume = function() {
                var e = this._readableState;
                return e.flowing || (L("resume"),
                e.flowing = !0,
                y(this, e)),
                this
            }
            ,
            r.prototype.pause = function() {
                return L("call pause flowing=%j", this._readableState.flowing),
                !1 !== this._readableState.flowing && (L("pause"),
                this._readableState.flowing = !1,
                this.emit("pause")),
                this
            }
            ,
            r.prototype.wrap = function(e) {
                var t = this._readableState
                  , i = !1
                  , n = this;
                e.on("end", function() {
                    if (L("wrapped end"),
                    t.decoder && !t.ended) {
                        var e = t.decoder.end();
                        e && e.length && n.push(e)
                    }
                    n.push(null)
                }),
                e.on("data", function(r) {
                    if (L("wrapped data"),
                    t.decoder && (r = t.decoder.write(r)),
                    (!t.objectMode || null !== r && void 0 !== r) && (t.objectMode || r && r.length)) {
                        var s = n.push(r);
                        s || (i = !0,
                        e.pause())
                    }
                });
                for (var r in e)
                    void 0 === this[r] && "function" == typeof e[r] && (this[r] = function(t) {
                        return function() {
                            return e[t].apply(e, arguments)
                        }
                    }(r));
                var s = ["error", "close", "destroy", "pause", "resume"];
                return P(s, function(t) {
                    e.on(t, n.emit.bind(n, t))
                }),
                n._read = function(t) {
                    L("wrapped _read", t),
                    i && (i = !1,
                    e.resume())
                }
                ,
                n
            }
            ,
            r._fromList = b
        }
        ).call(this, e("_process"))
    }
    , {
        "./_stream_duplex": 188,
        _process: 186,
        buffer: 179,
        "core-util-is": 193,
        events: 183,
        inherits: 184,
        isarray: 185,
        "process-nextick-args": 194,
        "string_decoder/": 201,
        util: 178
    }],
    191: [function(e, t, i) {
        "use strict";
        function n(e) {
            this.afterTransform = function(t, i) {
                return r(e, t, i)
            }
            ,
            this.needTransform = !1,
            this.transforming = !1,
            this.writecb = null,
            this.writechunk = null
        }
        function r(e, t, i) {
            var n = e._transformState;
            n.transforming = !1;
            var r = n.writecb;
            if (!r)
                return e.emit("error", new Error("no writecb in Transform class"));
            n.writechunk = null,
            n.writecb = null,
            null !== i && void 0 !== i && e.push(i),
            r && r(t);
            var s = e._readableState;
            s.reading = !1,
            (s.needReadable || s.length < s.highWaterMark) && e._read(s.highWaterMark)
        }
        function s(e) {
            if (!(this instanceof s))
                return new s(e);
            a.call(this, e),
            this._transformState = new n(this);
            var t = this;
            this._readableState.needReadable = !0,
            this._readableState.sync = !1,
            e && ("function" == typeof e.transform && (this._transform = e.transform),
            "function" == typeof e.flush && (this._flush = e.flush)),
            this.once("prefinish", function() {
                "function" == typeof this._flush ? this._flush(function(e) {
                    o(t, e)
                }) : o(t)
            })
        }
        function o(e, t) {
            if (t)
                return e.emit("error", t);
            var i = e._writableState
              , n = e._transformState;
            if (i.length)
                throw new Error("calling transform done when ws.length != 0");
            if (n.transforming)
                throw new Error("calling transform done when still transforming");
            return e.push(null)
        }
        t.exports = s;
        var a = e("./_stream_duplex")
          , c = e("core-util-is");
        c.inherits = e("inherits"),
        c.inherits(s, a),
        s.prototype.push = function(e, t) {
            return this._transformState.needTransform = !1,
            a.prototype.push.call(this, e, t)
        }
        ,
        s.prototype._transform = function(e, t, i) {
            throw new Error("not implemented")
        }
        ,
        s.prototype._write = function(e, t, i) {
            var n = this._transformState;
            if (n.writecb = i,
            n.writechunk = e,
            n.writeencoding = t,
            !n.transforming) {
                var r = this._readableState;
                (n.needTransform || r.needReadable || r.length < r.highWaterMark) && this._read(r.highWaterMark)
            }
        }
        ,
        s.prototype._read = function(e) {
            var t = this._transformState;
            null !== t.writechunk && t.writecb && !t.transforming ? (t.transforming = !0,
            this._transform(t.writechunk, t.writeencoding, t.afterTransform)) : t.needTransform = !0
        }
    }
    , {
        "./_stream_duplex": 188,
        "core-util-is": 193,
        inherits: 184
    }],
    192: [function(e, t, i) {
        "use strict";
        function n() {}
        function r(e, t, i) {
            this.chunk = e,
            this.encoding = t,
            this.callback = i,
            this.next = null
        }
        function s(t, i) {
            var n = e("./_stream_duplex");
            t = t || {},
            this.objectMode = !!t.objectMode,
            i instanceof n && (this.objectMode = this.objectMode || !!t.writableObjectMode);
            var r = t.highWaterMark
              , s = this.objectMode ? 16 : 16384;
            this.highWaterMark = r || 0 === r ? r : s,
            this.highWaterMark = ~~this.highWaterMark,
            this.needDrain = !1,
            this.ending = !1,
            this.ended = !1,
            this.finished = !1;
            var o = t.decodeStrings === !1;
            this.decodeStrings = !o,
            this.defaultEncoding = t.defaultEncoding || "utf8",
            this.length = 0,
            this.writing = !1,
            this.corked = 0,
            this.sync = !0,
            this.bufferProcessing = !1,
            this.onwrite = function(e) {
                p(i, e)
            }
            ,
            this.writecb = null,
            this.writelen = 0,
            this.bufferedRequest = null,
            this.lastBufferedRequest = null,
            this.pendingcb = 0,
            this.prefinished = !1,
            this.errorEmitted = !1
        }
        function o(t) {
            var i = e("./_stream_duplex");
            return this instanceof o || this instanceof i ? (this._writableState = new s(t,this),
            this.writable = !0,
            t && ("function" == typeof t.write && (this._write = t.write),
            "function" == typeof t.writev && (this._writev = t.writev)),
            void C.call(this)) : new o(t)
        }
        function a(e, t) {
            var i = new Error("write after end");
            e.emit("error", i),
            E(t, i)
        }
        function c(e, t, i, n) {
            var r = !0;
            if (!P.isBuffer(i) && "string" != typeof i && null !== i && void 0 !== i && !t.objectMode) {
                var s = new TypeError("Invalid non-string/buffer chunk");
                e.emit("error", s),
                E(n, s),
                r = !1
            }
            return r
        }
        function l(e, t, i) {
            return e.objectMode || e.decodeStrings === !1 || "string" != typeof t || (t = new P(t,i)),
            t
        }
        function h(e, t, i, n, s) {
            i = l(t, i, n),
            P.isBuffer(i) && (n = "buffer");
            var o = t.objectMode ? 1 : i.length;
            t.length += o;
            var a = t.length < t.highWaterMark;
            if (a || (t.needDrain = !0),
            t.writing || t.corked) {
                var c = t.lastBufferedRequest;
                t.lastBufferedRequest = new r(i,n,s),
                c ? c.next = t.lastBufferedRequest : t.bufferedRequest = t.lastBufferedRequest
            } else
                u(e, t, !1, o, i, n, s);
            return a
        }
        function u(e, t, i, n, r, s, o) {
            t.writelen = n,
            t.writecb = o,
            t.writing = !0,
            t.sync = !0,
            i ? e._writev(r, t.onwrite) : e._write(r, s, t.onwrite),
            t.sync = !1
        }
        function d(e, t, i, n, r) {
            --t.pendingcb,
            i ? E(r, n) : r(n),
            e._writableState.errorEmitted = !0,
            e.emit("error", n)
        }
        function f(e) {
            e.writing = !1,
            e.writecb = null,
            e.length -= e.writelen,
            e.writelen = 0
        }
        function p(e, t) {
            var i = e._writableState
              , n = i.sync
              , r = i.writecb;
            if (f(i),
            t)
                d(e, i, n, t, r);
            else {
                var s = v(i);
                s || i.corked || i.bufferProcessing || !i.bufferedRequest || y(e, i),
                n ? E(m, e, i, s, r) : m(e, i, s, r)
            }
        }
        function m(e, t, i, n) {
            i || g(e, t),
            t.pendingcb--,
            n(),
            b(e, t)
        }
        function g(e, t) {
            0 === t.length && t.needDrain && (t.needDrain = !1,
            e.emit("drain"))
        }
        function y(e, t) {
            t.bufferProcessing = !0;
            var i = t.bufferedRequest;
            if (e._writev && i && i.next) {
                for (var n = [], r = []; i; )
                    r.push(i.callback),
                    n.push(i),
                    i = i.next;
                t.pendingcb++,
                t.lastBufferedRequest = null,
                u(e, t, !0, t.length, n, "", function(e) {
                    for (var i = 0; i < r.length; i++)
                        t.pendingcb--,
                        r[i](e)
                })
            } else {
                for (; i; ) {
                    var s = i.chunk
                      , o = i.encoding
                      , a = i.callback
                      , c = t.objectMode ? 1 : s.length;
                    if (u(e, t, !1, c, s, o, a),
                    i = i.next,
                    t.writing)
                        break
                }
                null === i && (t.lastBufferedRequest = null)
            }
            t.bufferedRequest = i,
            t.bufferProcessing = !1
        }
        function v(e) {
            return e.ending && 0 === e.length && null === e.bufferedRequest && !e.finished && !e.writing
        }
        function _(e, t) {
            t.prefinished || (t.prefinished = !0,
            e.emit("prefinish"))
        }
        function b(e, t) {
            var i = v(t);
            return i && (0 === t.pendingcb ? (_(e, t),
            t.finished = !0,
            e.emit("finish")) : _(e, t)),
            i
        }
        function S(e, t, i) {
            t.ending = !0,
            b(e, t),
            i && (t.finished ? E(i) : e.once("finish", i)),
            t.ended = !0
        }
        t.exports = o;
        var E = e("process-nextick-args")
          , P = e("buffer").Buffer;
        o.WritableState = s;
        var T = e("core-util-is");
        T.inherits = e("inherits");
        var C;
        !function() {
            try {
                C = e("stream")
            } catch (t) {} finally {
                C || (C = e("events").EventEmitter)
            }
        }();
        var P = e("buffer").Buffer;
        T.inherits(o, C),
        s.prototype.getBuffer = function() {
            for (var e = this.bufferedRequest, t = []; e; )
                t.push(e),
                e = e.next;
            return t
        }
        ,
        function() {
            try {
                Object.defineProperty(s.prototype, "buffer", {
                    get: e("util-deprecate")(function() {
                        return this.getBuffer()
                    }, "_writableState.buffer is deprecated. Use _writableState.getBuffer() instead.")
                })
            } catch (t) {}
        }(),
        o.prototype.pipe = function() {
            this.emit("error", new Error("Cannot pipe. Not readable."))
        }
        ,
        o.prototype.write = function(e, t, i) {
            var r = this._writableState
              , s = !1;
            return "function" == typeof t && (i = t,
            t = null),
            P.isBuffer(e) ? t = "buffer" : t || (t = r.defaultEncoding),
            "function" != typeof i && (i = n),
            r.ended ? a(this, i) : c(this, r, e, i) && (r.pendingcb++,
            s = h(this, r, e, t, i)),
            s
        }
        ,
        o.prototype.cork = function() {
            var e = this._writableState;
            e.corked++
        }
        ,
        o.prototype.uncork = function() {
            var e = this._writableState;
            e.corked && (e.corked--,
            e.writing || e.corked || e.finished || e.bufferProcessing || !e.bufferedRequest || y(this, e))
        }
        ,
        o.prototype.setDefaultEncoding = function(e) {
            if ("string" == typeof e && (e = e.toLowerCase()),
            !(["hex", "utf8", "utf-8", "ascii", "binary", "base64", "ucs2", "ucs-2", "utf16le", "utf-16le", "raw"].indexOf((e + "").toLowerCase()) > -1))
                throw new TypeError("Unknown encoding: " + e);
            this._writableState.defaultEncoding = e
        }
        ,
        o.prototype._write = function(e, t, i) {
            i(new Error("not implemented"))
        }
        ,
        o.prototype._writev = null,
        o.prototype.end = function(e, t, i) {
            var n = this._writableState;
            "function" == typeof e ? (i = e,
            e = null,
            t = null) : "function" == typeof t && (i = t,
            t = null),
            null !== e && void 0 !== e && this.write(e, t),
            n.corked && (n.corked = 1,
            this.uncork()),
            n.ending || n.finished || S(this, n, i)
        }
    }
    , {
        "./_stream_duplex": 188,
        buffer: 179,
        "core-util-is": 193,
        events: 183,
        inherits: 184,
        "process-nextick-args": 194,
        "util-deprecate": 195
    }],
    193: [function(e, t, i) {
        (function(e) {
            function t(e) {
                return Array.isArray(e)
            }
            function n(e) {
                return "boolean" == typeof e
            }
            function r(e) {
                return null === e
            }
            function s(e) {
                return null == e
            }
            function o(e) {
                return "number" == typeof e
            }
            function a(e) {
                return "string" == typeof e
            }
            function c(e) {
                return "symbol" == typeof e
            }
            function l(e) {
                return void 0 === e
            }
            function h(e) {
                return u(e) && "[object RegExp]" === y(e)
            }
            function u(e) {
                return "object" == typeof e && null !== e
            }
            function d(e) {
                return u(e) && "[object Date]" === y(e)
            }
            function f(e) {
                return u(e) && ("[object Error]" === y(e) || e instanceof Error)
            }
            function p(e) {
                return "function" == typeof e
            }
            function m(e) {
                return null === e || "boolean" == typeof e || "number" == typeof e || "string" == typeof e || "symbol" == typeof e || "undefined" == typeof e
            }
            function g(t) {
                return e.isBuffer(t)
            }
            function y(e) {
                return Object.prototype.toString.call(e)
            }
            i.isArray = t,
            i.isBoolean = n,
            i.isNull = r,
            i.isNullOrUndefined = s,
            i.isNumber = o,
            i.isString = a,
            i.isSymbol = c,
            i.isUndefined = l,
            i.isRegExp = h,
            i.isObject = u,
            i.isDate = d,
            i.isError = f,
            i.isFunction = p,
            i.isPrimitive = m,
            i.isBuffer = g
        }
        ).call(this, e("buffer").Buffer)
    }
    , {
        buffer: 179
    }],
    194: [function(e, t, i) {
        (function(e) {
            "use strict";
            function i(t) {
                for (var i = new Array(arguments.length - 1), n = 0; n < arguments.length; )
                    i[n++] = arguments[n];
                e.nextTick(function() {
                    t.apply(null, i)
                })
            }
            t.exports = i
        }
        ).call(this, e("_process"))
    }
    , {
        _process: 186
    }],
    195: [function(e, t, i) {
        (function(e) {
            function i(e, t) {
                function i() {
                    if (!r) {
                        if (n("throwDeprecation"))
                            throw new Error(t);
                        n("traceDeprecation") ? console.trace(t) : console.warn(t),
                        r = !0
                    }
                    return e.apply(this, arguments)
                }
                if (n("noDeprecation"))
                    return e;
                var r = !1;
                return i
            }
            function n(t) {
                if (!e.localStorage)
                    return !1;
                var i = e.localStorage[t];
                return null != i && "true" === String(i).toLowerCase()
            }
            t.exports = i
        }
        ).call(this, "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {})
    }
    , {}],
    196: [function(e, t, i) {
        t.exports = e("./lib/_stream_passthrough.js")
    }
    , {
        "./lib/_stream_passthrough.js": 189
    }],
    197: [function(e, t, i) {
        var n = function() {
            try {
                return e("stream")
            } catch (t) {}
        }();
        i = t.exports = e("./lib/_stream_readable.js"),
        i.Stream = n || i,
        i.Readable = i,
        i.Writable = e("./lib/_stream_writable.js"),
        i.Duplex = e("./lib/_stream_duplex.js"),
        i.Transform = e("./lib/_stream_transform.js"),
        i.PassThrough = e("./lib/_stream_passthrough.js")
    }
    , {
        "./lib/_stream_duplex.js": 188,
        "./lib/_stream_passthrough.js": 189,
        "./lib/_stream_readable.js": 190,
        "./lib/_stream_transform.js": 191,
        "./lib/_stream_writable.js": 192
    }],
    198: [function(e, t, i) {
        t.exports = e("./lib/_stream_transform.js")
    }
    , {
        "./lib/_stream_transform.js": 191
    }],
    199: [function(e, t, i) {
        t.exports = e("./lib/_stream_writable.js")
    }
    , {
        "./lib/_stream_writable.js": 192
    }],
    200: [function(e, t, i) {
        function n() {
            r.call(this)
        }
        t.exports = n;
        var r = e("events").EventEmitter
          , s = e("inherits");
        s(n, r),
        n.Readable = e("readable-stream/readable.js"),
        n.Writable = e("readable-stream/writable.js"),
        n.Duplex = e("readable-stream/duplex.js"),
        n.Transform = e("readable-stream/transform.js"),
        n.PassThrough = e("readable-stream/passthrough.js"),
        n.Stream = n,
        n.prototype.pipe = function(e, t) {
            function i(t) {
                e.writable && !1 === e.write(t) && l.pause && l.pause()
            }
            function n() {
                l.readable && l.resume && l.resume()
            }
            function s() {
                h || (h = !0,
                e.end())
            }
            function o() {
                h || (h = !0,
                "function" == typeof e.destroy && e.destroy())
            }
            function a(e) {
                if (c(),
                0 === r.listenerCount(this, "error"))
                    throw e
            }
            function c() {
                l.removeListener("data", i),
                e.removeListener("drain", n),
                l.removeListener("end", s),
                l.removeListener("close", o),
                l.removeListener("error", a),
                e.removeListener("error", a),
                l.removeListener("end", c),
                l.removeListener("close", c),
                e.removeListener("close", c)
            }
            var l = this;
            l.on("data", i),
            e.on("drain", n),
            e._isStdio || t && t.end === !1 || (l.on("end", s),
            l.on("close", o));
            var h = !1;
            return l.on("error", a),
            e.on("error", a),
            l.on("end", c),
            l.on("close", c),
            e.on("close", c),
            e.emit("pipe", l),
            e
        }
    }
    , {
        events: 183,
        inherits: 184,
        "readable-stream/duplex.js": 187,
        "readable-stream/passthrough.js": 196,
        "readable-stream/readable.js": 197,
        "readable-stream/transform.js": 198,
        "readable-stream/writable.js": 199
    }],
    201: [function(e, t, i) {
        function n(e) {
            if (e && !c(e))
                throw new Error("Unknown encoding: " + e)
        }
        function r(e) {
            return e.toString(this.encoding)
        }
        function s(e) {
            this.charReceived = e.length % 2,
            this.charLength = this.charReceived ? 2 : 0
        }
        function o(e) {
            this.charReceived = e.length % 3,
            this.charLength = this.charReceived ? 3 : 0
        }
        var a = e("buffer").Buffer
          , c = a.isEncoding || function(e) {
            switch (e && e.toLowerCase()) {
            case "hex":
            case "utf8":
            case "utf-8":
            case "ascii":
            case "binary":
            case "base64":
            case "ucs2":
            case "ucs-2":
            case "utf16le":
            case "utf-16le":
            case "raw":
                return !0;
            default:
                return !1
            }
        }
          , l = i.StringDecoder = function(e) {
            switch (this.encoding = (e || "utf8").toLowerCase().replace(/[-_]/, ""),
            n(e),
            this.encoding) {
            case "utf8":
                this.surrogateSize = 3;
                break;
            case "ucs2":
            case "utf16le":
                this.surrogateSize = 2,
                this.detectIncompleteChar = s;
                break;
            case "base64":
                this.surrogateSize = 3,
                this.detectIncompleteChar = o;
                break;
            default:
                return void (this.write = r)
            }
            this.charBuffer = new a(6),
            this.charReceived = 0,
            this.charLength = 0
        }
        ;
        l.prototype.write = function(e) {
            for (var t = ""; this.charLength; ) {
                var i = e.length >= this.charLength - this.charReceived ? this.charLength - this.charReceived : e.length;
                if (e.copy(this.charBuffer, this.charReceived, 0, i),
                this.charReceived += i,
                this.charReceived < this.charLength)
                    return "";
                e = e.slice(i, e.length),
                t = this.charBuffer.slice(0, this.charLength).toString(this.encoding);
                var n = t.charCodeAt(t.length - 1);
                if (!(n >= 55296 && n <= 56319)) {
                    if (this.charReceived = this.charLength = 0,
                    0 === e.length)
                        return t;
                    break
                }
                this.charLength += this.surrogateSize,
                t = ""
            }
            this.detectIncompleteChar(e);
            var r = e.length;
            this.charLength && (e.copy(this.charBuffer, 0, e.length - this.charReceived, r),
            r -= this.charReceived),
            t += e.toString(this.encoding, 0, r);
            var r = t.length - 1
              , n = t.charCodeAt(r);
            if (n >= 55296 && n <= 56319) {
                var s = this.surrogateSize;
                return this.charLength += s,
                this.charReceived += s,
                this.charBuffer.copy(this.charBuffer, s, 0, s),
                e.copy(this.charBuffer, 0, 0, s),
                t.substring(0, r)
            }
            return t
        }
        ,
        l.prototype.detectIncompleteChar = function(e) {
            for (var t = e.length >= 3 ? 3 : e.length; t > 0; t--) {
                var i = e[e.length - t];
                if (1 == t && i >> 5 == 6) {
                    this.charLength = 2;
                    break
                }
                if (t <= 2 && i >> 4 == 14) {
                    this.charLength = 3;
                    break
                }
                if (t <= 3 && i >> 3 == 30) {
                    this.charLength = 4;
                    break
                }
            }
            this.charReceived = t
        }
        ,
        l.prototype.end = function(e) {
            var t = "";
            if (e && e.length && (t = this.write(e)),
            this.charReceived) {
                var i = this.charReceived
                  , n = this.charBuffer
                  , r = this.encoding;
                t += n.slice(0, i).toString(r)
            }
            return t
        }
    }
    , {
        buffer: 179
    }],
    202: [function(require, module, exports) {
        function Context() {}
        var indexOf = require("indexof")
          , Object_keys = function(e) {
            if (Object.keys)
                return Object.keys(e);
            var t = [];
            for (var i in e)
                t.push(i);
            return t
        }
          , forEach = function(e, t) {
            if (e.forEach)
                return e.forEach(t);
            for (var i = 0; i < e.length; i++)
                t(e[i], i, e)
        }
          , defineProp = function() {
            try {
                return Object.defineProperty({}, "_", {}),
                function(e, t, i) {
                    Object.defineProperty(e, t, {
                        writable: !0,
                        enumerable: !1,
                        configurable: !0,
                        value: i
                    })
                }
            } catch (e) {
                return function(e, t, i) {
                    e[t] = i
                }
            }
        }()
          , globals = ["Array", "Boolean", "Date", "Error", "EvalError", "Function", "Infinity", "JSON", "Math", "NaN", "Number", "Object", "RangeError", "ReferenceError", "RegExp", "String", "SyntaxError", "TypeError", "URIError", "decodeURI", "decodeURIComponent", "encodeURI", "encodeURIComponent", "escape", "eval", "isFinite", "isNaN", "parseFloat", "parseInt", "undefined", "unescape"];
        Context.prototype = {};
        var Script = exports.Script = function(e) {
            return this instanceof Script ? void (this.code = e) : new Script(e)
        }
        ;
        Script.prototype.runInContext = function(e) {
            if (!(e instanceof Context))
                throw new TypeError("needs a 'context' argument.");
            var t = document.createElement("iframe");
            t.style || (t.style = {}),
            t.style.display = "none",
            document.body.appendChild(t);
            var i = t.contentWindow
              , n = i.eval
              , r = i.execScript;
            !n && r && (r.call(i, "null"),
            n = i.eval),
            forEach(Object_keys(e), function(t) {
                i[t] = e[t]
            }),
            forEach(globals, function(t) {
                e[t] && (i[t] = e[t])
            });
            var s = Object_keys(i)
              , o = n.call(i, this.code);
            return forEach(Object_keys(i), function(t) {
                (t in e || indexOf(s, t) === -1) && (e[t] = i[t])
            }),
            forEach(globals, function(t) {
                t in e || defineProp(e, t, i[t])
            }),
            document.body.removeChild(t),
            o
        }
        ,
        Script.prototype.runInThisContext = function() {
            return eval(this.code)
        }
        ,
        Script.prototype.runInNewContext = function(e) {
            var t = Script.createContext(e)
              , i = this.runInContext(t);
            return forEach(Object_keys(t), function(i) {
                e[i] = t[i]
            }),
            i
        }
        ,
        forEach(Object_keys(Script.prototype), function(e) {
            exports[e] = Script[e] = function(t) {
                var i = Script(t);
                return i[e].apply(i, [].slice.call(arguments, 1))
            }
        }),
        exports.createScript = function(e) {
            return exports.Script(e)
        }
        ,
        exports.createContext = Script.createContext = function(e) {
            var t = new Context;
            return "object" == typeof e && forEach(Object_keys(e), function(i) {
                t[i] = e[i]
            }),
            t
        }
    }
    , {
        indexof: 203
    }],
    203: [function(e, t, i) {
        var n = [].indexOf;
        t.exports = function(e, t) {
            if (n)
                return e.indexOf(t);
            for (var i = 0; i < e.length; ++i)
                if (e[i] === t)
                    return i;
            return -1
        }
    }
    , {}]
}, {}, [1]),
function(e, t) {
    "use strict";
    var i = "0.7.11"
      , n = ""
      , r = "?"
      , s = "function"
      , o = "undefined"
      , a = "object"
      , c = "string"
      , l = "major"
      , h = "model"
      , u = "name"
      , d = "type"
      , f = "vendor"
      , p = "version"
      , m = "architecture"
      , g = "console"
      , y = "mobile"
      , v = "tablet"
      , _ = "smarttv"
      , b = "wearable"
      , S = "embedded"
      , E = {
        extend: function(e, t) {
            var i = {};
            for (var n in e)
                t[n] && t[n].length % 2 === 0 ? i[n] = t[n].concat(e[n]) : i[n] = e[n];
            return i
        },
        has: function(e, t) {
            return "string" == typeof e && t.toLowerCase().indexOf(e.toLowerCase()) !== -1
        },
        lowerize: function(e) {
            return e.toLowerCase()
        },
        major: function(e) {
            return typeof e === c ? e.split(".")[0] : t
        },
        trim: function(e) {
            return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g, "")
        }
    }
      , P = {
        rgx: function() {
            for (var e, i, n, r, c, l, h, u = 0, d = arguments; u < d.length && !l; ) {
                var f = d[u]
                  , p = d[u + 1];
                if (typeof e === o) {
                    e = {};
                    for (r in p)
                        p.hasOwnProperty(r) && (c = p[r],
                        typeof c === a ? e[c[0]] = t : e[c] = t)
                }
                for (i = n = 0; i < f.length && !l; )
                    if (l = f[i++].exec(this.getUA()))
                        for (r = 0; r < p.length; r++)
                            h = l[++n],
                            c = p[r],
                            typeof c === a && c.length > 0 ? 2 == c.length ? typeof c[1] == s ? e[c[0]] = c[1].call(this, h) : e[c[0]] = c[1] : 3 == c.length ? typeof c[1] !== s || c[1].exec && c[1].test ? e[c[0]] = h ? h.replace(c[1], c[2]) : t : e[c[0]] = h ? c[1].call(this, h, c[2]) : t : 4 == c.length && (e[c[0]] = h ? c[3].call(this, h.replace(c[1], c[2])) : t) : e[c] = h ? h : t;
                u += 2
            }
            return e
        },
        str: function(e, i) {
            for (var n in i)
                if (typeof i[n] === a && i[n].length > 0) {
                    for (var s = 0; s < i[n].length; s++)
                        if (E.has(i[n][s], e))
                            return n === r ? t : n
                } else if (E.has(i[n], e))
                    return n === r ? t : n;
            return e
        }
    }
      , T = {
        browser: {
            oldsafari: {
                version: {
                    "1.0": "/8",
                    1.2: "/1",
                    1.3: "/3",
                    "2.0": "/412",
                    "2.0.2": "/416",
                    "2.0.3": "/417",
                    "2.0.4": "/419",
                    "?": "/"
                }
            }
        },
        device: {
            amazon: {
                model: {
                    "Fire Phone": ["SD", "KF"]
                }
            },
            sprint: {
                model: {
                    "Evo Shift 4G": "7373KT"
                },
                vendor: {
                    HTC: "APA",
                    Sprint: "Sprint"
                }
            }
        },
        os: {
            windows: {
                version: {
                    ME: "4.90",
                    "NT 3.11": "NT3.51",
                    "NT 4.0": "NT4.0",
                    2000: "NT 5.0",
                    XP: ["NT 5.1", "NT 5.2"],
                    Vista: "NT 6.0",
                    7: "NT 6.1",
                    8: "NT 6.2",
                    8.1: "NT 6.3",
                    10: ["NT 6.4", "NT 10.0"],
                    RT: "ARM"
                }
            }
        }
    }
      , C = {
        browser: [[/(opera\smini)\/([\w\.-]+)/i, /(opera\s[mobiletab]+).+version\/([\w\.-]+)/i, /(opera).+version\/([\w\.]+)/i, /(opera)[\/\s]+([\w\.]+)/i], [u, p], [/(OPiOS)[\/\s]+([\w\.]+)/i], [[u, "Opera Mini"], p], [/\s(opr)\/([\w\.]+)/i], [[u, "Opera"], p], [/(kindle)\/([\w\.]+)/i, /(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]+)*/i, /(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?([\w\.]*)/i, /(?:ms|\()(ie)\s([\w\.]+)/i, /(rekonq)\/([\w\.]+)*/i, /(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs)\/([\w\.-]+)/i], [u, p], [/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i], [[u, "IE"], p], [/(edge)\/((\d+)?[\w\.]+)/i], [u, p], [/(yabrowser)\/([\w\.]+)/i], [[u, "Yandex"], p], [/(comodo_dragon)\/([\w\.]+)/i], [[u, /_/g, " "], p], [/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i], [u, p], [/(MicroMessenger)\/([\w\.]+)/i], [[u, "WeChat"], p], [/(qqbrowser)[\/\s]?([\w\.]+)/i], [u, p], [/(uc\s?browser)[\/\s]?([\w\.]+)/i, /ucweb.+(ucbrowser)[\/\s]?([\w\.]+)/i, /JUC.+(ucweb)[\/\s]?([\w\.]+)/i], [[u, "UCBrowser"], p], [/(dolfin)\/([\w\.]+)/i], [[u, "Dolphin"], p], [/((?:android.+)crmo|crios)\/([\w\.]+)/i], [[u, "Chrome"], p], [/XiaoMi\/MiuiBrowser\/([\w\.]+)/i], [p, [u, "MIUI Browser"]], [/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)/i], [p, [u, "Android Browser"]], [/FBAV\/([\w\.]+);/i], [p, [u, "Facebook"]], [/fxios\/([\w\.-]+)/i], [p, [u, "Firefox"]], [/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i], [p, [u, "Mobile Safari"]], [/version\/([\w\.]+).+?(mobile\s?safari|safari)/i], [p, u], [/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i], [u, [p, P.str, T.browser.oldsafari.version]], [/(konqueror)\/([\w\.]+)/i, /(webkit|khtml)\/([\w\.]+)/i], [u, p], [/(navigator|netscape)\/([\w\.-]+)/i], [[u, "Netscape"], p], [/(swiftfox)/i, /(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i, /(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix)\/([\w\.-]+)/i, /(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i, /(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i, /(links)\s\(([\w\.]+)/i, /(gobrowser)\/?([\w\.]+)*/i, /(ice\s?browser)\/v?([\w\._]+)/i, /(mosaic)[\/\s]([\w\.]+)/i], [u, p]],
        cpu: [[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i], [[m, "amd64"]], [/(ia32(?=;))/i], [[m, E.lowerize]], [/((?:i[346]|x)86)[;\)]/i], [[m, "ia32"]], [/windows\s(ce|mobile);\sppc;/i], [[m, "arm"]], [/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i], [[m, /ower/, "", E.lowerize]], [/(sun4\w)[;\)]/i], [[m, "sparc"]], [/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+;))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i], [[m, E.lowerize]]],
        device: [[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i], [[f, E.trim], [h, E.trim], [d, _]], [/\((ipad|playbook);[\w\s\);-]+(rim|apple)/i], [h, f, [d, v]], [/applecoremedia\/[\w\.]+ \((ipad)/], [h, [f, "Apple"], [d, v]], [/(apple\s{0,1}tv)/i], [[h, "Apple TV"], [f, "Apple"]], [/(archos)\s(gamepad2?)/i, /(hp).+(touchpad)/i, /(hp).+(tablet)/i, /(kindle)\/([\w\.]+)/i, /\s(nook)[\w\s]+build\/(\w+)/i, /(dell)\s(strea[kpr\s\d]*[\dko])/i], [f, h, [d, v]], [/(kf[A-z]+)\sbuild\/[\w\.]+.*silk\//i], [h, [f, "Amazon"], [d, v]], [/(sd|kf)[0349hijorstuw]+\sbuild\/[\w\.]+.*silk\//i], [[h, P.str, T.device.amazon.model], [f, "Amazon"], [d, y]], [/\((ip[honed|\s\w*]+);.+(apple)/i], [h, f, [d, y]], [/\((ip[honed|\s\w*]+);/i], [h, [f, "Apple"], [d, y]], [/(blackberry)[\s-]?(\w+)/i, /(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|huawei|meizu|motorola|polytron)[\s_-]?([\w-]+)*/i, /(hp)\s([\w\s]+\w)/i, /(asus)-?(\w+)/i], [f, h, [d, y]], [/\(bb10;\s(\w+)/i], [h, [f, "BlackBerry"], [d, y]], [/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7)/i], [h, [f, "Asus"], [d, v]], [/(sony)\s(tablet\s[ps])\sbuild\//i, /(sony)?(?:sgp.+)\sbuild\//i], [[f, "Sony"], [h, "Xperia Tablet"], [d, v]], [/(?:sony)?(?:(?:(?:c|d)\d{4})|(?:so[-l].+))\sbuild\//i], [[f, "Sony"], [h, "Xperia Phone"], [d, y]], [/\s(ouya)\s/i, /(nintendo)\s([wids3u]+)/i], [f, h, [d, g]], [/android.+;\s(shield)\sbuild/i], [h, [f, "Nvidia"], [d, g]], [/(playstation\s[34portablevi]+)/i], [h, [f, "Sony"], [d, g]], [/(sprint\s(\w+))/i], [[f, P.str, T.device.sprint.vendor], [h, P.str, T.device.sprint.model], [d, y]], [/(lenovo)\s?(S(?:5000|6000)+(?:[-][\w+]))/i], [f, h, [d, v]], [/(htc)[;_\s-]+([\w\s]+(?=\))|\w+)*/i, /(zte)-(\w+)*/i, /(alcatel|geeksphone|huawei|lenovo|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]+)*/i], [f, [h, /_/g, " "], [d, y]], [/(nexus\s9)/i], [h, [f, "HTC"], [d, v]], [/[\s\(;](xbox(?:\sone)?)[\s\);]/i], [h, [f, "Microsoft"], [d, g]], [/(kin\.[onetw]{3})/i], [[h, /\./g, " "], [f, "Microsoft"], [d, y]], [/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?(:?\s4g)?)[\w\s]+build\//i, /mot[\s-]?(\w+)*/i, /(XT\d{3,4}) build\//i, /(nexus\s[6])/i], [h, [f, "Motorola"], [d, y]], [/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i], [h, [f, "Motorola"], [d, v]], [/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n8000|sgh-t8[56]9|nexus 10))/i, /((SM-T\w+))/i], [[f, "Samsung"], h, [d, v]], [/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-\w[\w\d]+))/i, /(sam[sung]*)[\s-]*(\w+-?[\w-]*)*/i, /sec-((sgh\w+))/i], [[f, "Samsung"], h, [d, y]], [/hbbtv.+maple;(\d+)/i], [[h, /^/, "SmartTV"], [f, "Samsung"], [d, _]], [/\(dtv[\);].+(aquos)/i], [h, [f, "Sharp"], [d, _]], [/sie-(\w+)*/i], [h, [f, "Siemens"], [d, y]], [/(maemo|nokia).*(n900|lumia\s\d+)/i, /(nokia)[\s_-]?([\w-]+)*/i], [[f, "Nokia"], h, [d, y]], [/android\s3\.[\s\w;-]{10}(a\d{3})/i], [h, [f, "Acer"], [d, v]], [/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i], [[f, "LG"], h, [d, v]], [/(lg) netcast\.tv/i], [f, h, [d, _]], [/(nexus\s[45])/i, /lg[e;\s\/-]+(\w+)*/i], [h, [f, "LG"], [d, y]], [/android.+(ideatab[a-z0-9\-\s]+)/i], [h, [f, "Lenovo"], [d, v]], [/linux;.+((jolla));/i], [f, h, [d, y]], [/((pebble))app\/[\d\.]+\s/i], [f, h, [d, b]], [/android.+;\s(glass)\s\d/i], [h, [f, "Google"], [d, b]], [/android.+(\w+)\s+build\/hm\1/i, /android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i, /android.+(mi[\s\-_]*(?:one|one[\s_]plus)?[\s_]*(?:\d\w)?)\s+build/i], [[h, /_/g, " "], [f, "Xiaomi"], [d, y]], [/\s(tablet)[;\/]/i, /\s(mobile)[;\/]/i], [[d, E.lowerize], f, h]],
        engine: [[/windows.+\sedge\/([\w\.]+)/i], [p, [u, "EdgeHTML"]], [/(presto)\/([\w\.]+)/i, /(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\/([\w\.]+)/i, /(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i, /(icab)[\/\s]([23]\.[\d\.]+)/i], [u, p], [/rv\:([\w\.]+).*(gecko)/i], [p, u]],
        os: [[/microsoft\s(windows)\s(vista|xp)/i], [u, p], [/(windows)\snt\s6\.2;\s(arm)/i, /(windows\sphone(?:\sos)*|windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i], [u, [p, P.str, T.os.windows.version]], [/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i], [[u, "Windows"], [p, P.str, T.os.windows.version]], [/\((bb)(10);/i], [[u, "BlackBerry"], p], [/(blackberry)\w*\/?([\w\.]+)*/i, /(tizen)[\/\s]([\w\.]+)/i, /(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|contiki)[\/\s-]?([\w\.]+)*/i, /linux;.+(sailfish);/i], [u, p], [/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]+)*/i], [[u, "Symbian"], p], [/\((series40);/i], [u], [/mozilla.+\(mobile;.+gecko.+firefox/i], [[u, "Firefox OS"], p], [/(nintendo|playstation)\s([wids34portablevu]+)/i, /(mint)[\/\s\(]?(\w+)*/i, /(mageia|vectorlinux)[;\s]/i, /(joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?([\w\.-]+)*/i, /(hurd|linux)\s?([\w\.]+)*/i, /(gnu)\s?([\w\.]+)*/i], [u, p], [/(cros)\s[\w]+\s([\w\.]+\w)/i], [[u, "Chromium OS"], p], [/(sunos)\s?([\w\.]+\d)*/i], [[u, "Solaris"], p], [/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]+)*/i], [u, p], [/(ip[honead]+)(?:.*os\s([\w]+)*\slike\smac|;\sopera)/i], [[u, "iOS"], [p, /_/g, "."]], [/(mac\sos\sx)\s?([\w\s\.]+\w)*/i, /(macintosh|mac(?=_powerpc)\s)/i], [[u, "Mac OS"], [p, /_/g, "."]], [/((?:open)?solaris)[\/\s-]?([\w\.]+)*/i, /(haiku)\s(\w+)/i, /(aix)\s((\d)(?=\.|\)|\s)[\w\.]*)*/i, /(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms)/i, /(unix)\s?([\w\.]+)*/i], [u, p]]
    }
      , A = function(t, i) {
        if (!(this instanceof A))
            return new A(t,i).getResult();
        var r = t || (e && e.navigator && e.navigator.userAgent ? e.navigator.userAgent : n)
          , s = i ? E.extend(C, i) : C;
        return this.getBrowser = function() {
            var e = P.rgx.apply(this, s.browser);
            return e.major = E.major(e.version),
            e
        }
        ,
        this.getCPU = function() {
            return P.rgx.apply(this, s.cpu)
        }
        ,
        this.getDevice = function() {
            return P.rgx.apply(this, s.device)
        }
        ,
        this.getEngine = function() {
            return P.rgx.apply(this, s.engine)
        }
        ,
        this.getOS = function() {
            return P.rgx.apply(this, s.os)
        }
        ,
        this.getResult = function() {
            return {
                ua: this.getUA(),
                browser: this.getBrowser(),
                engine: this.getEngine(),
                os: this.getOS(),
                device: this.getDevice(),
                cpu: this.getCPU()
            }
        }
        ,
        this.getUA = function() {
            return r
        }
        ,
        this.setUA = function(e) {
            return r = e,
            this
        }
        ,
        this
    };
    A.VERSION = i,
    A.BROWSER = {
        NAME: u,
        MAJOR: l,
        VERSION: p
    },
    A.CPU = {
        ARCHITECTURE: m
    },
    A.DEVICE = {
        MODEL: h,
        VENDOR: f,
        TYPE: d,
        CONSOLE: g,
        MOBILE: y,
        SMARTTV: _,
        TABLET: v,
        WEARABLE: b,
        EMBEDDED: S
    },
    A.ENGINE = {
        NAME: u,
        VERSION: p
    },
    A.OS = {
        NAME: u,
        VERSION: p
    },
    typeof exports !== o ? (typeof module !== o && module.exports && (exports = module.exports = A),
    exports.UAParser = A) : typeof define === s && define.amd ? define("ua-parser-js", [], function() {
        return A
    }) : e.UAParser = A;
    var w = e.jQuery || e.Zepto;
    if (typeof w !== o) {
        var R = new A;
        w.ua = R.getResult(),
        w.ua.get = function() {
            return R.getUA()
        }
        ,
        w.ua.set = function(e) {
            R.setUA(e);
            var t = R.getResult();
            for (var i in t)
                w.ua[i] = t[i]
        }
    }
}("object" == typeof window ? window : this);
var Konami = function(e) {
    var t = {
        addEvent: function(e, t, i, n) {
            e.addEventListener ? e.addEventListener(t, i, !1) : e.attachEvent && (e["e" + t + i] = i,
            e[t + i] = function() {
                e["e" + t + i](window.event, n)
            }
            ,
            e.attachEvent("on" + t, e[t + i]))
        },
        input: "",
        pattern: "38384040373937396665",
        load: function(e) {
            this.addEvent(document, "keydown", function(i, n) {
                if (n && (t = n),
                t.input += i ? i.keyCode : event.keyCode,
                t.input.length > t.pattern.length && (t.input = t.input.substr(t.input.length - t.pattern.length)),
                t.input == t.pattern)
                    return t.code(e),
                    t.input = "",
                    i.preventDefault(),
                    !1
            }, this),
            this.iphone.load(e)
        },
        code: function(e) {
            window.location = e
        },
        iphone: {
            start_x: 0,
            start_y: 0,
            stop_x: 0,
            stop_y: 0,
            tap: !1,
            capture: !1,
            orig_keys: "",
            keys: ["UP", "UP", "DOWN", "DOWN", "LEFT", "RIGHT", "LEFT", "RIGHT", "TAP", "TAP"],
            code: function(e) {
                t.code(e)
            },
            load: function(e) {
                this.orig_keys = this.keys,
                t.addEvent(document, "touchmove", function(e) {
                    if (1 == e.touches.length && 1 == t.iphone.capture) {
                        var i = e.touches[0];
                        t.iphone.stop_x = i.pageX,
                        t.iphone.stop_y = i.pageY,
                        t.iphone.tap = !1,
                        t.iphone.capture = !1,
                        t.iphone.check_direction()
                    }
                }),
                t.addEvent(document, "touchend", function(i) {
                    1 == t.iphone.tap && t.iphone.check_direction(e)
                }, !1),
                t.addEvent(document, "touchstart", function(e) {
                    t.iphone.start_x = e.changedTouches[0].pageX,
                    t.iphone.start_y = e.changedTouches[0].pageY,
                    t.iphone.tap = !0,
                    t.iphone.capture = !0
                })
            },
            check_direction: function(e) {
                x_magnitude = Math.abs(this.start_x - this.stop_x),
                y_magnitude = Math.abs(this.start_y - this.stop_y),
                x = this.start_x - this.stop_x < 0 ? "RIGHT" : "LEFT",
                y = this.start_y - this.stop_y < 0 ? "DOWN" : "UP",
                result = x_magnitude > y_magnitude ? x : y,
                result = 1 == this.tap ? "TAP" : result,
                result == this.keys[0] && (this.keys = this.keys.slice(1, this.keys.length)),
                0 == this.keys.length && (this.keys = this.orig_keys,
                this.code(e))
            }
        }
    };
    return "string" == typeof e && t.load(e),
    "function" == typeof e && (t.code = e,
    t.load()),
    t
};
!function(e) {
    "use strict";
    function t(e, t) {
        var i = "XMLHttpRequest"in window ? new XMLHttpRequest : new ActiveXObject("Microsoft.XMLHTTP");
        return i.open("POST", e, !1),
        i.setRequestHeader("Accept", "*/*"),
        "string" == typeof t ? (i.setRequestHeader("Content-Type", "text/plain;charset=UTF-8"),
        i.responseType = "text/plain") : "[object Blob]" === Object.prototype.toString.call(t) && t.type && i.setRequestHeader("Content-Type", t.type),
        i.send(t),
        !0
    }
    "sendBeacon"in navigator || (navigator.sendBeacon = t),
    "undefined" != typeof exports ? ("undefined" != typeof module && module.exports && (exports = module.exports = t),
    exports.sendBeacon = t) : "function" == typeof define && define.amd && define([], function() {
        return t
    })
}(this),
Polymer({
    is: "tv-background-image",
    properties: {
        isImageFailed: {
            type: Boolean,
            notify: !0,
            reflectToAttribute: !0
        },
        pixel: {
            type: String,
            readonly: !0,
            value: "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"
        },
        url: {
            observer: "_urlChanged",
            type: String,
            value: ""
        }
    },
    onError: function() {
        this.set("url", this.pixel),
        this.setBackground(),
        this.set("isImageFailed", !0)
    },
    setBackground: function() {
        this.style.backgroundImage = "url(" + this.url + ")",
        this.classList.add("loaded")
    },
    _urlChanged: function(e) {
        this.set("isImageFailed", !1),
        e = e || this.pixel;
        var t = new Image;
        this.classList.remove("loaded"),
        t.onerror = this.onError.bind(this),
        t.onload = this.setBackground.bind(this),
        t.src = e
    }
}),
Polymer({
    is: "iron-iconset-svg",
    properties: {
        name: {
            type: String,
            observer: "_nameChanged"
        },
        size: {
            type: Number,
            value: 24
        }
    },
    attached: function() {
        this.style.display = "none"
    },
    getIconNames: function() {
        return this._icons = this._createIconMap(),
        Object.keys(this._icons).map(function(e) {
            return this.name + ":" + e
        }, this)
    },
    applyIcon: function(e, t) {
        e = e.root || e,
        this.removeIcon(e);
        var i = this._cloneIcon(t);
        if (i) {
            var n = Polymer.dom(e);
            return n.insertBefore(i, n.childNodes[0]),
            e._svgIcon = i
        }
        return null
    },
    removeIcon: function(e) {
        e._svgIcon && (Polymer.dom(e).removeChild(e._svgIcon),
        e._svgIcon = null)
    },
    _nameChanged: function() {
        new Polymer.IronMeta({
            type: "iconset",
            key: this.name,
            value: this
        }),
        this.async(function() {
            this.fire("iron-iconset-added", this, {
                node: window
            })
        })
    },
    _createIconMap: function() {
        var e = Object.create(null);
        return Polymer.dom(this).querySelectorAll("[id]").forEach(function(t) {
            e[t.id] = t
        }),
        e
    },
    _cloneIcon: function(e) {
        return this._icons = this._icons || this._createIconMap(),
        this._prepareSvgClone(this._icons[e], this.size)
    },
    _prepareSvgClone: function(e, t) {
        if (e) {
            var i = e.cloneNode(!0)
              , n = document.createElementNS("http://www.w3.org/2000/svg", "svg")
              , r = i.getAttribute("viewBox") || "0 0 " + t + " " + t;
            return n.setAttribute("viewBox", r),
            n.setAttribute("preserveAspectRatio", "xMidYMid meet"),
            n.setAttribute("focusable", !1),
            n.style.cssText = "pointer-events: none; display: block; width: 100%; height: 100%;",
            n.appendChild(i).removeAttribute("id"),
            n
        }
        return null
    }
}),
function() {
    "use strict";
    function e(e) {
        var t, i, n, r, s = Array.prototype.slice.call(arguments, 1);
        for (t = 0,
        i = s.length; i > t; t += 1)
            if (n = s[t])
                for (r in n)
                    a.call(n, r) && (e[r] = n[r]);
        return e
    }
    function t(e, t, i) {
        this.locales = e,
        this.formats = t,
        this.pluralFn = i
    }
    function i(e) {
        this.id = e
    }
    function n(e, t, i, n, r) {
        this.id = e,
        this.useOrdinal = t,
        this.offset = i,
        this.options = n,
        this.pluralFn = r
    }
    function r(e, t, i, n) {
        this.id = e,
        this.offset = t,
        this.numberFormat = i,
        this.string = n
    }
    function s(e, t) {
        this.id = e,
        this.options = t
    }
    function o(e, t, i) {
        var n = "string" == typeof e ? o.__parse(e) : e;
        if (!n || "messageFormatPattern" !== n.type)
            throw new TypeError("A message must be provided as a String or AST.");
        i = this._mergeFormats(o.formats, i),
        l(this, "_locale", {
            value: this._resolveLocale(t)
        });
        var r = this._findPluralRuleFunction(this._locale)
          , s = this._compilePattern(n, t, i, r)
          , a = this;
        this.format = function(e) {
            return a._format(s, e)
        }
    }
    var a = Object.prototype.hasOwnProperty
      , c = function() {
        try {
            return !!Object.defineProperty({}, "a", {})
        } catch (e) {
            return !1
        }
    }()
      , l = (!c && !Object.prototype.__defineGetter__,
    c ? Object.defineProperty : function(e, t, i) {
        "get"in i && e.__defineGetter__ ? e.__defineGetter__(t, i.get) : (!a.call(e, t) || "value"in i) && (e[t] = i.value)
    }
    )
      , h = Object.create || function(e, t) {
        function i() {}
        var n, r;
        i.prototype = e,
        n = new i;
        for (r in t)
            a.call(t, r) && l(n, r, t[r]);
        return n
    }
      , u = t;
    t.prototype.compile = function(e) {
        return this.pluralStack = [],
        this.currentPlural = null,
        this.pluralNumberFormat = null,
        this.compileMessage(e)
    }
    ,
    t.prototype.compileMessage = function(e) {
        if (!e || "messageFormatPattern" !== e.type)
            throw new Error('Message AST is not of type: "messageFormatPattern"');
        var t, i, n, r = e.elements, s = [];
        for (t = 0,
        i = r.length; i > t; t += 1)
            switch (n = r[t],
            n.type) {
            case "messageTextElement":
                s.push(this.compileMessageText(n));
                break;
            case "argumentElement":
                s.push(this.compileArgument(n));
                break;
            default:
                throw new Error("Message element does not have a valid type")
            }
        return s
    }
    ,
    t.prototype.compileMessageText = function(e) {
        return this.currentPlural && /(^|[^\\])#/g.test(e.value) ? (this.pluralNumberFormat || (this.pluralNumberFormat = new Intl.NumberFormat(this.locales)),
        new r(this.currentPlural.id,this.currentPlural.format.offset,this.pluralNumberFormat,e.value)) : e.value.replace(/\\#/g, "#")
    }
    ,
    t.prototype.compileArgument = function(e) {
        var t = e.format;
        if (!t)
            return new i(e.id);
        var r, o = this.formats, a = this.locales, c = this.pluralFn;
        switch (t.type) {
        case "numberFormat":
            return r = o.number[t.style],
            {
                id: e.id,
                format: new Intl.NumberFormat(a,r).format
            };
        case "dateFormat":
            return r = o.date[t.style],
            {
                id: e.id,
                format: new Intl.DateTimeFormat(a,r).format
            };
        case "timeFormat":
            return r = o.time[t.style],
            {
                id: e.id,
                format: new Intl.DateTimeFormat(a,r).format
            };
        case "pluralFormat":
            return r = this.compileOptions(e),
            new n(e.id,t.ordinal,t.offset,r,c);
        case "selectFormat":
            return r = this.compileOptions(e),
            new s(e.id,r);
        default:
            throw new Error("Message element does not have a valid format type")
        }
    }
    ,
    t.prototype.compileOptions = function(e) {
        var t = e.format
          , i = t.options
          , n = {};
        this.pluralStack.push(this.currentPlural),
        this.currentPlural = "pluralFormat" === t.type ? e : null;
        var r, s, o;
        for (r = 0,
        s = i.length; s > r; r += 1)
            o = i[r],
            n[o.selector] = this.compileMessage(o.value);
        return this.currentPlural = this.pluralStack.pop(),
        n
    }
    ,
    i.prototype.format = function(e) {
        return e ? "string" == typeof e ? e : String(e) : ""
    }
    ,
    n.prototype.getOption = function(e) {
        var t = this.options
          , i = t["=" + e] || t[this.pluralFn(e - this.offset, this.useOrdinal)];
        return i || t.other
    }
    ,
    r.prototype.format = function(e) {
        var t = this.numberFormat.format(e - this.offset);
        return this.string.replace(/(^|[^\\])#/g, "$1" + t).replace(/\\#/g, "#")
    }
    ,
    s.prototype.getOption = function(e) {
        var t = this.options;
        return t[e] || t.other
    }
    ;
    var d = function() {
        function e(e, t) {
            function i() {
                this.constructor = e
            }
            i.prototype = t.prototype,
            e.prototype = new i
        }
        function t(e, t, i, n, r, s) {
            this.message = e,
            this.expected = t,
            this.found = i,
            this.offset = n,
            this.line = r,
            this.column = s,
            this.name = "SyntaxError"
        }
        function i(e) {
            function i(t) {
                function i(t, i, n) {
                    var r, s;
                    for (r = i; n > r; r++)
                        s = e.charAt(r),
                        "\n" === s ? (t.seenCR || t.line++,
                        t.column = 1,
                        t.seenCR = !1) : "\r" === s || "\u2028" === s || "\u2029" === s ? (t.line++,
                        t.column = 1,
                        t.seenCR = !0) : (t.column++,
                        t.seenCR = !1)
                }
                return Ke !== t && (Ke > t && (Ke = 0,
                qe = {
                    line: 1,
                    column: 1,
                    seenCR: !1
                }),
                i(qe, Ke, t),
                Ke = t),
                qe
            }
            function n(e) {
                Ze > We || (We > Ze && (Ze = We,
                Je = []),
                Je.push(e))
            }
            function r(n, r, s) {
                function o(e) {
                    var t = 1;
                    for (e.sort(function(e, t) {
                        return e.description < t.description ? -1 : e.description > t.description ? 1 : 0
                    }); t < e.length; )
                        e[t - 1] === e[t] ? e.splice(t, 1) : t++
                }
                function a(e, t) {
                    function i(e) {
                        function t(e) {
                            return e.charCodeAt(0).toString(16).toUpperCase()
                        }
                        return e.replace(/\\/g, "\\\\").replace(/"/g, '\\"').replace(/\x08/g, "\\b").replace(/\t/g, "\\t").replace(/\n/g, "\\n").replace(/\f/g, "\\f").replace(/\r/g, "\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g, function(e) {
                            return "\\x0" + t(e)
                        }).replace(/[\x10-\x1F\x80-\xFF]/g, function(e) {
                            return "\\x" + t(e)
                        }).replace(/[\u0180-\u0FFF]/g, function(e) {
                            return "\\u0" + t(e)
                        }).replace(/[\u1080-\uFFFF]/g, function(e) {
                            return "\\u" + t(e)
                        })
                    }
                    var n, r, s, o = new Array(e.length);
                    for (s = 0; s < e.length; s++)
                        o[s] = e[s].description;
                    return n = e.length > 1 ? o.slice(0, -1).join(", ") + " or " + o[e.length - 1] : o[0],
                    r = t ? '"' + i(t) + '"' : "end of input",
                    "Expected " + n + " but " + r + " found."
                }
                var c = i(s)
                  , l = s < e.length ? e.charAt(s) : null;
                return null !== r && o(r),
                new t(null !== n ? n : a(r, l),r,l,s,c.line,c.column)
            }
            function s() {
                var e;
                return e = o()
            }
            function o() {
                var e, t, i;
                for (e = We,
                t = [],
                i = a(); i !== I; )
                    t.push(i),
                    i = a();
                return t !== I && (Ye = e,
                t = D(t)),
                e = t
            }
            function a() {
                var e;
                return e = l(),
                e === I && (e = u()),
                e
            }
            function c() {
                var t, i, n, r, s, o;
                if (t = We,
                i = [],
                n = We,
                r = E(),
                r !== I ? (s = w(),
                s !== I ? (o = E(),
                o !== I ? (r = [r, s, o],
                n = r) : (We = n,
                n = N)) : (We = n,
                n = N)) : (We = n,
                n = N),
                n !== I)
                    for (; n !== I; )
                        i.push(n),
                        n = We,
                        r = E(),
                        r !== I ? (s = w(),
                        s !== I ? (o = E(),
                        o !== I ? (r = [r, s, o],
                        n = r) : (We = n,
                        n = N)) : (We = n,
                        n = N)) : (We = n,
                        n = N);
                else
                    i = N;
                return i !== I && (Ye = t,
                i = M(i)),
                t = i,
                t === I && (t = We,
                i = S(),
                i !== I && (i = e.substring(t, We)),
                t = i),
                t
            }
            function l() {
                var e, t;
                return e = We,
                t = c(),
                t !== I && (Ye = e,
                t = x(t)),
                e = t
            }
            function h() {
                var t, i, r;
                if (t = C(),
                t === I) {
                    if (t = We,
                    i = [],
                    B.test(e.charAt(We)) ? (r = e.charAt(We),
                    We++) : (r = I,
                    0 === Qe && n(F)),
                    r !== I)
                        for (; r !== I; )
                            i.push(r),
                            B.test(e.charAt(We)) ? (r = e.charAt(We),
                            We++) : (r = I,
                            0 === Qe && n(F));
                    else
                        i = N;
                    i !== I && (i = e.substring(t, We)),
                    t = i
                }
                return t
            }
            function u() {
                var t, i, r, s, o, a, c, l, u;
                return t = We,
                123 === e.charCodeAt(We) ? (i = V,
                We++) : (i = I,
                0 === Qe && n(U)),
                i !== I ? (r = E(),
                r !== I ? (s = h(),
                s !== I ? (o = E(),
                o !== I ? (a = We,
                44 === e.charCodeAt(We) ? (c = H,
                We++) : (c = I,
                0 === Qe && n(z)),
                c !== I ? (l = E(),
                l !== I ? (u = d(),
                u !== I ? (c = [c, l, u],
                a = c) : (We = a,
                a = N)) : (We = a,
                a = N)) : (We = a,
                a = N),
                a === I && (a = j),
                a !== I ? (c = E(),
                c !== I ? (125 === e.charCodeAt(We) ? (l = G,
                We++) : (l = I,
                0 === Qe && n(X)),
                l !== I ? (Ye = t,
                i = $(s, a),
                t = i) : (We = t,
                t = N)) : (We = t,
                t = N)) : (We = t,
                t = N)) : (We = t,
                t = N)) : (We = t,
                t = N)) : (We = t,
                t = N)) : (We = t,
                t = N),
                t
            }
            function d() {
                var e;
                return e = f(),
                e === I && (e = p(),
                e === I && (e = m(),
                e === I && (e = g()))),
                e
            }
            function f() {
                var t, i, r, s, o, a, c;
                return t = We,
                e.substr(We, 6) === W ? (i = W,
                We += 6) : (i = I,
                0 === Qe && n(Y)),
                i === I && (e.substr(We, 4) === K ? (i = K,
                We += 4) : (i = I,
                0 === Qe && n(q)),
                i === I && (e.substr(We, 4) === Z ? (i = Z,
                We += 4) : (i = I,
                0 === Qe && n(J)))),
                i !== I ? (r = E(),
                r !== I ? (s = We,
                44 === e.charCodeAt(We) ? (o = H,
                We++) : (o = I,
                0 === Qe && n(z)),
                o !== I ? (a = E(),
                a !== I ? (c = w(),
                c !== I ? (o = [o, a, c],
                s = o) : (We = s,
                s = N)) : (We = s,
                s = N)) : (We = s,
                s = N),
                s === I && (s = j),
                s !== I ? (Ye = t,
                i = Q(i, s),
                t = i) : (We = t,
                t = N)) : (We = t,
                t = N)) : (We = t,
                t = N),
                t
            }
            function p() {
                var t, i, r, s, o, a;
                return t = We,
                e.substr(We, 6) === ee ? (i = ee,
                We += 6) : (i = I,
                0 === Qe && n(te)),
                i !== I ? (r = E(),
                r !== I ? (44 === e.charCodeAt(We) ? (s = H,
                We++) : (s = I,
                0 === Qe && n(z)),
                s !== I ? (o = E(),
                o !== I ? (a = b(),
                a !== I ? (Ye = t,
                i = ie(a),
                t = i) : (We = t,
                t = N)) : (We = t,
                t = N)) : (We = t,
                t = N)) : (We = t,
                t = N)) : (We = t,
                t = N),
                t
            }
            function m() {
                var t, i, r, s, o, a;
                return t = We,
                e.substr(We, 13) === ne ? (i = ne,
                We += 13) : (i = I,
                0 === Qe && n(re)),
                i !== I ? (r = E(),
                r !== I ? (44 === e.charCodeAt(We) ? (s = H,
                We++) : (s = I,
                0 === Qe && n(z)),
                s !== I ? (o = E(),
                o !== I ? (a = b(),
                a !== I ? (Ye = t,
                i = se(a),
                t = i) : (We = t,
                t = N)) : (We = t,
                t = N)) : (We = t,
                t = N)) : (We = t,
                t = N)) : (We = t,
                t = N),
                t
            }
            function g() {
                var t, i, r, s, o, a, c;
                if (t = We,
                e.substr(We, 6) === oe ? (i = oe,
                We += 6) : (i = I,
                0 === Qe && n(ae)),
                i !== I)
                    if (r = E(),
                    r !== I)
                        if (44 === e.charCodeAt(We) ? (s = H,
                        We++) : (s = I,
                        0 === Qe && n(z)),
                        s !== I)
                            if (o = E(),
                            o !== I) {
                                if (a = [],
                                c = v(),
                                c !== I)
                                    for (; c !== I; )
                                        a.push(c),
                                        c = v();
                                else
                                    a = N;
                                a !== I ? (Ye = t,
                                i = ce(a),
                                t = i) : (We = t,
                                t = N)
                            } else
                                We = t,
                                t = N;
                        else
                            We = t,
                            t = N;
                    else
                        We = t,
                        t = N;
                else
                    We = t,
                    t = N;
                return t
            }
            function y() {
                var t, i, r, s;
                return t = We,
                i = We,
                61 === e.charCodeAt(We) ? (r = le,
                We++) : (r = I,
                0 === Qe && n(he)),
                r !== I ? (s = C(),
                s !== I ? (r = [r, s],
                i = r) : (We = i,
                i = N)) : (We = i,
                i = N),
                i !== I && (i = e.substring(t, We)),
                t = i,
                t === I && (t = w()),
                t
            }
            function v() {
                var t, i, r, s, a, c, l, h, u;
                return t = We,
                i = E(),
                i !== I ? (r = y(),
                r !== I ? (s = E(),
                s !== I ? (123 === e.charCodeAt(We) ? (a = V,
                We++) : (a = I,
                0 === Qe && n(U)),
                a !== I ? (c = E(),
                c !== I ? (l = o(),
                l !== I ? (h = E(),
                h !== I ? (125 === e.charCodeAt(We) ? (u = G,
                We++) : (u = I,
                0 === Qe && n(X)),
                u !== I ? (Ye = t,
                i = ue(r, l),
                t = i) : (We = t,
                t = N)) : (We = t,
                t = N)) : (We = t,
                t = N)) : (We = t,
                t = N)) : (We = t,
                t = N)) : (We = t,
                t = N)) : (We = t,
                t = N)) : (We = t,
                t = N),
                t
            }
            function _() {
                var t, i, r, s;
                return t = We,
                e.substr(We, 7) === de ? (i = de,
                We += 7) : (i = I,
                0 === Qe && n(fe)),
                i !== I ? (r = E(),
                r !== I ? (s = C(),
                s !== I ? (Ye = t,
                i = pe(s),
                t = i) : (We = t,
                t = N)) : (We = t,
                t = N)) : (We = t,
                t = N),
                t
            }
            function b() {
                var e, t, i, n, r;
                if (e = We,
                t = _(),
                t === I && (t = j),
                t !== I)
                    if (i = E(),
                    i !== I) {
                        if (n = [],
                        r = v(),
                        r !== I)
                            for (; r !== I; )
                                n.push(r),
                                r = v();
                        else
                            n = N;
                        n !== I ? (Ye = e,
                        t = me(t, n),
                        e = t) : (We = e,
                        e = N)
                    } else
                        We = e,
                        e = N;
                else
                    We = e,
                    e = N;
                return e
            }
            function S() {
                var t, i;
                if (Qe++,
                t = [],
                ye.test(e.charAt(We)) ? (i = e.charAt(We),
                We++) : (i = I,
                0 === Qe && n(ve)),
                i !== I)
                    for (; i !== I; )
                        t.push(i),
                        ye.test(e.charAt(We)) ? (i = e.charAt(We),
                        We++) : (i = I,
                        0 === Qe && n(ve));
                else
                    t = N;
                return Qe--,
                t === I && (i = I,
                0 === Qe && n(ge)),
                t
            }
            function E() {
                var t, i, r;
                for (Qe++,
                t = We,
                i = [],
                r = S(); r !== I; )
                    i.push(r),
                    r = S();
                return i !== I && (i = e.substring(t, We)),
                t = i,
                Qe--,
                t === I && (i = I,
                0 === Qe && n(_e)),
                t
            }
            function P() {
                var t;
                return be.test(e.charAt(We)) ? (t = e.charAt(We),
                We++) : (t = I,
                0 === Qe && n(Se)),
                t
            }
            function T() {
                var t;
                return Ee.test(e.charAt(We)) ? (t = e.charAt(We),
                We++) : (t = I,
                0 === Qe && n(Pe)),
                t
            }
            function C() {
                var t, i, r, s, o, a;
                if (t = We,
                48 === e.charCodeAt(We) ? (i = Te,
                We++) : (i = I,
                0 === Qe && n(Ce)),
                i === I) {
                    if (i = We,
                    r = We,
                    Ae.test(e.charAt(We)) ? (s = e.charAt(We),
                    We++) : (s = I,
                    0 === Qe && n(we)),
                    s !== I) {
                        for (o = [],
                        a = P(); a !== I; )
                            o.push(a),
                            a = P();
                        o !== I ? (s = [s, o],
                        r = s) : (We = r,
                        r = N)
                    } else
                        We = r,
                        r = N;
                    r !== I && (r = e.substring(i, We)),
                    i = r
                }
                return i !== I && (Ye = t,
                i = Re(i)),
                t = i
            }
            function A() {
                var t, i, r, s, o, a, c, l;
                return Oe.test(e.charAt(We)) ? (t = e.charAt(We),
                We++) : (t = I,
                0 === Qe && n(Ie)),
                t === I && (t = We,
                e.substr(We, 2) === Le ? (i = Le,
                We += 2) : (i = I,
                0 === Qe && n(ke)),
                i !== I && (Ye = t,
                i = De()),
                t = i,
                t === I && (t = We,
                e.substr(We, 2) === Ne ? (i = Ne,
                We += 2) : (i = I,
                0 === Qe && n(Me)),
                i !== I && (Ye = t,
                i = xe()),
                t = i,
                t === I && (t = We,
                e.substr(We, 2) === Be ? (i = Be,
                We += 2) : (i = I,
                0 === Qe && n(Fe)),
                i !== I && (Ye = t,
                i = Ve()),
                t = i,
                t === I && (t = We,
                e.substr(We, 2) === Ue ? (i = Ue,
                We += 2) : (i = I,
                0 === Qe && n(je)),
                i !== I && (Ye = t,
                i = He()),
                t = i,
                t === I && (t = We,
                e.substr(We, 2) === ze ? (i = ze,
                We += 2) : (i = I,
                0 === Qe && n(Ge)),
                i !== I ? (r = We,
                s = We,
                o = T(),
                o !== I ? (a = T(),
                a !== I ? (c = T(),
                c !== I ? (l = T(),
                l !== I ? (o = [o, a, c, l],
                s = o) : (We = s,
                s = N)) : (We = s,
                s = N)) : (We = s,
                s = N)) : (We = s,
                s = N),
                s !== I && (s = e.substring(r, We)),
                r = s,
                r !== I ? (Ye = t,
                i = Xe(r),
                t = i) : (We = t,
                t = N)) : (We = t,
                t = N)))))),
                t
            }
            function w() {
                var e, t, i;
                if (e = We,
                t = [],
                i = A(),
                i !== I)
                    for (; i !== I; )
                        t.push(i),
                        i = A();
                else
                    t = N;
                return t !== I && (Ye = e,
                t = $e(t)),
                e = t
            }
            var R, O = arguments.length > 1 ? arguments[1] : {}, I = {}, L = {
                start: s
            }, k = s, D = function(e) {
                return {
                    type: "messageFormatPattern",
                    elements: e
                }
            }, N = I, M = function(e) {
                var t, i, n, r, s, o = "";
                for (t = 0,
                n = e.length; n > t; t += 1)
                    for (r = e[t],
                    i = 0,
                    s = r.length; s > i; i += 1)
                        o += r[i];
                return o
            }, x = function(e) {
                return {
                    type: "messageTextElement",
                    value: e
                }
            }, B = /^[^ \t\n\r,.+={}#]/, F = {
                type: "class",
                value: "[^ \\t\\n\\r,.+={}#]",
                description: "[^ \\t\\n\\r,.+={}#]"
            }, V = "{", U = {
                type: "literal",
                value: "{",
                description: '"{"'
            }, j = null, H = ",", z = {
                type: "literal",
                value: ",",
                description: '","'
            }, G = "}", X = {
                type: "literal",
                value: "}",
                description: '"}"'
            }, $ = function(e, t) {
                return {
                    type: "argumentElement",
                    id: e,
                    format: t && t[2]
                }
            }, W = "number", Y = {
                type: "literal",
                value: "number",
                description: '"number"'
            }, K = "date", q = {
                type: "literal",
                value: "date",
                description: '"date"'
            }, Z = "time", J = {
                type: "literal",
                value: "time",
                description: '"time"'
            }, Q = function(e, t) {
                return {
                    type: e + "Format",
                    style: t && t[2]
                }
            }, ee = "plural", te = {
                type: "literal",
                value: "plural",
                description: '"plural"'
            }, ie = function(e) {
                return {
                    type: e.type,
                    ordinal: !1,
                    offset: e.offset || 0,
                    options: e.options
                }
            }, ne = "selectordinal", re = {
                type: "literal",
                value: "selectordinal",
                description: '"selectordinal"'
            }, se = function(e) {
                return {
                    type: e.type,
                    ordinal: !0,
                    offset: e.offset || 0,
                    options: e.options
                }
            }, oe = "select", ae = {
                type: "literal",
                value: "select",
                description: '"select"'
            }, ce = function(e) {
                return {
                    type: "selectFormat",
                    options: e
                }
            }, le = "=", he = {
                type: "literal",
                value: "=",
                description: '"="'
            }, ue = function(e, t) {
                return {
                    type: "optionalFormatPattern",
                    selector: e,
                    value: t
                }
            }, de = "offset:", fe = {
                type: "literal",
                value: "offset:",
                description: '"offset:"'
            }, pe = function(e) {
                return e
            }, me = function(e, t) {
                return {
                    type: "pluralFormat",
                    offset: e,
                    options: t
                }
            }, ge = {
                type: "other",
                description: "whitespace"
            }, ye = /^[ \t\n\r]/, ve = {
                type: "class",
                value: "[ \\t\\n\\r]",
                description: "[ \\t\\n\\r]"
            }, _e = {
                type: "other",
                description: "optionalWhitespace"
            }, be = /^[0-9]/, Se = {
                type: "class",
                value: "[0-9]",
                description: "[0-9]"
            }, Ee = /^[0-9a-f]/i, Pe = {
                type: "class",
                value: "[0-9a-f]i",
                description: "[0-9a-f]i"
            }, Te = "0", Ce = {
                type: "literal",
                value: "0",
                description: '"0"'
            }, Ae = /^[1-9]/, we = {
                type: "class",
                value: "[1-9]",
                description: "[1-9]"
            }, Re = function(e) {
                return parseInt(e, 10)
            }, Oe = /^[^{}\\\0-\x1F \t\n\r]/, Ie = {
                type: "class",
                value: "[^{}\\\\\\0-\\x1F \\t\\n\\r]",
                description: "[^{}\\\\\\0-\\x1F \\t\\n\\r]"
            }, Le = "\\\\", ke = {
                type: "literal",
                value: "\\\\",
                description: '"\\\\\\\\"'
            }, De = function() {
                return "\\"
            }, Ne = "\\#", Me = {
                type: "literal",
                value: "\\#",
                description: '"\\\\#"'
            }, xe = function() {
                return "\\#"
            }, Be = "\\{", Fe = {
                type: "literal",
                value: "\\{",
                description: '"\\\\{"'
            }, Ve = function() {
                return "{"
            }, Ue = "\\}", je = {
                type: "literal",
                value: "\\}",
                description: '"\\\\}"'
            }, He = function() {
                return "}"
            }, ze = "\\u", Ge = {
                type: "literal",
                value: "\\u",
                description: '"\\\\u"'
            }, Xe = function(e) {
                return String.fromCharCode(parseInt(e, 16))
            }, $e = function(e) {
                return e.join("")
            }, We = 0, Ye = 0, Ke = 0, qe = {
                line: 1,
                column: 1,
                seenCR: !1
            }, Ze = 0, Je = [], Qe = 0;
            if ("startRule"in O) {
                if (!(O.startRule in L))
                    throw new Error("Can't start parsing from rule \"" + O.startRule + '".');
                k = L[O.startRule]
            }
            if (R = k(),
            R !== I && We === e.length)
                return R;
            throw R !== I && We < e.length && n({
                type: "end",
                description: "end of input"
            }),
            r(null, Je, Ze)
        }
        return e(t, Error),
        {
            SyntaxError: t,
            parse: i
        }
    }()
      , f = o;
    l(o, "formats", {
        enumerable: !0,
        value: {
            number: {
                currency: {
                    style: "currency"
                },
                percent: {
                    style: "percent"
                }
            },
            date: {
                "short": {
                    month: "numeric",
                    day: "numeric",
                    year: "2-digit"
                },
                medium: {
                    month: "short",
                    day: "numeric",
                    year: "numeric"
                },
                "long": {
                    month: "long",
                    day: "numeric",
                    year: "numeric"
                },
                full: {
                    weekday: "long",
                    month: "long",
                    day: "numeric",
                    year: "numeric"
                }
            },
            time: {
                "short": {
                    hour: "numeric",
                    minute: "numeric"
                },
                medium: {
                    hour: "numeric",
                    minute: "numeric",
                    second: "numeric"
                },
                "long": {
                    hour: "numeric",
                    minute: "numeric",
                    second: "numeric",
                    timeZoneName: "short"
                },
                full: {
                    hour: "numeric",
                    minute: "numeric",
                    second: "numeric",
                    timeZoneName: "short"
                }
            }
        }
    }),
    l(o, "__localeData__", {
        value: h(null)
    }),
    l(o, "__addLocaleData", {
        value: function(e) {
            if (!e || !e.locale)
                throw new Error("Locale data provided to IntlMessageFormat is missing a `locale` property");
            o.__localeData__[e.locale.toLowerCase()] = e
        }
    }),
    l(o, "__parse", {
        value: d.parse
    }),
    l(o, "defaultLocale", {
        enumerable: !0,
        writable: !0,
        value: void 0
    }),
    o.prototype.resolvedOptions = function() {
        return {
            locale: this._locale
        }
    }
    ,
    o.prototype._compilePattern = function(e, t, i, n) {
        var r = new u(t,i,n);
        return r.compile(e)
    }
    ,
    o.prototype._findPluralRuleFunction = function(e) {
        for (var t = o.__localeData__, i = t[e.toLowerCase()]; i; ) {
            if (i.pluralRuleFunction)
                return i.pluralRuleFunction;
            i = i.parentLocale && t[i.parentLocale.toLowerCase()]
        }
        throw new Error("Locale data added to IntlMessageFormat is missing a `pluralRuleFunction` for :" + e)
    }
    ,
    o.prototype._format = function(e, t) {
        var i, n, r, s, o, c = "";
        for (i = 0,
        n = e.length; n > i; i += 1)
            if (r = e[i],
            "string" != typeof r) {
                if (s = r.id,
                !t || !a.call(t, s))
                    throw new Error("A value must be provided for: " + s);
                o = t[s],
                c += r.options ? this._format(r.getOption(o), t) : r.format(o)
            } else
                c += r;
        return c
    }
    ,
    o.prototype._mergeFormats = function(t, i) {
        var n, r, s = {};
        for (n in t)
            a.call(t, n) && (s[n] = r = h(t[n]),
            i && a.call(i, n) && e(r, i[n]));
        return s
    }
    ,
    o.prototype._resolveLocale = function(e) {
        "string" == typeof e && (e = [e]),
        e = (e || []).concat(o.defaultLocale);
        var t, i, n, r, s = o.__localeData__;
        for (t = 0,
        i = e.length; i > t; t += 1)
            for (n = e[t].toLowerCase().split("-"); n.length; ) {
                if (r = s[n.join("-")])
                    return r.locale;
                n.pop()
            }
        var a = e.pop();
        throw new Error("No locale data has been added to IntlMessageFormat for: " + e.join(", ") + ", or the default locale: " + a)
    }
    ;
    var p = {
        locale: "en",
        pluralRuleFunction: function(e, t) {
            var i = String(e).split(".")
              , n = !i[1]
              , r = Number(i[0]) == e
              , s = r && i[0].slice(-1)
              , o = r && i[0].slice(-2);
            return t ? 1 == s && 11 != o ? "one" : 2 == s && 12 != o ? "two" : 3 == s && 13 != o ? "few" : "other" : 1 == e && n ? "one" : "other"
        }
    };
    f.__addLocaleData(p),
    f.defaultLocale = "en";
    var m = f;
    this.IntlMessageFormat = m
}
.call(this),
function(e) {
    "use strict";
    e.XTV = e.XTV || {};
    var t, i = [];
    if (!window.Intl) {
        var n = document.createElement("script")
          , r = document.createElement("script");
        n.src = "/bower_components/intl/dist/Intl.min.js",
        r.src = "/bower_components/intl/locale-data/jsonp/en-US.js",
        document.head.appendChild(n),
        document.head.appendChild(r)
    }
    e.XTV.TvLocalizeBehaviorImpl = {
        properties: {
            defaultLanguage: {
                type: String,
                value: "en-US"
            },
            language: {
                type: String
            },
            selectedLanguage: {
                type: String,
                observer: "changeLanguage"
            },
            supportedLanguages: {
                type: Array,
                value: function() {
                    return ["en-US", "es-US"]
                }
            },
            localizeStorageKey: {
                type: String,
                value: "language"
            },
            pathToResources: {
                type: String,
                value: "/languages/"
            },
            formats: {
                type: Object,
                value: function() {
                    return {}
                }
            },
            localize: {
                type: Function,
                computed: "__computeLocalize(language, resources, formats)"
            }
        },
        created: function() {
            i.push(this)
        },
        attached: function() {
            t || (t = localStorage.getItem(this.localizeStorageKey) || this.defaultLanguage),
            this.set("language", t),
            this.set("selectedLanguage", t),
            this.set("resources", e.XTV.Languages || {})
        },
        changeLanguage: function(e, n) {
            n && (t = e,
            localStorage.setItem(this.localizeStorageKey, e),
            i.forEach(function(e) {
                e.set("language", t)
            }, this),
            this.fire("app:language-changed"))
        },
        getLanguage: function(e) {
            var t = localStorage.getItem("language")
              , i = this.isLanguageSupported(t) ? t : this.defaultLanguage;
            return "true" === String(e) ? i : i.substring(0, 2)
        },
        isLanguageSupported: function(e) {
            return this.supportedLanguages.some(function(t) {
                return e === t
            })
        },
        __computeLocalize: function(e, t, i) {
            var n = this.constructor.prototype;
            return n.__localizationCache || (n.__localizationCache = {
                requests: {},
                messages: {},
                ajax: null
            }),
            n.__localizationCache.messages = {},
            function() {
                var r = arguments[0];
                if (r && t && e && t[e]) {
                    var s = t[e][r];
                    if (!s)
                        return r;
                    var o = r + s
                      , a = n.__localizationCache.messages[o];
                    a || (a = new IntlMessageFormat(s,e,i),
                    n.__localizationCache.messages[o] = a);
                    for (var c = {}, l = 1; l < arguments.length; l += 2)
                        c[arguments[l]] = arguments[l + 1];
                    return a.format(c)
                }
            }
        }
    },
    e.XTV.TvLocalizeBehavior = [Polymer.AppLocalizeBehavior, e.XTV.TvLocalizeBehaviorImpl]
}(window),
function() {
    var e = ["finale", "live", "new", "premiere", "repeat", "replay", "taped"];
    Polymer({
        is: "tv-badge-airing-type",
        properties: {
            airingType: {
                type: String,
                value: "",
                observer: "_setIcon"
            },
            badgeClass: String,
            icon: String
        },
        behaviors: [XTV.TvLocalizeBehavior],
        observers: ["_onLocalizeReady(localize)"],
        attached: function() {
            Polymer.RenderStatus.afterNextRender(this, function() {
                this._setIcon(this.airingType)
            })
        },
        _airingTypeBadgeValue: function(e) {
            return {
                taped: "replay"
            }[e] || e
        },
        _onLocalizeReady: function() {
            this._setIcon(this.airingType)
        },
        _setIcon: function(t) {
            if (this.isAttached) {
                t = t || "";
                var i = this._airingTypeBadgeValue(t.toLowerCase());
                e.indexOf(i) > -1 ? (this.set("icon", this.localize("Badge_" + i)),
                this.set("cleanedType", i)) : (this.set("icon", ""),
                this.set("cleanedType", "")),
                this.set("badgeClass", "badge-" + this.getLanguage())
            }
        }
    })
}(),
function(e) {
    var t = {
        info: "tv-icons:action-info",
        lock: "tv-icons:action-lock",
        movieRecordOptions: "tv-icons:action-record",
        record: "tv-icons:action-record",
        recordOptions: "tv-icons:action-record",
        recordRepeat: "tv-icons:action-record",
        resume: "tv-icons:action-watch",
        restart: "tv-icons:action-restart",
        unlock: "tv-icons:action-unlock",
        watch: "tv-icons:action-watch",
        watchAsGuest: "tv-icons:action-watch",
        watchChannel: "tv-icons:action-watch",
        update: "tv-icons:action-check"
    };
    e.XTV = e.XTV || {},
    e.XTV.TvButtonBehavior = {
        properties: {
            icon: {
                type: String,
                observer: "_hasIcon"
            },
            iconPosition: {
                type: String,
                value: "left"
            },
            iconOnly: {
                type: Boolean,
                value: !1
            },
            toggles: Boolean,
            spins: Boolean
        },
        listeners: {
            tap: "_onTap"
        },
        attached: function() {
            this._setDefaultIcons(),
            this._hasIcon()
        },
        _hasIcon: function() {
            this.iconOnly ? this.$.content.classList.add("hidden") : this.classList.add(this.iconPosition)
        },
        _onTap: function() {
            this.toggles && this.toggleAttribute("active"),
            this.spins && "tv-icons:loading" !== this.icon && this.spin()
        },
        _setDefaultIcons: function() {
            !this.icon && t[this.getAttribute("name")] && this.set("icon", t[this.getAttribute("name")])
        },
        spin: function() {
            this.previousIcon = this.icon,
            this.set("icon", "tv-icons:loading")
        },
        stopSpinning: function() {
            this.previousIcon && this.set("icon", this.previousIcon)
        }
    }
}(window),
function(e) {
    var t = {
        CreativeWork: "s:CreativeWork",
        Movie: "s:Movie",
        Network: "Network",
        Organization: "s:Organization",
        Person: "s:Person",
        SportsEvent: "s:SportsEvent",
        SportsTeam: "s:SportsTeam",
        TvEpisode: "s:TVEpisode",
        TvSeries: "s:TvSeries"
    };
    e.XTV = e.XTV || {},
    e.XTV.TvTypeBehavior = {
        isCreativeWork: function(e) {
            return e && t.CreativeWork === e.type
        },
        isOrganization: function(e) {
            return e && t.Organization === e.type
        },
        isMovie: function(e) {
            return e && t.Movie === e.type
        },
        isNetwork: function(e) {
            return e && t.Network === e.type
        },
        isPerson: function(e) {
            return e && t.Person === e.type
        },
        isSportsEvent: function(e) {
            return e && t.SportsEvent === e.type
        },
        isSportsTeam: function(e) {
            return e && t.SportsTeam === e.type
        },
        isTvEpisode: function(e) {
            return e && t.TvEpisode === e.type
        },
        isTvSeries: function(e) {
            return e && t.TvSeries === e.type
        },
        Types: t
    }
}(window),
function(e) {
    e.XTV = e.XTV || {},
    e.XTV.TvEntityButtonBehaviorImpl = {
        properties: {
            toInfo: {
                type: Boolean,
                value: !1
            }
        },
        observers: ["localizeLabels(localize)"],
        localizeLabels: function() {
            this.labels = {},
            this.labels[XTV.TvTypeBehavior.Types.CreativeWork] = this.localize("More_Info"),
            this.labels[XTV.TvTypeBehavior.Types.Movie] = this.localize("Movie_Info"),
            this.labels[XTV.TvTypeBehavior.Types.SportsEvent] = this.localize("Game_Info"),
            this.labels[XTV.TvTypeBehavior.Types.SportsTeam] = this.localize("Team_Info"),
            this.labels[XTV.TvTypeBehavior.Types.TvEpisode] = this.localize("Episodes"),
            this.labels[XTV.TvTypeBehavior.Types.TvSeries] = this.localize("Episodes"),
            this.infoLabels = {},
            this.infoLabels[XTV.TvTypeBehavior.Types.TvSeries] = this.localize("Series_Info")
        },
        getLabel: function(e, t) {
            return e && e.type ? "info" === t ? this.labels[XTV.TvTypeBehavior.Types.CreativeWork] : this.toInfo ? this.infoLabels[e.type] || this.labels[e.type] : this.labels[e.type] : ""
        },
        getHref: function(e) {
            return e.type ? "/entity/" + (this.isSportsTeam(e) ? "sports/team/" : "") + e.entityId + "/" + (this.tab || "") : ""
        }
    },
    e.XTV.TvEntityButtonBehavior = [e.XTV.TvLocalizeBehavior, e.XTV.TvTypeBehavior, e.XTV.TvEntityButtonBehaviorImpl]
}(window),
Polymer({
    is: "tv-anchor",
    "extends": "a",
    behaviors: [XTV.TvButtonBehavior]
}),
Polymer({
    is: "tv-anchor-entity",
    behaviors: [XTV.TvEntityButtonBehavior],
    properties: {
        creativeWork: Object,
        href: String,
        tab: String,
        text: String
    },
    observers: ["onChange(creativeWork)"],
    onChange: function(e) {
        e && (this.set("href", this.getHref(e)),
        this.set("text", this.getLabel(e)))
    }
}),
Polymer({
    is: "tv-button",
    "extends": "button",
    behaviors: [XTV.TvButtonBehavior]
}),
Polymer({
    is: "tv-button-back",
    properties: {
        to: String
    },
    behaviors: [XTV.TvLocalizeBehavior],
    _onTap: function(e) {
        this.fire("search:close"),
        e.stopPropagation(),
        this.to ? page("/" + this.to) : 1 === window.history.length ? page("/") : window.history.back()
    }
}),
Polymer({
    is: "tv-button-close",
    behaviors: [XTV.TvLocalizeBehavior]
}),
Polymer({
    is: "tv-button-confirm",
    behaviors: [XTV.TvLocalizeBehavior],
    properties: {
        focused: {
            type: Boolean,
            value: !1
        },
        label: String,
        hasNoLabel: Boolean,
        icon: {
            type: String,
            value: "action-check"
        }
    },
    observers: ["localizeReady(localize)", "_focusedChanged(focused)"],
    localizeReady: function() {
        this.label && !this.hasNoLabel || (this.hasNoLabel = !0,
        this.set("label", this.localize("Confirm")))
    },
    _focusedChanged: function(e) {
        e && this.$.confirmButton.focus()
    },
    _onBlur: function() {
        this.set("focused", !1)
    },
    startSpinning: function() {
        this.$.confirmButton.spin()
    },
    stopSpinning: function() {
        this.$.confirmButton.stopSpinning()
    }
}),
Polymer({
    is: "tv-button-entity",
    behaviors: [XTV.TvEntityButtonBehavior, XTV.TvLocalizeBehavior],
    properties: {
        creativeWork: Object,
        entityId: {
            type: String,
            value: "",
            reflectToAttribute: !0
        },
        text: String,
        tab: {
            type: String,
            value: ""
        }
    },
    observers: ["_creativeWorkChanged(creativeWork, localize)"],
    _creativeWorkChanged: function(e) {
        if (e) {
            var t = this.getLabel(e);
            this.text && this.text === t || this.set("text", t),
            this.set("entityId", e.entityId)
        }
    },
    _toEntity: function() {
        page(this.getHref(this.creativeWork))
    }
}),
Polymer({
    is: "tv-button-update",
    properties: {
        disabled: {
            type: Boolean,
            value: !1,
            observer: "_disabledChanged"
        }
    },
    behaviors: [XTV.TvLocalizeBehavior],
    _disabledChanged: function(e) {
        this.toggleAttribute("disabled", e, this.$.updateButton)
    },
    startSpinning: function() {
        this.$.updateButton.spin()
    },
    stopSpinning: function() {
        this.$.updateButton.stopSpinning()
    }
}),
Polymer({
    is: "tv-button-favorite",
    hostAttributes: {
        role: "presentation"
    },
    properties: {
        selected: {
            type: Boolean,
            value: !1,
            reflectToAttribute: !0,
            observer: "_onSelectedStateChanged"
        },
        favoriteId: String,
        icon: String
    },
    behaviors: [Polymer.IronA11yKeysBehavior],
    listeners: {
        tap: "toggleFavorite"
    },
    focus: function() {
        this.$.favoritesButton.focus()
    },
    _getIcon: function(e) {
        return e ? "tv-icons:favorite" : "tv-icons:favorite-outline"
    },
    _onSelectedStateChanged: function(e) {
        this.set("icon", this._getIcon(e)),
        this.$.favoritesButton.setAttribute("aria-pressed", String(!!e))
    },
    toggleFavorite: function(e) {
        e.preventDefault(),
        this.fire(this.selected ? "favorite-remove" : "favorite-add", {
            id: this.favoriteId
        })
    },
    setTabindex: function(e) {
        return e ? "-1" : "0"
    }
}),
function(e) {
    e.XTV = e.XTV || {},
    e.XTV.TVScrollToBehavior = {
        scrollIntoView: function(e, t, i, n, r) {
            setTimeout(function() {
                var i, s, o = e.getBoundingClientRect().top, a = o + e.offsetHeight, c = document.body, l = window.innerHeight, h = n || 0, u = c.scrollTop - window.pageYOffset, d = r || !1, f = (l - h) / 2;
                o <= u + h && (i = o - h),
                a >= l && (i = a - l),
                d && (i = o - (f + e.offsetHeight / 2)),
                i && (s = window.pageYOffset + i,
                animatedScrollTo(document.body, s, t || 250))
            }, i || 250)
        }
    }
}(window),
function() {
    function e(e) {
        this._findAncestorByClass(e.target, "carousel-item-container") || this.close()
    }
    Polymer({
        is: "tv-carousel",
        hostAttributes: {
            tabindex: "-1"
        },
        properties: {
            expandable: {
                type: Boolean,
                value: !1
            },
            animationConfig: {
                value: function() {
                    return {}
                }
            },
            hasNoItems: {
                type: Boolean,
                value: !1
            },
            parentState: String,
            target: {
                type: Object,
                value: function() {
                    return this.$.carousel
                }
            }
        },
        behaviors: [Polymer.NeonAnimationRunnerBehavior, XTV.TVScrollToBehavior],
        listeners: {
            "carousel.scroll": "_onCarouselScroll",
            "carousel.tap": "_onItemTapped",
            "close-and-focus": "_onCloseAndFocus",
            "controlNext.tap": "_onControlTapped",
            "controlPrev.tap": "_onControlTapped",
            "neon-animation-finish": "_onAnimationFinish",
            "dom-change": "_onDomChanged"
        },
        observers: ["_onItemsChanged(parentState)"],
        addClassToItems: function(e, t) {
            t.forEach(function(t) {
                t && t.classList && t.classList.add(e)
            })
        },
        attached: function() {
            this.async(function() {
                this.toggleEmptyState(),
                this.updateContainerClasses(),
                this.toggleControls(),
                this.setAccessibility()
            }
            .bind(this))
        },
        animateScroll: function(e) {
            var t = e.currentTime || 0
              , i = e.increment || 20
              , n = e.duration || 500
              , r = e.start || 0
              , s = e.scrollAmount || 0
              , o = function() {
                t += i,
                this.$.carousel.scrollLeft = this._easeInOutQuad(t, r, s, n),
                t <= n && setTimeout(o, i)
            }
            .bind(this);
            o()
        },
        disableControl: function(e) {
            Polymer.dom(this.$[e]).removeAttribute("href")
        },
        enableControl: function(e) {
            Polymer.dom(this.$[e]).setAttribute("href", "#")
        },
        _easeInOutQuad: function(e, t, i, n) {
            return (e /= n / 2) < 1 ? i / 2 * e * e + t : -i / 2 * (--e * (e - 2) - 1) + t
        },
        focusFirstItem: function() {
            var e = this.getElementByClass(".carousel-item");
            e && e.focus()
        },
        focusLastItem: function() {
            var e = this.getElementsByClass(".carousel-item");
            Array.isArray(e) && e.pop().focus()
        },
        focusNextItem: function(e) {
            var t = this._findAncestorByClass(e, "carousel-item-container")
              , i = t.nextElementSibling;
            i && i.classList.contains("carousel-item-container") ? i.querySelector(".carousel-item").focus() : this.focusFirstItem()
        },
        focusPreviousItem: function(e) {
            var t = this._findAncestorByClass(e, "carousel-item-container")
              , i = t.previousElementSibling;
            i && i.classList.contains("carousel-item-container") ? i.querySelector(".carousel-item").focus() : this.focusLastItem()
        },
        getElementByClass: function(e) {
            var t = Polymer.dom(this).querySelector(e);
            return t || (t = this.querySelector(e)),
            t
        },
        getElementsByClass: function(e) {
            var t = Polymer.dom(this).querySelectorAll(e);
            return t.length || (t = [].slice.call(this.querySelectorAll(e))),
            t
        },
        getListItems: function() {
            return [].slice.call(this.$.carousel.firstElementChild.children).filter(function(e) {
                return "LI" === e.nodeName
            })
        },
        _onDomChanged: function() {
            this.debounce("domChangeDebouncer", this._onItemsChanged.bind(this), 100)
        },
        removeClassFromItems: function(e, t) {
            t.forEach(function(t) {
                t && t.classList && t.classList.remove(e)
            })
        },
        close: function() {
            this.querySelector(".animating") && this.cancelAnimation(),
            this.classList.remove("is-carousel-active"),
            this.removeClassFromItems("selected", this.getListItems()),
            this.removeClassFromItems("animated", Polymer.dom(this).querySelectorAll(".animated")),
            this.removeClassFromItems("animating", Polymer.dom(this).querySelectorAll(".animating")),
            document.body.removeEventListener("tap", this.tapListener)
        },
        reset: function() {
            this.close(),
            this.$.carousel.scrollLeft = 0
        },
        scrollToContainer: function(e) {
            var t = e.getBoundingClientRect()
              , i = this.$.carousel.getBoundingClientRect();
            this.animateScroll({
                start: this.$.carousel.scrollLeft,
                scrollAmount: t.left - i.width / 3
            })
        },
        toggleControls: function() {
            var e = this.$.carousel
              , t = e.offsetWidth
              , i = e.scrollWidth - t
              , n = e.scrollLeft
              , r = Math.max(i - n - 1, 0);
            n ? this.enableControl("controlPrev") : this.disableControl("controlPrev"),
            r ? this.enableControl("controlNext") : this.disableControl("controlNext")
        },
        toggleEmptyState: function() {
            this.set("hasNoItems", !this.getListItems().length)
        },
        updateContainerClasses: function() {
            var e = this.getListItems();
            this.addClassToItems("carousel-item-container", e),
            this.removeClassFromItems("is-first-item", e),
            e[0] && e[0].classList.add("is-first-item"),
            e.forEach(function(e) {
                e.setAttribute("role", "presentation")
            })
        },
        _onCarouselScroll: function() {
            this.toggleControls()
        },
        _onControlTapped: function(e) {
            return e.preventDefault(),
            !!e.currentTarget.hasAttribute("href") && void this.animateScroll({
                start: this.$.carousel.scrollLeft,
                scrollAmount: e.currentTarget.getAttribute("data-scroll-amount") * this.$.carousel.offsetWidth
            })
        },
        _onItemsChanged: function() {
            this.async(function() {
                this.toggleEmptyState(),
                this.updateContainerClasses(),
                this.toggleControls(),
                this.setAccessibility()
            }
            .bind(this))
        },
        setAccessibility: function() {
            this._setAccessibilityForDetails(),
            this._setAccessibilityForItems(),
            this._setAccessibilityForListContainer()
        },
        _setAccessibilityForItems: function() {
            this.getElementsByClass(".carousel-item").forEach(function(e, t) {
                e.setAttribute("tabindex", 0 === t ? "0" : "-1")
            })
        },
        _setAccessibilityForListContainer: function() {
            var e = Polymer.dom(this).querySelector(".carousel-items");
            e.setAttribute("tabindex", "-1"),
            e.setAttribute("role", "menu")
        },
        _setAccessibilityForDetails: function() {
            this.getElementsByClass(".carousel-details").forEach(function(e) {
                e.setAttribute("tabindex", "0"),
                e.setAttribute("role", "document")
            })
        },
        _findAncestorByClass: function(e, t) {
            for (; (e = e.parentElement) && !e.classList.contains(t); )
                ;
            return e
        },
        _onKeyPressed: function(e) {
            var t = e.detail.combo
              , i = document.activeElement
              , n = i && i.classList.contains("carousel-item")
              , r = i && (i.classList.contains("carousel-details") || !!this._findAncestorByClass(i, "carousel-details"))
              , s = Polymer.dom(e.detail.keyboardEvent.target);
            ["right", "left", "up", "down", "home", "end"].indexOf(t) !== -1 && (e.detail.keyboardEvent.preventDefault(),
            e.detail.keyboardEvent.stopPropagation()),
            n && ("right" === t || "down" === t ? (this.focusNextItem(i),
            this.expandable || s.node.fire("keypress-move")) : "left" === t || "up" === t ? (this.focusPreviousItem(i),
            this.expandable || s.node.fire("keypress-move")) : "home" === t ? this.focusFirstItem() : "end" === t ? this.focusLastItem() : "enter" === t || "space" === t ? this.expandable ? this._onItemTapped(e.detail.keyboardEvent) : s.node.fire("keypress-enter") : "esc" === t && (this.expandable ? this._onItemTapped(e.detail.keyboardEvent) : s.node.fire("keypress-escape"))),
            r && "esc" === t && this.expandable && this._onItemTapped(e.detail.keyboardEvent)
        },
        _onCloseAndFocus: function(e, t) {
            this.close(),
            this.async(function() {
                this._findAncestorByClass(t.target, "carousel-item-container").querySelector(".carousel-item").focus()
            }, 1)
        },
        _onItemTapped: function(t) {
            var i, n, r = this.querySelector("li.selected");
            return ("tap" !== t.type || !t.target.classList.contains("carousel-details") && !this._findAncestorByClass(t.target, "carousel-details")) && (i = this._findAncestorByClass(t.target, "carousel-item-container"),
            !(!this.expandable || !i || this.querySelector(".animating")) && (t.preventDefault(),
            n = i.querySelector(".carousel-details"),
            r === i ? (this._playAnimationScaleDown(i),
            i.querySelector(".carousel-item").focus(),
            void document.body.removeEventListener("tap", this.tapListener)) : (r && (this.fire("deselect", {}, {
                node: r
            }),
            [].slice.call(r.querySelectorAll(".animated")).forEach(function(e) {
                e.classList.remove("animated")
            })),
            this.removeClassFromItems("selected", this.getListItems()),
            this.classList.add("is-carousel-active"),
            this._playAnimationScaleUp(i),
            this.scrollIntoView(this, 250, 0, 0),
            this.tapListener = e.bind(this),
            document.body.addEventListener("tap", this.tapListener),
            void (n && n.focus()))))
        },
        _playAnimationScaleDown: function(e) {
            var t = e.querySelector(".carousel-item")
              , i = e.querySelector(".carousel-details");
            this.fire("deselect", {}, {
                node: e
            }),
            e.classList.add("animating"),
            this.animationConfig.scaleDownAnimation = [{
                name: "fade-out-animation",
                node: i
            }, {
                name: "transform-animation",
                node: t,
                transformFrom: "scale(1.2)",
                transformTo: "scale(1)",
                delay: 100
            }],
            this.playAnimation("scaleDownAnimation", {
                container: e,
                nodes: [t, i]
            }),
            this.classList.remove("is-carousel-active")
        },
        _playAnimationScaleUp: function(e) {
            var t = e.classList.contains("is-first-item")
              , i = e.querySelector(".carousel-item")
              , n = e.querySelector(".carousel-details");
            this.fire("carousel-select", {
                parentCarousel: this
            }, {
                node: e
            }),
            e.classList.add("animating"),
            this.scrollToContainer(e),
            this.animationConfig.scaleUpAnimation = [{
                name: "transform-animation",
                node: i,
                transformOrigin: t ? "0 25%" : "50% 25%",
                transformFrom: "scale(1)",
                transformTo: "scale(1.2)"
            }, {
                name: "transform-animation",
                node: n,
                transformTo: t ? "translate(0, 40px)" : "translate(-22px, 40px)"
            }, {
                name: "fade-in-animation",
                node: n,
                timing: {
                    delay: 500
                }
            }],
            this.playAnimation("scaleUpAnimation", {
                selecting: !0,
                container: e,
                nodes: [i, n]
            })
        },
        _onAnimationFinish: function(e) {
            var t = e.detail.container;
            t && (t.classList.remove("animating"),
            this.toggleClass("selected", e.detail.selecting, t))
        }
    })
}(),
Polymer({
    is: "tv-channel",
    properties: {
        channel: Object
    }
}),
Polymer({
    hostAttributes: {
        hidden: !0
    },
    is: "tv-common-sense-media",
    properties: {
        url: {
            type: String,
            computed: "computeUrl(review.url)"
        },
        review: {
            type: Object,
            observer: "_reviewChanged"
        }
    },
    computeUrl: function(e) {
        return e && e.length ? e : "#"
    },
    handleTap: function(e) {
        "#" === this.url && e.preventDefault()
    },
    _reviewChanged: function() {
        this.hidden = !this.get("review.value")
    }
}),
function() {
    "use strict";
    Polymer({
        is: "tv-download-status",
        properties: {
            asset: Object
        },
        behaviors: [XTV.TvLocalizeBehavior]
    })
}(),
Polymer({
    is: "tv-dropdown",
    properties: {
        buttonTitle: String,
        setTitle: {
            type: String,
            value: ""
        },
        internalSelected: {
            type: String,
            observer: "_onInternalSelected"
        },
        previousSelection: String,
        selected: {
            type: String,
            notify: !0,
            observer: "_onSelected"
        },
        label: {
            type: String
        },
        listboxId: {
            type: String,
            value: function() {
                return "dropdown-" + Math.floor(65535 * Math.random()).toString(16)
            }
        }
    },
    behaviors: [Polymer.IronA11yKeysBehavior],
    listeners: {
        "dropdown.tap": "_optionSelected"
    },
    keyBindings: {
        "down right": "_onNext",
        "up left": "_onPrevious",
        tab: "_onExit",
        esc: "_onEscape",
        enter: "_onTap"
    },
    attached: function() {
        this.async(this._updateTitle.bind(this))
    },
    _btnFocus: function() {
        this.querySelector('[role="listbox"]').focus()
    },
    _onNext: function(e) {
        e.preventDefault(),
        this.$.selector.selectNext(),
        this.isOpen || (this.fire("iron-announce", {
            text: this.$.selector.selectedItem.innerHTML
        }),
        this.set("selected", this.internalSelected))
    },
    _onPrevious: function(e) {
        e.preventDefault(),
        this.$.selector.selectPrevious(),
        this.isOpen || (this.fire("iron-announce", {
            text: this.$.selector.selectedItem.innerHTML
        }),
        this.set("selected", this.internalSelected))
    },
    _onEnter: function() {
        this._onClose(!0)
    },
    _onExit: function() {
        this.set("internalSelected", this.previousSelection),
        this._onClose(!1),
        this._updateTitle()
    },
    _onClose: function(e) {
        this.$.dropdown.close(),
        this.isOpen = !1,
        e && this.querySelector('[role="listbox"]').focus(),
        this._updateTitle(),
        this.querySelector('[role="listbox"]').setAttribute("aria-expanded", "false")
    },
    _onEscape: function(e) {
        this.isOpen && (e.preventDefault(),
        this.set("internalSelected", this.previousSelection),
        this._onClose(!0),
        this.querySelector('[role="listbox"]').setAttribute("aria-expanded", "false"))
    },
    _optionSelected: function() {
        this.set("selected", this.$.selector.selected),
        this._onClose(!0)
    },
    _open: function() {
        this.$.dropdown.open(),
        this.isOpen = !0,
        this.querySelector('[role="listbox"]').setAttribute("aria-expanded", "true")
    },
    _onTap: function() {
        this.isOpen ? this._optionSelected() : this._open()
    },
    _getSelectedNode: function(e) {
        var t;
        return e && (t = this.$.selector.querySelector("[" + this.attrForSelected + '="' + e + '"]')),
        t || (t = Polymer.dom(this.$.selector.firstElementChild).node),
        t
    },
    _focusSelection: function() {
        var e = this._getSelectedNode(this.internalSelected);
        e && e.focus && e.focus()
    },
    _updateTitle: function() {
        var e = this._getSelectedNode(this.internalSelected);
        this.setTitle ? this.set("buttonTitle", this.setTitle) : e ? this.set("buttonTitle", e.innerHTML) : this.set("buttonTitle", "")
    },
    _onSelected: function() {
        var e = this._getSelectedNode(this.selected);
        this.set("internalSelected", e.getAttribute(this.attrForSelected)),
        this.set("previousSelection", e.getAttribute(this.attrForSelected))
    },
    _onInternalSelected: function() {
        this.isOpen || this._updateTitle(),
        this._focusSelection()
    },
    refresh: function() {
        var e;
        this._updateTitle(),
        this.internalSelected || (e = this._getSelectedNode(),
        this.set("internalSelected", e.getAttribute(this.attrForSelected)))
    },
    _onIronSelect: function() {
        var e = this._getSelectedNode(this.internalSelected)
          , t = Array.prototype.slice.call(this.$.selector.querySelectorAll('[role="option"]'));
        t.forEach(function(e) {
            e.setAttribute("aria-selected", "false")
        }),
        e.setAttribute("aria-selected", "true")
    }
}),
Polymer({
    is: "tv-duration",
    properties: {
        start: Number,
        end: Number,
        duration: Number,
        percent: Number,
        threshold: {
            type: Number,
            value: 66
        },
        noLabel: {
            type: Boolean,
            value: !1
        }
    },
    observers: ["_setDuration(start, end)", "_setEnd(start, duration)"],
    timeInMinutes: function(e) {
        var t = e ? moment.duration(parseInt(e, 10)) : 0;
        if (0 !== t)
            return t.asMinutes() < 1 ? Math.floor(t.asSeconds()) + "sec" : Math.round(t.asMinutes()) + "min"
    },
    _durationText: function(e, t, i) {
        return this.threshold > 0 && i > this.threshold ? (this.set("noLabel", !0),
        Math.floor(moment.duration(t - Date.now()).asMinutes()) + "min left") : moment(e).format("h:mm") + " - " + moment(t).format("h:mma")
    },
    _setDuration: function(e, t) {
        this.set("duration", t - e)
    },
    _setEnd: function(e, t) {
        this.set("end", e + t),
        this.set("percent", Math.round((Date.now() - e) / t * 100))
    }
}),
Polymer({
    is: "tv-filters",
    properties: {
        activeFilters: {
            type: Array,
            notify: !0
        },
        activeFilterCount: String,
        disabled: Boolean,
        include: String,
        storageKey: String,
        panelHidden: {
            type: Boolean,
            value: !0
        },
        toggleStates: {
            type: Object,
            value: function() {
                return {
                    cc: {
                        disabled: !1,
                        hidden: !0,
                        active: !1
                    },
                    dvs: {
                        disabled: !1,
                        hidden: !0,
                        active: !1
                    },
                    favorites: {
                        disabled: !1,
                        hidden: !0,
                        active: !1
                    },
                    hd: {
                        disabled: !1,
                        hidden: !0,
                        active: !1
                    },
                    sap: {
                        disabled: !1,
                        hidden: !0,
                        active: !1
                    },
                    tve: {
                        disabled: !1,
                        hidden: !0,
                        active: !1
                    }
                }
            }
        },
        expandDirection: {
            type: String,
            value: "right"
        }
    },
    behaviors: [XTV.TvLocalizeBehavior],
    observers: ["_disabledChanged(disabled)", "_includeChanged(include)", "_activeFilterChanged(activeFilters)", "updateFilterStates(activeFilters, panelHidden)", "setLocalytics(activeFilters)"],
    _disabledChanged: function(e) {
        Object.keys(this.toggleStates).map(function(e) {
            return "toggleStates." + e + ".disabled"
        }).forEach(function(t) {
            this.set(t, e)
        }, this)
    },
    _includeChanged: function() {
        Object.keys(this.toggleStates).forEach(function(e) {
            this.set("toggleStates." + e + ".hidden", this.include.indexOf(e) === -1)
        }, this)
    },
    _clickListener: function(e) {
        for (var t = e.target; t; ) {
            if ("tv-filters" === t.localName)
                return;
            t = t.parentElement
        }
        this.closePanel()
    },
    togglePanel: function() {
        this.clickListener || (this.clickListener = this._clickListener.bind(this)),
        this.panelHidden ? this.openPanel() : this.closePanel()
    },
    openPanel: function() {
        this.set("panelHidden", !1),
        document.addEventListener("click", this.clickListener, !1),
        this.$.dialogClose.focus()
    },
    closePanel: function(e) {
        this.set("panelHidden", !0),
        document.removeEventListener("click", this.clickListener, !1),
        e || this.$.dialogToggle.focus()
    },
    closePanelAndRefocus: function() {
        this.set("panelHidden", !0),
        document.removeEventListener("click", this.clickListener, !1),
        this.$.dialogToggle.focus()
    },
    toggleFilter: function() {
        [].forEach.call(this.querySelectorAll("[filter]"), function(e) {
            var t = e.getAttribute("filter")
              , i = e.hasAttribute("active");
            this.set("toggleStates." + t + ".active", i)
        }, this)
    },
    applyFilters: function(e) {
        var t, i = {
            tve: "TVGO",
            hd: "HD",
            cc: "CC",
            sap: "SAP",
            dvs: "DVS",
            favorites: "Favorites"
        };
        e.preventDefault(),
        t = [].some.call(Object.keys(this.toggleStates), function(e) {
            return this.toggleStates[e].active !== this.activeFilters.indexOf(e) > -1
        }, this),
        t && this.set("activeFilters", Object.keys(this.toggleStates).filter(function(e) {
            return this.toggleStates[e].active
        }, this)),
        this.closePanel(),
        this.getCurrentFilters().forEach(function(e) {
            window.ll("tagEvent", "Filtered", {
                Type: i[e]
            })
        })
    },
    fireFiltersChanged: function() {
        this.debounce("filtersChangedEvent", function() {
            this.fire("filters-changed", {
                activeFilters: this.getCurrentFilters()
            })
        }, 50)
    },
    clearFilters: function(e) {
        e.preventDefault(),
        [].forEach.call(Object.keys(this.toggleStates), function(e) {
            this.set("toggleStates." + e + ".active", !1)
        }, this)
    },
    reload: function() {
        this.$.storage.reload()
    },
    updateFilterStates: function() {
        window.ll("setCustomDimension", 10, (this.activeFilters || []).indexOf("tve") !== -1 ? "Yes" : "No"),
        this.activeFilters && this.debounce("toggleStateDebouncer", function() {
            Object.keys(this.toggleStates).forEach(function(e) {
                this.set("toggleStates." + e + ".active", this.activeFilters.indexOf(e) !== -1)
            }, this)
        }, 50)
    },
    boolToString: function(e, t, i) {
        return e ? t : i
    },
    hasActiveFilters: function() {
        return this.getCurrentFilters().length > 0
    },
    setActiveFilterCount: function(e) {
        this.set("activeFilterCount", e > 0 ? " (" + e + ")" : "")
    },
    getCurrentFilters: function() {
        return (this.activeFilters || []).filter(function(e) {
            return this.include.indexOf(e) !== -1
        }, this)
    },
    _activeFilterChanged: function() {
        this.setActiveFilterCount(this.getCurrentFilters().length),
        this.updateFilterStates(),
        this.fireFiltersChanged()
    },
    setLocalytics: function(e) {
        window.ll("setCustomDimension", 10, (e || []).indexOf("tve") !== -1 ? "Yes" : "No")
    }
}),
function() {
    "use strict";
    Polymer({
        is: "tv-input-select",
        "extends": "select",
        properties: {
            field: {
                type: Object,
                value: function() {
                    return {
                        "default": null
                    }
                }
            },
            options: Array
        },
        observers: ["_optionsChanged(options.*)"],
        _optionsChanged: function() {
            for (var e = document.createDocumentFragment(); this.firstChild; )
                this.removeChild(this.firstChild);
            this.options.forEach(function(t) {
                t.textContent = t.label,
                t.value = t.name,
                t.selected = this.field["default"] === t.name,
                e.appendChild(this.create("option", t))
            }, this),
            Polymer.dom(this.root).appendChild(e)
        }
    })
}(),
Polymer({
    is: "tv-form",
    properties: {
        action: Object,
        context: Object,
        selectFields: Array,
        hiddenFields: Array,
        signalName: String
    },
    observers: ["_actionChanged(action)"],
    submit: function() {
        this.action.setParams(this._serialize()).fetch().then(this._onSuccess.bind(this), this._onError.bind(this))
    },
    _actionChanged: function(e) {
        if (e && e.getFields) {
            var t = e.getFields()
              , i = Object.keys(t).map(function(e) {
                return this.mixin({
                    name: e,
                    sortedOptions: this._sortOptions(t[e].options),
                    type: t[e].fieldType.toLowerCase()
                }, t[e])
            }, this);
            i.sort(this._sortByOrder),
            this.set("selectFields", i.filter(function(e) {
                return "select" === e.type
            })),
            this.set("hiddenFields", i.filter(function(e) {
                return "hidden" === e.type
            }))
        }
    },
    _onError: function(e) {
        this.fire("tv-form-error", e)
    },
    _onSuccess: function(e) {
        this.fire("tv-form-success", {
            context: this.context,
            response: e
        }),
        this.signalName && this.fire("iron-signal", {
            name: this.signalName,
            data: this.context
        })
    },
    _serialize: function() {
        return Array.prototype.slice.call(this.$.form.elements).reduce(function(e, t) {
            return e[t.name] = t.value,
            e
        }, {})
    },
    _sortByOrder: function(e, t) {
        return e.order - t.order
    },
    _sortOptions: function(e) {
        return e ? (e = Object.keys(e).map(function(t) {
            return this.mixin({
                name: t
            }, e[t])
        }, this),
        e.sort(this._sortByOrder),
        e) : []
    }
}),
function() {
    var e = "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7";
    Polymer({
        is: "tv-image",
        hostAttributes: {
            oncontextmenu: "return false;"
        },
        properties: {
            failsafe: String,
            isImageFailed: {
                type: Boolean,
                value: !1,
                notify: !0,
                reflectToAttribute: !0
            },
            isImageFallback: {
                type: Boolean,
                value: !1,
                notify: !0
            },
            isImageLoaded: {
                type: Boolean,
                value: !1,
                notify: !0,
                reflectToAttribute: !0
            },
            imgTimeout: Object,
            labelHidden: {
                type: Boolean,
                value: !0
            },
            src: String,
            title: String,
            url: {
                type: String,
                observer: "_urlChanged"
            }
        },
        onError: function() {
            this.failsafe ? (this.set("isImageFallback", !0),
            this.set("url", this.failsafe)) : (this.set("isImageFailed", !0),
            this.set("isImageFallback", !1),
            this.set("labelHidden", !1))
        },
        onLoad: function() {
            this.set("src", this.url),
            this.url === this.failsafe && this.set("isImageFallback", !0),
            this.set("isImageLoaded", !0)
        },
        resetImage: function() {
            this.set("src", e)
        },
        _loadImage: function(e) {
            e && (this.img = this.img || new Image,
            this.img.onerror = this.onError.bind(this),
            this.img.onload = this.onLoad.bind(this, e),
            this.img.src = e)
        },
        _urlChanged: function(e) {
            this.set("isImageFailed", !1),
            this.set("isImageFallback", !1),
            this.set("isImageLoaded", !1),
            e ? this._loadImage(e) : this.onError()
        }
    })
}(),
function() {
    var e = "lazy-loaded"
      , t = 200
      , i = "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7";
    Polymer({
        is: "tv-lazy-image",
        "extends": "img",
        hostAttributes: {
            alt: "",
            oncontextmenu: "return false;",
            src: i
        },
        properties: {
            dataSrc: {
                type: String,
                observer: "_dataSrcChanged"
            },
            dataSrcFallback: String,
            isImageFailed: {
                type: Boolean,
                notify: !0,
                value: !1,
                reflectToAttribute: !0
            },
            isImageLoaded: {
                type: Boolean,
                notify: !0,
                value: !1,
                reflectToAttribute: !0
            },
            lazyLoadedKey: {
                type: String,
                value: e
            }
        },
        _dataSrcChanged: function() {
            this.hasAttribute(this.lazyLoadedKey) && this.loadImage(!0)
        },
        attached: function() {
            this.onerror = this.onError.bind(this),
            this.onload = this.onLoad.bind(this)
        },
        isInView: function() {
            var e = this.getBoundingClientRect();
            return this.offsetParent && e.top >= 0 && e.bottom <= window.innerHeight + t && e.left >= 0 && e.right <= window.innerWidth
        },
        loadImage: function(e) {
            (e || this.isInView()) && (this.setAttribute(this.lazyLoadedKey, ""),
            this.setAttribute("src", this.dataSrc))
        },
        onError: function() {
            this.dataSrcFallback ? this.setAttribute("src", this.dataSrcFallback) : (this.setAttribute("src", i),
            this.set("isImageFailed", !0),
            this.set("isImageLoaded", !1))
        },
        onLoad: function() {
            this.src !== i && (this.set("isImageLoaded", !0),
            this.set("isImageFailed", !1))
        }
    })
}(),
function(e) {
    var t = {
        Channel: "TelevisionStation/Channel",
        Listing: "TVListing",
        Person: "s:Person",
        Purchase: "Purchase",
        Recording: "s:VideoObject/Recording",
        Tve: "TveVideo",
        Vod: "s:VodItem"
    };
    e.XTV = e.XTV || {},
    e.XTV.TvWatchableTypeBehavior = {
        isAnyTve: function(e) {
            return this.isTve(e) || this.isTveListing(e)
        },
        isChannel: function(e) {
            return e && t.Channel === e._type
        },
        isListing: function(e) {
            return e && t.Listing === e._type
        },
        isTveListing: function(e) {
            return this.isListing(e) && e.channel && !!e.channel.isTve
        },
        isRecording: function(e) {
            return e && t.Recording === e._type
        },
        isRecordingInProgress: function(e) {
            return this.isRecording(e) && moment().isBetween(moment(e.dateRecordedTimestamp), moment(e.endTime))
        },
        isTve: function(e) {
            return e && t.Tve === e._type
        },
        isVod: function(e) {
            return e && t.Vod === e._type
        },
        isAnyVod: function(e) {
            return !!e && (this.isPurchase(e) || this.isVod(e) || this.isTve(e))
        },
        isPurchase: function(e) {
            return e && t.Purchase === e._type
        },
        isPerson: function(e) {
            return e && e.type === t.Person
        },
        Types: t
    }
}(window),
function(e) {
    e.XTV = e.XTV || {},
    e.XTV.TvOohHelperImpl = {
        getPlayNowAsset: function(e, t) {
            return e.playNowItem[t ? "inhome" : "ooh"] || e.playNowItem.inhome
        },
        getRestrictStreamingAttr: function(e) {
            if (!e)
                return "";
            var t = e.restrictStreaming || []
              , i = e.channel;
            return i && XTV.TvWatchableTypeBehavior.isListing(e) && (t = t.concat(i.restrictStreaming || [])),
            t.length || t.push("unrestricted"),
            t.join(" ")
        },
        isListingWatchable: function(e, t) {
            var i = this.isWatchingAssetDisabled(e, t)
              , n = this.isTveVariant(e);
            return !i || i && n
        },
        isTveVariant: function(e) {
            return !(!e || !(e.tveVariant || e.channel && e.channel.tveVariant))
        },
        isAssetInHomeOnly: function(e) {
            return XTV.TvWatchableTypeBehavior.isListing(e) && !XTV.TvWatchableTypeBehavior.isTveListing(e) || this.getRestrictStreamingAttr(e).indexOf("out-of-home") > -1
        },
        isWatchingAssetDisabled: function(e, t) {
            return !t && this.isAssetInHomeOnly(e)
        }
    },
    e.XTV.TvOohHelper = [e.XTV.TvOohHelperImpl, e.XTV.TvWatchableTypeBehavior]
}(window),
Polymer({
    is: "tv-actions",
    hostAttributes: {
        hidden: !0
    },
    properties: {
        attrForActivated: {
            type: String,
            value: "name"
        },
        actions: {
            type: Array,
            value: function() {
                return []
            }
        },
        includeAll: {
            type: Boolean,
            value: !1
        }
    },
    observers: ["_actionsChanged(actions.splices)", "_actionsChanged(includeAll)"],
    attached: function() {
        Polymer.RenderStatus.afterNextRender(this, function() {
            this._actionsChanged()
        })
    },
    _actionsChanged: function() {
        var e = 0
          , t = !1;
        this.isAttached && (Polymer.dom(this).children.forEach(function(i) {
            this.includeAll ? this.toggleAttribute("hidden", !1, i) : this.toggleAttribute("hidden", !this.actions.includes(i.getAttribute(this.attrForActivated)), i),
            t = i.hasAttribute("hidden"),
            this.toggleClass("extra-action", !t && e > 0, i),
            t || e++
        }, this),
        this.removeAttribute("hidden"))
    }
}),
function(e) {
    e.XTV = e.XTV || {},
    e.XTV.TvUserBehavior = {
        _getUser: function() {
            return this.user || {}
        },
        _getUserTokenSummary: function() {
            return this._getUser().tokenSummary || {}
        },
        _getEntitlements: function() {
            var e = this._getUserTokenSummary();
            return e.entitlements || []
        },
        isSignedIn: function() {
            return !!Object.keys(this._getUserTokenSummary()).length
        },
        fireLoginEvent: function(e) {
            e.preventDefault(),
            this.fire("user:login")
        },
        userHasEntitlements: function(e, t) {
            var i = this._getEntitlements();
            return t = t || !1,
            e = e || [],
            Array.isArray(e) || (e = [e]),
            !e.length || e[t ? "every" : "some"](function(e) {
                return i.indexOf(e) !== -1
            })
        },
        userHasPurchasesOnly: function() {
            var e = this._getEntitlements();
            return 1 === e.length && this.userHasEntitlements(["est"])
        },
        userHasTve: function() {
            return this.userHasEntitlements(["tve-linear", "tve-vod"])
        },
        userHasTveOnly: function() {
            var e = this._getEntitlements();
            return 2 === e.length && this.userHasEntitlements(["tve-linear", "tve-vod"])
        },
        userHasTveOrPurchasesOnly: function() {
            var e = this._getEntitlements();
            return !!e.length && e.every(function(e) {
                return /est|tve-linear|tve-vod/.test(e)
            })
        },
        userHasT6Only: function() {
            var e = this._getEntitlements();
            return 2 === e.length && this.userHasEntitlements(["clinear", "cvod"])
        },
        userHasTveLinear: function() {
            return this.userHasEntitlements("tve-linear")
        },
        userHasTveVod: function() {
            return this.userHasEntitlements("tve-vod")
        },
        userHasLinearOnly: function() {
            return this.userHasEntitlements(["tve-linear", "clinear"]) && !this.userHasEntitlements(["cdvr", "cvod", "tve-vod"])
        },
        userHasCloud: function() {
            return this.userHasEntitlements(["cvod", "clinear", "cdvr"])
        },
        isPartner: function(e) {
            return this._getUserTokenSummary().mso === e
        },
        isUniversity: function() {
            return "university" === this._getUserTokenSummary().userType
        },
        isBrowserIE: function(e) {
            return e = e || "",
            e.indexOf("Edge") !== -1 || e.indexOf("IE") !== -1
        },
        isBrowserFirefox: function() {
            var e = this.user.userAgent.browser;
            return e.name.indexOf("Firefox") !== -1
        },
        getAllowedFilters: function(e) {
            var t = ["hd", "sap", "cc"]
              , i = Object.assign({}, {
                includeFavorites: !1,
                includeDvs: !1
            }, e);
            return i.includeDvs && t.push("dvs"),
            i.includeFavorites && t.push("favorites"),
            this.userHasCloud() && this.userHasTve() && t.push("tve"),
            t.join(" ")
        }
    }
}(window),
Polymer({
    is: "tv-metadata-in-home-only",
    properties: {
        inHomeOnly: Boolean,
        needsMessaging: {
            type: Boolean,
            computed: "_needsMessaging(inHomeOnly, user.authenticated, user.inhome)"
        },
        textOnly: {
            type: Boolean,
            value: !1,
            reflectToAttribute: !0
        }
    },
    behaviors: [XTV.TvLocalizeBehavior, XTV.TvUserBehavior],
    observers: ["localizeReady(localize)"],
    localizeReady: function() {
        this.set("isUniv", this.isUniversity())
    },
    attached: function() {
        Polymer.RenderStatus.afterNextRender(this, function() {
            this.notifyPath("inHomeOnly"),
            this.notifyPath("user.inhome"),
            this.notifyPath("user.authenticated")
        })
    },
    _needsMessaging: function(e, t, i) {
        if (this.isAttached)
            return e && t && !i
    },
    showInHomeOverlay: function(e) {
        e.preventDefault(),
        this.textOnly || this.fire("app:show:simpleOOHModal")
    }
}),
Polymer({
    is: "tv-metadata-primary",
    properties: {
        model: {
            type: Object,
            observer: "_setProperties"
        },
        actors: String,
        airingType: String,
        description: String,
        releaseYear: String
    },
    behaviors: [XTV.TvTypeBehavior],
    attached: function() {
        Polymer.RenderStatus.afterNextRender(this, function() {
            this._setProperties(this.model)
        })
    },
    _setProperties: function(e) {
        this.isAttached && e && (this.set("airingType", e.derivedAiringType),
        this.set("actors", e.creativeWork.credits),
        this.set("description", e.creativeWork.description || e.derivedDescription),
        this.set("releaseYear", this.isMovie(e.creativeWork) ? e.creativeWork.releaseYear : e.derivedAirDate))
    },
    _wrapDate: function(e) {
        return e ? "(" + e + ")" : ""
    }
}),
function(e) {
    e.XTV = e.XTV || {},
    e.XTV.TvDurationBehavior = {
        assetDuration: function(e) {
            var t = Math.ceil(moment.duration(parseInt(e, 10)).asMinutes());
            return t ? t + "min" : ""
        },
        timeRemaining: function(e, t) {
            var i = Number(e.duration) - t;
            return i < 0 ? 0 : i
        }
    }
}(window),
function() {
    var e = {
        small: "44px",
        medium: "49px",
        large: "80px"
    };
    Polymer({
        is: "tv-badge-in-home",
        properties: {
            badgeClass: String,
            iconSize: {
                type: String,
                value: "small"
            },
            inHomeOnly: Boolean,
            isUniversity: {
                type: Boolean,
                value: !1
            }
        },
        hostAttributes: {
            hidden: !0
        },
        behaviors: [XTV.TvLocalizeBehavior],
        observers: ["_iconSizeChanged(iconSize)", "_inHomeOnlyChanged(inHomeOnly)", "_setIcon(isUniversity, localize)"],
        attached: function() {
            Polymer.RenderStatus.afterNextRender(this, function() {
                this._setIcon(),
                this._iconSizeChanged(this.iconSize),
                this._inHomeOnlyChanged(this.inHomeOnly)
            })
        },
        _inHomeOnlyChanged: function() {
            this.isAttached && this.set("hidden", !this.inHomeOnly)
        },
        _iconSizeChanged: function(t) {
            this.isAttached && (this.customStyle["--iron-icon-width"] = e.hasOwnProperty(t) ? e[t] : e.small,
            this.updateStyles())
        },
        _setIcon: function() {
            this.isAttached && (this.set("icon", this.localize(this.isUniversity ? "Badge_on_campus" : "Badge_in_home"), this.$.icon),
            this.$.icon.setAttribute("aria-label", this.isUniversity ? this.localize("available_to_watch_on_campus") : this.localize("available_to_watch_in_home")),
            this.set("badgeClass", "badge-" + this.getLanguage()))
        }
    })
}(),
function() {
    var e = [{
        badge: "rating",
        modelKey: "ratingDetails"
    }, {
        badge: "hd",
        modelKey: "isHD"
    }, {
        badge: "cc",
        modelKey: "closedCaption"
    }, {
        badge: "sap",
        modelKey: "hasSAP"
    }, {
        badge: "adult",
        modelKey: "adult"
    }, {
        badge: "dvs",
        modelKey: "hasDVS"
    }];
    Polymer({
        is: "tv-badges",
        hostAttributes: {
            hidden: !0
        },
        properties: {
            adult: Boolean,
            adultClass: String,
            cc: Boolean,
            dvs: Boolean,
            hd: Boolean,
            locked: {
                type: Boolean,
                value: !1
            },
            model: {
                type: Object,
                value: null
            },
            rating: Boolean,
            sap: Boolean,
            showOnly: {
                type: String,
                value: ""
            },
            showLock: Boolean,
            ratingIcon: {
                type: String,
                value: null
            }
        },
        behaviors: [XTV.TvLocalizeBehavior],
        observers: ["_onLocalizeReady(localize)", "_lockChanged(locked)", "_modelChanged(model, showOnly)"],
        attached: function() {
            Polymer.RenderStatus.afterNextRender(this, function() {
                this._lockChanged(this.locked),
                this._modelChanged(this.model, this.showOnly)
            })
        },
        canBeShown: function(e) {
            return !this.showOnly || this.showOnly.indexOf(e) >= 0
        },
        setAdultClass: function() {
            this.adult && this.set("adultClass", "adult-" + this.getLanguage())
        },
        _isHidden: function(e, t) {
            return !(!(!this.canBeShown(e) || !this.model[t]) && this.model[t])
        },
        _lockChanged: function() {
            if (this.isAttached) {
                var e = this.canBeShown("locked") && this.locked;
                this.set("showLock", e)
            }
        },
        _modelChanged: function() {
            var t = !1;
            this.model && this.isAttached && (e.forEach(function(e) {
                this._isHidden(e.badge, e.modelKey) ? this.set(e.badge, !1) : (this.set(e.badge, !0),
                t = !0)
            }, this),
            this.setAdultClass(),
            this.toggleAttribute("hidden", !t))
        },
        _ratingIcon: function() {
            var e, t;
            if (this.model && this.model.ratingDetails && this.model.ratingDetails.name)
                return e = this.model.ratingDetails.scheme,
                t = this.model.ratingDetails.name.replace(/-/g, "").toLowerCase(),
                "tv-icons:badge-" + e + "-" + t
        },
        _onLocalizeReady: function() {
            this.setAdultClass()
        }
    })
}(),
Polymer({
    is: "tv-rotten-tomatoes",
    properties: {
        review: Object,
        noTitle: {
            type: Boolean,
            value: !1
        }
    },
    behaviors: [XTV.TvLocalizeBehavior],
    observers: ["_reviewChanged(review)"],
    _reviewChanged: function() {
        this.hidden = !this._hasReviews()
    },
    attached: function() {
        this._reviewChanged()
    },
    _hasReviews: function() {
        return !(!this.review || !this.review.criticSummaryScore && !this.review.fanSummaryScore)
    },
    _hasRating: function(e) {
        return !!e && parseInt(e, 10) > 0
    },
    _setCriticClass: function(e) {
        return "icon-critic-rating-" + (e ? "low" : "high")
    },
    _setFanClass: function(e) {
        return "icon-fan-rating-" + (e ? "low" : "high")
    }
}),
Polymer({
    is: "tv-metadata-secondary",
    properties: {
        duration: String,
        hideDuration: Boolean,
        locked: Boolean,
        model: {
            type: Object,
            observer: "_onModelChanged"
        },
        showNetworkLogo: {
            type: Boolean,
            value: !1
        },
        user: Object
    },
    behaviors: [XTV.TvDurationBehavior, XTV.TvLocalizeBehavior, XTV.TvOohHelper, XTV.TvUserBehavior, XTV.TvWatchableTypeBehavior],
    attached: function() {
        Polymer.RenderStatus.afterNextRender(this, function() {
            this._onModelChanged(this.model)
        })
    },
    _onModelChanged: function(e) {
        e && this.isAttached && this.setDuration(e)
    },
    setDuration: function(e) {
        if (!this.hideDuration) {
            var t = e.duration || (e.creativeWork || {}).duration;
            this.set("duration", t ? this.assetDuration(t) : "")
        }
    }
}),
Polymer({
    is: "tv-listing-detail",
    properties: {
        listingActions: Array,
        inhomeTextOnly: Boolean,
        locked: Boolean,
        listing: Object,
        isWorking: {
            type: Boolean,
            value: !1,
            observer: "_onWorkingChanged"
        }
    },
    behaviors: [XTV.TvLocalizeBehavior, XTV.TvOohHelper],
    _onWorkingChanged: function(e) {
        var t = this.$$("#recordButton");
        t && (t.stopSpinning(),
        e && t.spin())
    },
    _entityTap: function() {
        this.fire("tv-listing-entity-tap")
    },
    _record: function() {
        this.fire("tv-listing-record")
    },
    _recordOptions: function() {
        this.fire("tv-listing-record-options")
    },
    _watch: function(e) {
        return !e.currentTarget.hasAttribute("disabled") && void this.fire("tv-listing-watch", {
            watchable: this.listing
        })
    },
    _watchChannel: function(e) {
        return !e.currentTarget.hasAttribute("disabled") && void this.fire("tv-listing-watch-channel", {
            watchable: this.listing
        })
    }
}),
function(e) {
    e.XTV = e.XTV || {},
    e.XTV.TvUtilityBehavior = {
        _toString: function(e) {
            return e.toString()
        },
        formatTime: function(e) {
            var t, i, n = Math.round(e / 1e3);
            return t = Math.floor(n / 3600),
            n %= 3600,
            i = Math.floor(n / 60),
            n %= 60,
            n < 10 && (n = "0" + n),
            t > 0 && i < 10 && (i = "0" + i),
            t ? [t, i, n].join(":") : [i, n].join(":")
        },
        boolToString: function(e, t, i) {
            return e ? t : i
        }
    }
}(window),
function() {
    var e = "tv-icons:caret-down"
      , t = "tv-icons:caret-right";
    Polymer({
        is: "tv-list-row-group",
        properties: {
            opened: {
                type: Boolean,
                value: !1,
                reflectToAttribute: !0,
                observer: "_onOpenedChanged"
            },
            collapseDisabled: {
                type: Boolean,
                value: !1
            },
            hideHeading: Boolean
        },
        behaviors: [XTV.TvUtilityBehavior],
        _onOpenedChanged: function() {
            this.collapseDisabled || this.async(function() {
                this.updateIcon()
            }, 10)
        },
        updateIcon: function() {
            this.$.icon.setAttribute("icon", this.opened ? e : t)
        },
        toggleOpen: function(e) {
            e.preventDefault(),
            this.set("opened", !!this.collapseDisabled || !this.opened)
        },
        ready: function() {
            this.collapseDisabled && (this.$.groupTitle.removeAttribute("href"),
            this.set("opened", !0)),
            this.updateIcon()
        }
    })
}(),
function(e) {
    e.XTV = e.XTV || {};
    var t = {
        up: "previous",
        down: "next",
        home: "first",
        end: "last"
    }
      , i = {
        properties: {
            targetParentForA11y: String
        },
        keyBindings: {
            up: "_arrowKeyHandler",
            down: "_arrowKeyHandler",
            home: "_arrowKeyHandler",
            end: "_arrowKeyHandler",
            esc: "_escHandler"
        },
        _arrowKeyHandler: function(e) {
            var i, n, r = e.detail.combo;
            n = this.targetParentForA11y ? this._findAncestorById(this, this.targetParentForA11y) : Polymer.dom(this).parentNode,
            i = this.getNodeFromParentAndAction(this, n, t[r]),
            i && (e.preventDefault(),
            i.querySelector(".list-row-action").focus())
        },
        _findAncestorById: function(e, t) {
            for (; (e = e.parentNode) && e.id !== t; )
                ;
            return e
        },
        _escHandler: function(e) {
            var t = e.detail.combo;
            "esc" === t && "TV-LIST-ROW-COLLAPSIBLE" === this.tagName && this.opened && this.toggleGroupCollapse(e)
        },
        getNodeFromParentAndAction: function(e, t, i) {
            var n, r;
            if (e && t && i && (n = Polymer.dom(t).querySelectorAll(e.tagName),
            n.length))
                switch (r = n.indexOf(e),
                i) {
                case "first":
                    return n[0];
                case "last":
                    return n[n.length - 1];
                case "next":
                    return ++r,
                    r = r === n.length ? 0 : r,
                    n[r];
                case "previous":
                    return --r,
                    r = r < 0 ? [n.length - 1] : r,
                    n[r]
                }
        }
    };
    e.XTV.TvListRowBehavior = [Polymer.IronA11yKeysBehavior, i]
}(window),
Polymer({
    is: "tv-list-row",
    behaviors: [XTV.TvListRowBehavior],
    properties: {
        a11yDescribedby: {
            type: String
        },
        a11yLabel: {
            type: String
        },
        a11yRole: {
            type: String
        },
        a11yTabindex: {
            type: String
        },
        externalHref: {
            type: Boolean,
            value: !1,
            observer: "_externalHrefChanged"
        },
        href: {
            type: String,
            value: "#"
        }
    },
    handleTap: function(e) {
        ("#" === this.href || this.hasAttribute("disabled")) && e.preventDefault()
    },
    _externalHrefChanged: function(e) {
        e && this.$$("a").setAttribute("target", "_blank")
    }
}),
Polymer({
    is: "tv-list-row-layout"
}),
Polymer({
    is: "tv-list-row-collapsible",
    behaviors: [XTV.TvListRowBehavior, XTV.TVScrollToBehavior, XTV.TvUtilityBehavior],
    properties: {
        noAnimation: {
            type: Boolean,
            value: !1
        },
        disableCollapse: {
            type: Boolean,
            reflectToAttribute: !0,
            value: !1
        },
        opened: {
            type: Boolean,
            value: !1,
            reflectToAttribute: !0
        },
        href: {
            type: String,
            value: "#"
        }
    },
    getParentNode: function(e) {
        var t = Polymer.dom(e).path.find(this.isGroupNode, this)
          , i = !!t;
        return (i ? t : this).parentNode
    },
    isGroupNode: function(e) {
        return "tv-list-row-group" === e.localName
    },
    toggleGroupCollapse: function(e) {
        return e.preventDefault(),
        !this.hasAttribute("disable-collapse") && void (this.opened ? this.set("opened", !1) : (this.set("opened", !1, this.getParentNode(e).querySelector("tv-list-row-collapsible[opened]")),
        this.set("opened", !0),
        this.async(function() {
            this.scrollIntoView(this)
        }, 50)))
    }
}),
function() {
    Polymer({
        is: "tv-overlay-layout",
        properties: {
            hasThumbnail: {
                type: Boolean,
                value: !1
            }
        },
        attached: function() {
            this._thumbnailObserver = Polymer.dom(this.$.thumbnailContent).observeNodes(this._checkForThumbnail.bind(this))
        },
        detached: function() {
            Polymer.dom(this.$.thumbnailContent).unobserveNodes(this._thumbnailObserver)
        },
        _checkForThumbnail: function(e) {
            e.addedNodes.length && this.toggleClass("has-thumbnail", !0, this.$.thumbnailWrapper)
        }
    })
}(),
Polymer({
    is: "tv-page-heading",
    properties: {
        user: {
            type: Object
        }
    },
    attached: function() {
        this.addEventListener("focus", this.handleHeaderFocus.bind(this), !0)
    },
    handleHeaderFocus: function() {
        this.fire("app:header:focus")
    },
    classList: function(e) {
        var t = [];
        return e || t.push("unauth"),
        t.join(" ")
    }
}),
function(e) {
    e.XTV = e.XTV || {},
    e.XTV.TvUrlBehavior = {
        isOnPage: function(e) {
            return 1 === page.current.indexOf(e)
        },
        isInPageGroup: function(e) {
            return page.current.indexOf(e) > -1
        },
        navigateToHash: function(e) {
            page(e)
        },
        navigateTo: function() {
            page(this.urlFor.apply(this, arguments))
        },
        redirectTo: function() {
            page.redirect(this.urlFor.apply(this, arguments))
        },
        reloadSelf: function() {
            window.location.reload()
        },
        urlFor: function() {
            var e = Array.prototype.slice.call(arguments)
              , t = {};
            return "object" == typeof e[e.length - 1] && (t = e.pop()),
            "/" + e.join("/") + this.urlQuery(t)
        },
        urlQuery: function(e) {
            var t = Object.keys(e).map(function(t) {
                return encodeURIComponent(t) + "=" + encodeURIComponent(e[t])
            }).join("&");
            return t ? "?" + t : ""
        },
        parseUrlQuery: function(e) {
            var t = {};
            return /^\?/.test(e) && (e = e.substring(1)),
            e.replace(/([^=&]+)=([^&]*)/g, function(e, i, n) {
                t[decodeURIComponent(i)] = decodeURIComponent(n)
            }),
            t
        }
    }
}(window),
function() {
    var e = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAECAQAAADhJE2MAAAADklEQVR42mNkAANGbBQAAGIABUN3+8IAAAAASUVORK5CYII="
      , t = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAADCAQAAAAe/WZNAAAADklEQVR42mNkgAJGDAYAAFEABCaLYqoAAAAASUVORK5CYII="
      , i = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAJCAQAAACRI2S5AAAAEElEQVR42mNkIAAYRxWAAQAG9gAKqv6+AwAAAABJRU5ErkJggg==";
    Polymer({
        is: "tv-poster",
        behaviors: [XTV.TvTypeBehavior, XTV.TvUrlBehavior],
        listeners: {
            "keypress-enter": "handlePosterLink"
        },
        observers: ["_renderImageSrc(image, fallbackImage)"],
        properties: {
            aspectRatio: {
                type: String,
                value: "3x4"
            },
            canShowProgress: {
                type: Boolean,
                value: !1
            },
            canShowCustomContent: {
                type: Boolean,
                value: !1
            },
            creativeWork: {
                observer: "_renderCreativeWork",
                type: Object
            },
            fallbackImage: {
                type: String,
                value: ""
            },
            href: {
                observer: "_renderHref",
                type: String
            },
            image: {
                type: String,
                value: ""
            },
            isPosterImageFallback: {
                reflectToAttribute: !0,
                type: Boolean,
                value: void 0
            },
            isPosterImageFailed: {
                reflectToAttribute: !0,
                type: Boolean,
                value: void 0
            },
            isPosterImageLoaded: {
                reflectToAttribute: !0,
                type: Boolean,
                value: void 0
            },
            isTeam: {
                reflectToAttribute: !0,
                type: Boolean,
                value: !1
            },
            isEvent: {
                reflectToAttribute: !0,
                type: Boolean,
                value: !1
            },
            labelHidden: {
                reflectToAttribute: !0,
                type: Boolean,
                value: !1
            },
            spacerPixel: {
                type: String,
                computed: "_computeSpacerPixel(aspectRatio)"
            },
            imageSrc: String,
            title: String,
            useFallback: {
                observer: "_renderFallback",
                type: Boolean,
                value: !1
            }
        },
        _computeSpacerPixel: function(n) {
            return "4x3" === n ? t : "16x9" === n ? i : e
        },
        handlePosterLink: function(e) {
            e.preventDefault(),
            /^(http|https)/.test(this.href) ? window.open(this.href) : this.navigateToHash(this.href)
        },
        reset: function() {
            this.set("imageSrc", null),
            this.set("fallbackImage", null),
            this.set("isPosterImageLoaded", !1),
            this.set("isPosterImageFailed", !1),
            this.set("isPosterImageFallback", !1),
            this.set("isTeam", !1),
            this.set("isEvent", !1),
            this.set("teamLogo", null),
            this.set("teamName", null),
            this.set("awayTeamLogo", null),
            this.set("awayTeamName", null),
            this.set("homeTeamLogo", null),
            this.set("homeTeamName", null)
        },
        _renderCreativeWork: function(e) {
            e = e || {},
            this.reset(),
            this.set("fallbackImage", e.fallbackImage),
            this.set("imageSrc", e.image),
            this.set("title", e.name),
            this.isSportsTeam(e) ? this._renderSportsTeam(e) : this.isSportsEvent(e) && this._renderSportsEvent(e),
            this._renderHref()
        },
        _renderHref: function() {
            this.href ? this.$.link.setAttribute("href", this.href) : this.$.link.removeAttribute("href")
        },
        _renderImageSrc: function() {
            this.set("imageSrc", this.image || this.fallbackImage)
        },
        _renderSportsTeam: function(e) {
            this.isSportsTeam(e) && (this.set("teamLogo", e.teamLogo),
            this.set("teamName", e.name),
            this.set("isTeam", !0))
        },
        _renderSportsEvent: function(e) {
            this.isSportsEvent(e) && (e.eventTeams && e.eventTeams[0] && e.eventTeams[1] ? (this.set("awayTeamLogo", e.eventTeams[0].teamLogo),
            this.set("awayTeamName", e.eventTeams[0].name),
            this.set("homeTeamLogo", e.eventTeams[1].teamLogo),
            this.set("homeTeamName", e.eventTeams[1].name),
            this.set("isEvent", !0)) : (this.set("isPosterImageFallback", !0),
            this.set("isEvent", !1)))
        },
        _suppressLinkFocus: function(e) {
            return "false" === e ? "-1" : ""
        },
        _renderFallback: function(e) {
            e && this.fallbackImage && this.set("imageSrc", this.fallbackImage)
        }
    })
}(),
Polymer({
    is: "tv-focus-loop",
    properties: {
        focusableSelector: {
            type: String,
            value: 'a[href], button, input, textarea, select, [tabindex="0"]'
        },
        enabledFilters: {
            type: Array,
            value: ["hidden", "untabbable", "disabled"]
        },
        enabled: {
            type: Boolean,
            value: !0
        }
    },
    filters: {
        hidden: function(e) {
            return e.offsetParent && !e.hasAttribute("hidden")
        },
        disabled: function(e) {
            return e.offsetParent && !e.hasAttribute("disabled")
        },
        untabbable: function(e) {
            return "-1" !== e.getAttribute("tabindex")
        }
    },
    _focusableElements: function() {
        var e = Polymer.dom(this.root).querySelector("[wrapper]")
          , t = Array.prototype.slice.call(e.querySelectorAll(this.focusableSelector));
        return t = t.filter(function(e) {
            return this.enabledFilters.reduce(function(t, i) {
                return t && this.filters[i](e)
            }
            .bind(this), !0)
        }, this)
    },
    _focusLast: function() {
        var e = this._focusableElements();
        e.length && e[e.length - 1].focus()
    },
    _focusFirst: function() {
        var e = this._focusableElements();
        e.length && e[0].focus()
    },
    _tabIndex: function(e) {
        return e ? "0" : "-1"
    }
}),
Polymer({
    is: "tv-poster-browse",
    properties: {
        aspectRatio: String,
        backgroundUrl: {
            type: String,
            value: ""
        },
        errorLoading: Boolean,
        fallbackUrl: {
            type: String,
            value: ""
        },
        hoverOpened: Boolean,
        loaded: {
            type: Boolean,
            value: !0
        },
        loading: Boolean,
        stampHover: {
            type: Boolean,
            value: !1
        },
        title: String
    },
    listeners: {
        mouseenter: "onMouseEnter"
    },
    onMouseEnter: function() {
        this.set("stampHover", !0)
    }
}),
Polymer({
    is: "tv-poster-network",
    properties: {
        isImageLoaded: {
            type: Boolean,
            reflectToAttribute: !0,
            value: void 0
        },
        name: String,
        src: String
    },
    behaviors: [XTV.TvUrlBehavior],
    listeners: {
        "keypress-enter": "handlePosterLink"
    },
    handlePosterLink: function() {
        this.navigateToHash(this.href)
    },
    _suppressLinkFocus: function(e) {
        return "false" === e ? "-1" : ""
    }
}),
Polymer({
    types: {
        recording: "Recorded",
        watched: "Watched",
        download: "Downloaded"
    },
    is: "tv-progress-indicator",
    behaviors: [Polymer.IronRangeBehavior],
    properties: {
        type: {
            type: String,
            value: "recording"
        },
        ignoreFull: {
            type: Boolean,
            value: !1,
            reflectToAttribute: !0
        }
    },
    observers: ["onRatioChange(ratio)"],
    onRatioChange: function(e) {
        e >= 100 && !this.ignoreFull ? this.classList.add("full") : this.classList.remove("full")
    },
    computeStyle: function(e) {
        return "width: " + e + "%;"
    },
    compositeTitle: function(e, t) {
        return Math.round(t) + "% " + this.types[e]
    },
    ready: function() {
        this.$$(".progress-meter").classList.add(this.type)
    }
}),
Polymer({
    is: "tv-recording-progress",
    properties: {
        autoUpdate: {
            type: Boolean,
            value: !1
        },
        autoUpdateInterval: Object,
        start: Number,
        end: Number,
        duration: Number,
        value: Number
    },
    observers: ["_setupAutoUpdate(start, duration, autoUpdate)", "_setDuration(start, end)", "_computeValue(start, duration)"],
    detached: function() {
        this._clearInterval()
    },
    _clearInterval: function() {
        this.autoUpdateInterval && (this.set("autoUpdate", !1),
        this.autoUpdateInterval = clearInterval(this.autoUpdateInterval))
    },
    _computeValue: function(e, t) {
        this.set("value", Math.round((Date.now() - e) / t * 100)),
        this.value >= 100 && this._clearInterval()
    },
    _setDuration: function(e, t) {
        this.set("duration", t - e)
    },
    _setupAutoUpdate: function() {
        this.autoUpdate && this.start && this.duration && (this.autoUpdateInterval || (this.autoUpdateInterval = setInterval(this._computeValue.bind(this, this.start, this.duration), 1e3)))
    }
}),
function() {
    Polymer({
        is: "tv-properties",
        hostAttributes: {
            hidden: !0
        },
        properties: {
            props: {
                notify: !0,
                type: Object,
                value: function() {
                    return Object.assign(XTV.properties, {
                        buildInfo: (window.XTV || {}).buildInfo || {}
                    }, {
                        env: (window.XTV || {}).env || "prod"
                    }, {
                        partner: XTV.partner.name
                    })
                }
            }
        },
        getValue: function(e) {
            return e.split(".").reduce(function(e, t) {
                return (e || {})[t]
            }, this.props)
        }
    })
}(),
Polymer({
    is: "tv-property",
    hostAttributes: {
        hidden: !0
    },
    properties: {
        key: String,
        value: {
            type: Object,
            notify: !0
        },
        defaultValue: {
            type: Object,
            value: ""
        }
    },
    observers: ["_keyChanged(key)"],
    _keyChanged: function(e) {
        e = e || "",
        this.set("value", this.$.props.getValue(e) || this.defaultValue || "")
    }
}),
function(e) {
    Polymer({
        is: "tv-partner-property",
        hostAttributes: {
            hidden: !0
        },
        properties: {
            key: String,
            partner: {
                type: String,
                value: ((e.XTV || {}).partner || {}).name,
                notify: !0
            },
            partnerProps: {
                type: Object,
                value: ((e.XTV || {}).partner || {}).properties,
                notify: !0
            },
            value: {
                type: String,
                notify: !0
            }
        },
        observers: ["_keyChanged(key)"],
        ready: function() {
            this.set("pidForAuth", localStorage.getItem("pidForAuth") || this.partner)
        },
        _keyChanged: function(e) {
            this.set("value", e ? this.partnerProps[e] || "" : "")
        }
    })
}(window),
Polymer({
    is: "tv-season-episode",
    properties: {
        abbr: String,
        creativeWork: Object,
        delimiter: {
            type: String,
            value: " "
        },
        hasEpisode: Boolean,
        hasSeason: Boolean,
        suffix: {
            type: String,
            value: ""
        },
        title: String
    },
    behaviors: [XTV.TvLocalizeBehavior],
    observers: ["_creativeWorkChanged(creativeWork, localize)"],
    _getSeason: function(e) {
        return e.seasonNumber ? e.seasonNumber : e.partOfSeason && e.partOfSeason.seasonNumber ? e.partOfSeason.seasonNumber : void 0
    },
    localizeSeason: function() {
        return this.localize("Season_abbr")
    },
    _creativeWorkChanged: function(e, t) {
        var i, n;
        this.creativeWork && t && (this.set("hasSeason", !!this._getSeason(this.creativeWork)),
        this.set("hasEpisode", !!this.creativeWork.episodeNumber),
        i = this.hasSeason && this.hasEpisode ? this.delimiter : "",
        n = this.hasSeason && this.hasEpisode ? this.suffix : "",
        this.set("abbr", [this.seasonDisplay(this.localizeSeason()), i, this.episodeDisplay("Ep"), n].join("")),
        this.set("title", [this.seasonDisplay("Season "), this.episodeDisplay("Episode ")].filter(Boolean).join(" ")),
        this.toggleClass("has-content", !!this.abbr))
    },
    episodeDisplay: function(e) {
        return this.hasEpisode ? e + this.creativeWork.episodeNumber : ""
    },
    seasonDisplay: function(e) {
        return this.hasSeason ? e + this._getSeason(this.creativeWork) : ""
    }
}),
Polymer({
    is: "tv-recording-title",
    properties: {
        titlesAreSame: Boolean,
        delimiter: {
            type: String,
            value: " "
        },
        recording: Object,
        title: String
    },
    behaviors: [XTV.TvTypeBehavior],
    observers: ["_recordingChanged(recording)"],
    _recordingChanged: function(e) {
        e && e.creativeWork && (this.set("title", e.creativeWork.series ? e.creativeWork.series.name : e.creativeWork.name),
        this.set("titlesAreSame", this.title === e.derivedTitle || this.isSportsEvent(e.creativeWork)))
    }
}),
Polymer({
    is: "tv-radio-input-group",
    properties: {
        id: {
            type: String,
            value: function() {
                return "radio-group-" + Math.floor(65535 * Math.random()).toString(16)
            }
        },
        items: Array,
        selected: {
            notify: !0,
            type: String
        },
        label: String
    },
    _checked: function(e, t) {
        return String(this._isSelected(e, t))
    },
    _isSelected: function(e, t) {
        return e.value === t
    },
    _doChangeSelect: function(e) {
        var t = e.getAttribute("data-value");
        t !== this.selected && this.set("selected", t),
        this.fire("user-changed-selection")
    },
    _changeSelected: function(e) {
        this._doChangeSelect(e.target)
    },
    _keyboardChangeSelect: function(e) {
        this._doChangeSelect(e.detail.keyboardEvent.target)
    },
    _elements: function() {
        return Polymer.dom(this.root).querySelectorAll('[role="radio"]')
    },
    _moveFocus: function(e, t) {
        var i = this._elements()
          , n = e.detail.keyboardEvent.target
          , r = i.indexOf(n) + t;
        r >= 0 && r < i.length && (e.detail.keyboardEvent.preventDefault(),
        i[r].focus(),
        this._doChangeSelect(i[r]))
    },
    _movePrev: function(e) {
        this._moveFocus(e, -1)
    },
    _moveNext: function(e) {
        this._moveFocus(e, 1)
    }
}),
Polymer({
    is: "tv-slider",
    behaviors: [Polymer.IronButtonState, Polymer.IronControlState, Polymer.IronRangeBehavior, XTV.TvUtilityBehavior],
    properties: {
        disabled: {
            type: Boolean,
            value: !1
        },
        min: {
            type: Number,
            value: 0
        },
        max: {
            type: Number,
            value: 100
        },
        limit: {
            type: Number,
            notify: !0,
            observer: "_limitChanged",
            reflectToAttribute: !0,
            value: 0
        },
        pin: {
            type: Boolean,
            value: !1,
            notify: !0
        },
        pinText: String,
        immediateValue: {
            type: Number,
            value: 0,
            readOnly: !0,
            notify: !0
        },
        expand: {
            type: Boolean,
            value: !1,
            readOnly: !0
        },
        dragging: {
            type: Boolean,
            value: !1,
            readOnly: !0
        },
        transiting: {
            type: Boolean,
            value: !1,
            readOnly: !0
        },
        incrementAmount: Number,
        incrementBigAmount: Number
    },
    observers: ["_updateKnob(value, min, max, step)", "_valueChanged(value)", "_immediateValueChanged(immediateValue)"],
    hostAttributes: {
        role: "slider",
        tabindex: 0
    },
    keyBindings: {
        right: "_incrementKey",
        left: "_decrementKey"
    },
    ready: function() {
        this.async(function() {
            this._updateKnob(this.value)
        }, 1)
    },
    clampToLimit: function(e) {
        var t = this._clampValue(e);
        return this.limit ? Math.min(this.limit, t) : t
    },
    increment: function(e) {
        var t = e || this.step;
        this._setImmediateValue(this.clampToLimit(this.immediateValue + t))
    },
    decrement: function(e) {
        var t = e || this.step;
        this._setImmediateValue(this._clampValue(this.immediateValue - t))
    },
    setPercent: function(e) {
        100 != this.max && (this.max = 100),
        this.value = e
    },
    _updateKnob: function(e, t, i) {
        e = isNaN(e) || e < 0 ? 0 : e,
        this.setAttribute("aria-valuemin", t),
        this.setAttribute("aria-valuemax", i);
        var n = e;
        "playerProgress" === this.id && (n = this.formatTime(e)),
        this.setAttribute("aria-valuenow", n),
        this._positionKnob(this._calcRatio(e))
    },
    _valueChanged: function() {
        this.fire("value-change")
    },
    _limitChanged: function(e) {
        this.$.sliderLimitFill.hidden = !e,
        e && (this._setSecondarySliderWidth(),
        this.immediateValue > e && this._setImmediateValue(e))
    },
    _setSecondarySliderWidth: function() {
        var e = (this.limit - this.min) / (this.max - this.min);
        this.$.sliderLimitFill.style.width = 100 * e + "%"
    },
    _setSliderWidth: function() {
        var e = (this.immediateValue - this.min) / (this.max - this.min);
        this.$.sliderFill.style.width = 100 * e + "%"
    },
    _immediateValueChanged: function() {
        this._setSliderWidth(),
        this._updateKnob(this.immediateValue, this.min, this.max, this.step),
        this.dragging ? this.fire("immediate-value-change") : this.value = this.immediateValue
    },
    _expandKnob: function() {
        this._setExpand(!0)
    },
    _resetKnob: function() {
        this.cancelDebouncer("expandKnob"),
        this._setExpand(!1)
    },
    _positionKnob: function(e) {
        this._setImmediateValue(this._calcStep(this._calcKnobPosition(e))),
        this._setRatio(this._calcRatio(this.immediateValue)),
        this.$.sliderKnob.style.left = 100 * this.ratio + "%",
        this.dragging && (this._knobstartx = this.ratio * this._w,
        this.translate3d(0, 0, 0, this.$.sliderKnob))
    },
    _calcKnobPosition: function(e) {
        return (this.max - this.min) * e + this.min
    },
    _onTrack: function(e) {
        switch (e.stopPropagation(),
        e.detail.state) {
        case "start":
            this._trackStart(e);
            break;
        case "track":
            this._trackX(e);
            break;
        case "end":
            this._trackEnd()
        }
    },
    _trackStart: function(e) {
        this._w = this.$.sliderBar.offsetWidth,
        this._x = this.ratio * this._w,
        this._startx = this._x,
        this._knobstartx = this._startx,
        this._minx = -this._startx,
        this._maxx = this._w - this._startx,
        this.$.sliderKnob.classList.add("dragging"),
        this._setDragging(!0)
    },
    _trackX: function(e) {
        this.dragging || this._trackStart(e);
        var t, i, n = Math.min(this._maxx, Math.max(this._minx, e.detail.dx));
        this._x = this._startx + n,
        t = this._calcStep(this._calcKnobPosition(this._x / this._w)),
        this.limit && (t = t > this.limit ? this.limit : t),
        this._setImmediateValue(t),
        i = this._calcRatio(this.immediateValue) * this._w - this._knobstartx,
        this.translate3d(i + "px", 0, 0, this.$.sliderKnob)
    },
    _trackEnd: function() {
        var e = this.$.sliderKnob.style;
        this.$.sliderKnob.classList.remove("dragging"),
        this._setDragging(!1),
        this._resetKnob(),
        this.value = this.immediateValue,
        e.transform = e.webkitTransform = "",
        this.debounce("changeEvent", this.fire.bind(this, "change"), 100)
    },
    _knobdown: function(e) {
        this._expandKnob(),
        e.preventDefault(),
        this.focus()
    },
    _bardown: function(e) {
        this._w = this.$.sliderBar.offsetWidth;
        var t, i = this.$.sliderBar.getBoundingClientRect(), n = (e.detail.x - i.left) / this._w, r = this.ratio;
        return this.limit && e.detail.x > this.$.sliderLimitFill.offsetWidth + this.$.sliderLimitFill.getBoundingClientRect().left ? (t = this.$.sliderLimitFill.offsetWidth / this._w,
        void (n = r = t)) : (this._setTransiting(!0),
        this._setDragging(!0),
        this._positionKnob(n),
        this.debounce("expandKnob", this._expandKnob, 60),
        r === this.ratio && this._setTransiting(!1),
        void e.preventDefault())
    },
    _barup: function(e) {
        this._setDragging(!1),
        this._resetKnob(),
        this.value = this.immediateValue,
        this.debounce("changeEvent", this.fire.bind(this, "change"), 100)
    },
    _knobTransitionEnd: function(e) {
        e.target === this.$.sliderKnob && this._setTransiting(!1)
    },
    _mergeClasses: function(e) {
        return Object.keys(e).filter(function(t) {
            return e[t]
        }).join(" ")
    },
    _getClassNames: function() {
        return this._mergeClasses({
            disabled: this.disabled,
            pin: this.pin,
            expand: this.expand,
            dragging: this.dragging,
            transiting: this.transiting
        })
    },
    _incrementKey: function(e) {
        this.focused && (e.detail.keyboardEvent.stopPropagation(),
        e.detail.keyboardEvent.preventDefault()),
        this.disabled || (this._setPressed(!0),
        this._setDragging(!0),
        this.increment(e.detail.keyboardEvent.shiftKey ? this.incrementBigAmount : this.incrementAmount),
        this.debounce("keyFinished", this._keyFinished.bind(this), 250))
    },
    _decrementKey: function(e) {
        this.focused && (e.detail.keyboardEvent.stopPropagation(),
        e.detail.keyboardEvent.preventDefault()),
        this.disabled || (this._setPressed(!0),
        this._setDragging(!0),
        this.decrement(e.detail.keyboardEvent.shiftKey ? this.incrementBigAmount : this.incrementAmount),
        this.debounce("keyFinished", this._keyFinished.bind(this), 250))
    },
    _keyFinished: function() {
        this._setPressed(!1),
        this._setDragging(!1),
        this._immediateValueChanged(),
        this.debounce("changeEvent", this.fire.bind(this, "change"), 100)
    }
}),
Polymer({
    is: "tv-spinner",
    properties: {
        auto: {
            type: Boolean,
            value: !1
        },
        active: {
            type: Boolean,
            value: !1,
            notify: !0,
            reflectToAttribute: !0
        },
        hasMessage: {
            type: Boolean,
            reflectToAttribute: !0,
            computed: "_computeHasMessage(msg)"
        },
        msg: {
            type: String,
            value: ""
        }
    },
    observers: ["_activateSpinner(active)"],
    _computeHasMessage: function(e) {
        return !!e
    },
    ready: function() {
        this.auto && this.set("active", !0)
    },
    _activateSpinner: function(e) {
        this.set("active", e, this.$.spinner)
    }
}),
Polymer({
    is: "tv-time-airing",
    properties: {
        noPrefix: {
            type: Boolean,
            value: !1,
            reflectToAttribute: !0
        },
        noEndTime: {
            type: Boolean,
            value: !1
        },
        prefixFormat: {
            type: String,
            value: "M/DD, "
        },
        startTime: Number,
        endTime: Number,
        textPrefix: String,
        textAiringTime: String
    },
    behaviors: [XTV.TvLocalizeBehavior],
    observers: ["_prefixParamsReady(startTime, endTime, prefixFormat, noPrefix, localize)", "_timestampsParamsReady(startTime, endTime, noEndTime)"],
    airingTime: function(e, t, i) {
        var n = [];
        return n.push(moment(e).format(i ? "h:mma" : "h:mm")),
        i || n.push(" - " + moment(t).format("h:mma")),
        n.join("")
    },
    _isOnNow: function(e, t) {
        return moment().isBetween(e, t)
    },
    _prefixParamsReady: function(e, t, i, n) {
        var r = [];
        return n ? void this.set("textPrefix", "") : ("text" === i ? this._isOnNow(e, t) ? r.push(this.localize("On_Now")) : (moment.setLocale("airing"),
        r.push(moment(e).calendar().replace(/\./g, "")),
        moment.resetLocale()) : r.push(moment(e).format(i)),
        void this.set("textPrefix", r.join("")))
    },
    _timestampsParamsReady: function(e, t, i) {
        this.set("textAiringTime", this.airingTime(Number(e), Number(t), i))
    }
}),
Polymer({
    is: "tv-time-left",
    properties: {
        duration: {
            type: Number,
            observer: "_updateDuration"
        },
        position: Number,
        timeLeft: {
            type: String,
            value: ""
        }
    },
    behaviors: [XTV.TvLocalizeBehavior],
    observers: ["calcRemainingText(duration, position, localize)"],
    _updateDuration: function() {
        this.set("timeLeft", "")
    },
    calcRemainingText: function(e, t) {
        var i = Math.round(moment.duration(e - t).asMinutes())
          , n = "";
        return i >= 1 ? n = this.localize("_minLeft_min_left", "minLeft", i) : 0 === i && (n = this.localize("Less_than_1min_left")),
        this.set("timeLeft", n),
        n
    }
}),
Polymer({
    is: "tv-time-recording",
    properties: {
        autoUpdate: {
            type: Boolean,
            value: !1
        },
        autoUpdateTimeout: Object,
        autoUpdateInterval: Object,
        autoUpdateTime: {
            type: Number,
            value: 1e3
        },
        hideIcon: Boolean,
        noPrefix: {
            type: Boolean,
            value: !1
        },
        noEndTime: {
            type: Boolean,
            value: !1
        },
        noTimeRange: {
            type: Boolean,
            value: !1
        },
        prefixFormat: {
            type: String,
            value: "M/DD, "
        },
        recordingNow: {
            type: Boolean,
            value: !1
        },
        threshold: {
            type: Number,
            value: 0
        },
        startTime: Number,
        duration: Number,
        textPrefix: String,
        textRecordingTime: String,
        showDot: {
            type: Boolean,
            value: !1
        }
    },
    behaviors: [XTV.TvLocalizeBehavior],
    observers: ["propertiesReady(startTime, duration, threshold, noPrefix, noEndTime, prefixFormat, autoUpdate, showDot, localize)", "_onRecordingNow(recordingNow)"],
    attached: function() {
        Polymer.RenderStatus.afterNextRender(this, function() {
            this.propertiesReady(),
            this._onRecordingNow(this.recordingNow)
        })
    },
    detached: function() {
        this._clearInterval(),
        this._clearTimeout()
    },
    _setupAutoUpdate: function() {
        this._clearInterval(),
        this.autoUpdateInterval = setInterval(this.propertiesReady.bind(this), this.autoUpdateTime)
    },
    _clearInterval: function() {
        this.autoUpdateInterval = clearInterval(this.autoUpdateInterval)
    },
    _clearTimeout: function() {
        this.autoUpdateTimeout = clearTimeout(this.autoUpdateTimeout)
    },
    _composeRecordedLabel: function(e) {
        return moment(e).isSame(moment(), "day") ? this.localize("Today") : moment(e).format(this.prefixFormat)
    },
    _composeTimeLeft: function(e) {
        var t, i = Date.now();
        return !e || i >= e ? "" : (t = Math.ceil(moment.duration(e - i).asMinutes()),
        this.localize("_minLeft_min_left", "minLeft", t))
    },
    _getPercent: function(e, t) {
        return Math.round((Date.now() - e) / t * 100)
    },
    _isRecordingNow: function(e, t) {
        return moment().isBetween(e, t)
    },
    _isRecorded: function(e) {
        return moment().isAfter(e)
    },
    _isRecordingInFuture: function(e) {
        return moment().isBefore(e)
    },
    _isWithinThreshold: function(e, t, i) {
        return e && e > 0 && this._getPercent(t, i) >= e
    },
    _onRecordingNow: function(e) {
        this.isAttached && this.toggleClass("is-recording-now", e)
    },
    propertiesReady: function() {
        if (this.startTime && this.duration && this.isAttached)
            return this.set("endTime", this.startTime + this.duration),
            this.autoUpdate && this._isRecordingInFuture(this.startTime) ? this.autoUpdateTimeout = setTimeout(this._setupAutoUpdate.bind(this), this.startTime - Date.now()) : this.autoUpdate && !this._isRecorded(this.endTime) ? this._setupAutoUpdate() : (this._clearInterval(),
            this._clearTimeout()),
            this.set("recordingNow", this._isRecordingNow(this.startTime, this.endTime)),
            this._setPrefix(this.startTime, this.duration, this.threshold, this.noPrefix, this.prefixFormat),
            this._setRecordingText(this.startTime, this.duration, this.threshold, this.noEndTime),
            this._setElementTitle(this.startTime, this.duration),
            this.hidden = !this.textPrefix && !this.textRecordingTime,
            this.set("hideIcon", !this.recordingNow && !this.showDot),
            !0
    },
    _setElementTitle: function(e, t) {
        this.recordingNow ? this.setAttribute("title", this._getPercent(this.startTime, this.duration) + "% " + this.localize("Recorded")) : this.setAttribute("title", this.textPrefix + " " + this.textRecordingTime)
    },
    _setPrefix: function(e, t, i, n) {
        var r = []
          , s = e + t;
        n || (this.recordingNow ? this._isWithinThreshold(i, e, t) ? r.push(this._composeTimeLeft(s)) : r.push(this.localize("Recording_Now")) : this._isRecorded(s) ? (r.push(this.localize("Recorded") + " "),
        r.push(this._composeRecordedLabel(e))) : this._isRecordingInFuture(e) && (moment.setLocale("recording"),
        r.push(moment(e).calendar()),
        moment.resetLocale()),
        this.set("textPrefix", r.join("")))
    },
    _setRecordingText: function(e, t, i, n) {
        var r = []
          , s = e + t;
        return this.recordingNow && (this.noTimeRange || this._isWithinThreshold(i, e, t)) ? void this.set("textRecordingTime", "") : (r.push(moment(e).format(n ? "h:mma" : "h:mm").replace(/(a|p)m$/g, "$1")),
        r.push(n ? "" : " - " + moment(s).format("h:mma").replace(/(a|p)m$/g, "$1")),
        this.set("textRecordingTime", r.join("")),
        r.join(""))
    }
}),
Polymer({
    is: "tv-toggle",
    behaviors: [XTV.TvLocalizeBehavior, Polymer.IronButtonState, Polymer.IronControlState],
    hostAttributes: {
        role: "button",
        "aria-pressed": "false",
        tabindex: 0
    },
    properties: {
        checked: {
            type: Boolean,
            reflectToAttribute: !0,
            notify: !0,
            observer: "_checkedChanged"
        },
        labelOff: {
            type: String,
            value: "OFF"
        },
        labelOn: {
            type: String,
            value: "ON"
        },
        label: String,
        toggles: {
            type: Boolean,
            value: !0,
            reflectToAttribute: !0
        },
        displayOnly: {
            type: Boolean,
            value: !1
        }
    },
    listeners: {
        track: "_ontrack"
    },
    ready: function() {
        this._isReady = !0,
        this._updateLabel()
    },
    _buttonStateChanged: function() {
        this.disabled || this._isReady && !this.displayOnly && (this.checked = this.active)
    },
    _updateLabel: function() {
        this.label = this.checked ? this.labelOn : this.labelOff
    },
    _checkedChanged: function() {
        this.active = this.checked,
        this._updateLabel(),
        this.fire("iron-change")
    },
    _ontrack: function(e) {
        var t = e.detail;
        "start" === t.state ? this._trackStart(t) : "track" === t.state ? this._trackMove(t) : "end" === t.state && this._trackEnd(t)
    },
    _trackStart: function() {
        this._width = this.$.toggleBar.offsetWidth / 2,
        this._trackChecked = this.checked,
        this.$.toggleButton.classList.add("dragging")
    },
    _trackMove: function(e) {
        var t = e.dx;
        this._x = Math.min(this._width, Math.max(0, this._trackChecked ? this._width + t : t)),
        this.translate3d(this._x + "px", 0, 0, this.$.toggleButton),
        this._userActivate(this._x > this._width / 2)
    },
    _trackEnd: function() {
        this.$.toggleButton.classList.remove("dragging"),
        this.transform("", this.$.toggleButton)
    }
}),
Polymer({
    is: "tv-view-toggle",
    properties: {
        defaultLayout: {
            type: String,
            value: "list"
        },
        layout: {
            type: String,
            notify: !0
        },
        localStorageKey: String
    },
    behaviors: [XTV.TvLocalizeBehavior],
    _initializeView: function() {
        this.set("layout", this.defaultLayout)
    },
    _onIronSelect: function() {
        var e = this.$.viewSelector.selectedItem
          , t = Polymer.dom(this.$.viewSelector).querySelectorAll("button");
        t.forEach(function(e) {
            e.setAttribute("aria-pressed", "false")
        }),
        this.async(function() {
            e.setAttribute("aria-pressed", "true")
        }, 500)
    }
}),
function(e) {
    e.XTV = e.XTV || {},
    e.XTV.TvAssetParserBehaviorImpl = {
        calculatePercentage: function(e, t) {
            return 0 === t ? 0 : Math.max(0, Math.min(100, Math.round(e / t * 100)))
        },
        onlyRecordings: function(e) {
            return (e || []).filter(function(e) {
                return /s:VideoObject\/Recording/.test(e._type)
            })
        },
        isDownloaded: function(e) {
            return e && !!e.checkoutStatus && !!e.checkoutStatus.checkedOut
        },
        isOnNow: function(e) {
            return !!e && moment().isBetween(parseInt(e.startTime, 10), parseInt(e.endTime, 10))
        },
        allWatchablesDownloaded: function(e) {
            return Array.isArray(e) && e.every(this.isDownloaded, this)
        },
        someWatchablesDownloaded: function(e) {
            return Array.isArray(e) && e.some(this.isDownloaded, this)
        },
        percentWatched: function(e, t) {
            return 100 - this.calculatePercentage(this.timeRemaining(e, t), Number(e.duration))
        },
        purchasedLabel: function(e, t) {
            var i = [this.localize("Purchased")]
              , n = "M/D" + (moment().isSame(e, "year") ? "" : "/YY");
            return t && (i.push(t.toUpperCase()),
            i.push(this.localize("on"))),
            i.push(moment(e).format(n)),
            i.join(" ")
        },
        seasonAndEpisode: function(e, t) {
            var i = e.partOfSeason ? this.localize("S_num_", "num", e.partOfSeason.seasonNumber) : ""
              , n = e.episodeNumber ? this.localize("Ep_num_", "num", e.episodeNumber) : "";
            return i && n ? i + (t ? " " : "|") + n : i + n
        },
        timeRemainingAsText: function(e, t) {
            if (!this.hasResumePoints(e, t))
                return "";
            var i = this.timeRemaining(e, this.getItemResumePoint(e, t).position)
              , n = Math.ceil(moment.duration(i).as("minutes"));
            return n > 0 ? this.localize("_minLeft_min_left", "minLeft", n) : ""
        },
        getDateFormat: function(e) {
            return moment(e).year() !== moment().year() ? "MM/DD/YY" : "MM/DD"
        },
        formatDate: function(e) {
            return moment(e).format(this.getDateFormat(e))
        },
        getRentalExpiredTime: function(e) {
            var t = moment(e)
              , i = ""
              , n = e < moment().add(1, "d");
            if (n) {
                var r = moment.duration(e - moment())
                  , s = moment.duration(r).hours();
                return mins = moment.duration(r).minutes(),
                s >= 1 ? i = s + this.localize("hr") : 0 === s && mins > 0 && (i = "< 1 " + this.localize("hour")),
                mins > 0 ? this.localize("Expires_in_on_expirationTime_", "isLessThanTwentyFour", n, "expirationTime", i) : ""
            }
            return i = this.localize("at") + " " + t.format("h:mma").replace(/(a|p)m$/g, "$1"),
            this.localize("Expires_in_on_expirationTime_", "isLessThanTwentyFour", n, "expirationTime", this.formatDate(e)) + " " + i
        },
        watchableActions: function(e, t) {
            return !e.hasOwnProperty("watchables") || Array.isArray(e.watchables) && e.watchables.length ? this.allWatchablesDownloaded(e.watchables) ? [] : this.hasResumePoints(e, t) ? ["resume", "restart"] : ["watch"] : []
        },
        hasResumePoints: function(e, t) {
            return e.mediaId ? !!this.getItemResumePoint(e, t) : this.getResumePointsForWatchables(e.watchables, t).length
        },
        getItemResumePoint: function(e, t) {
            return t[e.mediaId]
        },
        getLatestResumePointForWatchables: function(e, t) {
            var i = this.getResumePointsForWatchables(e, t);
            if (0 !== i.length)
                return 1 === i.length ? i[0] : i.reduce(function(e, t) {
                    var i = new Date(t.dateUpdated).getTime()
                      , n = new Date(e.dateUpdated).getTime();
                    return n > i ? e : t
                })
        },
        getResumePointsForWatchables: function(e, t) {
            var i = [];
            return this.getWatchablesMediaIds(e).map(function(e) {
                t[e] && i.push(t[e])
            }),
            i
        },
        getWatchableForResumePoint: function(e, t) {
            return e.find(function(e) {
                return e.mediaId === t.mediaId
            })
        },
        getWatchablesMediaIds: function(e) {
            return (e || []).map(function(e) {
                return e.mediaId
            })
        }
    },
    e.XTV.TvAssetParserBehavior = [e.XTV.TvAssetParserBehaviorImpl, e.XTV.TvDurationBehavior, e.XTV.TvLocalizeBehavior]
}(window),
function(e) {
    var t = /nr/i;
    e.XTV = e.XTV || {},
    e.XTV.TvParentalControlsBehavior = {
        observers: ["_checkSafeBrowseChange(controls.safeBrowse, controls.enabled)"],
        _checkSafeBrowseChange: function(e, t) {
            var i = void 0 !== this.previousSafeBrowse && void 0 !== this.previousControlsEnabled
              , n = this.previousSafeBrowse !== e
              , r = this.previousControlsEnabled !== t;
            this.previousSafeBrowse = e,
            this.previousControlsEnabled = t,
            i && (n || r && "OFF" !== e) && this.fire("safe-browse-updated")
        },
        isChannelLocked: function(e, t) {
            if (e && t)
                return e.enabled && !!e.channelLocks[t]
        },
        isLocked: function(e, t) {
            var i;
            return !(!e || !t) && (i = (t.creativeWork || {}).lockableMerlinId || t.lockableMerlinId,
            this.isTitleLocked(e, i) || this.isRatingLocked(e, t) || this.isChannelLocked(e, (t.channel || {}).stationId) || this.isNetworkLocked(e, (t.contentProvider || {}).companyId))
        },
        isNetworkLocked: function(e, t) {
            if (e && t)
                return e.enabled && !!e.networkLocks[t]
        },
        isRatingLocked: function(e, i) {
            var n, r, s, o;
            return !(!e || !e.enabled) && (n = i.ratingDetails || {},
            i["contentRating/detailed"] && (n = i["contentRating/detailed"] || {}),
            i.channel && i.channel.enforceParentalControlsOnChannel && (n = i.channel["contentRating/detailed"] || {}),
            !!n && (n.scheme && (r = e.ratingLocks[n.scheme]),
            !!r && (s = n.name,
            o = (n.subRating || []).filter(function(e) {
                return r[s].advisories[e]
            }),
            r[s] ? o.length > 0 ? o.some(function(e) {
                return r[s].advisories[e].locked
            }) : r[s].locked : !!t.test(s) && Object.keys(r).some(function(e) {
                return !!r[e].locked
            }))))
        },
        isTitleLocked: function(e, t) {
            if (e && t)
                return e.enabled && !!e.titleLocks[t] && e.titleLocks[t].locked
        }
    }
}(window),
function(e) {
    e.XTV = e.XTV || {};
    var t = {};
    e.XTV.TvBrowseBehaviorImpl = {
        listeners: {
            "safe-browse-updated": "clearPlayNowDetailsCache"
        },
        _createItemUrl: function(e) {
            if (!e)
                return "";
            var t = e.split("node/")
              , i = t[t.length - 1].split("/", 2).filter(Boolean);
            return 2 === i.length ? this.urlFor("browse", "menu", i[0], i[1]) : this.urlFor("browse", "node", i[0])
        },
        _isItemPosterOrEpisodic: function(e) {
            return this._isItemPoster(e) || this._isItemEpisodic(e)
        },
        _isItemPoster: function(e) {
            return "POSTER" === e
        },
        _isItemEpisodic: function(e) {
            return "16X9_PROGRAM" === e || "4X3_PROGRAM" === e
        },
        _isItemPromo: function(e) {
            return "PROMO" === e || "SMALL_PROMO" === e
        },
        _isItemNetwork: function(e) {
            return "NETWORK" === e
        },
        addPlayNowDetail: function(e, i, n) {
            e && i && n && (t[e] || (t[e] = {}),
            t[e][i] = n)
        },
        clearPlayNowDetailsCache: function() {
            t = {}
        },
        clearPlayNowFromCache: function(e) {
            var i;
            e && (i = !(!e || !e.creativeWork) && e.creativeWork.entityId,
            i && delete t[i])
        },
        fetchPlayNowDetails: function(e) {
            var i = e.entityId
              , n = {
                entityId: i
            }
              , r = [];
            return this.user.authenticated || (n.freetome = !0),
            e.playNowDetail.setParams(n).fetch().then(function(e) {
                return t[i] = {},
                r.push(this.parsePlayNowAsset(e.data.getEmbedded("inHomePlayNowDetail"), i, "inhome")),
                e.data.hasEmbedded("oohPlayNowDetail") && r.push(this.parsePlayNowAsset(e.data.getEmbedded("oohPlayNowDetail"), i, "ooh")),
                Promise.all(r)
            }
            .bind(this))
        },
        getPlayNowDetails: function(e) {
            var i = e.currentTarget
              , n = i.browseItem;
            if (n && n.entityId && t[n.entityId])
                return this.setPlayNowAssetOnElem(i);
            if (!i.loading)
                return this.set("loading", !0, i),
                this.fetchPlayNowDetails(n).then(this.setPlayNowAssetOnElem.bind(this, i), function() {
                    this.set("loading", !1, i),
                    this.set("errorLoading", !0, i)
                }
                .bind(this))
        },
        getCachedPlayNowDetails: function() {
            return t
        },
        getBrowseFilters: function(e) {
            return (e || []).map(function(e) {
                return "cc" === e ? "closedcaption" : e
            }, this)
        },
        parsePlayNowAsset: function(e, t, i) {
            return this.$.playNowParser.parseResource(e).then(this.addPlayNowDetail.bind(this, t, i))
        },
        setPlayNowAssetOnElem: function(e) {
            var i = t[e.browseItem.entityId]
              , n = this.user.inhome ? i.inhome : i.ooh ? i.ooh : i.inhome;
            this.set("playNowAsset", n, e),
            this.set("loading", !1, e)
        }
    },
    e.XTV.TvBrowseBehavior = [e.XTV.TvBrowseBehaviorImpl, e.XTV.TvParentalControlsBehavior, e.XTV.TvUrlBehavior]
}(window),
function(e) {
    e.XTV = e.XTV || {},
    e.XTV.TvCarouselBehavior = {
        closeCarousels: function(e) {
            [].forEach.call(this.querySelectorAll("tv-carousel"), function(t) {
                t && t.close && t !== e && t.close()
            })
        },
        resetCarousels: function() {
            [].forEach.call(this.querySelectorAll("tv-carousel"), function(e) {
                e && e.reset && e.reset()
            })
        }
    }
}(window),
function(e) {
    e.XTV = e.XTV || {},
    e.XTV.TvFindBehavior = {
        findAllByEntityId: function(e, t) {
            return e.filter(function(e) {
                return (e.entity || {}).entityId === t
            })
        },
        findById: function(e, t) {
            if (Array.isArray(e) && t)
                return e.reduce(function(e, i, n) {
                    return e >= 0 ? e : (i.id === t.id && (e = n),
                    e)
                }, -1)
        },
        findByIdOnProperty: function(e, t, i) {
            if (Array.isArray(e) && t && i)
                return e.reduce(function(e, n, r) {
                    return e >= 0 ? e : (n[i] && n[i].id === t && (e = r),
                    e)
                }
                .bind(this), -1)
        },
        getItemPathInGroupCollectionByIndex: function(e, t) {
            if (Array.isArray(e) && t) {
                var i, n, r;
                return e.forEach(function(e, s) {
                    i = e.collection.indexOf(t),
                    i >= 0 && (n = s,
                    r = i)
                }, this),
                n >= 0 && r >= 0 ? {
                    groupIndex: n,
                    itemIndex: r
                } : void 0
            }
        },
        getItemPathInGroupCollection: function(e, t, i) {
            if (Array.isArray(e) && t) {
                var n, r, i = i || "id";
                return e.forEach(function(e, s) {
                    r = e.collection.findIndex(function(e) {
                        return e[i] === t
                    }, this),
                    r >= 0 && (n = s,
                    itemIndex = r)
                }, this),
                n >= 0 && itemIndex >= 0 ? {
                    groupIndex: n,
                    itemIndex: itemIndex
                } : void 0
            }
        }
    }
}(window),
function(e) {
    var t = 36e5;
    e.XTV = e.XTV || {},
    e.XTV.TvGridBehavior = {
        floorTime: function() {
            var e = this.getDate();
            return e.setMinutes((e.getMinutes() || 0) >= 30 ? 30 : 0, 0, 0)
        },
        floorMoment: function() {
            var e = moment()
              , t = moment().startOf("hour");
            return e.minute() >= 30 && t.add(30, "minutes"),
            t
        },
        getDate: function() {
            return new Date
        },
        isGridAtFloor: function() {
            return parseInt(this.grid.startTime || 0, 10) === this.floorTime()
        },
        isGridCurrent: function() {
            return moment().isBetween(parseInt(this.grid.startTime || 0, 10), parseInt(this.grid.endTime || 0, 10))
        },
        isInAllowedTimeRange: function(e) {
            return moment(e).isBetween(moment().startOf("hour"), moment().startOf("hour").add(14, "days"), null, "[]")
        },
        setTimeline: function(e) {
            this.set("grid.startTime", e || this.floorTime()),
            this.set("grid.endTime", parseInt(this.grid.startTime, 10) + this.grid.durationInHours * t)
        },
        getCurrentlyOnListing: function(e) {
            if (Array.isArray(e))
                return e.find(function(e) {
                    return moment().isBetween(moment(e.startTime), moment(e.endTime))
                }, this)
        },
        getUpcomingListing: function(e) {
            if (Array.isArray(e)) {
                var t = e.indexOf(this.getCurrentlyOnListing(e));
                return t >= 0 ? e[t + 1] : void 0
            }
        }
    }
}(window),
function(e) {
    var t = {
        properties: {
            defaultImageDimensions: {
                type: Object,
                value: function() {
                    return {
                        width: 240,
                        height: 320
                    }
                }
            },
            sportsTeamDimensions: {
                type: Object,
                value: function() {
                    return {
                        width: 140,
                        height: 140
                    }
                }
            }
        },
        fallbackImageUrl: function(e) {
            return e.getFirstAction("fallbackImage", this.defaultImageDimensions).getActionUrl()
        },
        imageUrl: function(e, t) {
            var i = this.isSportsTeam(t) ? "fallbackImage" : "image"
              , n = this.isSportsTeam(t) ? this.sportsTeamDimensions : this.defaultImageDimensions;
            return e.getFirstAction(i, n).getActionUrl()
        }
    };
    e.XTV.TvImageParserBehavior = [e.XTV.TvTypeBehavior, t]
}(window),
function(e) {
    e.XTV = e.XTV || {},
    e.XTV.TvLinearKeyboardNavBehavior = {
        keyboardNavTabindex: function(e) {
            return 0 === e ? "0" : "-1"
        },
        moveFocusForward: function(e) {
            this.moveFocus(e, 1)
        },
        moveFocusBackward: function(e) {
            this.moveFocus(e, -1)
        },
        moveFocus: function(e, t, i) {
            var n, r;
            i = this.mixin({
                target: e.detail.keyboardEvent.target,
                elements: "keyboardNavElements"
            }, i || {}),
            n = "string" == typeof i.elements ? this[i.elements]() : i.elements,
            n && (e.detail.keyboardEvent.preventDefault(),
            r = (n.indexOf(i.target) + n.length + t) % n.length,
            n[r].focus())
        }
    }
}(window),
function(e) {
    function t() {
        this.animate = !0,
        n.call(this)
    }
    function i() {
        var e = this.querySelectorAll("a, button, input, select, textarea");
        return Array.prototype.slice.call(e).filter(function(e) {
            return !e.hasAttribute("disabled")
        })
    }
    function n() {
        var e = i.call(this)[0];
        e && e.focus()
    }
    function r() {
        var e = i.call(this);
        e.length && e[e.length - 1].focus()
    }
    function s() {
        this.animate = !1,
        this.debounce("swap", c, 600),
        this.fire("tv-overlay-closed"),
        this.setAttribute("aria-hidden", "true")
    }
    function o() {
        d !== this && d.shown && (d.shown = !1)
    }
    function a() {
        l = l || document.activeElement,
        u = document.activeElement,
        o.call(this),
        d = this,
        h.style.overflow = "hidden",
        this.parentId ? Polymer.dom(document.querySelector("#" + this.parentId)).appendChild(this) : Polymer.dom(h).appendChild(this),
        Polymer.dom(this._parentEl).appendChild(this._placeholder),
        h.querySelector(this.pageContentSelector).setAttribute("aria-hidden", "true"),
        this.debounce("animate", t, 50),
        this.fire("tv-overlay-opened"),
        this.setAttribute("aria-hidden", "false")
    }
    function c() {
        Polymer.dom(this._parentEl).replaceChild(this, this._placeholder),
        h.style.overflow = "",
        h.querySelector(this.pageContentSelector).removeAttribute("aria-hidden");
        var e = document.querySelectorAll("[tv-overlay][shown]")
          , t = document.querySelector("#mainContent");
        this.async(function() {
            e.length ? u.focus() : (l.focus(),
            document.activeElement === l ? l = null : t.focus())
        }, 250)
    }
    var l, h = document.body || document.documentElement, u = h, d = {}, f = {
        hostAttributes: {
            "tv-overlay": !0,
            "aria-hidden": "true"
        },
        properties: {
            animate: {
                reflectToAttribute: !0,
                type: Boolean,
                value: !1
            },
            pageContentSelector: {
                type: String,
                value: "tv-user"
            },
            shown: {
                observer: "_shownChanged",
                reflectToAttribute: !0,
                type: Boolean,
                value: !1
            },
            parentId: {
                type: String
            }
        },
        listeners: {
            tap: "_tapHandler"
        },
        keyBindings: {
            esc: "close"
        },
        _addFocusHooks: function() {
            var e = document.createElement("focus-hook-first")
              , t = document.createElement("focus-hook-last");
            this.querySelector("focus-hook-first") || (e.tabIndex = "0",
            t.tabIndex = "0",
            e.addEventListener("focus", r.bind(this)),
            t.addEventListener("focus", n.bind(this)),
            Polymer.dom(this.root).appendChild(t),
            Polymer.dom(this.root).insertBefore(e, this.$.content))
        },
        close: function() {
            this.shown = !1
        },
        open: function() {
            this.shown = !0
        },
        toggle: function() {
            this.shown = !this.shown
        },
        _shownChanged: function(e, t) {
            var i = e ? a : s;
            void 0 !== t && i.call(this)
        },
        _tapHandler: function(e) {
            e.target === this && this.close()
        },
        setLastFocus: function(e) {
            u = e || document.activeElement
        },
        attached: function() {
            this._parentEl || (this._addFocusHooks(),
            this._parentEl = Polymer.dom(this.parentElement).node,
            this._placeholder = document.createElement("tv-overlay-placeholder"))
        }
    };
    e.XTV = e.XTV || {},
    e.XTV.TvOverlayBehavior = [Polymer.IronA11yKeysBehavior, f]
}(window),
function(e) {
    e.XTV = e.XTV || {};
    var t, i = 0, n = 0, r = function() {
        0 !== i && window.ll("tagEvent", "Session Ended", {
            "Spinner Count": i,
            "Total Spinner Timer": n
        }),
        i = 0,
        n = 0
    };
    e.XTV.TvSpinnerBehavior = {
        hideSpinner: function() {
            var e, r = document.querySelector("#appSpinner");
            r && r.active && (r.active = !1,
            r.removeAttribute("blocker"),
            this.setSpinnerMessage(""),
            e = Date.now() - t,
            i += 1,
            n += e / 1e3,
            this.fire("log-delayed", Object.assign({
                module: "SPINNER",
                type: "PERF"
            }, {
                duration: e
            })))
        },
        setSpinnerBlocker: function() {
            var e = document.querySelector("#appSpinner");
            e && e.setAttribute("blocker", "")
        },
        setSpinnerMessage: function(e) {
            var t = document.querySelector("#appSpinner");
            t && (t.msg = e || "")
        },
        showSpinner: function() {
            var e = document.querySelector("#appSpinner");
            e && !e.active && (e.active = !0,
            t = Date.now())
        },
        sendLocalytics: r
    },
    e.addEventListener("beforeunload", r)
}(window),
function(e) {
    e.XTV = e.XTV || {};
    var t = {
        properties: {
            currentPage: {
                type: Boolean,
                reflectToAttribute: !0,
                observer: "onPageChange"
            },
            menuId: String,
            overlayCompletedState: String,
            showUnauthView: Boolean
        },
        observers: ["_authenticated(user.authenticated)"],
        listeners: {
            "tv-overlay-start": "onOverlayStart"
        },
        _authenticated: function(e) {
            void 0 !== e && this.set("showUnauthView", !e)
        },
        onPageChange: function(e) {
            e === !1 && this.onPageClosed.call(this)
        },
        onHeaderCollapse: function() {
            var e = this.querySelector("tv-page-heading tv-filters")
              , t = this.querySelector("tv-page-heading tv-dropdown")
              , i = this.querySelector("tv-page-heading tv-channel-finder");
            e && e.closePanel(!0),
            t && t._onClose(!1),
            i && i.closePanel({
                skipFocus: !0
            })
        },
        onPageClosed: function() {},
        onPageOpened: function() {},
        onPageError: function() {},
        onRecordingModification: function() {},
        onResumePointPosted: function() {},
        onPlayerClosed: function() {},
        onPlayerMediaOpened: function() {},
        onPlayerMediaEnded: function() {},
        pageError: function(e) {
            var t = this.$$("tv-page-error-content");
            this.hideSpinner(),
            e && t && (t.set("apiError", e.detail.details),
            t.set("errorShowing", !0),
            this.attributeFollows("hidden", this.$$("tv-page-content"), t),
            this.onPageError(e))
        },
        resetError: function() {
            var e = this.$$("tv-page-error-content");
            e && (e.set("apiError", void 0),
            e.set("errorShowing", !1),
            this.attributeFollows("hidden", e, this.$$("tv-page-content")))
        },
        sendApiRequests: function(e) {
            var t, i, n = e || [];
            n.forEach(function(e) {
                i = this.querySelector("#" + e),
                i && (t = "TV-API" === i.nodeName ? i : i.querySelector("tv-api"),
                "TV-API" === t.nodeName && t.sendRequest())
            }, this)
        },
        sendAllApiRequests: function() {
            var e = Array.prototype.slice.call(this.querySelectorAll("tv-api"));
            e.forEach(function(e) {
                e.sendRequest()
            })
        },
        setPageTitle: function(e) {
            document.title = (e || "") + (e ? " - " : "") + XTV.partner.properties.appName
        },
        stringify: function(e) {
            return String(e)
        }
    };
    e.XTV.TvPageBehavior = [e.XTV.TvSpinnerBehavior, t]
}(window),
function(e) {
    e.XTV = e.XTV || {},
    e.XTV.TvRatingsBehavior = {
        checkLock: function(e, t) {
            return !!e[t].locked
        },
        isAnythingLocked: function(e, t) {
            var i = e[t].advisories
              , n = Object.keys(i);
            return !!n.length && n.some(this.checkLock.bind(this, i))
        },
        isEverythingLocked: function(e, t) {
            var i = e[t].advisories
              , n = Object.keys(i);
            return n.length ? n.every(this.checkLock.bind(this, i)) : !!e[t].locked
        }
    }
}(window),
function(e) {
    e.XTV = e.XTV || {},
    e.XTV.TvParserBehavior = {
        getForm: function(e, t, i) {
            var n = i || {};
            return e.hasAction(t) ? e.getFirstAction(t, n) : void 0
        },
        getImage: function(e, t, i) {
            var n = this.getForm(e, t, i);
            return n ? n.getActionUrl() : void 0
        }
    }
}(window),
function(e) {
    e.XTV = e.XTV || {},
    e.XTV.TvRecordingBehaviorImpl = {
        isManageableAsRepeat: function(e) {
            return !!e && !(!e.cancelForm && !e.modifyForm)
        },
        isManageableByItself: function(e) {
            return !!e && !!(e.cancelForm || e.deleteForm || e.modifyForm)
        },
        isRecordableAtAll: function(e, t) {
            return this.isRecordable(e) || this.isRecordable(t)
        },
        isRecordable: function(e) {
            return !!e && !!e.scheduleForm
        },
        refreshRecording: function(e) {
            return e.resource.getFirstAction("self").fetch({
                force: !0
            })
        },
        removeRecordingFromCollection: function(e, t) {
            var i = this.findById(this[e], t);
            i >= 0 && this.splice(e, i, 1)
        },
        repeatRecordedLabel: function(e) {
            return this.isSportsTeam(e || {}) ? this.localize("Team_Recording_Scheduled") : this.localize("Series_Recording_Scheduled")
        },
        updateRecordingInCollection: function(e, t) {
            var i = this.findById(this[e], t);
            i && this.splice(e, i, 1, t)
        }
    },
    e.XTV.TvRecordingBehavior = [e.XTV.TvFindBehavior, e.XTV.TvLocalizeBehavior, e.XTV.TvRecordingBehaviorImpl, e.XTV.TvTypeBehavior]
}(window),
function(e) {
    e.XTV = e.XTV || {},
    e.XTV.resumePointsBehavior = {
        getById: function(t) {
            return (e.XTV.resumePoints || {})[t]
        },
        getResumePointPosition: function(e) {
            return (this.getById(e) || {}).position
        }
    }
}(window),
function(e) {
    e.XTV = e.XTV || {},
    e.XTV.TvUpdateParentalControlsBehaviorImpl = {
        listeners: {
            "delete-title-lock": "_deleteTitleLock",
            "enable-parental-controls": "_enableControls",
            "reset-parental-controls": "_resetControls",
            "update-all-network-locks": "_updateAllNetworks",
            "update-all-rating-locks": "_updateAllRatings",
            "update-channel-locks": "_updateChannelLocks",
            "update-network-locks": "_updateNetworkLocks",
            "update-parental-controls-pin": "_updatePin",
            "update-safe-browse-level": "_updateSafeBrowseLevel",
            "update-title-lock": "_updateTitleLock",
            "update-rating-locks": "_updateRatingLocks",
            "set-rating-locks": "_setRatingLocks"
        },
        _enableControls: function(e, t) {
            this._stageUpdate(function(e, i, n) {
                i("enabled", t.enabled),
                t.pin && i("pin", t.pin),
                n().then(function() {
                    window.ll("setCustomDimension", 3, t.enabled ? "Enabled" : "Disabled")
                })
            })
        },
        _deleteTitleLock: function(e, t) {
            var i = this.controls.titleLocks[t.merlinId];
            delete this.controls.titleLocks[t.merlinId],
            this._sendUpdate().then(function() {
                this.set("controls.titleLocks", this.controls.titleLocks)
            }
            .bind(this), function() {
                this.set("controls.titleLocks." + t.merlinId, i)
            }
            .bind(this))
        },
        _resetControls: function() {
            this.showSpinner(),
            this.$.parentalControls.reset().then(function(e) {
                this.set("controls", e[0].resource.getProps()),
                this._stageUpdate("controls.ratingLocks", function(e, t, i) {
                    Object.keys(e).forEach(function(i) {
                        Object.keys(e[i]).forEach(function(n) {
                            t([i, n, "locked"], !1),
                            Object.keys(e[i][n].advisories).forEach(function(e) {
                                t([i, n, "advisories", e, "locked"], !1)
                            })
                        })
                    }),
                    i("ratings").then(function() {
                        this.hideSpinner()
                    }
                    .bind(this), this._handleResetError.bind(this))["catch"](this._handleResetError.bind(this))
                })
            }
            .bind(this), this._handleResetError.bind(this))["catch"](this._handleResetError.bind(this))
        },
        _sendUpdate: function(e) {
            var t = "update";
            return "ratings" === e && (t = "updateRatings"),
            this.showSpinner(),
            this.$.parentalControls[t](this.controls).then(function() {
                this.hideSpinner()
            }
            .bind(this), this._handleUpdateError.bind(this))
        },
        _stageUpdateChange: function(e, t, i, n) {
            var r, s;
            "string" != typeof i && (i = i.join(".")),
            r = i.split("."),
            s = r.slice(0, -1).reduce(function(e, t) {
                return e[t]
            }, t),
            e[i] = s[r.slice(-1)] = n
        },
        _commitStagedUpdate: function(e, t, i) {
            return this._sendUpdate(i).then(function() {
                Object.keys(e).forEach(function(i) {
                    this.set(t + "." + i, e[i])
                }, this)
            }
            .bind(this), Function.prototype)
        },
        _stageUpdate: function(e, t) {
            var i, n = {};
            "function" == typeof e ? (t = e,
            e = "controls",
            i = this.controls) : i = e.split(".").reduce(function(e, t) {
                return e[t]
            }, this),
            t.call(this, i, this._stageUpdateChange.bind(this, n, i), this._commitStagedUpdate.bind(this, n, e))
        },
        _handleResetError: function(e) {
            this._handleError(e, this.$.controlsResetErrorOverlay)
        },
        _handleUpdateError: function(e) {
            this._handleError(e, this.$.controlsUpdateErrorOverlay)
        },
        _handleError: function(e, t) {
            throw this.set("apiError", e, t),
            this.hideSpinner(),
            t.open(),
            e
        },
        _updateAllNetworks: function(e, t) {
            this._stageUpdate(function(e, i, n) {
                i("channelLocks", t.channelLocks),
                i("networkLocks", t.networkLocks),
                n()
            })
        },
        _updateAllRatings: function(e, t) {
            var i = t.scheme
              , n = t.category
              , r = t.locked
              , s = t.dependentCategories;
            this._stageUpdate("controls.ratingLocks." + i, function(e, t, i) {
                t([n, "locked"], r),
                Object.keys(e[n].advisories).forEach(function(e) {
                    t([n, "advisories", e, "locked"], r)
                }),
                s.forEach(function(i) {
                    t([i, "locked"], r),
                    Object.keys(e[i].advisories).forEach(function(e) {
                        t([i, "advisories", e, "locked"], r)
                    })
                }),
                i("ratings")
            })
        },
        _updatePin: function(e, t) {
            this._stageUpdate(function(e, i, n) {
                i("pin", t.pin),
                n()
            })
        },
        _updateChannelLocks: function(e, t) {
            this._stageUpdate("controls.channelLocks", function(e, i, n) {
                t.channels.forEach(function(e) {
                    i(e.stationId, e.locked)
                }),
                n()
            })
        },
        _updateNetworkLocks: function(e, t) {
            var i = t.channelIds || [];
            this._stageUpdate(function(e, n, r) {
                n(["networkLocks", t.companyId], t.locked),
                i.forEach(function(e) {
                    n(["channelLocks", e], t.locked)
                }),
                r()
            })
        },
        _updateSafeBrowseLevel: function(e, t) {
            this._stageUpdate(function(e, i, n) {
                i("safeBrowse", t.level),
                n()
            })
        },
        _updateTitleLock: function(e, t) {
            this._stageUpdate("controls.titleLocks", function(e, i, n) {
                i(t.merlinId, {
                    locked: t.locked,
                    title: t.title
                }),
                n()
            })
        },
        _updateRatingLocks: function(e, t) {
            var i = t.scheme
              , n = t.category
              , r = t.advisory
              , s = t.locked
              , o = t.dependentCategories;
            this._stageUpdate("controls.ratingLocks." + i, function(e, t, a) {
                return t([n, "advisories", r, "locked"], s),
                t([n, "locked"], this.isAnythingLocked(e, n)),
                this.isEverythingLocked(e, n) ? void this._updateAllRatings({}, {
                    scheme: i,
                    category: n,
                    dependentCategories: o,
                    locked: s
                }) : (o.forEach(function(n) {
                    e[n].advisories.hasOwnProperty(r) ? t([n, "advisories", r, "locked"], s) : !s && "v-chip" === i && e[n].advisories.hasOwnProperty("FV") && t([n, "advisories.FV.locked"], s),
                    t([n, "locked"], this.isAnythingLocked(e, n))
                }, this),
                void a("ratings"))
            })
        },
        _setRatingLocks: function(e, t) {
            var i = t.scheme
              , n = t.ratings;
            this._stageUpdate("controls.ratingLocks." + i, function(e, t, i) {
                Object.keys(n).forEach(function(i) {
                    t([i, "locked"], n[i]),
                    Object.keys(e[i].advisories).forEach(function(e) {
                        t([i, "advisories", e, "locked"], n[i])
                    })
                }),
                i("ratings")
            })
        }
    },
    e.XTV.TvUpdateParentalControlsBehavior = [e.XTV.TvRatingsBehavior, e.XTV.TvUpdateParentalControlsBehaviorImpl]
}(window),
Polymer({
    is: "tv-overlay-placeholder"
}),
function(e) {
    e.XTV = e.XTV || {},
    e.XTV.TvOverlayFlowBehavior = {
        properties: {
            completedState: {
                type: String,
                value: "",
                notify: !0
            },
            working: {
                type: Boolean,
                value: !1,
                notify: !0
            }
        },
        nextModalIs: function(e, t) {
            var i = this.$$("tv-overlay-layout.current")
              , n = this.$[e];
            t && t.preventDefault(),
            this.toggleClass("current", !1, i),
            this.toggleClass("current", !0, n)
        },
        overlayError: function(e, t) {
            var i = this.$[(t || {}).overlay] || this.$$("tv-overlay-error");
            i && (this.set("working", !1),
            this.set("apiError", t || e.detail, i),
            this.close(),
            i.open())
        },
        startOverlayFlow: function() {}
    }
}(window),
function(e) {
    e.XTV = e.XTV || {},
    e.XTV.TvOverlayRecordOptionsCopyBehaviorImpl = {
        copyFor: function(e, t) {
            return this.copy[e][t]
        },
        observers: ["localizeLabels(localize)"],
        localizeLabels: function() {
            this.copy.confirmationCancel[this.Types.CreativeWork] = this.localize("Recording_Canceled"),
            this.copy.confirmationCancel[this.Types.Movie] = this.localize("Movie_Recording_Canceled"),
            this.copy.confirmationCancel[this.Types.Person] = this.localize("Personality_Recording_Canceled"),
            this.copy.confirmationCancel[this.Types.SportsEvent] = this.localize("Recording_Canceled"),
            this.copy.confirmationCancel[this.Types.SportsTeam] = this.localize("Team_Recording_Canceled"),
            this.copy.confirmationCancel[this.Types.TvEpisode] = this.localize("Episode_Recording_Canceled"),
            this.copy.confirmationCancel[this.Types.TvSeries] = this.localize("Series_Recording_Canceled"),
            this.copy.confirmationDelete[this.Types.CreativeWork] = this.localize("Recording_Deleted"),
            this.copy.confirmationDelete[this.Types.Movie] = this.localize("Movie_Recording_Deleted"),
            this.copy.confirmationDelete[this.Types.SportsEvent] = this.localize("Recording_Deleted"),
            this.copy.confirmationDelete[this.Types.TvEpisode] = this.localize("Episode_Recording_Deleted"),
            this.copy.confirmationModify[this.Types.CreativeWork] = this.localize("Recording_Updated"),
            this.copy.confirmationModify[this.Types.Movie] = this.localize("Movie_Recording_Updated"),
            this.copy.confirmationModify[this.Types.Person] = this.localize("Personality_Recording_Updated"),
            this.copy.confirmationModify[this.Types.SportsEvent] = this.localize("Recording_Updated"),
            this.copy.confirmationModify[this.Types.SportsTeam] = this.localize("Team_Recording_Updated"),
            this.copy.confirmationModify[this.Types.TvEpisode] = this.localize("Episode_Recording_Updated"),
            this.copy.confirmationModify[this.Types.TvSeries] = this.localize("Series_Recording_Updated"),
            this.copy.rowsRepeat[this.Types.Person] = this.localize("Personality_Recording"),
            this.copy.rowsRepeat[this.Types.SportsEvent] = this.localize("Sports_Team_Recording"),
            this.copy.rowsRepeat[this.Types.SportsTeam] = this.localize("Sports_Team_Recording"),
            this.copy.rowsRepeat[this.Types.TvEpisode] = this.localize("Series_Recording"),
            this.copy.rowsRepeat[this.Types.TvSeries] = this.localize("Series_Recording"),
            this.copy.rowsSingle[this.Types.CreativeWork] = this.localize("Just_This_Recording"),
            this.copy.rowsSingle[this.Types.Movie] = this.localize("Just_This_Recording"),
            this.copy.rowsSingle[this.Types.Person] = this.localize("Just_This_Recording"),
            this.copy.rowsSingle[this.Types.SportsEvent] = this.localize("Just_This_Recording"),
            this.copy.rowsSingle[this.Types.SportsTeam] = this.localize("Just_This_Recording"),
            this.copy.rowsSingle[this.Types.TvEpisode] = this.localize("Just_This_Episode"),
            this.copy.rowsSingle[this.Types.TvSeries] = this.localize("Just_This_Episode")
        },
        created: function() {
            this.copy = {
                confirmationCancel: {},
                confirmationDelete: {},
                confirmationModify: {},
                rowsRepeat: {},
                rowsSingle: {}
            }
        }
    },
    e.XTV.TvOverlayRecordOptionsCopyBehavior = [e.XTV.TvLocalizeBehavior, e.XTV.TvTypeBehavior, e.XTV.TvOverlayRecordOptionsCopyBehaviorImpl]
}(window),
Polymer({
    is: "tv-overlay-manager",
    start: function(e) {
        this.hidden = !1,
        this._findOverlay(e).startOverlayFlow()
    },
    _findOverlay: function(e) {
        var t = Polymer.dom(this.$.overlays).getDistributedNodes().filter(function(t) {
            return t.id === e
        });
        if (!t.length)
            throw "No overlay found with an ID of [" + e + "]";
        return t[0]
    }
}),
Polymer({
    is: "tv-colorpicker",
    properties: {
        selected: {
            type: String,
            notify: !0,
            observer: "_onSelected"
        },
        ariaLabel: {
            type: String
        }
    },
    behaviors: [Polymer.IronA11yKeysBehavior, XTV.TvLocalizeBehavior],
    keyBindings: {
        "down right": "_onNext",
        "up left": "_onPrevious"
    },
    _onNext: function(e) {
        e.preventDefault(),
        this.$.selector.selectNext()
    },
    _onPrevious: function(e) {
        e.preventDefault(),
        this.$.selector.selectPrevious()
    },
    _onSelected: function(e) {
        [].forEach.call(this.querySelectorAll("iron-selector > div"), function(t) {
            t.getAttribute("color") === e ? (t.setAttribute("tabindex", "0"),
            t.setAttribute("aria-checked", "true"),
            t.focus()) : (t.setAttribute("tabindex", "-1"),
            t.setAttribute("aria-checked", "false"))
        }
        .bind(this))
    }
}),
Polymer({
    is: "tv-cc-preview",
    properties: {
        options: {
            type: Object,
            observer: "_setOptions"
        },
        txtClasses: {
            type: String
        },
        edgeOpacity: {
            readOnly: !0,
            value: {
                solid: {
                    light: .6,
                    dark: .9
                },
                transparent: {
                    light: 0,
                    dark: 0
                },
                translucent: {
                    light: .3,
                    dark: .5
                },
                _useLight: ["uniform", "raised", "depressed"]
            }
        },
        defaultOptions: {
            readOnly: !0,
            value: function() {
                return {
                    penSize: "large",
                    fontStyle: "monospaced_sanserif",
                    textForegroundColor: "bright_white",
                    textForegroundOpacity: "solid",
                    textEdgeStyle: "drop_shadow_right",
                    textBackgroundColor: "black",
                    textBackgroundOpacity: "solid",
                    textEdgeColor: "black"
                }
            }
        }
    },
    behaviors: [XTV.TvLocalizeBehavior],
    ready: function() {
        this.set("options", this.options || this.defaultOptions)
    },
    attached: function() {
        this.updateStyles()
    },
    _getTextStyles: function(e) {
        return ["penSize", "fontStyle", "textForegroundOpacity", "textEdgeStyle"].map(function(t) {
            return e[t]
        }).join(" ")
    },
    _rgba: function(e, t) {
        return "rgba(var(--" + e + "), var(--" + t + "))"
    },
    _rgbaEdge: function(e) {
        var t = "dark";
        return this.edgeOpacity._useLight.indexOf(e.textEdgeStyle) !== -1 && (t = "light"),
        "rgba(var(--" + e.textEdgeColor + "), " + this.edgeOpacity[e.textForegroundOpacity][t] + ")"
    },
    _setColors: function(e) {
        this.customStyle["--txt-color"] = this._rgba(e.textForegroundColor, e.textForegroundOpacity),
        this.customStyle["--bg-color"] = this._rgba(e.textBackgroundColor, e.textBackgroundOpacity),
        this.customStyle["--edge-color"] = this._rgbaEdge(e),
        this.updateStyles()
    },
    _setOptions: function(e) {
        this.set("txtClasses", this._getTextStyles(e)),
        this._setColors(e)
    }
}),
function() {
    var e, t, i = !0, n = "settings-acc", r = document.createElement("div"), s = 3, o = "settings-", a = "settings-u", c = "settings", l = "sync", h = function(e) {
        var t;
        try {
            t = JSON.parse(localStorage.getItem(e))
        } catch (i) {
            localStorage.removeItem(e)
        }
        return t
    }, u = function(e) {
        localStorage.setItem(a, JSON.stringify(e))
    }, d = function(e) {
        t && (localStorage.setItem(o + t.xboAccountId, JSON.stringify(e)),
        i && (i = !1,
        p(t)))
    }, f = function(e) {
        u(e),
        d(e)
    }, p = function(e) {
        var t, i, r = h(n) || [];
        t = r.filter(function(t, i) {
            return 0 === i || t !== e.xboAccountId
        }),
        t.length !== r.length && (i = !0),
        t[0] !== e.xboAccountId && (t.unshift(e.xboAccountId),
        i = !0),
        t.length >= s && (t.splice(s).forEach(function(e) {
            localStorage.removeItem(o + e)
        }),
        i = !0),
        i && localStorage.setItem(n, JSON.stringify(t))
    }, m = function() {
        return {
            auth: h(o + (t || {}).xboAccountId),
            unAuth: h(a)
        }
    }, g = function() {
        var e = h(c);
        e && (localStorage.removeItem(c),
        f(e))
    };
    Polymer({
        is: "tv-settings",
        hostAttributes: {
            hidden: !0
        },
        properties: {
            name: {
                type: String
            },
            value: {
                type: Object,
                notify: !0
            },
            "default": Object,
            isComplex: Boolean,
            migrate: String,
            migrateValue: String
        },
        observers: ["save(value)", "saveComplex(value.*, isComplex)"],
        setSession: function(e) {
            (t || {}).xboAccountId !== (e.tokenSummary || {}).xboAccountId && (t = e.tokenSummary),
            this._onAuthOrUnauth()
        },
        _onTokenReadySignal: function(e, t) {
            this.setSession(t)
        },
        _onAuthOrUnauth: function() {
            e || (e = !0),
            g(),
            this._migratePreReleaseNonTvSettings(),
            this.isAttached && this.reload()
        },
        _migratePreReleaseNonTvSettings: function() {
            var e, t, i, n;
            this.migrate && (e = localStorage.getItem(this.migrate),
            t = h(this.migrate),
            e && (this.migrateValue && (n = this.parentElement[this.migrateValue],
            "function" == typeof n && (i = n(e))),
            localStorage.removeItem(this.migrate),
            this._isLoaded = !0,
            this.set("value", i || t)))
        },
        ready: function() {
            r.addEventListener(l, this._onSync.bind(this))
        },
        _onSync: function(e) {
            e.origin !== this && e.origin.name === this.name && e.origin.value !== this.value && this._notifyValue(e.origin.value)
        },
        _notifyValue: function(e) {
            this._isNotifyOnly = !0,
            this.set("value", e),
            this._isNotifyOnly = !1
        },
        _notifyDefaultValue: function() {
            this._notifyValue(this["default"])
        },
        _refreshSettings: function() {
            var e;
            return e = m(),
            t && e.auth && u(e.auth),
            t ? e.auth : e.unAuth
        },
        reload: function() {
            var e = this._refreshSettings();
            e && void 0 !== e[this.name] && null !== e[this.name] && "" !== e[this.name] && ("object" != typeof e[this.name] || Object.keys(e[this.name]).length) ? this._notifyValue(e[this.name]) : this._notifyDefaultValue(),
            this._isLoaded = !0
        },
        attached: function() {
            e && this.reload()
        },
        _sync: function() {
            var e = new Event(l);
            e.origin = this,
            r.dispatchEvent(e)
        },
        _save: function(t) {
            var i, n = {};
            !this._isNotifyOnly && e && this._isLoaded && (i = this._refreshSettings() || {},
            n[this.name] = t,
            Object.assign(i, n),
            f(i),
            this._sync())
        },
        save: function(e) {
            this.isComplex || this._save(e)
        },
        saveComplex: function(e) {
            this._save(e.base)
        }
    })
}(),
Polymer({
    is: "tv-overlay-closed-captions",
    behaviors: [XTV.TvLocalizeBehavior, XTV.TvOverlayFlowBehavior, XTV.TvOverlayBehavior],
    properties: {
        ccSettings: {
            type: Object,
            observer: "_onCCSettings"
        },
        ccOptions: {
            type: Object
        },
        convertedCaptionOptions: {
            type: Object,
            notify: !0
        },
        mapKeys: {
            readOnly: !0,
            value: function() {
                return {
                    penSize: "fontSize",
                    textEdgeStyle: "textForegroundEdge",
                    textEdgeColor: "windowBorderEdgeColor",
                    textBackgroundColor: "windowBackgroundColor",
                    textBackgroundOpacity: "windowBackgroundOpacity"
                }
            }
        },
        mapValues: {
            readOnly: !0,
            value: function() {
                return {
                    solid: 100,
                    transparent: 0,
                    translucent: 50,
                    standard: "medium",
                    monospaced_sanserif: "monospaced_without_serifs",
                    monospaced_serif: "monospaced_with_serifs",
                    proportional_serif: "proportional_with_serifs",
                    proportional_sanserif: "proportional_without_serifs"
                }
            }
        },
        defaults: {
            readOnly: !0,
            value: function() {
                return {
                    penSize: "small",
                    fontStyle: "monospaced_sanserif",
                    textForegroundColor: "bright_white",
                    textForegroundOpacity: "solid",
                    textEdgeStyle: "none",
                    textEdgeColor: "bright_white",
                    textBackgroundColor: "black",
                    textBackgroundOpacity: "solid"
                }
            }
        }
    },
    observers: ["_onCCOptionsChange(ccOptions.*)"],
    listeners: {
        "tv-overlay-opened": "_onOpened",
        "tv-overlay-closed": "_onClosed"
    },
    _onOpened: function() {
        this.setHeight(),
        window.addEventListener("resize", this.setHeight)
    },
    _onClosed: function() {
        window.removeEventListener("resize", this.setHeight)
    },
    ready: function() {
        this.setHeight = this._setHeight.bind(this)
    },
    attached: function() {
        this.set("ccOptions", this.extend({}, this.ccOptions || this.defaults))
    },
    _setHeight: function() {
        var e = 720;
        this.$.content.style.height = (window.innerHeight < e ? window.innerHeight : e) + "px"
    },
    startOverlayFlow: function() {
        this.open(),
        this.$$("tv-settings").reload()
    },
    _onUpdate: function() {
        this.set("ccSettings", this.extend({}, this.ccOptions)),
        this.close()
    },
    _onReset: function(e) {
        e.preventDefault(),
        this.set("ccOptions", this.extend({}, this.defaults)),
        this._onUpdate()
    },
    _onCCSettings: function(e) {
        this.set("ccOptions", e)
    },
    _convertCaptionOptions: function(e) {
        var t, i, n, r, s, o = {};
        return t = Object.keys(this.mapValues),
        Object.keys(e).forEach(function(a) {
            r = this.mapKeys[a],
            s = e[a],
            i = r ? r : a,
            n = t.indexOf(s) !== -1 ? this.mapValues[s] : s,
            o[i] = n
        }, this),
        o
    },
    _onCCOptionsChange: function(e) {
        e.base && (this.set("convertedCaptionOptions", this._convertCaptionOptions(e.base)),
        this.querySelector('[data-id="preview"]').options = this.extend({}, e.base))
    }
}),
Polymer({
    is: "tv-overlay-error",
    behaviors: [XTV.TvLocalizeBehavior, XTV.TvOverlayBehavior],
    properties: {
        title: String,
        message: String,
        actions: {
            type: Array,
            value: function() {
                return ["dismiss"]
            }
        },
        apiError: Object,
        errorCode: String
    },
    observers: ["_apiErrorChanged(apiError)"],
    _apiErrorChanged: function(e) {
        var t = (e.error || {}).action || "unknown"
          , i = (e.xhr || {}).status || "unknown"
          , n = (e.xhr || {}).headers
          , r = n ? n.get("X-CDVR-STATUS-SUBCODE") : null;
        this.set("errorCode", [t, i, r].filter(Boolean).join(".") + ": API Failure")
    }
}),
Polymer({
    is: "tv-overlay-delete-recording-group",
    behaviors: [XTV.TvLocalizeBehavior, XTV.TvOverlayFlowBehavior, XTV.TvOverlayBehavior, XTV.TvUrlBehavior],
    properties: {
        buttonLabel: String,
        confirmationSubtitle: String,
        confirmationMessage: String,
        confirmed: {
            type: Boolean,
            value: !1,
            notify: !0
        },
        group: Object,
        title: String
    },
    observers: ["_groupChanged(group)", "_onWorkingChanged(working)"],
    _onWorkingChanged: function(e) {
        e ? this.$.deleteGroupConfirm.startSpinning() : this.$.deleteGroupConfirm.stopSpinning()
    },
    attached: function() {
        Polymer.IronA11yAnnouncer.requestAvailability()
    },
    startOverlayFlow: function() {
        this.confirmed = !1,
        this.set("completedState", ""),
        this.nextModalIs("initialOverlay"),
        this.open()
    },
    _deleteRecordingGroup: function() {
        if (!this.working)
            return this.set("working", !0),
            this.$.deleteRecordingGroupForm.submit(),
            this.fire("iron-announce", {
                text: this.localize("Please_wait")
            }),
            !1
    },
    _deleteRecordingGroupConfirmation: function(e) {
        this.set("working", !1),
        this.set("completedState", "deleted-recording-group"),
        this.nextModalIs("confirmationOverlay", e),
        this.$.deleteRecordingGroupConfirmationHeading.focus()
    },
    gotoDevices: function(e) {
        e.preventDefault(),
        this.navigateTo("settings", "devices"),
        this.close()
    },
    _getTitle: function(e, t) {
        return e === t ? this.localize("Unable_to_Delete_Recording_plural", "count", e) : this.localize("Delete_Recordings_q", "count", e - t)
    },
    _getDownloadsMessage: function(e, t) {
        return e === t ? this.localize("The_recording_you_selected_is_downloaded", "count", e) : t ? this.localize("Some_of_the_recordings_you_selected_are_downloaded") : ""
    },
    _getMessage: function(e, t, i) {
        var n = e - t;
        return e === t || 1 === e ? "" : t ? this.localize("Would_you_like_to_delete_remaining_recordings", "remaining", n) : this.localize("Are_you_sure_you_want_to_delete_all_numRecordings_", "numRecordings", e, "groupName", i)
    },
    _getActions: function(e, t) {
        return e === t ? ["manage", "close"] : ["yes", "no"]
    },
    _getConfirmationMessage: function(e, t, i) {
        return this.localize("Your_recordings_for_groupName_have_been_deleted_d_", "count", e, "groupName", i, "message", this.localize("It_may_take_up_to_five_minutes_to_process_your_req"))
    },
    _groupChanged: function(e) {
        if (e) {
            var t = e.numRecordings - e.numDownloads;
            this.set("title", this._getTitle(e.numRecordings, e.numDownloads)),
            this.set("downloadsMessage", this._getDownloadsMessage(e.numRecordings, e.numDownloads)),
            this.set("message", this._getMessage(e.numRecordings, e.numDownloads, e.name)),
            this.set("actions", this._getActions(e.numRecordings, e.numDownloads)),
            this.set("confirmationMessage", this._getConfirmationMessage(e.numRecordings, e.numDownloads, e.name)),
            this.set("confirmationSubtitle", t > 1 ? this.localize("Recordings_Deleted") : this.localize("Recording_Deleted"))
        }
    },
    _onConfirmClose: function() {
        this.set("confirmed", !0),
        this.close()
    }
}),
Polymer({
    is: "tv-overlay-deny-tos",
    behaviors: [XTV.TvLocalizeBehavior, XTV.TvOverlayBehavior, XTV.TvUrlBehavior],
    _OnExit: function(e) {
        e.preventDefault(),
        this.fire("tos-reject")
    }
}),
function(e) {
    e.XTV = e.XTV || {},
    e.XTV.TvFlashCompatibility = {
        properties: {
            minRequiredFlash: {
                type: String,
                value: "15.0.0.152",
                readOnly: !0
            }
        },
        flashCompatible: function() {
            return this.hasVersion(this.minRequiredFlash, this.getFlashVersion())
        },
        getFlashVersion: function() {
            var e, t, i = navigator.plugins["Shockwave Flash"] || window.ActiveXObject;
            try {
                e = i.description || function() {
                    return new i("ShockwaveFlash.ShockwaveFlash").GetVariable("$version")
                }()
            } catch (n) {
                e = "Unavailable"
            }
            return t = e.match(/\d+/g) || [0],
            t.join(".")
        },
        hasVersion: function(e, t) {
            var i, n, r = function(e) {
                return e.split(".").map(function(e) {
                    return parseInt(e, 10)
                })
            }, s = r(e), o = r(t);
            for (i = 0,
            n = Math.min(s.length, o.length); i < n; i++) {
                if (o[i] > s[i])
                    return !0;
                if (o[i] < s[i])
                    return !1
            }
            return !0
        },
        hasFlash: function() {
            if (navigator.plugins["Shockwave Flash"])
                return !0;
            if (window.ActiveXObject)
                try {
                    return new ActiveXObject("ShockwaveFlash.ShockwaveFlash")
                } catch (e) {
                    return !1
                }
            return !1
        }
    }
}(window),
Polymer({
    is: "tv-overlay-diagnostics",
    properties: {
        browser: String,
        buildInfo: Object,
        flashVersion: String,
        operatingSystem: String,
        watchable: Object,
        user: Object,
        userStatus: String,
        fingerPrint: String
    },
    behaviors: [XTV.TvLocalizeBehavior, XTV.TvOverlayBehavior, XTV.TvWatchableTypeBehavior, XTV.TvUserBehavior],
    listeners: {
        "tv-overlay-opened": "_onOpened"
    },
    _onOpened: function() {
        this.operatingSystem && this.browser || this._getSystemInfo(),
        this.buildInfo = XTV.buildInfo,
        this.fingerPrint = document.getElementById("xtvapi").getLastFingerPrint()
    },
    _entitlementsString: function() {
        return this._getEntitlements().join(", ") || ""
    },
    _getSystemInfo: function() {
        this.set("operatingSystem", this.user.userAgent.os.name + " " + this.user.userAgent.os.version),
        this.set("browser", this.user.userAgent.browser.name + " " + this.user.userAgent.browser.version),
        this.set("userStatus", this.localize(this._getStatus(this.user.inhome)))
    },
    _getProviderAttribution: function(e) {
        var t = [];
        return this.isVod(e) ? t.push(e.provider || e.providerName) : this.isTve(e) ? t.push((e.contentProvider || {}).name) : this.isTveListing(e) ? t.push((e.channel || {}).callSign) : this.isRecording(e) ? t.push(e.contentProvider.name || "Recording") : t.push((e.channel || {}).number, (e.channel || {}).callSign),
        t.join(" ")
    },
    _getStatus: function(e) {
        return e ? this.isUniversity() ? "on_campus" : "in_home" : this.isUniversity() ? "off_campus" : "away_from_home"
    },
    _getStreamProvider: function(e) {
        return (e.stream || {}).streamProvider || "primetime"
    }
}),
Polymer({
    is: "tv-overlay-dvr-storage",
    behaviors: [XTV.TvLocalizeBehavior, XTV.TvOverlayBehavior]
}),
Polymer({
    is: "tv-overlay-erase-recording",
    behaviors: [XTV.TvLocalizeBehavior, XTV.TvOverlayFlowBehavior, XTV.TvOverlayBehavior],
    properties: {
        recording: Object,
        working: Boolean
    },
    observers: ["_onWorkingChanged(working)"],
    attached: function() {
        Polymer.IronA11yAnnouncer.requestAvailability()
    },
    _onWorkingChanged: function(e) {
        e ? this.$.confirmButton.startSpinning() : this.$.confirmButton.stopSpinning()
    },
    _eraseConfirmation: function(e) {
        this.set("working", !1),
        this.set("completedState", "erased-recording"),
        this.nextModalIs("eraseConfirmationOverlay", e),
        this.$.eraseConfirmationHeading.focus()
    },
    _eraseRecording: function() {
        if (!this.working)
            return this.set("working", !0),
            this.$.eraseForm.submit(),
            this.fire("iron-announce", {
                text: this.localize("Please_wait")
            }),
            !1
    },
    startOverlayFlow: function() {
        this.set("completedState", ""),
        this.nextModalIs("eraseOverlay"),
        this.open()
    }
}),
Polymer({
    is: "tv-overlay-inhome-only",
    properties: {
        inHomeOnly: Boolean,
        isUniversity: Boolean,
        location: {
            type: String,
            computed: "_getLocation(isUniversity)"
        },
        userInHome: Boolean
    },
    behaviors: [XTV.TvLocalizeBehavior, XTV.TvOverlayBehavior],
    _getLocation: function(e) {
        return e ? "campus" : "home"
    }
}),
Polymer({
    is: "tv-overlay-mws-root-error",
    behaviors: [XTV.TvLocalizeBehavior, XTV.TvOverlayBehavior]
}),
Polymer({
    is: "tv-overlay-ooh",
    behaviors: [XTV.TvAssetParserBehavior, XTV.TvLocalizeBehavior, XTV.TvOverlayBehavior, XTV.TvTypeBehavior, XTV.TvUrlBehavior, XTV.TvUserBehavior, XTV.TvWatchableTypeBehavior],
    properties: {
        activeFilters: Array,
        inHomeAsset: Object,
        hasOohAsset: {
            type: Boolean,
            computed: "_hasOohAsset(oohAsset)"
        },
        isUniversity: Boolean,
        oohAsset: Object
    },
    _getAiringInfo: function(e) {
        return e ? this.isMovie(e) ? e.derivedAirDate : [this.seasonAndEpisode(e.creativeWork, !0), e.derivedTitle].join(" ") : ""
    },
    _getAiringTime: function(e) {
        return e ? [moment(e.startTime).format("h:mma").replace(/(a|p)m$/g, "$1"), moment(e.endTime).format("h:mma").replace(/(a|p)m$/g, "$1")].join(" - ") : ""
    },
    _getAssetTitle: function(e) {
        return e ? this.isMovie(e) ? e.derivedTitle : e.creativeWork.series ? e.creativeWork.series.name : e.derivedTitle : ""
    },
    _getBrowseHref: function(e) {
        return e ? this.urlFor("browse", this.isMovie(e) ? "movies" : "tvshows") : ""
    },
    _getProviderLogo: function(e) {
        return e ? this.isListing(e) ? e.channel.networkLogo : e.contentProvider.logoUrl : ""
    },
    _hasOohAsset: function() {
        return !!this.oohAsset
    },
    _showContentProvider: function() {
        return !this.userHasT6Only() && this.hasOohAsset
    },
    _showLinearInhomeInfo: function(e) {
        return !this.userHasT6Only() && this.isListing(e) && !this.hasOohAsset
    },
    _showLinearOOHInfo: function(e) {
        return !this.userHasT6Only() && this.isListing(e) && this.hasOohAsset
    },
    _showLooksLikeText: function(e) {
        return this.isVod(e) && !this.hasOohAsset
    },
    _showOOHAvailableInfo: function(e) {
        return this.userHasT6Only() || this.isVod(e) && this.hasOohAsset || this.isListing(e) && this.hasOohAsset
    },
    _showVodInHomeInfo: function(e) {
        return !this.userHasT6Only() && this.isVod(e) && !this.hasOohAsset
    },
    _showVodOOHInfo: function(e) {
        return !this.userHasT6Only() && this.isVod(e) && this.hasOohAsset
    },
    _toBrowse: function() {
        window.ll("tagEvent", "Pivoted", {
            To: "Browse",
            Auto: "No"
        }),
        this.close()
    },
    _toListings: function(e) {
        e.preventDefault();
        var t = (this.activeFilters || []).slice();
        t.includes("tve") && t.splice(t.indexOf("tve"), 1),
        t.splice(0, 0, "tve"),
        this.set("activeFilters", t),
        window.ll("tagEvent", "Pivoted", {
            To: "Browse",
            Auto: "No"
        }),
        this.close(),
        this.isOnPage("listings") ? this.setLastFocus(document.querySelector("tv-page-grid").querySelector(".grid-channel-action")) : this.navigateTo("listings")
    },
    _toRecording: function() {
        window.ll("tagEvent", "Pivoted", {
            To: "Browse",
            Auto: "No"
        }),
        this.close()
    },
    _watch: function(e) {
        e.stopPropagation(),
        e.preventDefault(),
        window.ll("tagEvent", "Pivoted", {
            To: "VOD",
            Auto: "No"
        }),
        this.async(function() {
            this.fire("app:player:watch", {
                watchable: this.oohAsset
            })
        }, 1e3),
        this.close()
    }
}),
Polymer({
    is: "tv-overlay-player-ooh-info",
    behaviors: [XTV.TvLocalizeBehavior, XTV.TvOverlayBehavior]
}),
Polymer({
    is: "tv-overlay-parental-controls-pin",
    behaviors: [XTV.TvLocalizeBehavior, XTV.TvOverlayBehavior, XTV.TvOverlayFlowBehavior],
    properties: {
        id: String,
        pin: {
            type: String,
            value: ""
        },
        inputPin: {
            type: String,
            value: "",
            notify: !0
        },
        subtitle: {
            type: String,
            value: ""
        },
        subtitleLocalizeId: {
            type: String,
            value: "Please_Enter_Your_Parental_Control_PIN"
        },
        instructions: String,
        error: String,
        hasError: {
            type: Boolean,
            value: !1
        },
        label: {
            type: String,
            value: ""
        },
        labelLocalizeId: {
            type: String,
            value: "Enter_PIN"
        },
        validators: {
            type: String,
            value: ""
        }
    },
    listeners: {
        "tv-overlay-closed": "onClose"
    },
    observers: ["onLocalizeReady(localize)"],
    attached: function() {
        Polymer.IronA11yAnnouncer.requestAvailability()
    },
    onLocalizeReady: function() {
        this.updateLabels(),
        this.set("labelClass", "es" === this.getLanguage() ? "label-es" : "label-en")
    },
    validate: {
        longEnough: function() {
            return !(this.inputPin.length < 4) || (this.showError(this.localize("PIN_must_be_4_digits_d")),
            !1)
        },
        digitsOnly: function() {
            return !/[^\d]/.test(this.inputPin) || (this.showError(this.localize("PIN_must_only_be_digits_d")),
            !1)
        },
        newPinMatch: function() {
            return this.inputPin === this.newPin || (this.showError(this.localize("PIN_verification_did_not_match_cm_please_try_again")),
            !1)
        },
        pinMatch: function() {
            return this.inputPin === this.pin || (this.showError(this.localize("Incorrect_PIN_d")),
            !1)
        }
    },
    updateLabels: function() {
        this.set("subtitle", this.localize(this.subtitleLocalizeId)),
        this.set("label", this.localize(this.labelLocalizeId))
    },
    startOverlayFlow: function() {
        this.resetPinState(),
        this.updateLabels(),
        this.open()
    },
    resetPinState: function() {
        this.set("error", ""),
        this.set("hasError", !1),
        this.$$('[type="password"]').value = "",
        this.$.confirm.stopSpinning(),
        this.set("inputPin", ""),
        this.set("completedState", "")
    },
    showError: function(e) {
        this.set("error", e),
        this.set("hasError", !0),
        this.$$('[type="password"]').value = "",
        this.$.confirm.stopSpinning(),
        this.fire("iron-announce", {
            text: this.localize("Error_c_message_", "message", e)
        })
    },
    validatePin: function() {
        return this.inputPin = this.$$('[type="password"]').value,
        this.validators.split(/\s+/).every(function(e) {
            return this.validate[e].call(this)
        }, this)
    },
    onClose: function() {
        "" === this.completedState && this.set("completedState", "pin-validated-unsuccessful")
    },
    onSubmit: function(e) {
        e && e.preventDefault(),
        this.validatePin() ? (this.set("inputPin", this.inputPin),
        this.set("completedState", "pin-validated-successful"),
        this.close()) : this.$$('[type="password"]').focus()
    }
}),
Polymer({
    is: "tv-overlay-parental-controls-rating-definitions",
    behaviors: [XTV.TvLocalizeBehavior, XTV.TvOverlayFlowBehavior, XTV.TvOverlayBehavior],
    properties: {
        descriptions: Object
    }
}),
Polymer({
    is: "tv-overlay-parental-controls-reset",
    behaviors: [XTV.TvLocalizeBehavior, XTV.TvOverlayFlowBehavior, XTV.TvOverlayBehavior],
    _resetParentalControls: function() {
        return this._placeholder.fire("reset-parental-controls"),
        this.close(),
        !1
    },
    startOverlayFlow: function() {
        this.nextModalIs("resetOverlay"),
        this.open()
    }
}),
Polymer({
    is: "tv-overlay-player-shortcuts",
    behaviors: [XTV.TvLocalizeBehavior, XTV.TvOverlayFlowBehavior, XTV.TvOverlayBehavior, XTV.TvWatchableTypeBehavior, XTV.TvUserBehavior],
    hideGuideShortcut: function() {
        return !this.isSignedIn(this.user.tokenSummary) || this.userHasPurchasesOnly()
    },
    setPlayPauseStopTitle: function(e) {
        return this.isListing(e) ? this.localize("Stop") + " " + this.localize("Playing") : this.localize("Play_Pause")
    },
    setPlayPauseStopKeyLabel: function(e) {
        return this.isListing(e) ? "X" : "P"
    },
    startOverlayFlow: function() {
        this.open()
    }
}),
Polymer({
    is: "tv-overlay-record-repeat",
    behaviors: [XTV.TvLocalizeBehavior, XTV.TvOverlayFlowBehavior, XTV.TvOverlayBehavior],
    properties: {
        completedState: {
            type: String,
            notify: !0
        },
        displayName: String,
        formLabel: String,
        entity: Object,
        working: Boolean
    },
    observers: ["_entityChanged(entity)", "_onWorkingChanged(working)"],
    attached: function() {
        Polymer.IronA11yAnnouncer.requestAvailability()
    },
    _onWorkingChanged: function(e) {
        e ? this.$.recordRepeatButton.startSpinning() : this.$.recordRepeatButton.stopSpinning()
    },
    startOverlayFlow: function() {
        this.entity && (this.nextModalIs("recordRepeatOverlay"),
        this.open())
    },
    _entityChanged: function(e) {
        if (e) {
            var t = e.scheduleForm;
            this.formLabel = t ? t.getTitle() : this.localize("Set_Series_Recording"),
            this.displayName = e.name
        }
    },
    _recordRepeatConfirmation: function() {
        this.set("working", !1),
        this.set("completedState", "recorded-repeat"),
        this.nextModalIs("recordRepeatConfirmation"),
        this.$.recordRepeatConfirmationHeading.focus()
    },
    _recordRepeatSubmit: function() {
        if (!this.working)
            return this.set("working", !0),
            this.fire("iron-announce", {
                text: this.localize("Please_wait"),
                mode: "assertive"
            }),
            this.$.recordRepeatForm.submit(),
            !1
    }
}),
Polymer({
    is: "tv-overlay-record-options-modify",
    behaviors: [XTV.TvLocalizeBehavior, XTV.TvOverlayRecordOptionsCopyBehavior, XTV.TvOverlayBehavior, XTV.TvOverlayFlowBehavior],
    properties: {
        entity: Object,
        modifiableRepeat: Boolean,
        modifySingleFormTitle: String,
        modifyRepeatFormTitle: String,
        recordableRepeat: Boolean,
        recording: Object,
        working: Boolean
    },
    observers: ["_recordingChanged(recording)", "_onWorkingChanged(working)"],
    attached: function() {
        Polymer.IronA11yAnnouncer.requestAvailability()
    },
    ready: function() {
        this.$.modifyRepeatOverlay.autoWidth = !1
    },
    _onWorkingChanged: function(e) {
        e ? (this.$.modifySingleUpdateButton.startSpinning(),
        this.$.modifyRepeatUpdateButton.startSpinning()) : (this.$.modifySingleUpdateButton.stopSpinning(),
        this.$.modifyRepeatUpdateButton.stopSpinning())
    },
    startOverlayFlow: function() {
        this.recording && (this.set("completedState", ""),
        this.recordableRepeat || this.modifiable && this.modifiableRepeat ? this.nextModalIs("modifyChoiceOverlay") : this.modifiableRepeat ? this._toModifyRepeat() : this._toModifySingle(),
        this.open())
    },
    _modifyRepeatConfirmation: function() {
        this.set("working", !1),
        this.set("completedState", "modified-repeat"),
        this.nextModalIs("modifyRepeatConfirmation"),
        this.$.modifyRepeatOverlayHeading.focus()
    },
    _modifyRepeatDropdownChanged: function() {
        this.$.modifyRepeatUpdateButton.disabled = !1
    },
    _modifyRepeatSubmit: function(e) {
        if (!e.currentTarget.disabled && !this.working)
            return this.set("working", !0),
            this.$.modifyRepeatForm.submit(),
            this.fire("iron-announce", {
                text: this.localize("Please_wait"),
                mode: "assertive"
            }),
            !1
    },
    _modifySingleConfirmation: function() {
        this.set("working", !1),
        this.set("completedState", "modified-single"),
        this.nextModalIs("modifySingleConfirmation"),
        this.$.modifyRepeatOverlayHeading.focus()
    },
    _modifySingleDropdownChanged: function() {
        this.$.modifySingleUpdateButton.disabled = !1
    },
    _modifySingleSubmit: function(e) {
        if (!e.currentTarget.disabled && !this.working)
            return this.set("working", !0),
            this.$.modifySingleForm.submit(),
            this.fire("iron-announce", {
                text: this.localize("Please_wait"),
                mode: "assertive"
            }),
            !1
    },
    _recordingChanged: function(e) {
        e && (this.entity = e.entity || {},
        this.modifiable = !!e.modifyForm,
        this.modifiableRepeat = !!this.entity.modifyForm,
        this.recordableRepeat = !!this.entity.scheduleForm,
        this.recordableRepeat ? this.recordRepeatLabel = this.entity.scheduleForm.getTitle() : this.modifyRepeatLabel = this.copyFor("rowsRepeat", this.entity.type),
        this.modifiable && (this.modifySingleFormTitle = e.modifyForm.getTitle()),
        this.modifiableRepeat && (this.modifyRepeatFormTitle = this.entity.modifyForm.getTitle()))
    },
    _toModifyRepeat: function() {
        this.$.modifyRepeatUpdateButton.disabled = !0,
        this.nextModalIs("modifyRepeatOverlay"),
        this.$.modifyRepeatOverlayHeading.focus()
    },
    _toModifySingle: function() {
        this.$.modifySingleUpdateButton.disabled = !0,
        this.nextModalIs("modifySingleOverlay"),
        this.$.modifyRepeatOverlayHeading.focus()
    },
    _toRecordRepeat: function(e) {
        this.$.recordRepeatFlow.startOverlayFlow()
    }
}),
Polymer({
    is: "tv-overlay-record-single",
    behaviors: [XTV.TvLocalizeBehavior, XTV.TvOverlayFlowBehavior, XTV.TvOverlayBehavior, XTV.TvUrlBehavior],
    properties: {
        listing: Object,
        working: Boolean
    },
    observers: ["_onWorkingChanged(working)"],
    attached: function() {
        Polymer.IronA11yAnnouncer.requestAvailability()
    },
    _onWorkingChanged: function(e) {
        e ? this.$.recordSingleButton.startSpinning() : this.$.recordSingleButton.stopSpinning()
    },
    startOverlayFlow: function(e) {
        this.listing && (this._isAutoSubmittable() ? this._recordSingleSubmit() : (this.nextModalIs("recordSingleOverlay"),
        this.open()))
    },
    _isAutoSubmittable: function() {
        return !this.$.recordSingleForm.selectFields.length
    },
    _recordSingleConfirmation: function(e, t) {
        this.set("working", !1),
        201 === t.response.xhr.status ? this.nextModalIs("recordingConflictOverlay") : (this.set("completedState", "recorded-single"),
        this.nextModalIs("recordSingleConfirmation")),
        this.$.recordSingleConfirmationHeading.focus(),
        this.shown || this.open()
    },
    _recordSingleSubmit: function() {
        if (!this.working)
            return this.set("working", !0),
            this.fire("iron-announce", {
                text: this.localize("Please_wait"),
                mode: "assertive"
            }),
            this.$.recordSingleForm.submit(),
            !1
    },
    _toScheduled: function() {
        this.close(),
        this.navigateTo("scheduled")
    }
}),
Polymer({
    is: "tv-overlay-record",
    behaviors: [XTV.TvLocalizeBehavior, XTV.TvOverlayBehavior, XTV.TvOverlayFlowBehavior, XTV.TvOverlayRecordOptionsCopyBehavior, XTV.TvRecordingBehavior],
    properties: {
        entityTitle: {
            type: String,
            computed: "_entityTitle(listing)"
        },
        listing: Object,
        singleOptionLabel: String,
        repeatOptionLabel: String
    },
    observers: ["_listingChanged(listing, localize)", "_listingEntityChanged(listing.entity)"],
    startOverlayFlow: function() {
        this.listing && (this.set("completedState", ""),
        this.canRecordSingle && (this.canRecordRepeat || this.canModifyRepeat) ? (this.nextModalIs("choiceOverlay"),
        this.open()) : this.canRecordSingle ? this.$.recordSingleFlow.startOverlayFlow() : this.canRecordRepeat && this.$.recordRepeatFlow.startOverlayFlow())
    },
    _entityTitle: function(e) {
        return e && e.creativeWork ? e.creativeWork.series ? e.creativeWork.series.name : e.creativeWork.name : ""
    },
    _listingEntityChanged: function() {
        this._listingChanged(this.listing)
    },
    _listingChanged: function(e) {
        e && (this.creativeWork = e.creativeWork || {},
        this.canRecordSingle = this.isRecordable(e),
        this.canRecordRepeat = this.isRecordable(e.entity),
        this.canModifyRepeat = this.isManageableAsRepeat(e.entity),
        this.canRecordSingle && (this.singleOptionLabel = e.scheduleForm.getTitle()),
        this.canRecordRepeat && (this.repeatOptionLabel = e.entity.scheduleForm.getTitle()),
        this.canModifyRepeat && (this.repeatOptionLabel = this.copyFor("rowsRepeat", e.entity.type)))
    },
    _toModifyRepeat: function(e) {
        return e.preventDefault(),
        this.fire("modify-repeat", {
            recording: {
                entity: this.listing.entity
            }
        }),
        this.close(),
        !1
    },
    _toRecordRepeat: function(e) {
        return e.preventDefault(),
        this.fire("record-repeat", {
            entity: this.listing.entity
        }),
        this.close(),
        !1
    },
    _toRecordSingle: function(e) {
        return e.preventDefault(),
        this.close(),
        this.$.recordSingleFlow.startOverlayFlow(),
        !1
    }
}),
Polymer({
    is: "tv-overlay-record-options-delete",
    behaviors: [XTV.TvAssetParserBehavior, XTV.TvLocalizeBehavior, XTV.TvOverlayRecordOptionsCopyBehavior, XTV.TvOverlayBehavior, XTV.TvOverlayFlowBehavior, XTV.TvUrlBehavior],
    properties: {
        actions: Array,
        recording: Object,
        title: String,
        working: Boolean
    },
    observers: ["_recordingChanged(recording)", "_onWorkingChanged(working)"],
    _onWorkingChanged: function(e) {
        e ? this.$.deleteButton.startSpinning() : this.$.deleteButton.stopSpinning()
    },
    startOverlayFlow: function() {
        this.recording && (this.set("working", !1),
        this.set("completedState", ""),
        this.nextModalIs("deleteOverlay"),
        this.open())
    },
    _deleteConfirmation: function() {
        this.nextModalIs("deleteConfirmation"),
        this.set("working", !1),
        this.set("completedState", "deleted-recording"),
        this.$.deleteConfirmationHeading.focus()
    },
    _deleteError: function(e, t) {
        this._isInUseOnOtherDevice(t.xhr) ? this.overlayError(e, this.mixin({
            overlay: "inUseOnAnotherDevice"
        }, t)) : this.overlayError(e)
    },
    _deleteSubmit: function() {
        if (!this.working)
            return this.set("working", !0),
            this.$.deleteForm.submit(),
            !1
    },
    _isInUseOnOtherDevice: function(e) {
        return !!e && (403 === e.status && "403-106" === e.headers.get("X-CDVR-STATUS-SUBCODE"))
    },
    gotoDevices: function(e) {
        e.preventDefault(),
        this.navigateTo("settings", "devices"),
        this.close()
    },
    _getActions: function(e) {
        return this.isDownloaded(e) ? ["manage", "dismiss"] : ["yes", "no"]
    },
    _getTitle: function(e) {
        return this.isDownloaded(e) ? this.localize("Unable_to_Delete_Recording_plural", "count", 1) : e.deleteForm ? e.deleteForm.getTitle() : void 0
    },
    _recordingChanged: function(e) {
        e && (this.set("actions", this._getActions(e)),
        this.set("title", this._getTitle(e)))
    }
}),
Polymer({
    is: "tv-overlay-record-options-cancel",
    behaviors: [XTV.TvLocalizeBehavior, XTV.TvOverlayRecordOptionsCopyBehavior, XTV.TvOverlayBehavior, XTV.TvOverlayFlowBehavior],
    properties: {
        cancelSingleLabel: String,
        cancelRepeatLabel: String,
        recording: Object,
        working: Boolean
    },
    observers: ["_recordingChanged(recording)", "_onWorkingChanged(working)"],
    attached: function() {
        Polymer.IronA11yAnnouncer.requestAvailability()
    },
    _onWorkingChanged: function(e) {
        e ? (this.$.cancelSingleButton.startSpinning(),
        this.$.cancelRepeatButton.startSpinning()) : (this.$.cancelSingleButton.stopSpinning(),
        this.$.cancelRepeatButton.stopSpinning())
    },
    startOverlayFlow: function() {
        this.recording && (this.set("working", !1),
        this.cancelableRepeat && this.cancelableSingle ? (this.nextModalIs("cancelChoiceOverlay"),
        this.$.cancelSingleOverlayHeading.focus()) : this.cancelableRepeat ? this._toCancelRepeat() : this.cancelableSingle && this._toCancelSingle(),
        this.open())
    },
    _cancelRepeatConfirmation: function() {
        this.set("working", !1),
        this.set("completedState", "canceled-repeat"),
        this.nextModalIs("cancelRepeatConfirmation"),
        this.$.cancelSingleOverlayHeading.focus()
    },
    _cancelRepeatSubmit: function() {
        if (!this.working)
            return this.set("working", !0),
            this.$.cancelRepeatForm.submit(),
            this.fire("iron-announce", {
                text: this.localize("Please_wait"),
                mode: "assertive"
            }),
            !1
    },
    _cancelSingleConfirmation: function() {
        this.set("working", !1),
        this.set("completedState", "canceled-single"),
        this.nextModalIs("cancelSingleConfirmation"),
        this.$.cancelSingleOverlayHeading.focus()
    },
    _cancelSingleSubmit: function() {
        if (!this.working)
            return this.set("working", !0),
            this.$.cancelSingleForm.submit(),
            this.fire("iron-announce", {
                text: this.localize("Please_wait"),
                mode: "assertive"
            }),
            !1
    },
    _recordingChanged: function(e) {
        e && (this.entity = e.entity || {},
        this.cancelableRepeat = !!this.entity.cancelForm,
        this.cancelableSingle = !!this.recording.cancelForm,
        this.cancelableSingle && (this.cancelSingleLabel = e.cancelForm.getTitle()),
        this.cancelableRepeat && (this.cancelRepeatLabel = this.entity.cancelForm.getTitle()))
    },
    _toCancelRepeat: function() {
        this.nextModalIs("cancelRepeatOverlay"),
        this.$.cancelSingleOverlayHeading.focus()
    },
    _toCancelSingle: function() {
        this.nextModalIs("cancelSingleOverlay"),
        this.$.cancelSingleOverlayHeading.focus()
    }
}),
Polymer({
    is: "tv-overlay-record-options",
    behaviors: [XTV.TvLocalizeBehavior, XTV.TvTypeBehavior, XTV.TvOverlayBehavior, XTV.TvOverlayFlowBehavior],
    properties: {
        cancelLabel: String,
        deleteLabel: String,
        modifyLabel: String,
        recording: Object
    },
    observers: ["_recordingChanged(recording)"],
    startOverlayFlow: function() {
        this.recording && (this.nextModalIs("choiceOverlay"),
        this.open())
    },
    _recordingChanged: function(e) {
        e && (this.entity = e.entity || {},
        this.cancelable = !!e.cancelForm,
        this.cancelableRepeat = !!this.entity.cancelForm,
        this.deletable = !!e.deleteForm,
        this.modifiable = !!e.modifyForm,
        this.modifiableRepeat = !!this.entity.cancelForm,
        this.recordableRepeat = !!this.entity.scheduleForm,
        this.canCancel = !this.deletable && (this.cancelable || this.cancelableRepeat),
        this.canDelete = this.deletable,
        this.canModify = this.modifiable || this.modifiableRepeat,
        this.modifiable && (this.modifiableRepeat || this.recordableRepeat) ? this.modifyLabel = this.localize("Modify_Recording") : this.modifiable ? this.modifyLabel = e.modifyForm.getTitle() : this.modifiableRepeat && (this.modifyLabel = this.entity.modifyForm.getTitle()),
        this.cancelable && this.cancelableRepeat ? this.cancelLabel = this.localize("Cancel_Recording") : this.cancelable ? this.cancelLabel = e.cancelForm.getTitle() : this.cancelableRepeat && (this.cancelLabel = this.entity.cancelForm.getTitle()),
        this.deletable && (this.deleteLabel = e.deleteForm.getTitle()))
    },
    _toCancel: function(e) {
        return this.close(),
        this.$.cancelFlow.startOverlayFlow(e),
        !1
    },
    _toDelete: function(e) {
        return this.close(),
        this.$.deleteFlow.startOverlayFlow(e),
        !1
    },
    _toModify: function(e) {
        return this.close(),
        this.$.modifyFlow.startOverlayFlow(e),
        !1
    }
}),
Polymer({
    is: "tv-overlay-record-options-multiple",
    behaviors: [XTV.TvLocalizeBehavior, XTV.TvOverlayFlowBehavior, XTV.TvOverlayBehavior],
    properties: {
        selectedRecording: Object,
        recordings: Array,
        resumePoints: Object,
        user: Object
    },
    observers: ["_recordingOptionSelected(selectedRecording)"],
    startOverlayFlow: function() {
        this.recordings && (this.set("selectedRecording", void 0),
        1 === this.recordings.length ? this.fire("recording-selected", {
            recording: this.recordings[0]
        }) : (this.nextModalIs("recordOptionsSelectorOverlay"),
        this.open()))
    },
    _recordingOptionSelected: function(e) {
        e && this.fire("recording-selected", {
            recording: e
        })
    }
}),
Polymer({
    is: "tv-overlay-recover",
    behaviors: [XTV.TvLocalizeBehavior, XTV.TvOverlayBehavior, XTV.TvOverlayFlowBehavior],
    properties: {
        recording: Object
    },
    startOverlayFlow: function() {
        this.recording && (this.set("completedState", ""),
        this.set("working", !0),
        this.$.recoverForm.submit())
    },
    _recoverConfirmation: function() {
        this.set("working", !1),
        this.set("completedState", "recovered-recording"),
        this.nextModalIs("recoverConfirmationOverlay"),
        this.open()
    }
}),
function(e) {
    var t = /(<|>|\/)/i
      , i = /^\s*$/i
      , n = /unnamed device/i;
    e.XTV = e.XTV || {},
    e.XTV.TvValidationBehavior = {
        isValidDeviceName: function(e) {
            return !(!e || t.test(e) || i.test(e) || n.test(e))
        },
        replaceInvalidCharacters: function(e) {
            return e.replace(t, " ")
        }
    }
}(window),
function(e) {
    var t = {
        inHomeCheck: [403]
    };
    e.XTV = e.XTV || {},
    e.XTV.behaviors = e.XTV.behaviors || {},
    e.XTV.behaviors.splunk = {
        isIgnored: function(e, i) {
            return t.hasOwnProperty(e) && t[e].indexOf(i) !== -1
        },
        logError: function(e) {
            this.isIgnored(e.error.action, e.xhr.status) || this.fire("log", Object.assign({}, {
                endpoint: e.xhr.url || "",
                fingerprint: e.xhr.headers.get("fingerprint") || "",
                module: "XTVAPI",
                status: e.xhr.status || "",
                subCode: e.xhr.headers.get("x-cdvr-status-subcode") || "",
                msg: e.xhr.headers.get("x-cdvr-status-reason") || "",
                type: "ERROR",
                fatal: e.fatal
            }, {
                hyperGard: e.error || {}
            }))
        },
        logVideoEvent: function(e, t, i) {
            this.fire("log", Object.assign({}, {
                asset: {
                    mediaId: e.watchable.mediaId,
                    programId: e.watchable.programId,
                    resolvedStreamUrl: e.resolvedStreamUrl,
                    stream: e.watchable.stream,
                    title: e.watchable.derivedTitle,
                    type: e.watchable._type
                },
                module: "VIDEO",
                playerVersion: e.playerVersion,
                vsid: e.vsid,
                type: t
            }, i || {}))
        }
    }
}(window),
function(e) {
    var t, i, n, r = new HyperGard(e.XTV.properties.hyperGard.endpoint,e.XTV.properties.hyperGard.options);
    Polymer({
        is: "tv-api",
        behaviors: [e.XTV.behaviors.splunk],
        hostAttributes: {
            hidden: !0
        },
        properties: {
            allowUnauth: {
                type: Boolean,
                value: !1
            },
            response: {
                type: Object,
                value: function() {
                    return {}
                },
                notify: !0
            },
            fetch: {
                type: Boolean,
                value: !0
            },
            request: Object,
            endpoint: String,
            params: Object,
            fatal: Boolean,
            hyperGard: {
                type: Object,
                value: r,
                readOnly: !0
            }
        },
        observers: ["setLanguageHeader(selectedLanguage)"],
        setFingerprint: function(e) {
            i = e,
            r.setOptions({
                xhr: {
                    uniqueFetchHeaders: [function() {
                        return n = [i, Date.now(), Math.round(65535 * Math.random())].join("_"),
                        {
                            Fingerprint: n
                        }
                    }
                    ]
                }
            })
        },
        setLanguageHeader: function(e) {
            r.setOptions({
                xhr: {
                    headers: {
                        "X-Finity-Accept-Language": e || "en-US"
                    }
                }
            })
        },
        sendRequest: function(e) {
            return this.endpoint && i ? this._callHypergard({
                options: e || {},
                fetch: this.fetch,
                endpoint: this.endpoint,
                params: this.params || {}
            }) : Promise.resolve()
        },
        fetchHomepage: function() {
            return r.fetch()
        },
        getLastFingerPrint: function() {
            return n || ""
        },
        getUserHomepage: function() {
            return t || !this.allowUnauth ? this.fetchHomepage() : this.fetchHomepage().then(function(e) {
                return e.data.getFirstAction("unauthenticatedHomePage").fetch()
            }, this._onError.bind(this))
        },
        _callHypergard: function(e) {
            if (e && e.endpoint)
                return this.getUserHomepage().then(function(t) {
                    return e.fetch ? t.data.getFirstAction(e.endpoint, e.params).fetch(e.options || {}).then(this._onSuccess.bind(this), this._onError.bind(this)) : t.data.getFirstAction(e.endpoint, e.params).getActionUrl()
                }
                .bind(this), this._onError.bind(this))
        },
        _onError: function(e) {
            return r.getOptions().xhr.uniqueFetchHeaders.splice(1),
            e.xhr && "403-103" === e.xhr.headers.get("X-CDVR-STATUS-SUBCODE") ? this.fire("iron-signal", {
                name: "expired-token-error"
            }) : this.fire("error", {
                endpoint: this.endpoint,
                reason: "Something broke making the API call",
                details: e
            }),
            e.fatal = !!this.fatal,
            this.logError(e),
            Promise.reject(e)
        },
        _onSuccess: function(e) {
            var t = {
                endpoint: this.endpoint,
                resource: e.data,
                xhr: e.xhr
            };
            return r.getOptions().xhr.uniqueFetchHeaders.splice(1),
            this.fire("success", t),
            t
        },
        _onTokenReadySignal: function(e, i) {
            r.setOptions({
                xhr: {
                    headers: {
                        Authorization: "CCP " + (i || {}).xsct
                    }
                }
            }),
            t = (i || {}).xsct
        }
    })
}(window),
Polymer({
    is: "tv-overlay-rename-device",
    behaviors: [XTV.TvLocalizeBehavior, XTV.TvOverlayFlowBehavior, XTV.TvOverlayBehavior, XTV.TvValidationBehavior],
    properties: {
        deviceName: String,
        setDeviceNameParams: {
            type: Object,
            notify: !0
        },
        error: String,
        hasError: {
            type: Boolean,
            value: !1
        }
    },
    listeners: {
        "tv-overlay-closed": "_reset"
    },
    startOverlayFlow: function() {
        this.open(),
        this._resetInput(),
        this.$.deviceName.focus()
    },
    _onSetDeviceNameSuccess: function() {
        this._resetError(),
        this.$.confirm.stopSpinning(),
        this.deviceName = this.$.deviceName.value,
        this._placeholder.fire("update-device-name", {
            deviceName: this.$.deviceName.value
        }),
        this.close()
    },
    _onSetDeviceNameError: function() {
        this.set("hasError", !0),
        this.set("error", this.localize("There_was_a_problem_saving_your_device_name")),
        this.$.confirm.stopSpinning(),
        this._resetInput()
    },
    _onSubmit: function(e) {
        return e.preventDefault(),
        this.isValidDeviceName(this.$.deviceName.value) ? (this.set("setDeviceNameParams", {
            deviceName: this.$.deviceName.value
        }),
        void this.$.setDeviceNameApi.sendRequest()) : (this.set("hasError", !0),
        this.set("error", this.localize("That_is_not_a_valid_device_name")),
        void this.$.confirm.stopSpinning())
    },
    _reset: function() {
        this._resetInput(),
        this._resetError()
    },
    _resetInput: function() {
        this.$.deviceName.value = this.deviceName
    },
    _resetError: function() {
        this.set("hasError", !1),
        this.set("error", "")
    }
}),
Polymer({
    is: "tv-overlay-check-in-downloads",
    behaviors: [XTV.TvLocalizeBehavior, XTV.TvOverlayBehavior, XTV.TvOverlayFlowBehavior, XTV.behaviors.splunk],
    properties: {
        device: Object,
        updateDevices: {
            type: Boolean,
            notify: !0
        }
    },
    startOverlayFlow: function() {
        this.open()
    },
    _return: function(e) {
        e.preventDefault(),
        this.device.checkInAll.fetch().then(function() {
            this.set("updateDevices", !0),
            this.close()
        }
        .bind(this), function(e) {
            this.logError(e),
            this.set("updateDevices", !0),
            this.close()
        })
    }
}),
Polymer({
    is: "tv-overlay-tos",
    behaviors: [XTV.TvLocalizeBehavior, XTV.TvOverlayBehavior],
    properties: {
        appName: String,
        company: String
    }
}),
Polymer({
    is: "tv-overlay-update-available",
    behaviors: [XTV.TvLocalizeBehavior, XTV.TvOverlayBehavior],
    listeners: {
        "tv-overlay-opened": "_onOverlayOpened"
    },
    _onOverlayOpened: function() {
        this.$.updateButton.focus()
    },
    update: function() {
        document.location.reload()
    }
}),
Polymer({
    is: "tv-watch-options",
    properties: {
        icon: {
            type: String,
            value: "tv-icons:video-play"
        },
        modifiable: {
            type: Boolean,
            value: !1
        },
        isUniversity: Boolean,
        selectedWatchable: {
            type: Object,
            notify: !0
        },
        watchables: Array
    },
    behaviors: [XTV.TvLocalizeBehavior, XTV.TvAssetParserBehavior, XTV.TvOohHelper, XTV.TvParentalControlsBehavior, XTV.TvUserBehavior, XTV.TvWatchableTypeBehavior],
    _composeRecordingLabel: function(e) {
        var t = [];
        return this.isRecordingInProgress(e) ? (t.push(this.$.timeRecording._setRecordingText(e.dateRecordedTimestamp, e.duration)),
        t.push("")) : (this.hasResumePoints(e, this.resumePoints) ? t.push(this.$.timeLeft.calcRemainingText(e.duration, this._getResumePointPosition(e, this.resumePoints))) : t.push(this.assetDuration(e.duration)),
        t.push(this.$.timeRecording._composeRecordedLabel(e.dateRecordedTimestamp))),
        t.join(", ")
    },
    _getExpirationTime: function(e) {
        if (e.expirationTime) {
            var t = "M/D" + (moment().isSame(e.expirationTime, "year") ? "" : "/YY");
            return this.isPurchase(e) ? "" : this.localize("_cm_Ends_expirationTime_", "expirationTime", moment(e.expirationTime).format(t))
        }
    },
    _getHeading: function(e) {
        return this.isListing(e) ? this.localize("On_Now") : this.isPurchase(e) ? this.localize("Purchase") : this.isRecordingInProgress(e) ? this.localize("Recording_Now") : this.isRecording(e) ? this.localize("Recorded") : this.isTve(e) ? this.localize("TV_Go") : this.localize("On_Demand")
    },
    _getResumePointPosition: function(e, t) {
        return this.getItemResumePoint(e, t).position
    },
    _isDisabled: function(e, t) {
        return t ? this.isDownloaded(e) : this.isDownloaded(e) || this.isWatchingAssetDisabled(e, this.user.inhome)
    },
    _selectWatchable: function(e) {
        this.isDownloaded(e.model.watchable) || this.set("selectedWatchable", e.model.watchable)
    }
}),
Polymer({
    is: "tv-overlay-watch-options",
    behaviors: [XTV.TvLocalizeBehavior, XTV.TvOverlayFlowBehavior, XTV.TvOverlayBehavior, XTV.TvUserBehavior],
    properties: {
        controls: Object,
        creativeWork: Object,
        dismissOnSelect: {
            type: Boolean,
            value: !1
        },
        merlinId: String,
        resumePoints: Object,
        rowIcon: String,
        selectedWatchable: {
            type: Object,
            notify: !0,
            observer: "_selectedWatchableChanged"
        },
        watchables: Array
    },
    listeners: {
        "tv-overlay-closed": "_resetWatchables"
    },
    _resetWatchables: function() {
        this.set("watchables", [])
    },
    _selectedWatchableChanged: function(e) {
        e && this.dismissOnSelect && this.close()
    },
    startOverlayFlow: function() {
        this.set("selectedWatchable", void 0),
        this.open()
    }
}),
Polymer({
    is: "tv-nav",
    properties: {
        activeMenu: {
            type: Object,
            observer: "_activeMenuChanged"
        },
        currentPageMenuId: String,
        keys: {
            type: Object,
            value: function() {
                return {
                    9: "tab",
                    13: "enter",
                    27: "esc",
                    32: "space",
                    37: "left",
                    38: "up",
                    39: "right",
                    40: "down"
                }
            }
        },
        menus: Array
    },
    behaviors: [Polymer.IronA11yKeysBehavior, XTV.TvLocalizeBehavior, XTV.TvUrlBehavior],
    observers: ["_pageChanged(currentPageMenuId)"],
    keyBindings: {
        "left right down up enter space esc tab shift+tab": "keyPressHandler"
    },
    _getHref: function(e) {
        return e || "#"
    },
    closeNav: function() {
        this._unsetActiveMenu()
    },
    keyPressHandler: function(e) {
        var t = e.detail.keyboardEvent
          , i = t.target
          , n = i.parentElement
          , r = this.keys[t.keyCode];
        n.classList.contains("submenu") ? this._submenuKeyHandler(t, r, n) : this._menuKeyHandler(t, r, n)
    },
    menuClickHandler: function(e) {
        "true" === e.currentTarget.getAttribute("aria-haspopup") && e.preventDefault(),
        e.currentTarget.parentElement.hasAttribute("active") ? this._unsetActiveMenu(!1) : this._setActiveMenu(e.currentTarget.parentElement)
    },
    singleMenuClickHandler: function() {
        this._setActiveMenu(event.currentTarget.parentElement)
    },
    submenuClickHandler: function() {
        this.async(function() {
            this._unsetActiveMenu()
        }, 50)
    },
    _activeMenuChanged: function(e, t) {
        t && t.removeAttribute("active"),
        e && (e.setAttribute("active", ""),
        e.hasAttribute("aria-controls") && e.querySelector('.submenu [role="menuitem"]:first-child').focus())
    },
    _hasSubmenu: function(e) {
        return String(!!e)
    },
    _idFor: function(e, t, i) {
        return !!i.length && e.toLowerCase().trim().replace(/\s+/g, "") + "_menu_" + t
    },
    _assignValuesBasedOnIndex: function(e, t, i) {
        return 0 === e ? t : i
    },
    _menuKeyHandler: function(e, t, i) {
        switch (t) {
        case "enter":
        case "down":
        case "up":
            "true" === e.target.getAttribute("aria-haspopup") && e.preventDefault(),
            this._setActiveMenu(i, !0);
            break;
        case "space":
            e.preventDefault(),
            "true" === e.target.getAttribute("aria-haspopup") ? this._setActiveMenu(i, !0) : this._navigateTo(document.activeElement.getAttribute("href"));
            break;
        case "left":
            e.preventDefault(),
            this._moveToPrevious(i, "li.menu", !1);
            break;
        case "right":
            e.preventDefault(),
            this._moveToNext(i, "li.menu", !1);
            break;
        case "tab":
        case "shift+tab":
            this._unsetActiveMenu(!1)
        }
    },
    _submenuKeyHandler: function(e, t, i) {
        switch (t) {
        case "enter":
            break;
        case "space":
            e.preventDefault(),
            this._navigateTo(document.activeElement.getAttribute("href"));
            break;
        case "down":
            e.preventDefault(),
            this._moveToNext(i, "li.submenu", !1);
            break;
        case "up":
            e.preventDefault(),
            this._moveToPrevious(i, "li.submenu", !1);
            break;
        case "left":
            e.preventDefault(),
            this._moveToPrevious(this.activeMenu, "li.menu", !0);
            break;
        case "right":
            e.preventDefault(),
            this._moveToNext(this.activeMenu, "li.menu", !0);
            break;
        case "esc":
            e.preventDefault(),
            this._unsetActiveMenu(!0);
            break;
        case "tab":
        case "shift+tab":
            this._unsetActiveMenu(!1)
        }
    },
    _moveToNext: function(e, t, i) {
        var n = e.parentElement.querySelectorAll(t)
          , r = e.nextElementSibling
          , s = "TEMPLATE" === r.tagName ? n[0] : r;
        i && "true" === s.children[0].getAttribute("aria-haspopup") ? this._setActiveMenu(s, !0) : i && "false" === s.children[0].getAttribute("aria-haspopup") ? (s.children[0].focus(),
        this._unsetActiveMenu(!1)) : s.children[0].focus()
    },
    _moveToPrevious: function(e, t, i) {
        var n = e.parentElement.querySelectorAll(t)
          , r = e.previousElementSibling
          , s = r ? r : n[n.length - 1];
        i && "true" === s.children[0].getAttribute("aria-haspopup") ? this._setActiveMenu(s, !0) : i && "false" === s.children[0].getAttribute("aria-haspopup") ? (s.children[0].focus(),
        this._unsetActiveMenu(!1)) : s.children[0].focus()
    },
    _navigateTo: function(e) {
        this.navigateToHash(e),
        this.closeNav()
    },
    _pageChanged: function(e) {
        this.toggleAttribute("selected", !1, this.$$(".primary.menu[selected]")),
        this.toggleAttribute("selected", !0, this.$$('[data-menu-id="' + e + '"]'))
    },
    _setActiveMenu: function(e) {
        this.set("activeMenu", e),
        null != this.activeMenu.querySelector(".submenu-container") && (this.activeMenu.querySelector(".submenu-container ol").setAttribute("aria-expanded", "true"),
        this.activeMenu.querySelector(".submenu-container a").focus(),
        this.toggleAttribute("current", !1, this.$$("a.tv-nav[current]")),
        this.toggleAttribute("current", !0, this.$$('a.tv-nav[href="' + this.pageContext.canonicalPath + '"]')))
    },
    _unsetActiveMenu: function(e) {
        e && this.activeMenu.children[0].focus(),
        this.activeMenu && null != this.activeMenu.querySelector(".submenu-container") && this.activeMenu.querySelector(".submenu-container ol").setAttribute("aria-expanded", "false"),
        this.set("activeMenu", null)
    }
}),
!function(e) {
    if ("object" == typeof exports && "undefined" != typeof module)
        module.exports = e();
    else if ("function" == typeof define && define.amd)
        define([], e);
    else {
        var t;
        "undefined" != typeof window ? t = window : "undefined" != typeof global ? t = global : "undefined" != typeof self && (t = self),
        t.page = e()
    }
}(function() {
    return function e(t, i, n) {
        function r(o, a) {
            if (!i[o]) {
                if (!t[o]) {
                    var c = "function" == typeof require && require;
                    if (!a && c)
                        return c(o, !0);
                    if (s)
                        return s(o, !0);
                    var l = new Error("Cannot find module '" + o + "'");
                    throw l.code = "MODULE_NOT_FOUND",
                    l
                }
                var h = i[o] = {
                    exports: {}
                };
                t[o][0].call(h.exports, function(e) {
                    var i = t[o][1][e];
                    return r(i ? i : e)
                }, h, h.exports, e, t, i, n)
            }
            return i[o].exports
        }
        for (var s = "function" == typeof require && require, o = 0; o < n.length; o++)
            r(n[o]);
        return r
    }({
        1: [function(e, t, i) {
            (function(i) {
                "use strict";
                function n(e, t) {
                    if ("function" == typeof e)
                        return n("*", e);
                    if ("function" == typeof t)
                        for (var i = new a(e), r = 1; r < arguments.length; ++r)
                            n.callbacks.push(i.middleware(arguments[r]));
                    else
                        "string" == typeof e ? n["string" == typeof t ? "redirect" : "show"](e, t) : n.start(e)
                }
                function r(e) {
                    if (!e.handled) {
                        var t;
                        t = _ ? v + m.hash.replace("#!", "") : m.pathname + m.search,
                        t !== e.canonicalPath && (n.stop(),
                        e.handled = !1,
                        m.href = e.canonicalPath)
                    }
                }
                function s(e) {
                    return "string" != typeof e ? e : y ? decodeURIComponent(e.replace(/\+/g, " ")) : e
                }
                function o(e, t) {
                    "/" === e[0] && 0 !== e.indexOf(v) && (e = v + (_ ? "#!" : "") + e);
                    var i = e.indexOf("?");
                    if (this.canonicalPath = e,
                    this.path = e.replace(v, "") || "/",
                    _ && (this.path = this.path.replace("#!", "") || "/"),
                    this.title = document.title,
                    this.state = t || {},
                    this.state.path = e,
                    this.querystring = ~i ? s(e.slice(i + 1)) : "",
                    this.pathname = s(~i ? e.slice(0, i) : e),
                    this.params = {},
                    this.hash = "",
                    !_) {
                        if (!~this.path.indexOf("#"))
                            return;
                        var n = this.path.split("#");
                        this.path = n[0],
                        this.hash = s(n[1]) || "",
                        this.querystring = this.querystring.split("#")[0]
                    }
                }
                function a(e, t) {
                    t = t || {},
                    this.path = "*" === e ? "(.*)" : e,
                    this.method = "GET",
                    this.regexp = u(this.path, this.keys = [], t)
                }
                function c(e) {
                    if (1 === l(e) && !(e.metaKey || e.ctrlKey || e.shiftKey || e.defaultPrevented)) {
                        for (var t = e.path ? e.path[0] : e.target; t && "A" !== t.nodeName; )
                            t = t.parentNode;
                        if (t && "A" === t.nodeName && !t.hasAttribute("download") && "external" !== t.getAttribute("rel")) {
                            var r = t.getAttribute("href");
                            if ((_ || t.pathname !== m.pathname || !t.hash && "#" !== r) && !(r && r.indexOf("mailto:") > -1) && !t.target && h(t.href)) {
                                var s = t.pathname + t.search + (t.hash || "");
                                "undefined" != typeof i && s.match(/^\/[a-zA-Z]:\//) && (s = s.replace(/^\/[a-zA-Z]:\//, "/"));
                                var o = s;
                                0 === s.indexOf(v) && (s = s.substr(v.length)),
                                _ && (s = s.replace("#!", "")),
                                v && o === s || (e.preventDefault(),
                                n.show(o))
                            }
                        }
                    }
                }
                function l(e) {
                    return e = e || window.event,
                    null === e.which ? e.button : e.which
                }
                function h(e) {
                    var t = m.protocol + "//" + m.hostname;
                    return m.port && (t += ":" + m.port),
                    e && 0 === e.indexOf(t)
                }
                var u = e("path-to-regexp");
                t.exports = n;
                var d, f, p = "undefined" != typeof document && document.ontouchstart ? "touchstart" : "click", m = "undefined" != typeof window && (window.history.location || window.location), g = !0, y = !0, v = "", _ = !1;
                n.callbacks = [],
                n.exits = [],
                n.current = "",
                n.len = 0,
                n.base = function(e) {
                    return 0 === arguments.length ? v : void (v = e)
                }
                ,
                n.start = function(e) {
                    if (e = e || {},
                    !d && (d = !0,
                    !1 === e.dispatch && (g = !1),
                    !1 === e.decodeURLComponents && (y = !1),
                    !1 !== e.popstate && window.addEventListener("popstate", b, !1),
                    !1 !== e.click && document.addEventListener(p, c, !1),
                    !0 === e.hashbang && (_ = !0),
                    g)) {
                        var t = _ && ~m.hash.indexOf("#!") ? m.hash.substr(2) + m.search : m.pathname + m.search + m.hash;
                        n.replace(t, null, !0, g)
                    }
                }
                ,
                n.stop = function() {
                    d && (n.current = "",
                    n.len = 0,
                    d = !1,
                    document.removeEventListener(p, c, !1),
                    window.removeEventListener("popstate", b, !1))
                }
                ,
                n.show = function(e, t, i, r) {
                    var s = new o(e,t);
                    return n.current = s.path,
                    !1 !== i && n.dispatch(s),
                    !1 !== s.handled && !1 !== r && s.pushState(),
                    s
                }
                ,
                n.back = function(e, t) {
                    n.len > 0 ? (history.back(),
                    n.len--) : e ? setTimeout(function() {
                        n.show(e, t)
                    }) : setTimeout(function() {
                        n.show(v, t)
                    })
                }
                ,
                n.redirect = function(e, t) {
                    "string" == typeof e && "string" == typeof t && n(e, function(e) {
                        setTimeout(function() {
                            n.replace(t)
                        }, 0)
                    }),
                    "string" == typeof e && "undefined" == typeof t && setTimeout(function() {
                        n.replace(e)
                    }, 0)
                }
                ,
                n.replace = function(e, t, i, r) {
                    var s = new o(e,t);
                    return n.current = s.path,
                    s.init = i,
                    s.save(),
                    !1 !== r && n.dispatch(s),
                    s
                }
                ,
                n.dispatch = function(e) {
                    function t() {
                        var e = n.exits[a++];
                        return e ? void e(s, t) : i()
                    }
                    function i() {
                        var t = n.callbacks[o++];
                        return e.path !== n.current ? void (e.handled = !1) : t ? void t(e, i) : r(e)
                    }
                    var s = f
                      , o = 0
                      , a = 0;
                    f = e,
                    s ? t() : i()
                }
                ,
                n.exit = function(e, t) {
                    if ("function" == typeof e)
                        return n.exit("*", e);
                    for (var i = new a(e), r = 1; r < arguments.length; ++r)
                        n.exits.push(i.middleware(arguments[r]))
                }
                ,
                n.Context = o,
                o.prototype.pushState = function() {
                    n.len++,
                    history.pushState(this.state, this.title, _ && "/" !== this.path ? "#!" + this.path : this.canonicalPath)
                }
                ,
                o.prototype.save = function() {
                    history.replaceState(this.state, this.title, _ && "/" !== this.path ? "#!" + this.path : this.canonicalPath)
                }
                ,
                n.Route = a,
                a.prototype.middleware = function(e) {
                    var t = this;
                    return function(i, n) {
                        return t.match(i.path, i.params) ? e(i, n) : void n()
                    }
                }
                ,
                a.prototype.match = function(e, t) {
                    var i = this.keys
                      , n = e.indexOf("?")
                      , r = ~n ? e.slice(0, n) : e
                      , o = this.regexp.exec(decodeURIComponent(r));
                    if (!o)
                        return !1;
                    for (var a = 1, c = o.length; a < c; ++a) {
                        var l = i[a - 1]
                          , h = s(o[a]);
                        void 0 === h && hasOwnProperty.call(t, l.name) || (t[l.name] = h)
                    }
                    return !0
                }
                ;
                var b = function() {
                    var e = !1;
                    if ("undefined" != typeof window)
                        return "complete" === document.readyState ? e = !0 : window.addEventListener("load", function() {
                            setTimeout(function() {
                                e = !0
                            }, 0)
                        }),
                        function(t) {
                            if (e)
                                if (t.state) {
                                    var i = t.state.path;
                                    n.replace(i, t.state)
                                } else
                                    n.show(m.pathname + m.hash, void 0, void 0, !1)
                        }
                }();
                n.sameOrigin = h
            }
            ).call(this, e("_process"))
        }
        , {
            _process: 2,
            "path-to-regexp": 3
        }],
        2: [function(e, t, i) {
            function n() {}
            var r = t.exports = {};
            r.nextTick = function() {
                var e = "undefined" != typeof window && window.setImmediate
                  , t = "undefined" != typeof window && window.MutationObserver
                  , i = "undefined" != typeof window && window.postMessage && window.addEventListener;
                if (e)
                    return function(e) {
                        return window.setImmediate(e)
                    }
                    ;
                var n = [];
                if (t) {
                    var r = document.createElement("div")
                      , s = new MutationObserver(function() {
                        var e = n.slice();
                        n.length = 0,
                        e.forEach(function(e) {
                            e()
                        })
                    }
                    );
                    return s.observe(r, {
                        attributes: !0
                    }),
                    function(e) {
                        n.length || r.setAttribute("yes", "no"),
                        n.push(e)
                    }
                }
                return i ? (window.addEventListener("message", function(e) {
                    var t = e.source;
                    if ((t === window || null === t) && "process-tick" === e.data && (e.stopPropagation(),
                    n.length > 0)) {
                        var i = n.shift();
                        i()
                    }
                }, !0),
                function(e) {
                    n.push(e),
                    window.postMessage("process-tick", "*")
                }
                ) : function(e) {
                    setTimeout(e, 0)
                }
            }(),
            r.title = "browser",
            r.browser = !0,
            r.env = {},
            r.argv = [],
            r.on = n,
            r.addListener = n,
            r.once = n,
            r.off = n,
            r.removeListener = n,
            r.removeAllListeners = n,
            r.emit = n,
            r.binding = function(e) {
                throw new Error("process.binding is not supported")
            }
            ,
            r.cwd = function() {
                return "/"
            }
            ,
            r.chdir = function(e) {
                throw new Error("process.chdir is not supported")
            }
        }
        , {}],
        3: [function(e, t, i) {
            function n(e) {
                for (var t, i = [], n = 0, r = 0, s = ""; null != (t = g.exec(e)); ) {
                    var o = t[0]
                      , c = t[1]
                      , l = t.index;
                    if (s += e.slice(r, l),
                    r = l + o.length,
                    c)
                        s += c[1];
                    else {
                        s && (i.push(s),
                        s = "");
                        var h = t[2]
                          , u = t[3]
                          , d = t[4]
                          , f = t[5]
                          , p = t[6]
                          , m = t[7]
                          , y = "+" === p || "*" === p
                          , v = "?" === p || "*" === p
                          , _ = h || "/"
                          , b = d || f || (m ? ".*" : "[^" + _ + "]+?");
                        i.push({
                            name: u || n++,
                            prefix: h || "",
                            delimiter: _,
                            optional: v,
                            repeat: y,
                            pattern: a(b)
                        })
                    }
                }
                return r < e.length && (s += e.substr(r)),
                s && i.push(s),
                i
            }
            function r(e) {
                return s(n(e))
            }
            function s(e) {
                for (var t = new Array(e.length), i = 0; i < e.length; i++)
                    "object" == typeof e[i] && (t[i] = new RegExp("^" + e[i].pattern + "$"));
                return function(i) {
                    for (var n = "", r = i || {}, s = 0; s < e.length; s++) {
                        var o = e[s];
                        if ("string" != typeof o) {
                            var a, c = r[o.name];
                            if (null == c) {
                                if (o.optional)
                                    continue;
                                throw new TypeError('Expected "' + o.name + '" to be defined')
                            }
                            if (m(c)) {
                                if (!o.repeat)
                                    throw new TypeError('Expected "' + o.name + '" to not repeat, but received "' + c + '"');
                                if (0 === c.length) {
                                    if (o.optional)
                                        continue;
                                    throw new TypeError('Expected "' + o.name + '" to not be empty')
                                }
                                for (var l = 0; l < c.length; l++) {
                                    if (a = encodeURIComponent(c[l]),
                                    !t[s].test(a))
                                        throw new TypeError('Expected all "' + o.name + '" to match "' + o.pattern + '", but received "' + a + '"');
                                    n += (0 === l ? o.prefix : o.delimiter) + a
                                }
                            } else {
                                if (a = encodeURIComponent(c),
                                !t[s].test(a))
                                    throw new TypeError('Expected "' + o.name + '" to match "' + o.pattern + '", but received "' + a + '"');
                                n += o.prefix + a
                            }
                        } else
                            n += o
                    }
                    return n
                }
            }
            function o(e) {
                return e.replace(/([.+*?=^!:${}()[\]|\/])/g, "\\$1")
            }
            function a(e) {
                return e.replace(/([=!:$\/()])/g, "\\$1")
            }
            function c(e, t) {
                return e.keys = t,
                e
            }
            function l(e) {
                return e.sensitive ? "" : "i"
            }
            function h(e, t) {
                var i = e.source.match(/\((?!\?)/g);
                if (i)
                    for (var n = 0; n < i.length; n++)
                        t.push({
                            name: n,
                            prefix: null,
                            delimiter: null,
                            optional: !1,
                            repeat: !1,
                            pattern: null
                        });
                return c(e, t)
            }
            function u(e, t, i) {
                for (var n = [], r = 0; r < e.length; r++)
                    n.push(p(e[r], t, i).source);
                var s = new RegExp("(?:" + n.join("|") + ")",l(i));
                return c(s, t)
            }
            function d(e, t, i) {
                for (var r = n(e), s = f(r, i), o = 0; o < r.length; o++)
                    "string" != typeof r[o] && t.push(r[o]);
                return c(s, t)
            }
            function f(e, t) {
                t = t || {};
                for (var i = t.strict, n = t.end !== !1, r = "", s = e[e.length - 1], a = "string" == typeof s && /\/$/.test(s), c = 0; c < e.length; c++) {
                    var h = e[c];
                    if ("string" == typeof h)
                        r += o(h);
                    else {
                        var u = o(h.prefix)
                          , d = h.pattern;
                        h.repeat && (d += "(?:" + u + d + ")*"),
                        d = h.optional ? u ? "(?:" + u + "(" + d + "))?" : "(" + d + ")?" : u + "(" + d + ")",
                        r += d
                    }
                }
                return i || (r = (a ? r.slice(0, -2) : r) + "(?:\\/(?=$))?"),
                r += n ? "$" : i && a ? "" : "(?=\\/|$)",
                new RegExp("^" + r,l(t))
            }
            function p(e, t, i) {
                return t = t || [],
                m(t) ? i || (i = {}) : (i = t,
                t = []),
                e instanceof RegExp ? h(e, t, i) : m(e) ? u(e, t, i) : d(e, t, i)
            }
            var m = e("isarray");
            t.exports = p,
            t.exports.parse = n,
            t.exports.compile = r,
            t.exports.tokensToFunction = s,
            t.exports.tokensToRegExp = f;
            var g = new RegExp(["(\\\\.)", "([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^()])+)\\))?|\\(((?:\\\\.|[^()])+)\\))([+*?])?|(\\*))"].join("|"),"g")
        }
        , {
            isarray: 4
        }],
        4: [function(e, t, i) {
            t.exports = Array.isArray || function(e) {
                return "[object Array]" == Object.prototype.toString.call(e)
            }
        }
        , {}]
    }, {}, [1])(1)
}),
function(e) {
    e.XTV || (e.XTV = {}),
    e.XTV.TvFavoritesMediatorBehavior = {
        properties: {
            channelFavorites: {
                type: Array,
                value: function() {
                    return []
                }
            },
            _batchFavoritesToAdd: {
                type: Array,
                value: function() {
                    return []
                }
            },
            _batchFavoritesToDelete: {
                type: Array,
                value: function() {
                    return []
                }
            }
        },
        listeners: {
            "favorite-add": "addFavoriteChannel",
            "favorite-remove": "removeFavoriteChannel"
        },
        _getFavoritesEndpoint: function(e) {
            return "add" === e ? "addFavoriteChannels" : "delete" === e ? "deleteFavoriteChannels" : void 0
        },
        _getFavoritesParams: function(e) {
            return {
                channelSelfLinks: JSON.stringify(e)
            }
        },
        _setFavoritesApi: function(e, t) {
            this.set("endpoint", this._getFavoritesEndpoint(e), this.$.apiFavoriteChannel),
            this.set("params", this._getFavoritesParams(t), this.$.apiFavoriteChannel)
        },
        sendFavoritesRequests: function() {
            var e = this._batchFavoritesToAdd.slice()
              , t = this._batchFavoritesToDelete.slice();
            e.length && (this._setFavoritesApi("add", this._batchFavoritesToAdd),
            this.$.apiFavoriteChannel.sendRequest().then(function(e) {
                this.set("_batchFavoritesToAdd", this._batchFavoritesToAdd.filter(function(t) {
                    return e.indexOf(t) < 0
                }, this)),
                this.tagFavoritedEvent(e, "Add")
            }
            .bind(this, e))),
            t.length && (this._setFavoritesApi("delete", this._batchFavoritesToDelete),
            this.$.apiFavoriteChannel.sendRequest().then(function(e) {
                this.set("_batchFavoritesToDelete", this._batchFavoritesToDelete.filter(function(t) {
                    return e.indexOf(t) < 0
                }, this)),
                this.tagFavoritedEvent(e, "Remove")
            }
            .bind(this, t)))
        },
        tagFavoritedEvent: function(e, t) {
            var i;
            Array.isArray(e) && e.forEach(function(e) {
                i = this.channelMap[e],
                i && window.ll("tagEvent", "Favorite Channel", {
                    Channel: i.callSign,
                    Network: i["branchOf/company/callSign"],
                    Action: t,
                    Rights: i.isTve ? "TVE" : "T6"
                })
            }, this)
        },
        _modifyFavoritesBatch: function(e, t) {
            "add" === e && (this._batchFavoritesToDelete.indexOf(t) >= 0 ? this.splice("_batchFavoritesToDelete", this._batchFavoritesToDelete.indexOf(t), 1) : this._batchFavoritesToAdd.indexOf(t) === -1 && this.push("_batchFavoritesToAdd", t)),
            "delete" === e && (this._batchFavoritesToAdd.indexOf(t) >= 0 ? this.splice("_batchFavoritesToAdd", this._batchFavoritesToAdd.indexOf(t), 1) : this._batchFavoritesToDelete.indexOf(t) === -1 && this.push("_batchFavoritesToDelete", t))
        },
        addFavoriteChannel: function(e, t) {
            var i = t.id;
            this.splice("channelFavorites", 0, 0, i),
            this._modifyFavoritesBatch("add", i),
            this.debounce("favoritesApiRequests", this.sendFavoritesRequests, 1e3)
        },
        removeFavoriteChannel: function(e, t) {
            var i, n = t.id;
            i = this.channelFavorites.indexOf(n),
            i >= 0 && this.splice("channelFavorites", i, 1),
            this._modifyFavoritesBatch("delete", n),
            this.debounce("favoritesApiRequests", this.sendFavoritesRequests, 1e3)
        }
    }
}(window),
function(e) {
    var t = "https://www.inmoment.com/websurvey/app?gateway=DigitalWeb&oc=Web";
    e.XTV = e.XTV || {},
    e.XTV.TvFeedbackBehavior = {
        openFeedbackWindow: function() {
            var i = {}
              , n = e.UAParser();
            i.url = e.location.href,
            i.userType = this.user.tokenSummary.userType,
            i.entitlements = this.user.tokenSummary.entitlements.join(","),
            i.inHome = this.user.inhome,
            i.deviceId = this.user.device.deviceId || "unknown",
            i.browserName = n.browser.name,
            i.browserVersion = n.browser.version,
            i.osName = n.os.name,
            i.osVersion = n.os.version,
            this.watchable && (this.watchable.entity ? i.videoTitle = this.watchable.entity.name : this.watchable.creativeWork && this.watchable.creativeWork.series && (i.videoTitle = this.watchable.creativeWork.series.name),
            i.episode = this.watchable.derivedTitle,
            this.isListing(this.watchable) ? i.channelId = this.watchable.channel.stationId : (i.dvr = this.isRecording(this.watchable),
            i.videoId = this.watchable.id,
            i.provider = this.watchable.stream.streamProvider || "primetime",
            i.brand = this.watchable.contentProvider.name,
            this.isVod(this.watchable) ? i.videoType = "Title6" : this.isTve(this.watchable) ? i.videoType = "TVGo" : i.videoType = "other")),
            e.open(t + "&" + Object.keys(i).map(function(e) {
                return e + "=" + encodeURIComponent(i[e])
            }).join("&"))
        }
    }
}(window),
function(e) {
    e.XTV || (e.XTV = {}),
    e.XTV.TvWatchedProgramsMediatorBehavior = {
        properties: {
            watchedPrograms: {
                type: Object,
                readOnly: !0,
                value: function() {
                    return {}
                }
            }
        },
        listeners: {
            "app:player:notify:ended": "_addProgramIdToWatchedProgramsOnEnded"
        },
        _addProgramIdToWatchedProgramsOnEnded: function(e) {
            var t = e.detail && e.detail.watchable && e.detail.watchable.programId;
            t && this.addWatchedProgramId(t)
        },
        addWatchedProgramId: function(e) {
            e && (this.watchedPrograms[e] = {
                programId: e,
                dateWatched: Date().toString()
            },
            this.resetWatchedPrograms())
        },
        onWatchedProgramsApiSuccess: function(e) {
            var t = {};
            e.detail.resource.getEmbedded("watchedPrograms").forEach(function(e) {
                var i = e.getProps();
                t[i.programId] = i
            }, this),
            this._setWatchedPrograms(t)
        },
        resetWatchedPrograms: function() {
            var e = {};
            Object.keys(this.watchedPrograms).forEach(function(t) {
                e[t] = this.watchedPrograms[t]
            }, this),
            this._setWatchedPrograms(e)
        }
    }
}(window),
Polymer({
    is: "tv-recording-status",
    behaviors: [XTV.TvAssetParserBehavior, XTV.TvLocalizeBehavior, XTV.TvRecordingBehavior, XTV.TvTypeBehavior],
    properties: {
        listing: {
            type: Object,
            observer: "_listingChanged"
        }
    },
    getRecordingStatusLabel: function(e) {
        return this.isOnNow(this.listing) ? "Recording_Now" : e ? "Series_Recording_Scheduled" : "Recording_Scheduled"
    },
    _listingChanged: function(e) {
        if (!e || !e.recording)
            return void this.toggleAttribute("hidden", !0);
        var t = this.isManageableAsRepeat(e.entity);
        this.set("icon", t ? "tv-icons:recording-series" : "tv-icons:recording"),
        this.set("label", t && this.isSportsTeam(e.entity || {}) ? "Team_Recording_Scheduled" : this.getRecordingStatusLabel(t)),
        this.toggleAttribute("repeat", t, this.$.recordingIcon),
        this.toggleAttribute("hidden", !1)
    }
}),
Polymer({
    is: "tv-search-result-formatted",
    properties: {
        result: String,
        query: {
            type: Object,
            value: function() {
                return {}
            }
        }
    },
    observers: ["_decorateResult(query, result)"],
    _decorateResult: function(e, t) {
        var i = new RegExp(e.q,"gi")
          , n = t.match(i)
          , r = t.split(i)
          , s = document.createDocumentFragment();
        (n || r[0] === t) && (r.forEach(function(e, t) {
            "" !== e && s.appendChild(this.create("span", {
                textContent: e
            })),
            n && n[t] && s.appendChild(this.create("span", {
                className: "highlight-query",
                textContent: n[t]
            }))
        }, this),
        this._clearChildren(),
        Polymer.dom(this.root).appendChild(s))
    },
    _clearChildren: function() {
        for (; this.firstChild; )
           this.removeChild(this.firstChild)
    }
}),
function(e) {
    e.XTV = e.XTV || {};
    var t = {
        setA11yPageOpenedFocus: function(e) {
            this.setA11yPageOpenedFocusHandler = this.async(function() {
                e ? this.fire("app:focus:app") : this.fire("app:focus:content")
            }, 500)
        },
        setA11yPageClosedFocus: function() {
            this.fire("user:focus:temp"),
            this.cancelA11yPageOpenedFocus()
        },
        cancelA11yPageOpenedFocus: function() {
            this.cancelAsync(this.setA11yPageOpenedFocusHandler),
            this.setA11yPageOpenedFocusHandler = null
        },
        setA11yLoadingAnnouncement: function() {
            this.fire("iron-announce", {
                text: this.localize("Please_wait_d")
            })
        },
        setA11ySignoutAnnouncement: function() {
            this.fire("iron-announce", {
                text: this.localize("Signing_out_d_")
            })
        },
        setA11yFavoriteChannelLabel: function(e, t, i) {
            if (this.localize)
                return e ? this.localize("Remove_channel_from_your_favorite_channels", "channel", t + ", " + i + ",") : this.localize("Add_channel_to_your_favorite_channels", "channel", t + ", " + i + ",")
        }
    };
    e.XTV.TvA11yBehavior = [t, e.XTV.TvLocalizeBehavior]
}(window),
function(e) {
    function t() {
        var e = document.location.hostname.split(".");
        return e.length >= 2 ? "domain=." + document.location.hostname : "domain=" + r.domain
    }
    function i(e) {
        var t = new Date;
        return t.setTime(t.getTime() + 864e5 * e),
        t.toGMTString()
    }
    function n(e) {
        var t;
        return t = "object" == typeof e ? e.toGMTString() : "string" == typeof e ? e : i(e),
        "; expires=" + t
    }
    var r = {
        domain: ".xfinity.com",
        path: "/"
    };
    e.XTV = e.XTV || {},
    e.XTV.TvCookieHelper = {
        writeCookie: function(e, i, s) {
            var o, a, c = "", l = "path=" + r.path;
            return e = String(e || ""),
            i = String(i || ""),
            s = s || {},
            "number" == typeof s && (c = n(s),
            s = {}),
            "undefined" != typeof s.days && (c = n(s.days)),
            "undefined" != typeof s.path && (l = "path=" + s.path),
            a = "undefined" != typeof s.domain ? "domain=" + s.domain : t(),
            o = e + "=" + String(i || "").replace(/;/g, "%3B") + c + "; " + l + "; " + a,
            document.cookie = o,
            o
        },
        removeCookie: function(e, t) {
            var i = {};
            t = t || {},
            Object.keys(t).forEach(function(e) {
                i[e] = t[e]
            }),
            i.days = -1,
            this.writeCookie(e, "", i)
        }
    }
}(window),
function(e) {
    e.XTV = e.XTV || {};
    var t = "0123456789ABCDEF"
      , i = function(e) {
        for (var i = t.substr(15 & e, 1); e > 15; )
            e >>= 4,
            i = t.substr(15 & e, 1) + i;
        return i
    };
    e.XTV.TvXacsaDrmHelper = {
        id: function() {
            for (var e = "", t = 0; t < 4; t++)
                e += Math.floor(999 * Math.random()),
                t < 3 && (e += "-");
            return e
        },
        generateUUID: function() {
            var e, t = Date.now();
            return "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g, function(i) {
                return e = (t + 16 * Math.random()) % 16 | 0,
                t = Math.floor(t / 16),
                ("x" === i ? e : 3 & e | 8).toString(16)
            })
        },
        rdn: function(e, t) {
            var i = t ? '"' : "";
            return Object.keys(e).map(function(t) {
                return t + "=" + i + e[t] + i
            }).join(",")
        },
        getRandomValues: function(e) {
            for (var t = 0; t < e.length; t++)
                e[t] = Math.floor(255 * Math.random());
            return e
        },
        generateNonce: function() {
            var e, t = window.crypto || window.msCrypto;
            return e = t.getRandomValues(new Uint8Array(20)),
            e || (e = this.getRandomValues(new Uint8Array(20))),
            this.u8toBase64(e)
        },
        u8toBase64: function(e) {
            return btoa(this.u8toStr(e))
        },
        base64toU8: function(e) {
            return new Uint8Array(this.base64toArr(e))
        },
        base64toArr: function(e) {
            return window.atob(e).split("").map(function(e) {
                return e.charCodeAt(0)
            })
        },
        u8toStr: function(e) {
            for (var t = "", i = 0; i < e.length; i++)
                t += String.fromCharCode(e[i]);
            return t
        },
        u8toHex: function(e) {
            return this.base64toHex(this.u8toBase64(e))
        },
        utf8asU8: function(e) {
            return new Uint8Array(this.utf8(e))
        },
        utf8: function(e) {
            for (var t = [], i = 0; i < e.length; i++)
                t[i] = e.charCodeAt(i);
            return t
        },
        utf8ToBase64: function(e) {
            return window.btoa(window.unescape(encodeURIComponent(e)))
        },
        u8toBase64url: function(e) {
            return this.urlSafe(this.u8toBase64(e))
        },
        base64toUtf8: function(e) {
            return decodeURIComponent(window.escape(window.atob(e)))
        },
        base64toHex: function(e) {
            for (var t = "", n = this.base64toArr(e), r = 0; r < n.length; r++)
                t += (n[r] < 16 ? "0" : "") + i(n[r]);
            return t
        },
        hexToU8: function(e) {
            var t, i, n, r;
            if (t = e.length / 2,
            i = new Uint8Array(t),
            e.length % 2)
                throw new Error("Error: hexToBase64: hex string length is odd.");
            for (n = 0; n < t; n++)
                r = e.substr(2 * n, 2),
                i[n] = parseInt(r, 16);
            return i
        },
        urlSafe: function(e) {
            return e.replace(/\+/g, "-").replace(/\//g, "_").replace(/\=+$/, "")
        },
        urlSafeToBase64: function(e) {
            var t, i;
            return t = e.length % 4,
            i = 0 === t ? e : e + "===".slice(0, 4 - t),
            i.replace(/-/g, "+").replace(/_/g, "/")
        },
        urlSafeToU8: function(e) {
            return this.base64toU8(this.urlSafeToBase64(e))
        },
        base64url: function(e) {
            return this.urlSafe(btoa(e))
        },
        removeXmlNameSpaces: function(e) {
            return e.replace(/:(\w)/gi, function(e) {
                return e.substr(1).toUpperCase()
            }).replace(/-/gi, "")
        },
        concatU8: function() {
            var e, t;
            return e = Array.prototype.slice.call(arguments),
            t = Array.prototype.concat.apply([], e),
            new Uint8Array(t)
        }
    }
}(window),
function(e) {
    function t(e) {
        var t, i;
        if (!e)
            return null;
        if (t = e.split("."),
        2 === t.length) {
            try {
                i = t[0]
            } catch (n) {
                return null
            }
            return {
                amt: t[1],
                smk: i
            }
        }
        return null
    }
    e.XTV = e.XTV || {};
    var i = "activationCode"
      , n = "smk.amt"
      , r = "xfinity.com"
      , s = "xact"
      , o = "xact-exp"
      , a = "xsct"
      , c = "tv.ili"
      , l = "token";
    e.XTV.TvXacsaStoreImpl = {
        storeResponse: function(e, t) {
            var i = new Date(e.xactExp);
            this._storeDeviceToken(e.smk, e.amt, t),
            isNaN(i.getTime()) || (localStorage.setItem(s, e.xact),
            localStorage.setItem(o, i.getTime()))
        },
        getStoredActivationCode: function() {
            return localStorage.getItem(i)
        },
        removeStoredActivationCode: function() {
            localStorage.removeItem(i)
        },
        getStoredXact: function() {
            return localStorage.getItem(s)
        },
        _storeDeviceToken: function(e, t, i) {
            var s = this.u8toBase64url(e) + "." + t;
            localStorage.setItem(n, s),
            "comcast" === i ? this.writeCookie(n, s, {
                days: 365,
                domain: r
            }) : this.removeCookie(n, {
                domain: r
            })
        },
        removeDevice: function() {
            localStorage.removeItem(n),
            this.removeStoredTokens(),
            this.removeCookie(n, {
                domain: r
            })
        },
        storeSessionResponse: function(e) {
            localStorage.setItem(a, e.xsct),
            this.writeCookie(c, 1, {
                days: 365,
                domain: r
            })
        },
        getSessionToken: function() {
            return localStorage.getItem(a)
        },
        removeStoredTokens: function() {
            this._removeSessionToken(),
            this.removeXactToken()
        },
        removeMigrateToken: function() {
            localStorage.removeItem(l)
        },
        _removeSessionToken: function() {
            localStorage.removeItem(a),
            this.removeCookie(c, {
                domain: r
            })
        },
        removeXactToken: function() {
            localStorage.removeItem(o),
            localStorage.removeItem(s)
        },
        isValidXact: function() {
            var e = localStorage.getItem(s)
              , t = localStorage.getItem(o);
            return !(!e || !t || isNaN(t)) && t - Date.now() > 72e5
        },
        _cleanLocalStorageItem: function(e) {
            var t, i = localStorage.getItem(e);
            if (0 === String(i).indexOf('"'))
                try {
                    return t = JSON.parse(i),
                    localStorage.setItem(e, t),
                    t
                } catch (n) {
                    return i
                }
            return i
        },
        getDrmState: function(e) {
            var i, r, o = this._cleanLocalStorageItem(a), c = this._cleanLocalStorageItem(n), l = !(o && c || e), h = !c && e;
            return !e && this.isValidXact() ? r = {
                status: "canMakeSessionRequest",
                xact: localStorage.getItem(s)
            } : l ? r = {
                status: "unauthorized"
            } : h ? r = {
                status: "canMakeDrmRequest",
                type: "generate",
                args: [e]
            } : (i = t(c),
            r = i ? {
                status: "canMakeDrmRequest",
                type: "renew",
                args: [i, e]
            } : {
                status: "deviceTokenParseError"
            }),
            r
        }
    },
    e.XTV.TvXacsaStore = [e.XTV.TvXacsaStoreImpl, e.XTV.TvCookieHelper, e.XTV.TvXacsaDrmHelper]
}(window),
Polymer({
    is: "tv-page-error-content",
    behaviors: [XTV.TvLocalizeBehavior, XTV.TvUrlBehavior, XTV.TvXacsaStore],
    properties: {
        category: String,
        heading: String,
        message: String,
        actions: {
            type: Array,
            value: function() {
                return ["try-again"]
            }
        },
        apiError: Object,
        error: Object,
        hideErrorDetails: {
            type: Boolean,
            value: !1
        },
        errorShowing: {
            type: Boolean,
            value: !1,
            notify: !0
        },
        reload: {
            type: Boolean,
            value: !1
        },
        watchable: {
            type: Object,
            value: function() {
                return {}
            }
        },
        icon: String
    },
    _isActions: function(e) {
        return e && e.length && e.length > 0
    },
    created: function() {
        this.hidden = !0
    },
    _home: function() {
        this.navigateToHash("/")
    },
    _tryAgain: function() {
        return this.reload ? void this.reloadSelf() : "Offline" === this.category ? void this.fire("user:check-connection") : (this.set("errorShowing", !1),
        this.hidden = !0,
        void this.fire("try-again"))
    },
    _retry: function() {
        this.fire("retry")
    },
    _isDisplayErrorDetails: function(e, t) {
        return e && !t
    },
    _goBack: function() {
        window.history.back()
    },
    _errorDetails: function(e) {
        var t = []
          , i = "";
        return e.code ? t.push(e.code) : e.category && t.push(e.category),
        e.subCode && t.push(e.subCode),
        i = t.join("."),
        i += e.description ? ": " + e.description : ""
    },
    _signOut: function() {
        this.fire("sign-out-click")
    },
    _signOutToUnauthPage: function() {
        this.removeDevice(),
        window.location.href = "/"
    },
    _showDiagnostics: function(e) {
        e.preventDefault(),
        this.fire("user:show-diagnostics", {
            error: this.error,
            watchable: this.watchable
        }),
        this.fire("player:action:close")
    },
    _viewDevices: function() {
        this.navigateToHash("/settings/devices"),
        this.fire("player:action:close")
    }
}),
Polymer({
    is: "tv-parser-creative-work",
    behaviors: [XTV.TvImageParserBehavior],
    hostAttributes: {
        hidden: !0
    },
    properties: {
        property: String
    },
    getCreativeWork: function(e) {
        if (e) {
            var t, i, n, r = {};
            return e.fetchEmbedded(this.property).then(function(e) {
                return t = e.data,
                r = Object.assign({}, t.getProps()),
                r.credits = (r.credits || []).join(", "),
                r.id = t.getFirstAction("self").getRawActionUrl().replace(/\.\.\//g, ""),
                r.entityId = this.parseEntityId(t),
                r.type = r._type,
                r.datePublished = r.datePublished || "",
                r.lockableMerlinId = r.merlinId,
                i = t.getEmbedded("programReviews") || [],
                t.hasAction("schedule") && (r.scheduleForm = t.getFirstAction("schedule")),
                r.image = this.imageUrl(t, r),
                r.fallbackImage = this.fallbackImageUrl(t),
                r.backgroundSrc = t.getFirstAction("image", {
                    width: 1280,
                    height: 640
                }).getActionUrl(),
                r.ratingDetails = r["contentRating/detailed"],
                r.reviews = {},
                i.forEach(function(e) {
                    n = Object.assign({}, e.getProp("attributes")),
                    n.url = e.getFirstAction("fullReview").getActionUrl(),
                    r.reviews[e.getProp("provider").toLowerCase()] = n
                }, this),
                this._parseTeams(t, r),
                t.hasAction("partOfTvSeries") || t.hasEmbedded("partOfTvSeries") ? t.fetchEmbedded("partOfTvSeries").then(function(e, t) {
                    return t.data && (e.series = t.data.getProps(),
                    e.lockableMerlinId = e.series.merlinId),
                    e
                }
                .bind(this, r)) : r
            }
            .bind(this))
        }
    },
    parseEntityId: function(e) {
        return e.getFirstAction("entityDetail").getActionUrl().split("/").reduceRight(function(e, t) {
            return e ? e : t
        }, "")
    },
    _parseTeams: function(e, t) {
        e.hasEmbedded("eventNeutralTeams") ? t.eventTeams = e.getEmbedded("eventNeutralTeams").map(this._parseTeam) : e.hasEmbedded("homeTeam") && e.hasEmbedded("awayTeam") && (t.eventTeams = [this._parseTeam(e.getEmbedded("awayTeam")), this._parseTeam(e.getEmbedded("homeTeam"))])
    },
    _parseTeam: function(e) {
        var t = e.getProps();
        return t.teamLogo = e.getFirstAction("image", {
            width: 200,
            height: 200
        }).getActionUrl(),
        t
    }
}),
Polymer({
    is: "tv-search-results",
    properties: {
        endpointParams: Object,
        hasError: Boolean,
        loading: {
            type: Boolean,
            value: !1,
            notify: !0
        },
        maxResults: Number,
        queryCompletion: {
            type: Boolean,
            value: !1
        },
        resource: {
            type: Object,
            value: void 0,
            observer: "_resourceChanged"
        },
        results: {
            type: Array,
            value: void 0,
            observer: "_resultsChanged"
        },
        params: {
            type: Object,
            value: function() {
                return {}
            }
        },
        query: {
            type: Object,
            value: function() {
                return {}
            }
        },
        title: {
            type: String,
            value: "Search"
        },
        viewAllUrl: {
            type: String,
            value: void 0
        }
    },
    behaviors: [XTV.TvA11yBehavior, XTV.TvLocalizeBehavior, XTV.TvPageBehavior, XTV.TvTypeBehavior, XTV.TvUrlBehavior],
    observers: ["_onFavoritesChanged(channelFavorites.splices)", "_paramsChanged(params.*, query.*)"],
    _onFavoritesChanged: function() {
        this.results && this.channelFavorites && this.results.forEach(function(e, t) {
            e.channel && this.set("results." + t + ".channel.isFavorite", this.channelFavorites.includes(e.channel.id))
        }, this)
    },
    onPageOpened: function() {
        return this.fire("search:close"),
        this.query.q ? (this.results.length && (this.$.results.hidden = !1),
        this.showSpinner(),
        void this.setA11yLoadingAnnouncement()) : (this.$.noResults.hidden = !1,
        void (this.$.results.hidden = !0))
    },
    onPageClosed: function() {
        this.setA11yPageClosedFocus(),
        this.$.results.hidden = !0
    },
    onPageError: function() {
        this.set("title", "Search")
    },
    onFavoriteTap: function(e) {
        e.preventDefault(),
        e.stopImmediatePropagation()
    },
    onResultTap: function(e) {
        var t = e.model.result;
        if (t && this.isNetwork(t.creativeWork))
            return this.fire("app:player:watchChannel", {
                channel: t.channel
            }),
            e.preventDefault(),
            !1
    },
    _itemUrl: function(e) {
        var t;
        return e.creativeWork.programId && (t = this.urlFor("entity", e.creativeWork.programId)),
        this.isSportsTeam(e.creativeWork) ? t = this.urlFor("entity/sports/team", e.creativeWork.merlinId) : this.isOrganization(e.creativeWork) ? t = this.urlFor("search", e.name.replace(" ", "-"), e.creativeWork.merlinId) : this.isNetwork(e.creativeWork) && (t = "#"),
        t
    },
    _handleResponse: function(e) {
        this.set("resource", e.detail.resource)
    },
    _paramsChanged: function() {
        this.params.entityId ? this.searchByEntity() : this.query.q ? this.searchByTerm() : this.set("title", "Search")
    },
    _resourceChanged: function() {
        if (this.resource) {
            var e = (this.resource.getEmbedded("results") || []).map(function(e) {
                var t, i = e.getProps(), n = e.getEmbedded("entity");
                return this.$.creativeWorkParser.getCreativeWork(e).then(function(e) {
                    return i.creativeWork = e,
                    this.isSportsTeam(e) ? (i.creativeWork.image = i.creativeWork.fallbackImage,
                    i.creativeWork.fallbackImage = null,
                    i.creativeWork.teamLogo = n.getFirstAction("image", {
                        width: 200,
                        height: 200
                    }).getActionUrl()) : this.isOrganization(e) ? i.creativeWork.image = "/images/channel_collection_placeholder.png" : this.isNetwork(e) && (t = n.getEmbedded("channel"),
                    i.channel = t.getProps(),
                    i.channel.id = t.getFirstAction("self").getRawActionUrl(),
                    i.channel.isFavorite = this.channelFavorites && this.channelFavorites.includes(i.channel.id),
                    i.image = t.getFirstAction("logo", {
                        width: 125,
                        height: 87
                    }).getActionUrl()),
                    i
                }
                .bind(this))
            }, this);
            Promise.all(e).then(this.set.bind(this, "results"))
        }
    },
    _resultsChanged: function() {
        return this.set("title", this._title()),
        this.hideSpinner(),
        this.queryCompletion || this.setA11yPageOpenedFocus(),
        this.results.length ? (this.$.noResults.hidden = !0,
        this.$.results.hidden = !1,
        this.fire("results-changed"),
        this.set("loading", !1),
        void this.set("title", this._title())) : (this.$.results.hidden = !0,
        void (this.queryCompletion || (this.$.noResults.hidden = !1)))
    },
    searchByEntity: function() {
        this.params.entityId && this.async(function() {
            this._showLoading(),
            this.set("endpoint", "searchByEntity", this.$.searchApi),
            this.endpointParams = {
                entityId: this.params.entityId || "",
                limit: this.maxResults
            },
            this.sendApiRequests(["searchApi"])
        })
    },
    searchByTerm: function() {
        this.async(function() {
            this.query.q && ((this.endpointParams || {}).query !== this.query.q ? (this._showLoading(),
            this.set("endpoint", "searchByTerm", this.$.searchApi),
            this.endpointParams = {
                query: this.query.q || "",
                limit: this.maxResults
            },
            this.sendApiRequests(["searchApi"])) : this.hideSpinner())
        })
    },
    _showLoading: function() {
        this.resetError(),
        this.$.results.hidden = !0,
        this.$.noResults.hidden = !0,
        this.hidden = !1,
        this.set("loading", !0),
        this.set("title", this.localize("Searching_d_")),
        this.fire("iron-announce", {
            text: this.localize("Please_wait")
        })
    },
    _title: function() {
        if (!this.queryCompletion) {
            var e = (this.results || []).length
              , t = e ? this.localize("Showing_num_results_for", "num", e) : this.localize("No_results_found_for");
            return 1 === e && (t = this.localize("Showing_1_result_for")),
            this.params.entityId ? this.localize("_searchTerm_Channel_Collection", "searchTerm", this.params.searchTerm) : this.query.q ? t + ' "' + this.query.q + '"' : void 0
        }
    },
    searchUrl: function(e) {
        return this.urlFor("search", {
            q: e
        })
    }
}),
function() {
    var e = /[^\s\w]/g;
    Polymer({
        is: "tv-search-form",
        properties: {
            loading: Boolean,
            minKeywordLength: {
                type: Number,
                value: 1,
                readOnly: !0
            },
            icon: {
                type: String,
                value: "tv-icons:search"
            },
            searchTerm: String,
            placeholderText: {
                type: String,
                value: "Search",
                defaultValue: "Search",
                focusedValue: "Shows_Movies_Networks_d"
            }
        },
        behaviors: [XTV.TvLocalizeBehavior, XTV.TvUrlBehavior],
        attached: function() {
            this.$.search.addEventListener("keydown", this._keyDown.bind(this)),
            this.$.search.addEventListener("keyup", this._keyUp.bind(this)),
            this.$.search.addEventListener("focus", this._openResults.bind(this))
        },
        _isValidSearchTerm: function(t) {
            return t !== decodeURIComponent(this.searchTerm) && t.length >= this.minKeywordLength && "" !== t.replace(e, "")
        },
        _buttonClick: function(e) {
            e.preventDefault();
            var t = this.$.search.value.trim();
            t && (this.set("searchTerm", t),
            this.isOnPage("search") || this.navigateTo("search", {
                q: encodeURIComponent(this.searchTerm)
            }))
        },
        _keyCode: function() {
            return {
                Enter: 13,
                Esc: 27,
                MoveUp: 38,
                MoveDown: 40,
                KeyUpIgnore: [27, 32, 37, 38, 39, 40]
            }
        },
        _stopPropagation: function(e) {
            /\w/.test(e.key) && e.stopPropagation()
        },
        _keyUp: function(e) {
            var t = "";
            if (this._stopPropagation(e),
            this._keyCode().KeyUpIgnore.indexOf(e.keyCode) === -1) {
                if (t = this.$.search.value.trim(),
                !t)
                    return this.set("loading", !1),
                    this.set("hidden", !0, this.$.results),
                    this.set("query", {
                        q: ""
                    }, this.$.results),
                    void this.set("searchTerm", "");
                this._isValidSearchTerm(t) && (this.set("searchTerm", t),
                this.debounce("search", this._submitForm, 500))
            }
        },
        _keyDown: function(e) {
            var t = this.$.search.value.trim();
            this._stopPropagation(e),
            t && e.keyCode === this._keyCode().Enter && (e.preventDefault(),
            this.set("searchTerm", t),
            this.isOnPage("search") || this.navigateTo("search", {
                q: this.searchTerm
            }))
        },
        _openResults: function() {
            !this.isOnPage("search") && this.searchTerm && this.$.results.query && this.$.results.query.q === this.searchTerm && (this.$.results.hidden = !1)
        },
        _submitForm: function() {
            this.set("loading", !0),
            this.isOnPage("search") ? this.navigateTo("search", {
                q: this.searchTerm
            }) : this.set("query", {
                q: this.searchTerm
            }, this.$.results)
        },
        clearForm: function() {
            this.set("value", "", this.$.search),
            this.set("searchTerm", "")
        },
        closeResults: function() {
            this.$.results.hidden = !0,
            this.set("placeholderText", this.localize(this.properties.placeholderText.defaultValue))
        },
        changePlaceholder: function(e) {
            "focus" === e.type ? this.set("placeholderText", this.localize(this.properties.placeholderText.focusedValue)) : this.set("placeholderText", this.localize(this.properties.placeholderText.defaultValue))
        }
    })
}(),
Polymer({
    is: "tv-network-map",
    hostAttributes: {
        hidden: !0
    },
    properties: {
        networksResource: {
            type: Object,
            notify: !0
        },
        networksResourceError: {
            type: Object,
            notify: !0
        },
        channels: {
            type: Array,
            notify: !0
        },
        networks: {
            type: Array,
            notify: !0
        },
        networkHash: {
            type: Object,
            notify: !0
        }
    },
    initialize: function() {
        return this.fetched ? Promise.resolve(this) : this.fetch()
    },
    fetch: function() {
        return this.$.networkMapApi.sendRequest()
    },
    _onNetworkMapApiResponse: function(e) {
        var t, i = e.detail.resource, n = {}, r = [];
        !this.networks && i && (this.set("networksResource", i),
        i.getEmbedded("contentProviders").map(function(e) {
            var t = e.getProps();
            t.channels = [],
            n[e.getProp("companyId")] = t
        }),
        t = i.getEmbedded("channels").map(function(e) {
            var t = e.getProps();
            return t.id = e.getFirstAction("self").getRawActionUrl(),
            e.getFirstAction("branchOf/company").getRawActionUrl() ? e.getFirstAction("branchOf/company").fetch().then(function(e) {
                return n[e.data.getProp("companyId")].channels.push(t),
                t
            }, function() {
                return t
            }) : (r.push({
                name: t.callSign + " " + t.number,
                channels: [t]
            }),
            t)
        }),
        Promise.all(t).then(function(e) {
            this.set("networkHash", n),
            this.set("channels", e),
            Object.keys(this.networkHash).forEach(function(e) {
                r.push(this.networkHash[e])
            }, this),
            this.set("networks", r)
        }
        .bind(this), function() {
            this.hideSpinner()
        }
        .bind(this)),
        this.fetched = !0)
    },
    _onNetworkMapApiError: function(e) {
        this.set("networksResourceError", e)
    }
}),
function(e) {
    Polymer({
        is: "tv-page-logout",
        behaviors: [XTV.TvPageBehavior, XTV.TvSpinnerBehavior],
        onPageOpened: function() {
            this.setSpinnerMessage("Signing out..."),
            this.setSpinnerBlocker(),
            this.showSpinner(),
            this.sendLocalytics(),
            e.player.closePlayer({
                signout: !0
            }) && this.fire("user:logout")
        }
    })
}(window);
var FILL_ANGLE = 340
  , RADIUS = 58
  , DEGREE_RAD = Math.PI / 180
  , DURATION = 3e3;
Polymer({
    is: "tv-page-adding-device",
    properties: {
        ironSelected: {
            type: Boolean,
            value: !1
        },
        isActive: {
            type: Boolean,
            value: !1
        },
        isDoneFilling: Boolean
    },
    behaviors: [XTV.TvLocalizeBehavior],
    observers: ["isActiveChanged(isActive)", "isDoneFillingChanged(isDoneFilling)", "onIronSelectChanged(ironSelected)"],
    animateFill: function() {
        function e() {
            n = (new Date).getTime(),
            o = n - a,
            o > DURATION && (this.set("isDoneFilling", !0),
            o = DURATION),
            i = FILL_ANGLE * DEGREE_RAD * (o / DURATION),
            r = Math.sin(i) * RADIUS,
            s = -Math.cos(i) * RADIUS + RADIUS,
            t = i > Math.PI ? 1 : 0,
            this.fill.setAttribute("d", ["M", RADIUS + 1, 1, "a", RADIUS, RADIUS, 1, t, 1, r, s].join(" ")),
            this.isActive && !this.isDoneFilling && window.requestAnimationFrame(e.bind(this))
        }
        var t, i, n, r, s, o, a = (new Date).getTime();
        e.call(this, 0)
    },
    animateRotation: function() {
        function e() {
            t = (new Date).getTime(),
            (t - i) / DURATION >= 1 && (i = t),
            this.wrapper.style.transform = "rotate(" + 360 * ((t - i) / DURATION) + "deg)",
            this.isActive && window.requestAnimationFrame(e.bind(this))
        }
        this.set("isDoneFilling", !0);
        var t, i = (new Date).getTime();
        e.call(this, 0)
    },
    attached: function() {
        this.fill = this.querySelector(".spinner-svg-fill"),
        this.wrapper = this.querySelector(".spinner-wrapper")
    },
    isActiveChanged: function(e) {
        return e ? void this.animateFill() : void this.resetSpinner()
    },
    isDoneFillingChanged: function(e) {
        e && this.animateRotation()
    },
    onIronSelectChanged: function(e) {
        e ? (this.set("isActive", !0),
        this.async(function() {
            this.fire("iron-announce", {
                text: this.localize("Adding_Device_d_This_may_take_several_seconds_")
            })
        }, 500)) : this.set("isActive", !1)
    },
    resetSpinner: function() {
        this.ironSelected && (this.set("isDoneFilling", !1),
        this.async(function() {
            this.fill.setAttribute("d", "M 0 0"),
            this.wrapper.style.transform = "rotate(0deg)"
        }, 100))
    },
    _setPartnerIcon: function(e) {
        return e.iconSecondary || e.icon
    }
}),
Polymer({
    is: "tv-view-grid",
    properties: {
        sizing: {
            type: String,
            reflectToAttribute: !0
        },
        target: {
            type: Object,
            value: function() {
                return this
            }
        }
    },
    attached: function() {
        this.async(function() {
            this.setAccessibility()
        }
        .bind(this))
    },
    getElementsByClass: function(e) {
        var t = Polymer.dom(this).querySelectorAll(e);
        return t.length || (t = [].slice.call(this.querySelectorAll(e))),
        t
    },
    _findAncestorByClass: function(e, t) {
        for (; (e = e.parentElement) && !e.classList.contains(t); )
            ;
        return e
    },
    setAccessibility: function() {
        this._setAccessibilityForListContainer()
    },
    _setAccessibilityForListContainer: function() {
        var e = Polymer.dom(this).querySelector(".grid-items");
        e.setAttribute("tabindex", "-1"),
        e.setAttribute("role", "menu")
    },
    focusFirstItem: function() {
        var e = Polymer.dom(this).querySelector(".grid-item");
        e && e.focus()
    },
    focusLastItem: function() {
        var e = this.getElementsByClass(".grid-item");
        Array.isArray(e) && e.pop().focus()
    },
    focusNextItem: function(e) {
        var t = this._findAncestorByClass(e, "grid-item-container")
          , i = t.nextElementSibling;
        i && !i.classList.contains("grid-item-container") && (i = t.nextElementSibling.nextElementSibling),
        i && i.classList.contains("grid-item-container") ? i.querySelector(".grid-item").focus() : this.focusFirstItem()
    },
    focusPreviousItem: function(e) {
        var t = this._findAncestorByClass(e, "grid-item-container")
          , i = t.previousElementSibling;
        i && !i.classList.contains("grid-item-container") && (i = t.previousElementSibling.previousElementSibling),
        i && i.classList.contains("grid-item-container") ? i.querySelector(".grid-item").focus() : this.focusLastItem()
    },
    _onKeyPressed: function(e) {
        var t = e.detail.combo
          , i = document.activeElement
          , n = i && i.classList.contains("grid-item")
          , r = Polymer.dom(e.detail.keyboardEvent.target);
        ["right", "left", "up", "down", "home", "end"].indexOf(t) !== -1 && (e.detail.keyboardEvent.preventDefault(),
        e.detail.keyboardEvent.stopPropagation()),
        n && ("right" === t || "down" === t ? (this.focusNextItem(i),
        r.node.fire("keypress-move")) : "left" === t || "up" === t ? (this.focusPreviousItem(i),
        r.node.fire("keypress-move")) : "home" === t ? this.focusFirstItem() : "end" === t ? this.focusLastItem() : "enter" === t || "space" === t ? r.node.fire("keypress-enter") : "esc" === t && r.node.fire("keypress-escape"))
    }
}),
Polymer({
    is: "tv-page-browse",
    properties: {
        activeFilters: Array,
        allowedFilters: Array,
        perPage: {
            type: Number,
            value: 50
        },
        endpointParams: Object,
        filterSort: {
            type: String,
            value: "",
            observer: "_onFilterSortChanged"
        },
        layout: String,
        pageTitle: {
            type: String,
            value: "",
            notify: !0
        },
        renderStyle: {
            type: String,
            reflectToAttribute: !0
        },
        resource: Object,
        dataParsed: Array,
        sortOptions: Array,
        _isLoadingMore: {
            type: Boolean,
            value: !1
        }
    },
    listeners: {
        "scroll-end": "addPage"
    },
    observers: ["_onLayoutChanged(layout)", "_setAllowedFilters(user.tokenSummary)", "_setBrowseType(params.type)", "_paramsReady(activeFilters, filterSort, endpointAction)"],
    behaviors: [XTV.TvA11yBehavior, XTV.TvLocalizeBehavior, XTV.TvBrowseBehavior, XTV.TvTypeBehavior, XTV.TvPageBehavior, XTV.TvUserBehavior, XTV.TvUrlBehavior, XTV.behaviors.splunk],
    addPage: function() {
        this._isLoadingMore || (this.nextPageLink ? (this.fire("iron-announce", {
            text: this.localize("Loading_more_items_d")
        }),
        this.set("_isLoadingMore", !0),
        this.nextPageLink.fetch().then(function(e) {
            this._resourceChanged(e.data)
        }
        .bind(this), this.logError.bind(this))) : (this.set("_isLoadingMore", !1),
        this.hideSpinner()))
    },
    _clearData: function() {
        this.set("nextPageLink", null),
        this.set("dataParsed", [])
    },
    _getBrowsingParams: function() {
        return {
            perPage: this.perPage,
            sort: this.filterSort,
            filters: this.getBrowseFilters(this.activeFilters)
        }
    },
    _handleResponse: function(e, t) {
        this._resourceChanged(t.resource)
    },
    isSameNode: function() {
        var e = this.get("params.type")
          , t = this.get("endpointAction");
        return "tvshows" === e && "browseVodTvSeries" === t || "movies" === e && "browseVodMovies" === t || "free-episodes-movies" === e && "browseVodLongform" === t || "menu" === e && this.get("params.nodeId") === this.get("endpointParams.nodeId") && this.get("params.menuId") === this.get("endpointParams.menuId")
    },
    _isLayoutGrid: function() {
        return "grid" === this.layout
    },
    _isLayoutList: function() {
        return "list" === this.layout
    },
    _onLayoutChanged: function() {
        this.$.content.setAttribute("layout-style", this.layout)
    },
    onPageOpened: function() {
        this.setA11yLoadingAnnouncement(),
        this.focusContent = !0,
        this.resetError(),
        this.$.filters.reload(),
        this.isSameNode() || this.async(function() {
            this.set("filterSort", ""),
            this.$.sort.refresh()
        }, 50)
    },
    onPageClosed: function() {
        this.setA11yPageClosedFocus(),
        this.set("_isLoadingMore", !1),
        this.set("dataParsed", []),
        this.set("nextPageLink", null),
        this.set("pageTitle", ""),
        this.set("renderStyle", void 0),
        this.$.emptyResultsMessage.hidden = !0,
        this.$.smallPageMessage.hidden = !0,
        this.resetError()
    },
    onResumePointPosted: function(e) {
        this.clearPlayNowFromCache(e.watchable)
    },
    onPlayerMediaEnded: function(e) {
        this.clearPlayNowFromCache(e.watchable)
    },
    _sendRequest: function() {
        var e = this._getBrowsingParams();
        this.get("params.nodeId") === this.get("endpointParams.nodeId") && this.get("params.menuId") === this.get("endpointParams.menuId") || this.set("pageTitle", ""),
        this._clearData(),
        this.$.smallPageMessage.hidden = !0,
        this.$.emptyResultsMessage.hidden = !0,
        e.freetome = !1,
        "browseProgramMenu" === this.endpointAction ? (e.nodeId = this.params.nodeId,
        e.menuId = this.params.menuId,
        e.depth = 2) : "browseVodLongform" === this.endpointAction && (e.freetome = !0),
        this.set("endpointParams", e),
        this.showSpinner(),
        this.sendApiRequests(["browseApi"])
    },
    _paramsReady: function() {
        this.endpointAction && this.currentPage && this.debounce("send", this._sendRequest, 300)
    },
    _setEndpointAction: function(e) {
        this.async(function() {
            this.set("endpointAction", null),
            this.set("endpointAction", e)
        })
    },
    _setAllowedFilters: function() {
        this.set("allowedFilters", this.getAllowedFilters())
    },
    _setBrowseType: function() {
        "tvshows" === this.params.type ? this._setEndpointAction("browseVodTvSeries") : "movies" === this.params.type ? this._setEndpointAction("browseVodMovies") : "menu" === this.params.type ? this._setEndpointAction("browseProgramMenu") : "free-episodes-movies" === this.params.type ? this._setEndpointAction("browseVodLongform") : this.navigateTo("404")
    },
    _setGridSizing: function(e) {
        return this._isItemEpisodic(e) ? "large" : ""
    },
    _setA11yLabel: function(e, t, i) {
        return 0 === e ? i + ". " + t + "." : t
    },
    _setA11yInstructions: function(e, t) {
        return 0 === e ? t : ""
    },
    _setTabindex: function(e) {
        return 0 === e ? "0" : "-1"
    },
    _resourceChanged: function(e) {
        var t = {};
        this.set("renderStyle", e.getProp("childTileRenderStyle")),
        this.set("sortOptions", e.getProp("sortOptions")),
        this.updateStyles(),
        this.$.emptyResultsMessage.hidden = e.hasEmbedded("browseItems") && e.getEmbedded("browseItems").length > 0,
        "16X9_PROGRAM" === this.renderStyle && (t.posterWidth = 320,
        t.posterHeight = 180),
        "4X3_PROGRAM" === this.renderStyle && (t.posterWidth = 320,
        t.posterHeight = 240),
        Promise.all(this.$.browseParser.parseResource(e, t)).then(function(e) {
            this.set("dataParsed", this.dataParsed.concat(e)),
            this.set("_isLoadingMore", !1)
        }
        .bind(this)),
        this.set("nextPageLink", e.hasAction("next") ? e.getFirstAction("next") : null),
        this._isLoadingMore || (this.set("pageTitle", e.getProp("title")),
        this.focusContent && this.setA11yPageOpenedFocus(),
        this.focusContent = !1),
        this.hideSpinner(),
        this.$.smallPageMessage.hidden = !this.$.emptyResultsMessage.hidden || !this.activeFilters.length,
        this.async(function() {
            this.$.sort.refresh()
        }, 50)
    },
    _onFilterSortChanged: function() {
        var e = (this.sortOptions || []).find(function(e) {
            return e.sortParam === this.filterSort
        }, this);
        e && window.ll("tagEvent", "Sort Changed", {
            "Sort Type": e.orderingProperty + "." + e.orderingDirection
        })
    }
}),
function(e) {
    e.XTV = e.XTV || {},
    e.XTV.TvNetworkMapBehavior = {
        properties: {
            networksResourceError: Object,
            channels: Array,
            networks: Array,
            networkHash: Object
        },
        observers: ["_onNetworksResourceError(networksResourceError)"],
        _onNetworksResourceError: function() {
            this.networksResourceError && this.pageError(this.networksResourceError)
        },
        _lockedStatus: function(e) {
            if (!e)
                return {};
            var t = this.controls.networkLocks[e.companyId]
              , i = e.channels.filter(function(e) {
                return !!this.controls.channelLocks[e.stationId]
            }, this);
            return e.companyId ? {
                unlocked: !t && 0 === i.length,
                fullyLocked: !!t && i.length === e.channels.length,
                partiallyLocked: !!t || i.length > 0
            } : {
                unlocked: 0 === i.length,
                fullyLocked: i.length === e.channels.length,
                partiallyLocked: i.length > 0
            }
        },
        _allLocked: function() {
            return this.networks.every(function(e) {
                return this._lockedStatus(e).fullyLocked
            }, this)
        },
        _allUnlocked: function() {
            return this.networks.every(function(e) {
                return this._lockedStatus(e).unlocked
            }, this)
        }
    }
}(window),
function() {
    var e, t = 0, i = Promise.resolve("pin-initial");
    Polymer({
        is: "tv-page-pin-verifier",
        behaviors: [XTV.TvUrlBehavior],
        properties: {
            controls: Object,
            overlayCompletedState: String,
            pinEntryClosed: Boolean
        },
        observers: ["_onOverlayCompleted(overlayCompletedState)"],
        needsVerification: function(t) {
            return t = t || {},
            this.controls.enabled ? (i = new Promise(function(t, i) {
                e = {
                    resolve: t,
                    reject: i
                }
            }
            ),
            i["catch"](function() {
                i = null
            }),
            this.set("active", !0),
            this.$.overlayManager.start("overlayPinEntry"),
            i) : Promise.resolve("parental-controls-disabled")
        },
        resetTimer: function() {
            t = moment().valueOf()
        },
        _onOverlayCompleted: function(t) {
            this.set("active", !1),
            /pin-validated-successful/.test(t) ? (this.resetTimer(),
            e.resolve(t)) : /pin-validated-unsuccessful/.test(t) && e.reject(t)
        }
    })
}(),
Polymer({
    is: "tv-parser-content-provider",
    hostAttributes: {
        hidden: !0
    },
    getContentProvider: function(e) {
        var t = e.getEmbedded("contentProvider");
        if (t)
            return {
                companyId: t.getProp("companyId"),
                logoUrl: t.getFirstAction("logo", {
                    width: 206,
                    height: 92
                }).getActionUrl(),
                name: t.getProp("name"),
                providerId: t.getFirstAction("self").getRawActionUrl()
            }
    }
}),
function() {
    "use strict";
    Polymer({
        is: "tv-play-now-asset-poster",
        properties: {
            aspectRatio: String,
            episodic: {
                type: Boolean,
                reflectToAttribute: !0
            },
            errorLoading: Boolean,
            isPlayNowDetailDeferred: Boolean,
            isMoviePoster: {
                type: Boolean,
                value: !1,
                reflectToAttribute: !0
            },
            loaded: {
                type: Boolean,
                value: !1
            },
            stampHover: {
                type: Boolean,
                value: !1
            },
            hoverOpened: {
                type: Boolean,
                value: !1
            },
            playNowAsset: Object,
            renderStyle: {
                type: String,
                observer: "renderStyleChange"
            },
            resumePoints: Object,
            user: Object
        },
        behaviors: [Polymer.IronA11yKeysBehavior, XTV.TvLocalizeBehavior, XTV.TvAssetParserBehavior, XTV.TvOohHelper, XTV.TvTypeBehavior, XTV.TvUrlBehavior, XTV.TvUserBehavior, XTV.TvBrowseBehavior],
        listeners: {
            "keypress-enter": "openBrowseHover",
            "keypress-move": "closeBrowseHover",
            "keypress-escape": "closeBrowseHoverAndFocus",
            mouseleave: "closeBrowseHover"
        },
        keyBindings: {
            esc: "closeBrowseHoverAndFocus"
        },
        observers: ["_browseItemChanged(browseItem, user.inhome)", "_onPlayNowAssetChange(playNowAsset, user.inhome)"],
        attached: function() {
            this.isPlayNowDetailDeferred || this.set("loaded", !0)
        },
        renderStyleChange: function(e) {
            var t = {
                "4X3_PROGRAM": "4x3",
                "16X9_PROGRAM": "16x9",
                POSTER: "3x4"
            };
            t[e] && this.set("aspectRatio", t[e])
        },
        _browseItemChanged: function(e, t) {
            this.isPlayNowDetailDeferred || this.set("playNowAsset", this.getPlayNowAsset(e, t))
        },
        _buttonWatchTitle: function(e, t) {
            return this.hasResumePoints(e.watchable, t) ? this.localize("Resume") : this.localize("Watch")
        },
        _buttonInfoTitle: function(e) {
            if (e.watchable && e.watchable.creativeWork) {
                var t = e.watchable.creativeWork;
                return this.isTvEpisode(t) || this.isTvSeries(t) ? this.localize("Episodes") : this.isMovie(t) ? this.localize("es" === this.getLanguage() ? "Info" : "Movie_Info") : this.localize("More_Info")
            }
        },
        _onPlayNowAssetChange: function(e, t) {
            this.set("loaded", !0),
            this.async(function() {
                this.episodic ? (this.$$(".heading").hidden = !this.isWatchingAssetDisabled(e.watchable, this.user.inhome),
                this.$$(".subHeading").hidden = !0) : (this.$$(".heading").hidden = !1,
                this.$$(".subHeading").hidden = !1),
                this.set("isMoviePoster", this.isMovie(e.watchable)),
                this.updateStyles()
            }, 25)
        },
        _getQualifier: function(e) {
            return this.isWatchingAssetDisabled(e.watchable, this.user.inhome) ? this.localize((this.isUniversity() ? "On_Campus" : "In_Home") + "_Only") : e.qualifier
        },
        _onTap: function() {
            this.errorLoading && this.navigateToHash(this.browseItem.link)
        },
        _watch: function(e) {
            return !e.currentTarget.hasAttribute("disabled") && (this.fire("app:player:watch", {
                options: {
                    refocusCurrentTarget: e.currentTarget,
                    refocusTarget: ".playnow-poster-item",
                    refocusParent: "li"
                },
                watchable: this.playNowAsset.watchable
            }),
            void this.closeBrowseHover())
        },
        _setTabindex: function(e) {
            return e ? "0" : "-1"
        },
        openBrowseHover: function(e) {
            this.errorLoading && this.navigateToHash(this.browseItem.link),
            this.loaded || this.fire("iron-announce", {
                text: this.localize("Please_wait")
            }),
            this.fire("mouseenter"),
            this.set("stampHover", !0),
            this.set("hoverOpened", !0),
            this._setTabindex(!0),
            this.setAttribute("aria-expanded", "true")
        },
        closeBrowseHover: function() {
            this.set("hoverOpened", !1),
            this._setTabindex(!1),
            this.setAttribute("aria-expanded", "false")
        },
        closeBrowseHoverAndFocus: function() {
            this.closeBrowseHover(),
            this.focus()
        }
    })
}(),
function() {
    Polymer({
        is: "tv-page-browse-node",
        behaviors: [XTV.TvA11yBehavior, XTV.TvLocalizeBehavior, XTV.TvBrowseBehavior, XTV.TvNetworkMapBehavior, XTV.TvPageBehavior, XTV.TvParentalControlsBehavior, XTV.TvParserBehavior, XTV.TvUrlBehavior, XTV.TvUserBehavior],
        properties: {
            allowedFilters: Array,
            chunkAmount: {
                type: Number,
                computed: "_getChunkAmount(user.userAgent.browser.name)"
            },
            endpointParams: {
                type: Object,
                value: function() {
                    return {}
                }
            },
            heroImg: {
                type: String,
                value: ""
            },
            _isLoadingMore: Boolean,
            isHeroFailed: {
                type: Boolean,
                reflectToAttribute: !0
            },
            maxPrograms: {
                type: Number,
                value: 12
            },
            provider: {
                type: Object,
                notify: !0
            },
            renderStyle: {
                type: String,
                reflectToAttribute: !0
            },
            resource: Object,
            _rowsParsedData: Array,
            rowsParsed: Array,
            safeBrowseChanged: Boolean,
            nodeId: String,
            nodeIdState: String
        },
        observers: ["_nodeChanged(activeFilters, nodeId, nodeIdState, localize)", "_resourceChanged(resource)", "_setAllowedFilters(user.tokenSummary)"],
        listeners: {
            "scroll-end": "addRows",
            "safe-browse-updated": "_setSafeBrowseChanged"
        },
        addRows: function() {
            var e = this.rowsParsed.length;
            this._isLoadingMore || this._rowsParsedData.length === e || (this.showSpinner(),
            this._isLoadingMore = !0,
            this.splice.apply(this, ["rowsParsed", e, 0].concat(this._rowsParsedData.slice(e, e + this.chunkAmount))),
            this.async(function() {
                this.hideSpinner(),
                this._isLoadingMore = !1
            }, 250))
        },
        _getChunkAmount: function(e) {
            return this.isBrowserIE(e) ? 3 : 100
        },
        _getLockIcon: function() {
            return this._isNetworkLocked() ? "tv-icons:locked" : "tv-icons:unlocked"
        },
        _isNetworkLocked: function() {
            var e;
            if (this.provider && this.networkHash)
                return e = this.networkHash[this.provider.companyId],
                this._lockedStatus(e).fullyLocked
        },
        _hideBackButton: function(e) {
            return "NETWORK_ENTITY" !== e
        },
        _setAllowedFilters: function() {
            this.set("allowedFilters", this.getAllowedFilters())
        },
        _setSafeBrowseChanged: function() {
            this.safeBrowseChanged = !0
        },
        _showLockIcon: function(e, t) {
            return !("NETWORK_ENTITY" === this.renderStyle && t)
        },
        _toggleNetworkLock: function() {
            this.$.pinVerify.needsVerification().then(function() {
                var e = !this._isNetworkLocked();
                this.fire("update-network-locks", {
                    companyId: this.provider.companyId,
                    channelIds: this.networkHash[this.provider.companyId].channels.map(function(e) {
                        return e.stationId
                    }),
                    locked: e
                })
            }
            .bind(this))
        },
        _showViewAll: function(e) {
            return this._isItemPosterOrEpisodic(e.childRenderStyle) && this._hasItems(e) && e.totalBrowseItems > this.maxPrograms
        },
        _hasItems: function(e) {
            return !!e.browseItems.length
        },
        _nodeChanged: function() {
            this.currentPage && this.ok && (this.nodeId || "loading" !== this.nodeIdState) && (this.get("nodeId") !== this.get("endpointParams.nodeId") && (this.set("title", ""),
            this.set("hidden", !0, this.$.filters),
            this.set("provider", null),
            this.set("renderStyle", "")),
            this.showSpinner(),
            this.resetMessages(),
            this.resetError(),
            this.set("rowsParsed", []),
            this.set("_rowsParsedData", []),
            this.set("endpointParams", {
                nodeId: this.nodeId,
                depth: 2,
                maxPrograms: this.maxPrograms,
                filters: this.getBrowseFilters(this.activeFilters)
            }),
            this.debounce("apiRequest", function() {
                this.fire("iron-announce", {
                    text: this.localize("Please_wait")
                }),
                this.$.browseNodeApi.sendRequest({
                    force: this.safeBrowseChanged
                }),
                this.safeBrowseChanged = !1
            }
            .bind(this), 100))
        },
        _handleResponse: function(e) {
            this.set("resource", e.detail.resource)
        },
        onPageClosed: function() {
            this.setA11yPageClosedFocus(),
            this.resetPage()
        },
        onPageOpened: function() {
            this.$.filters.reload(),
            this.fire("network-resources:load"),
            this.ok = !0,
            this._nodeChanged()
        },
        onResumePointPosted: function(e) {
            this.clearPlayNowFromCache(e.watchable)
        },
        onPlayerMediaEnded: function(e) {
            this.clearPlayNowFromCache(e.watchable)
        },
        rowsHaveNoItems: function() {
            return this.rowsParsed.every(function(e) {
                return !e.browseItems.length
            })
        },
        rowsHaveSomeItems: function() {
            return this.rowsParsed.some(function(e) {
                return e.browseItems.length
            })
        },
        resetMessages: function() {
            this.set("message", ""),
            this.$.largePageMessage.hidden = !0,
            this.$.smallPageMessage.hidden = !0
        },
        resetPage: function() {
            this.set("heroImg", ""),
            this.set("resource", void 0),
            this.set("renderStyle", ""),
            this.set("rowsParsed", void 0),
            this.set("_rowsParsedData", void 0),
            this.set("provider", void 0),
            this.$.networkLogo.resetImage(),
            this.set("hidden", !0, this.$.filters)
        },
        _setA11yLabel: function(e, t, i) {
            return 0 === e ? i + ". " + t + "." : t
        },
        _setA11yInstructions: function(e, t) {
            return 0 === e ? t : ""
        },
        showMessage: function() {
            this.resetMessages(),
            this.activeFilters.length ? (this.set("message", this.localize("Adjust_filters_to_see_more_titles_d")),
            this.$.largePageMessage.hidden = !this.rowsHaveNoItems(),
            this.$.smallPageMessage.hidden = this.rowsHaveNoItems()) : this.rowsHaveNoItems() && (this.set("message", this.localize("No_items_found_d")),
            this.$.largePageMessage.hidden = !1,
            this.hideSpinner())
        },
        _parsePromo: function(e, t) {
            var i, n = t.getProps();
            return "SMALL_PROMO" === e ? i = {
                height: 180,
                width: 270
            } : "PROMO" === e && (i = {
                height: 246,
                width: 369
            }),
            n.promoImage = t.getFirstAction("image").setParams(i).getActionUrl(),
            n.promoType = e,
            "BrowseEntity" === n._type ? n.url = this.urlFor("entity", n.entityId) : "BrowseCollection" === n._type ? n.url = this._createItemUrl(t.getFirstAction("browse").getActionUrl()) : "BrowseExternalLink" === n._type && (n.url = n.launch),
            n
        },
        _parseNetworkItem: function(e) {
            return {
                href: this._createItemUrl(e.getFirstAction("browse").getActionUrl()),
                logo: this.getImage(e.getEmbedded("contentProvider"), "logo", {
                    width: 206,
                    height: 92
                }) || "",
                name: e.getProp("title")
            }
        },
        _updateHeader: function(e) {
            var t;
            "NETWORK_ENTITY" === e.getProp("collectionRenderStyle") && (this.set("provider", this.$.contentProviderParser.getContentProvider(e)),
            this.rowsHaveSomeItems() ? (t = this.rowsParsed[0].browseItems[0].heroImg,
            this.$.headerContainer.hidden = !1,
            t ? this.set("heroImg", t) : this.set("isHeroFailed", !0)) : this.$.headerContainer.hidden = !0),
            this.set("hidden", !1, this.$.filters)
        },
        _resourceChanged: function(e) {
            if (e) {
                this.set("title", e.getProp("title")),
                this.setPageTitle(this.title),
                this.set("renderStyle", e.getProp("collectionRenderStyle"));
                var t = {
                    imgAction: e.getFirstAction("programImageLink"),
                    imgActionFallback: e.getFirstAction("programFallbackImageLink"),
                    playNowDetailAction: e.getFirstAction("playNowDetail2")
                };
                return e.hasEmbedded("browseItems") && e.getEmbedded("browseItems").length ? void Promise.all(e.getEmbedded("browseItems").map(function(e) {
                    var i, n = e.getProp("childTileRenderStyle");
                    if (this._isItemPosterOrEpisodic(n)) {
                        if ("16X9_PROGRAM" === n ? (t.posterWidth = 320,
                        t.posterHeight = 180) : "4X3_PROGRAM" === n ? (t.posterWidth = 320,
                        t.posterHeight = 240) : "POSTER" === n && (t.posterWidth = 240,
                        t.posterHeight = 320),
                        !e.getEmbedded("browseItems").length)
                            return;
                        i = Promise.all(this.$.browseParser.parseResource(e, t))
                    } else if (this._isItemPromo(n))
                        i = Promise.all((e.getEmbedded("browseItems") || []).map(this._parsePromo.bind(this, n)));
                    else {
                        if (!this._isItemNetwork("NETWORK"))
                            return;
                        i = Promise.all((e.getEmbedded("browseItems") || []).filter(function(e) {
                            return e.hasEmbedded("contentProvider")
                        }).map(this._parseNetworkItem.bind(this)))
                    }
                    return i.then(function(t) {
                        return {
                            title: e.getProp("title"),
                            browseItems: t,
                            childRenderStyle: n,
                            totalBrowseItems: e.getProp("totalBrowseItems"),
                            viewAllUrl: this._createItemUrl(e.getFirstAction("browse").getActionUrl())
                        }
                    }
                    .bind(this))
                }
                .bind(this))).then(function(t) {
                    this.set("_rowsParsedData", t.filter(function(e) {
                        return e
                    })),
                    this.addRows(),
                    this.setA11yPageOpenedFocus(),
                    this._updateHeader(e),
                    this.showMessage(),
                    this.hideSpinner(),
                    this.set("resource", void 0)
                }
                .bind(this)) : (this._updateHeader(e),
                void this.showMessage())
            }
        }
    })
}(),
Polymer({
    is: "tv-dvr-storage",
    properties: {
        percentUtilized: Number,
        recordingCount: Number,
        recordingsType: String,
        storageLabel: String,
        isLoaded: {
            type: Boolean,
            value: !1
        }
    },
    behaviors: [XTV.TvLocalizeBehavior],
    observers: ["_onLocalizeReady(localize)", "_amountFilled(percentUtilized)"],
    _amountFilled: function(e) {
        Polymer.dom(this.$.dvrProgressIndicator).setAttribute("filled", e < 80 ? "not-full" : e < 90 ? "pretty-full" : "really-full")
    },
    _getStorageLabel: function() {
        return this.localize("_percentUsed_Full_recdCount_" + ("scheduled" === this.recordingsType ? "Scheduled" : "Recordings"), "percentUsed", this.percentUtilized.toString(), "recdCount", this.recordingCount.toString())
    },
    _onLocalizeReady: function() {
        this.percent && this.recordingCount && this.set("storageLabel", this._getStorageLabel())
    },
    _openDvrOverlay: function(e) {
        e.preventDefault(),
        this.$.overlay.open()
    },
    onApiResponse: function(e, t) {
        var i = "scheduled" === this.recordingsType ? "totalScheduled" : "totalRecorded";
        this.set("percentUtilized", t.resource.getProp("percentUsed")),
        this.set("recordingCount", t.resource.getProp(i)),
        this.set("isLoaded", !0),
        this.set("storageLabel", this._getStorageLabel()),
        window.ll("setProfileAttribute", "Storage Utilization", this.percentUtilized)
    }
}),
function() {
    var e = {
        width: 240,
        height: 320
    }
      , t = {
        width: 200,
        height: 200
    };
    Polymer({
        is: "tv-parser-sports-team",
        hostAttributes: {
            hidden: !0
        },
        properties: {
            property: String
        },
        getSportsTeam: function(i) {
            if (i)
                return i.fetchEmbedded(this.property).then(function(i) {
                    var n = i.data
                      , r = n.getProps();
                    return r.conference = [r.conference, r.division].filter(Boolean).join(", "),
                    r.location && (r.location = [r.location.addressLocality, r.location.addressRegion, r.location.addressCountry].filter(Boolean).join(", ")),
                    r.name = [r.representingName, r.name].filter(Boolean).join(" "),
                    r.image = n.getFirstAction("fallbackImage", e).getActionUrl(),
                    r.teamLogo = n.getFirstAction("image", t).getActionUrl(),
                    r.entityId = r.merlinId,
                    r.type = r._type,
                    this.set("sportsTeam", r),
                    r
                }
                .bind(this))
        }
    })
}(),
function() {
    var e = /^(the|an|a) (.*)$/;
    Polymer({
        is: "tv-parser-recording-group",
        hostAttributes: {
            hidden: !0
        },
        behaviors: [XTV.TvParserBehavior, XTV.TvUrlBehavior],
        parseRecordingGroup: function(t) {
            if (t) {
                var i = t.getProps()
                  , n = t.getFirstAction("self").getActionUrl()
                  , r = [];
                return n = n.split("/"),
                n = n[n.length - 2],
                i.id = n,
                i.deleteGroupForm = t.getFirstAction("delete"),
                i.name = i.name || "",
                i.sortedName = i.name.toLowerCase().replace(e, "$2, $1"),
                i.timestamp = new Date(t.getProp("lastRecorded")).valueOf(),
                i.url = this.urlFor("recordings", n),
                i.recordingTime && (i.recordingTime.dateStartTimestamp = moment.utc(i.recordingTime.dateStart, XTV.TvMoment.RecordingDateFormat).valueOf(),
                i.recordingTime.dateEndTimestamp = moment.utc(i.recordingTime.dateEnd, XTV.TvMoment.RecordingDateFormat).valueOf(),
                i.recordingTime.duration = i.recordingTime.dateEndTimestamp - i.recordingTime.dateStartTimestamp),
                t.hasEmbedded("entity") && "s:SportsTeam" === t.getEmbedded("entity").getProp("_type") ? r.push(this.$.sportsTeamParser.getSportsTeam(t)) : r.push(this.$.creativeWorkParser.getCreativeWork(t)),
                r.push(t.hasAction("entityRecording") ? t.fetchEmbedded("entityRecording") : void 0),
                Promise.all(r).then(function(e, t) {
                    var i = t[0]
                      , n = t[1];
                    return i && (e.creativeWork = i,
                    e.entity = i),
                    i && n && (i.cancelForm = this.getForm(n.data, "cancel"),
                    i.modifyForm = this.getForm(n.data, "modify"),
                    i.scheduleForm = this.getForm(n.data, "schedule")),
                    e
                }
                .bind(this, i))
            }
        }
    })
}(),
function() {
    var e = /^(deleted recordings)$/i;
    Polymer({
        is: "tv-page-completed",
        properties: {
            finishedLoading: {
                type: Boolean,
                value: !1
            },
            resource: {
                notify: !0,
                observer: "_resourceChanged",
                type: Object,
                value: void 0
            },
            sortOption: {
                type: String,
                observer: "sortChanged"
            },
            sortFunction: {
                type: String,
                notify: !0
            },
            hasRecordings: {
                type: Boolean,
                value: !0
            }
        },
        behaviors: [XTV.TvA11yBehavior, XTV.TvLocalizeBehavior, XTV.TvPageBehavior, XTV.TvFindBehavior, XTV.TvTypeBehavior, XTV.TvUrlBehavior],
        _setA11yRecordingsAvailable: function(e) {
            return e > 1 ? this.localize("Recordings_available") : ""
        },
        _sortByAlpha: function(e, t) {
            return e.sortedName > t.sortedName ? 1 : e.sortedName < t.sortedName ? -1 : 0
        },
        _sortByRecent: function(e, t) {
            var i = parseInt(e.timestamp, 10)
              , n = parseInt(t.timestamp, 10)
              , r = parseInt(e.recordingTime ? e.recordingTime.dateEndTimestamp : 0, 10)
              , s = parseInt(t.recordingTime ? t.recordingTime.dateEndTimestamp : 0, 10);
            return i > n ? -1 : i < n ? 1 : r > s ? 1 : r < s ? -1 : this._sortByAlpha(e, t)
        },
        sortChanged: function(e) {
            "recent" === e && this.set("sortFunction", "_sortByRecent"),
            "a-z" === e && this.set("sortFunction", "_sortByAlpha")
        },
        onPageClosed: function() {
            this.setA11yPageClosedFocus(),
            this.hasRecordings = !0
        },
        onPageOpened: function() {
            (!this.resource || this.resource && !this.recordingGroups.length) && this.showSpinner(),
            this.setA11yLoadingAnnouncement(),
            this.sendApiRequests(["recordings", "storage"]),
            this.async(this.updateStyles, 1e3)
        },
        onRecordingModification: function(e) {
            var t = e.state
              , i = e.recordingGroup;
            /deleted-recording-group/.test(t) ? (i.numDownloads ? this.sendApiRequests(["recordings"]) : this.splice("recordingGroups", this.findById(this.recordingGroups, i), 1),
            this.sendApiRequests(["storage"]),
            this.set("hasRecordings", !!this.recordingGroups.length)) : /deleted-recording/.test(t) && (this.showSpinner(),
            this.sendApiRequests(["recordings"]))
        },
        _deleteRecordingGroup: function(e) {
            e.preventDefault(),
            this.fire("app:recording:delete:group", {
                recordingGroup: e.model.group
            })
        },
        _displayName: function(e, t) {
            return e + (t > 1 ? " (" + t + ")" : "")
        },
        _displaySubtitle: function(e) {
            return e.recordingTime ? "" : (moment.resetLocale(),
            e.numRecordings > 1 ? this.localize("Recordings_added_timeStamp_", "timeStamp", moment(e.timestamp).format("M/D h:mma")) : this.localize("Recording_added_timeStamp_", "timeStamp", moment(e.timestamp).format("M/D h:mma")))
        },
        _getImage: function(e) {
            var t = e.getFirstAction("image", {
                width: 240,
                height: 320
            }).getActionUrl()
              , i = e.getFirstAction("fallbackImage", {
                width: 240,
                height: 320
            }).getActionUrl();
            return t || i
        },
        _getImageTitle: function(e) {
            var t = "";
            return moment.setLocale("recorded-date-only"),
            t = this.isTvSeries(e.creativeWork) ? e.numRecordings + (e.numRecordings > 1 ? " " + this.localize("Episodes") : " " + this.localize("Episode")) : 1 === e.numRecordings ? moment(e.timestamp).calendar() : this.localize("_numRecordings_Recordings", "numRecordings", e.numRecordings),
            moment.resetLocale(),
            t
        },
        _handleResponse: function(e) {
            this.set("resource", e.detail.resource)
        },
        _initializeEmptySort: function() {
            this.set("sortOption", "recent")
        },
        _isDeletedRecordings: function(t) {
            return e.test(t)
        },
        _isGridView: function(e) {
            return /grid/.test(e)
        },
        _isListView: function(e) {
            return /list/.test(e)
        },
        _isRecordingNow: function(e) {
            return !!e
        },
        _finishedParsing: function(e) {
            this.set("recordingGroups", e.filter(Boolean)),
            this.set("finishedLoading", !0),
            this.hideSpinner(),
            this.setA11yPageOpenedFocus(),
            this.set("hasRecordings", !!this.recordingGroups.length),
            this.hasRecordings && this.$$("#sort").refresh()
        },
        _resourceChanged: function() {
            this.resource && Promise.all(this.resource.getEmbedded("recordingGroups").map(function(e) {
                return this._isDeletedRecordings(e.getProp("name")) ? (this.set("deletedGroup", e.getProps()),
                void this.set("deletedGroup.url", this.urlFor("deleted"))) : this.$.recordingGroupParser.parseRecordingGroup(e)
            }, this)).then(this._finishedParsing.bind(this))
        },
        _setA11yLabelledby: function(e, t, i) {
            return 0 === e ? t + " " + i + "-item-" + e + " " + i + "-sub-" + e : i + "-item-" + e + " " + i + "-sub-" + e
        },
        _setA11yInstructions: function(e, t) {
            return 0 === e ? t : ""
        },
        _setTabindex: function(e) {
            return 0 === e ? "0" : "-1"
        }
    })
}(),
Polymer({
    is: "tv-page-deleted",
    behaviors: [XTV.TvA11yBehavior, XTV.TvLocalizeBehavior, XTV.TvPageBehavior, XTV.TvFindBehavior, XTV.TvParentalControlsBehavior],
    properties: {
        hasRecordings: {
            type: Boolean,
            value: !0
        },
        recordingToErase: Object,
        recordingToRecover: Object,
        recordings: Array
    },
    observers: ["_onOverlayCompleted(overlayCompletedState)", "_recordingsReady(recordings)"],
    onPageOpened: function() {
        this.resource || this.showSpinner(),
        this.setA11yLoadingAnnouncement(),
        this.set("hasRecordings", !0),
        this.sendApiRequests(["deletedApi"])
    },
    onPageClosed: function() {
        this.setA11yPageClosedFocus()
    },
    _deletedDate: function(e) {
        return this.localize("Deleted_from_DVR_deletedDate_", "deletedDate", moment(e.dateDeleted, XTV.TvMoment.RecordingDateFormat).format("M/D"))
    },
    _eraseRecording: function(e) {
        this.set("recordingToErase", e.model.recording),
        this.$.overlayManager.start("overlayEraseRecording")
    },
    _handleResponse: function(e) {
        this.$.recordingsParser.parseRecordings(e.detail.resource).then(this.set.bind(this, "recordings"))
    },
    _onOverlayCompleted: function(e) {
        /erased-recording/.test(e) ? this._removeRecording(this.recordingToErase) : /recovered-recording/.test(e) && this._removeRecording(this.recordingToRecover)
    },
    _recordingsReady: function(e) {
        this.set("hasRecordings", !(!e || !e.length)),
        this.hideSpinner(),
        this.setA11yPageOpenedFocus()
    },
    _recoverRecording: function(e) {
        this.set("recordingToRecover", e.model.recording),
        this.$.overlayManager.start("overlayRecoverRecording")
    },
    _removeRecording: function(e) {
        this.splice("recordings", this.findById(this.recordings, e), 1),
        this._recordingsReady(this.recordings)
    }
}),
Polymer({
    is: "tv-parser-entity-recording",
    behaviors: [XTV.TvParserBehavior, XTV.TvImageParserBehavior],
    hostAttributes: {
        hidden: !0
    },
    getEntity: function(e, t) {
        var i = {};
        return e && (e.hasAction("entityRecording") || e.hasEmbedded("entityRecording")) ? e.fetchEmbedded("entityRecording", t || {}).then(function(e) {
            return e.data.fetchEmbedded("entity").then(function(t) {
                return i = Object.assign({}, t.data.getProps()),
                i.cancelForm = this.getForm(e.data, "cancel"),
                i.entityId = i.merlinId,
                i.modifyForm = this.getForm(e.data, "modify"),
                i.scheduleForm = this.getForm(e.data, "schedule"),
                i.type = i._type,
                i.image = this.imageUrl(t.data, i),
                i.fallbackImage = this.fallbackImageUrl(t.data),
                this.isSportsTeam(i) && (i.name = [i.representingName, i.name].filter(Boolean).join(" ")),
                i
            }
            .bind(this), function() {
                return {}
            }
            .bind(this))
        }
        .bind(this)) : Promise.resolve(void 0)
    }
}),
function(e) {
    e.XTV = e.XTV || {},
    e.XTV.TvMoment = e.XTV.TvMoment || {},
    Polymer({
        is: "tv-moment-initializer",
        behaviors: [XTV.TvLocalizeBehavior],
        observers: ["_onLocalizeReady(localize)"],
        ready: function() {
            moment.setLocale = function(e) {
                var t = this.getLanguage();
                moment.locale(e ? t + "-" + e : t)
            }
            .bind(this),
            moment.resetLocale = function() {
                moment.locale(this.getLanguage())
            }
            .bind(this)
        },
        _onLocalizeReady: function() {
            this.setupCalendars(),
            this.setUpMeridiem(),
            this.setupAiring(),
            this.setupPurchases(),
            this.setupRecording(),
            this.setupHeading(),
            this.setupRecordingDateOnly(),
            e.XTV.TvMoment.RecordingDateFormat = "DD MMM YYYY HH:mm:ss"
        },
        setupAiring: function() {
            var e = {
                sameDay: "[" + this.localize("Airs_Today") + "]",
                nextDay: "[" + this.localize("Airs_Tomorrow") + "]",
                nextWeek: "[" + this.localize("Airs") + "] ddd",
                sameElse: "[" + this.localize("Airs") + "] M/D"
            };
            moment.locale("en-airing", {
                parentLocale: "en",
                calendar: e
            }),
            moment.locale("es-airing", {
                parentLocale: "es",
                calendar: e
            })
        },
        setupCalendars: function() {
            moment.locale("es", {
                week: {
                    dow: 0
                }
            })
        },
        setupHeading: function() {
            var e = {
                sameDay: "[" + this.localize("Today_capitalize") + "],  MMMM D",
                nextDay: "[" + this.localize("Tomorrow") + "],  MMMM D ",
                nextWeek: "dddd, MMMM D",
                sameElse: "dddd, MMMM D"
            };
            moment.locale("en-heading", {
                parentLocale: "en",
                calendar: e
            }),
            moment.locale("es-heading", {
                parentLocale: "es",
                calendar: e
            })
        },
        setUpMeridiem: function() {
            var e = {
                meridiem: function(e) {
                    return e < 12 ? "a" : "p"
                }
            };
            moment.locale("en", e),
            moment.locale("es", e),
            moment.locale("en-airing", e),
            moment.locale("en-recording", e),
            moment.locale("en-recorded-date-only", e),
            moment.locale("en-heading", e)
        },
        setupPurchases: function() {
            var e = {
                lastWeek: "[" + this.localize("Purchased") + "] M/D",
                lastDay: "[" + this.localize("Purchased") + "] M/D",
                sameDay: "[" + this.localize("Purchased") + "] [" + this.localize("Today_capitalize") + "]",
                sameElse: "[" + this.localize("Purchased") + "] M/D"
            };
            moment.locale("en-purchased", {
                calendar: e
            }),
            moment.locale("es-purchased", {
                calendar: e
            })
        },
        setupRecording: function() {
            var e = {
                sameDay: "[" + this.localize("Recording_Today") + "] ",
                nextDay: "[" + this.localize("Recording_Tomorrow") + "] ",
                nextWeek: "[" + this.localize("Recording_synonym") + "] ddd ",
                sameElse: "[" + this.localize("Recording_synonym") + "] M/D "
            };
            moment.locale("en-recording", {
                parentLocale: "en",
                calendar: e
            }),
            moment.locale("es-recording", {
                parentLocale: "es",
                calendar: e
            })
        },
        setupRecordingDateOnly: function() {
            var e = {
                lastWeek: "[" + this.localize("Recorded") + "] M/D",
                lastDay: "[" + this.localize("Recorded") + "] M/D",
                sameDay: "[" + this.localize("Recorded") + "] [" + this.localize("Today_capitalize") + "]",
                sameElse: "[" + this.localize("Recorded") + "] M/D"
            };
            moment.locale("en-recorded-date-only", {
                calendar: e
            }),
            moment.locale("es-recorded-date-only", {
                calendar: e
            })
        }
    })
}(window),
Polymer({
    is: "tv-parser-recordings",
    behaviors: [XTV.TvParserBehavior, XTV.TvTypeBehavior],
    hostAttributes: {
        hidden: !0
    },
    properties: {
        property: String
    },
    getRecording: function(e) {
        if (!e)
            return Promise.resolve(void 0);
        var t, i = e.getProps(), n = [];
        return i.cancelForm = this.getForm(e, "cancel"),
        i.dateRecordedTimestamp = new Date(i.dateRecorded).valueOf(),
        i.deleteForm = this.getForm(e, "delete"),
        i.eraseForm = this.getForm(e, "erase"),
        i.description = i.derivedDescription,
        i.duration = parseInt(i.duration, 10),
        i.endTime = i.dateRecordedTimestamp + Number(i.duration),
        i.closedCaption = i.closedCaption || !1,
        i.hasDVS = i.dvs || i.hasDVS || !1,
        i.hasSAP = i.sap || !1,
        i.isHD = "hd" === i.videoQuality,
        i.resource = e,
        delete i.sap,
        delete i.videoQuality,
        delete i.watched,
        i.modifyForm = this.getForm(e, "modify"),
        i.recoverForm = this.getForm(e, "undeleteForm"),
        i.stream = {
            url: e.getFirstAction("stream").getActionUrl()
        },
        i.ratingDetails = i["contentRating/detailed"],
        e.hasEmbedded("encodesCreativeWork") || e.hasAction("encodesCreativeWork") ? n.push(this.$.creativeWorkParser.getCreativeWork(e)) : n.push(Promise.resolve(void 0)),
        n.push(this.$.entityRecordingParser.getEntity(e)),
        e.hasEmbedded("provider/channel") || e.hasAction("provider/channel") ? n.push(e.fetchEmbedded("provider/channel")) : n.push(Promise.resolve(void 0)),
        Promise.all(n).then(function(e) {
            return i.creativeWork = e[0],
            i.entity = e[1] || {},
            t = e[2],
            t && (i.channel = t.data.getProps(),
            i.contentProvider = {
                logoUrl: t.data.getFirstAction("logo", {
                    width: 125,
                    height: 87
                }).getActionUrl(),
                name: i.channel.callSign,
                providerId: t.data.getFirstAction("self").getRawActionUrl()
            }),
            i.creativeWork && (i.adult = i.creativeWork.isAdult,
            i.type = i.creativeWork._type,
            i.airdate = this.isMovie(i.creativeWork) ? i.creativeWork.releaseYear : i.derivedAirDate,
            this.isTvSeries(i.creativeWork) && (i.creativeWork.type = this.Types.TvEpisode),
            i.rating = i.creativeWork.rating,
            i.type = i.creativeWork.type),
            i
        }
        .bind(this), Function.prototype)
    },
    parseRecordings: function(e) {
        if (e)
            return Promise.all(e.getEmbedded(this.property).map(this.getRecording.bind(this)))
    }
}),
Polymer({
    is: "tv-parser-watch-options",
    behaviors: [XTV.behaviors.splunk],
    hostAttributes: {
        hidden: !0
    },
    parseWatchOptions: function(e) {
        if (e)
            return e.hasAction("watchOptions") ? Promise.all(e.getAction("watchOptions").map(this._fetchWatchable, this)).then(function(e) {
                return e
            })["catch"](function() {
                return []
            }) : e.hasEmbedded("watchOptions") ? Promise.all(e.getEmbedded("watchOptions").map(this._parseWatchable, this)) : Promise.resolve([])
    },
    _fetchWatchable: function(e) {
        return e.fetch().then(this._parseWatchable.bind(this), this.logError.bind(this))
    },
    _parseWatchable: function(e) {
        return this.$.watchableParser.parseWatchable(e.data || e)
    }
}),
function() {
    var e = "tv-badges:not([hidden]),tv-common-sense-media:not([hidden]),tv-rotten-tomatoes:not([hidden])"
      , t = {
        coach: "Coach",
        venue: "Venue",
        location: "Location",
        conference: "Conference"
    };
    Polymer({
        is: "tv-entity-info",
        properties: {
            actionMapping: {
                type: Object,
                readOnly: !0,
                value: function() {
                    var e = {};
                    return e[this.Types.CreativeWork] = "_actionsForMovie",
                    e[this.Types.Movie] = "_actionsForMovie",
                    e[this.Types.TvSeries] = "_actionsForSeries",
                    e[this.Types.SportsEvent] = "_actionsForMovie",
                    e[this.Types.SportsTeam] = "_actionsForTeam",
                    e
                }
            },
            actions: {
                type: Array,
                value: function() {
                    return []
                }
            },
            hasEpisodes: Boolean,
            creativeWork: Object,
            entityRecording: Object,
            manageableAsRepeatLabel: String,
            resource: Object,
            sportsTeamMetadata: Array,
            watchables: Array
        },
        behaviors: [XTV.TvOohHelper, XTV.TvRecordingBehavior, XTV.TvTypeBehavior, XTV.TvParentalControlsBehavior, XTV.TvAssetParserBehavior, XTV.TvUrlBehavior, XTV.TvUserBehavior],
        observers: ["buildActions(creativeWork, watchables, resumePoints, hasEpisodes)", "_controlsChanged(controls.*)", "_creativeWorkChanged(creativeWork)", "_entityRecordingChanged(entityRecording)", "_resourceChanged(resource, hasEpisodes)", "_watchableSpliced(watchables.splices)"],
        onTabClosed: function() {
            this.set("actions", []),
            this.set("watchables", [])
        },
        _controlsChanged: function() {
            this.creativeWork && (this.buildActions(),
            this.set("locked", this.isLocked(this.controls, this.creativeWork), this.$.badges))
        },
        _isSignInRequired: function(e) {
            return !this.isSignedIn() && !this._isUnauthAssetWatchable(e)
        },
        buildActions: function() {
            if (this.creativeWork) {
                var e = this.actionMapping[this.creativeWork.type];
                this.set("actions", e ? this[e].call(this) : [])
            }
        },
        _displayDiscoverMore: function(e) {
            if (!e || this.isSignedIn())
                return !1;
            var t = this._isUnauthAssetWatchable(e)
              , i = this._isSignInRequired(e);
            return 1 === e.length && t && !i
        },
        _isUnauthAssetWatchable: function(e) {
            return !(!e || 0 === e.length) && (Array.isArray(e) ? e.every(function(e) {
                return e.isUnauthWatchable
            }, this) : e.isUnauthWatchable)
        },
        _actionsForMovie: function() {
            var e = []
              , t = this._lockAction()
              , i = this.onlyRecordings(this.watchables);
            return this.isSignedIn() ? (e = this.watchableActions({
                watchables: this.watchables
            }, this.resumePoints),
            !this.allWatchablesDownloaded(i) && this.userHasEntitlements(["cdvr"]) && i.length && e.push("movieRecordOptions"),
            t && e.push(t)) : this._isSignInRequired(this.watchables) && !this.hasEpisodes ? e.push("signIn") : this._isUnauthAssetWatchable(this.watchables) && e.push("watchAsGuest"),
            e
        },
        _actionsForSeries: function() {
            var e = []
              , t = this._lockAction();
            return this.isSignedIn() ? (this.userHasEntitlements(["cdvr"]) && (this.manageableAsRepeat ? e.push("recordOptions") : this.recordableAsRepeat && e.push("recordRepeat")),
            t && e.push(t)) : e.push("signIn"),
            e
        },
        _actionsForTeam: function() {
            var e = [];
            return this.userHasEntitlements(["cdvr"]) && (this.manageableAsRepeat ? e.push("recordOptions") : this.recordableAsRepeat && e.push("recordRepeat")),
            e
        },
        _creativeWorkChanged: function(t) {
            if (t) {
                var i = t.reviews || {};
                if (this.isSportsTeam(t) && this._setSportsTeamInfo(t),
                this.isSportsEvent(t) || this.isSportsTeam(t))
                    return void (this.$.secondaryMetaData.hidden = !0);
                this.toggleAttribute("hidden", !i.rt, this.$.rt),
                this.toggleAttribute("hidden", !i.csm, this.$.csm),
                this.toggleAttribute("hidden", !this.querySelector(e), this.$.secondaryMetaData)
            }
        },
        _setSportsTeamInfo: function(e) {
            var i, n = Object.keys(e);
            return 0 === n.length ? [] : (i = Object.keys(t).filter(function(t) {
                return e[t]
            }),
            void this.set("sportsTeamMetadata", i.map(function(i) {
                return {
                    heading: t[i],
                    value: e[i]
                }
            })))
        },
        _entityRecordingChanged: function(e) {
            this.set("manageableAsRepeat", this.isManageableAsRepeat(e)),
            this.set("recordableAsRepeat", this.isRecordable(e)),
            this.set("manageableAsRepeatLabel", this.repeatRecordedLabel(e)),
            this.toggleAttribute("hidden", !this.manageableAsRepeat, this.$.manageableAsRepeat),
            this.buildActions()
        },
        _hasDisabledWatchables: function(e, t) {
            return !!e.length && e.every(function(e) {
                return this.isWatchingAssetDisabled(e, t)
            }, this)
        },
        _lockAction: function() {
            return !(!this.controls.enabled || this.isSportsEvent(this.creativeWork)) && (this.isTitleLocked(this.controls, this.creativeWork.lockableMerlinId) ? "unlock" : "lock")
        },
        _movieRecordOptions: function(e) {
            e.preventDefault(),
            this.fire("app:recordings:modify", {
                recordings: this.onlyRecordings(this.watchables)
            })
        },
        _recordOptions: function(e) {
            e.preventDefault(),
            this.fire("app:recording:modify", {
                recording: {
                    creativeWork: this.creativeWork,
                    entity: this.entityRecording
                }
            })
        },
        _recordRepeat: function(e) {
            e.preventDefault(),
            this.fire("app:record:repeat", {
                creativeWork: this.creativeWork,
                entity: this.entityRecording
            })
        },
        _resourceChanged: function(e, t) {
            e && this.debounce("watchOptions", function() {
                e && !t && this.$.watchOptionsParser.parseWatchOptions(e).then(this.set.bind(this, "watchables"))
            }, 250)
        },
        _setLock: function() {
            var e = this.isTitleLocked(this.controls, this.creativeWork.lockableMerlinId);
            this.$.pinVerify.needsVerification().then(function() {
                this.fire("update-title-lock", {
                    merlinId: this.creativeWork.lockableMerlinId,
                    locked: !e,
                    title: this.creativeWork.name
                })
            }
            .bind(this))
        },
        replaceRecording: function(e, t, i) {
            if (e && t && !this.hasEpisodes) {
                var n;
                if ("recorded-single" === t && i)
                    return n = this.findById(this.watchables, i),
                    void (n >= 0 ? this.splice("watchables", n, 1, e) : this.splice("watchables", 0, 0, e));
                n = this.findById(this.watchables, e),
                n >= 0 && ("modified-single" === t ? this.splice("watchables", n, 1, e) : "deleted-recording" !== t && "canceled-recording" !== t || this.splice("watchables", n, 1))
            }
        },
        _watch: function(e) {
            if (!e.currentTarget.hasAttribute("disabled")) {
                var t = e.currentTarget.getAttribute("name");
                this.fire("tv-watch-entity", {
                    restartVideo: "restart" === t || "watch" === t,
                    resumeVideo: "resume" === t,
                    watchables: this.watchables,
                    creativeWork: this.creativeWork
                })
            }
        },
        _watchableSpliced: function(e) {
            e && e.indexSplices && e.indexSplices.forEach(function(e) {
                (e.addedCount || e.removed.length) && this.buildActions()
            }, this)
        }
    })
}(),
Polymer({
    is: "tv-entity-episodes",
    properties: {
        hasEpisodes: Boolean,
        contentRendered: {
            type: Boolean,
            value: !1
        },
        creativeWork: Object,
        episodes: Array,
        groupedEpisodes: Array,
        episodesProperty: String,
        selectedEpisode: Object,
        selectedProgramId: String,
        tabOpen: {
            type: Boolean,
            value: !1
        }
    },
    behaviors: [XTV.TvLocalizeBehavior, XTV.TvAssetParserBehavior, XTV.TvFindBehavior, XTV.TvOohHelper, XTV.TVScrollToBehavior, XTV.TvTypeBehavior, XTV.TvUserBehavior, XTV.TvWatchableTypeBehavior],
    observers: ["_resourceReady(resource, episodesProperty, creativeWork, hasEpisodes)", "_watchablesChanged(selectedEpisode.watchables.splices)"],
    onEpisodeTap: function(e) {
        var t = e.currentTarget.getAttribute("data-episode-id");
        t && this.isTvSeries(this.creativeWork) && history.replaceState({}, null, "entity/" + this.creativeWork.merlinId + "/" + t)
    },
    onTabClosed: function() {
        this.set("contentRendered", !1),
        this.set("episodes", []),
        this.set("groupedEpisodes", []),
        this.set("selectedEpisode", void 0),
        this.set("tabOpen", !1)
    },
    onDomChanged: function() {
        if (!this.groupedEpisodes.length)
            return void this.set("contentRendered", !1);
        if (this.async(function() {
            this.set("contentRendered", !0)
        }, 250),
        this.selectedProgramId) {
            if (!this.isSignedIn() && !this._findEpisodeByProgramId(this.episodes, this.selectedProgramId))
                return void this.fire("open-info-tab");
            this.async(function() {
                this.scrollIntoView(this.$$('[data-episode-id="' + this.selectedProgramId + '"]'), 250, 0, 0)
            }, 500)
        }
    },
    _buildGroupedEpisodes: function(e) {
        var t = this._groupBySeason(e)
          , i = !(1 === Object.keys(t).length && "0" === Object.keys(t)[0]);
        this.set("groupedEpisodes", Object.keys(t).reverse().map(function(e, n) {
            return {
                title: i ? +e ? this.localize("Season") + " " + e : this.localize("Additional Episodes") : "",
                collection: t[e],
                index: n
            }
        }
        .bind(this)))
    },
    _createEpisode: function(e) {
        var t = Object.assign({}, e);
        return t.watchables = [e],
        t
    },
    _createAdditionalEpisodes: function(e) {
        return e.map(this._createEpisode.bind(this))
    },
    _composeTimeRemaining: function(e, t) {
        var i, n = this.getLatestResumePointForWatchables(e.watchables, t);
        if (n)
            return i = this.getWatchableForResumePoint(e.watchables, n),
            this.timeRemainingAsText(i, t)
    },
    _computePercentWatched: function(e, t, i) {
        var n, r = this.getLatestResumePointForWatchables(e.watchables, t), s = i[e.programId], o = 0;
        if (r) {
            if (s && new Date(s.dateWatched).valueOf() > new Date(r.dateUpdated).valueOf())
                return 100;
            n = this.getWatchableForResumePoint(e.watchables, r),
            o = this.percentWatched(n, r.position),
            o = o >= 100 ? 99 : o
        } else
            s && (o = 100);
        return o
    },
    _datePublished: function(e) {
        return e ? "(" + e + ")" : ""
    },
    _description: function(e) {
        return e.description || e.derivedDescription
    },
    _episodeNumber: function(e) {
        return e.episodeNumber ? "Ep" + e.episodeNumber : e.name || e.derivedTitle
    },
    getEpisodeActions: function(e, t) {
        var i, n;
        return e._allDownloaded ? [] : this.isSignedIn() ? (i = this.hasResumePoints(e, t) ? ["resume", "restart"] : ["watch"],
        n = this.onlyRecordings(e.watchables),
        n.length && !this.allWatchablesDownloaded(n) && i.push("recordOptions"),
        i) : this._isUnauthAssetWatchable(e) ? ["watchAsGuest"] : []
    },
    _getDownloadedWatchable: function(e) {
        return e.watchables.reduce(function(e, t) {
            return this.isDownloaded(t) ? t : {}
        }
        .bind(this), {})
    },
    _groupBySeason: function(e) {
        var t, i = {};
        return e.forEach(function(e) {
            t = e.partOfSeason ? e.partOfSeason.seasonNumber : 0,
            e.watchables.length && (i[t] || (i[t] = []),
            i[t].push(e))
        }),
        i
    },
    _setAdditionalEpisodeProperties: function(e) {
        return e._allDownloaded = this.allWatchablesDownloaded(e.watchables),
        e._someDownloaded = this.someWatchablesDownloaded(e.watchables),
        e._allDownloaded || e._someDownloaded ? e._downloadedWatchable = this._getDownloadedWatchable(e) : delete e._downloadedWatchable,
        this._isRecordingNow(e.watchables) ? (e._recordingNow = !0,
        e._recordingNowWatchable = this._getMostRecentRecording(e.watchables)) : (e._recordingNow = !1,
        delete e._recordingNowWatchable),
        e
    },
    _areEpisodesNotGrouped: function(e, t) {
        return 1 === Number(e) && !t
    },
    _isRecordingNow: function(e) {
        return e.some(function(e) {
            return this.isRecordingInProgress(e)
        }, this)
    },
    _getMostRecentRecording: function(e) {
        return e.filter(this.isRecording.bind(this)).reduce(function(e, t) {
            return e.dateRecordedTimestamp > t.dateRecordedTimestamp ? e : t
        })
    },
    _canShowProgress: function(e, t, i) {
        return !e._recordingNow && (!!i[e.programId] || this.hasResumePoints(e, t))
    },
    _hasDisabledWatchables: function(e, t) {
        return e.every(function(e) {
            return this.isWatchingAssetDisabled(e, t)
        }, this)
    },
    _filterListings: function(e) {
        return e.filter(function(e) {
            return !this.isListing(e)
        }, this)
    },
    _findEpisodeByProgramId: function(e, t) {
        if (t)
            return (e || []).some(function(e) {
                return e.programId === t
            }, this)
    },
    _isGroupOpened: function(e, t) {
        var i = this._findEpisodeByProgramId(this.episodes, this.selectedProgramId);
        return this.selectedProgramId && i ? e.collection.some(function(e) {
            return e.programId === this.selectedProgramId
        }, this) : 0 === t
    },
    _isEpisodeOpened: function(e, t, i) {
        var n = this._findEpisodeByProgramId(this.episodes, this.selectedProgramId);
        return this.selectedProgramId && n ? e.programId === this.selectedProgramId : 0 === t && 0 === i
    },
    _isUnauthAssetWatchable: function(e) {
        var t = !1;
        return this.isSignedIn() ? t : (Array.isArray(e.watchables) && (t = e.watchables.every(function(e) {
            return e.isUnauthWatchable
        }, this)),
        t)
    },
    replaceRecording: function(e, t, i) {
        if (this.episodes && 0 !== this.episodes.length && e && t) {
            var n, r, s, o = this.getItemPathInGroupCollection(this.groupedEpisodes, e.creativeWork.merlinId, "merlinId");
            return o || (o = this.getItemPathInGroupCollection(this.groupedEpisodes, e.id, "id")),
            !o && "recorded-single" === t && i ? (o = this.getItemPathInGroupCollection(this.groupedEpisodes, i.id, "id"),
            s = this._setAdditionalEpisodeProperties(this._createEpisode(e)),
            void (o ? this.splice("groupedEpisodes." + o.groupIndex + ".collection", o.itemIndex, 1, s) : (s.watchables.push(i),
            this.splice("groupedEpisodes.0.collection", 0, 0, s)))) : void (o && (n = this.get("groupedEpisodes." + o.groupIndex + ".collection." + o.itemIndex),
            n && (this.set("selectedEpisode", n),
            r = this.findById(n.watchables, e),
            r >= 0 && (/modified-single/.test(t) ? this.splice("selectedEpisode.watchables", r, 1, e) : /deleted-recording|canceled-recording/.test(t) && this.splice("selectedEpisode.watchables", r, 1)),
            /recorded-single/.test(t) && this.splice("selectedEpisode.watchables", this.selectedEpisode.watchables.length, 0, e))))
        }
    },
    _resourceReady: function(e, t, i, n) {
        if (e && t && i && n) {
            var r = [];
            this.async(function() {
                r.push(this.$.episodesParser.parseEpisodes(e)),
                r.push(this.$.watchOptionsParser.parseWatchOptions(e).then(this._filterListings.bind(this)).then(this._createAdditionalEpisodes.bind(this))),
                Promise.all(r).then(function(e) {
                    var t = e[0].concat(e[1]);
                    return t.length ? (this.set("episodes", t.map(this._setAdditionalEpisodeProperties.bind(this))),
                    void this._buildGroupedEpisodes(this.episodes)) : void this.fire("no-more-episodes")
                }
                .bind(this))
            }, 100)
        }
    },
    _recordOptions: function(e) {
        var t, i;
        i = this.onlyRecordings(e.model.episode.watchables).map(function(e) {
            return t = Object.assign({}, e),
            t.entity = this.entityRecording,
            t
        }, this),
        this.fire("app:recordings:modify", {
            recordings: i
        })
    },
    _setA11yEpisodesAvailable: function(e) {
        return e > 1 ? this.localize("Episodes_available") : this.localize("Episode_available")
    },
    _subtitle: function(e) {
        return e.episodeNumber ? e.name : ""
    },
    _watchablesInHomeOnly: function(e, t) {
        return e.every(function(e) {
            return this.isWatchingAssetDisabled(e, t)
        }, this)
    },
    _watch: function(e) {
        if (e.currentTarget.hasAttribute("disabled"))
            return !1;
        var t = e.model.episode
          , i = e.currentTarget.getAttribute("name");
        this.fire("tv-watch-entity", {
            restartVideo: "restart" === i || "watch" === i,
            resumeVideo: "resume" === i,
            watchables: t.watchables,
            creativeWork: t
        })
    },
    _watchablesChanged: function(e) {
        if (e && e.indexSplices) {
            var t, i, n;
            e.indexSplices.forEach(function(e) {
                if (t = this.getItemPathInGroupCollectionByIndex(this.groupedEpisodes, this.selectedEpisode))
                    return n = "groupedEpisodes." + t.groupIndex + ".collection",
                    i = Object.assign({}, this._setAdditionalEpisodeProperties(this.selectedEpisode)),
                    e.addedCount && i ? void this.splice(n, t.itemIndex, 1, i) : void (e.removed.length && i && (i.watchables.length ? this.splice(n, t.itemIndex, 1, i) : this.splice(n, t.itemIndex, 1),
                    this.get(n).length || this.splice("groupedEpisodes", t.groupIndex, 1),
                    this.groupedEpisodes.length || this.fire("no-more-episodes")))
            }, this)
        }
    }
}),
function(e) {
    e.XTV = e.XTV || {},
    e.XTV.TvActionsHelperImpl = {
        composeActionsForAsset: function(e, t) {
            var i = [];
            return this.isDownloaded(e) || (i = this.hasResumePoints(e, t) ? ["resume", "restart"] : ["watch"],
            this.userHasEntitlements("cdvr") && this.isRecording(e) && i.push("recordOptions")),
            i.push("entity"),
            i
        },
        getListingActions: function(e, t, i, n) {
            if (e) {
                var r = []
                  , s = this.isOnNow(e);
                return !s || !i && s && this.isRecordingInProgress(e.recording) && this.isTveVariant(e) ? r.push("watchChannel") : r.push("watch"),
                this.userHasEntitlements("cdvr") && e.recording ? r.push("recordOptions") : this.userHasEntitlements("cdvr") && e.endTime > Date.now() && !this.isTveListing(e) && r.push("record"),
                n && r.push("entity"),
                r
            }
        }
    },
    e.XTV.TvActionsHelper = [e.XTV.TvActionsHelperImpl, e.XTV.TvAssetParserBehavior, e.XTV.TvUserBehavior, e.XTV.TvWatchableTypeBehavior]
}(window),
Polymer({
    is: "tv-parser-streams",
    hostAttributes: {
        hidden: !0
    },
    parseStreamResource: function(e) {
        if (!e || !e.length)
            return {};
        var t = e[0]
          , i = t.getProps();
        return t.hasAction("contentUrl") && (i.url = t.getFirstAction("contentUrl").getActionUrl()),
        i
    }
}),
Polymer({
    is: "tv-parser-listings",
    behaviors: [XTV.TvParserBehavior],
    hostAttributes: {
        hidden: !0
    },
    parseListings: function(e) {
        if (e)
            return Promise.all(e.getEmbedded("upcomingListings").map(function(e) {
                return this._parseListing(e)
            }, this))
    },
    _parseListing: function(e, t) {
        var i, n, r = Object.assign({}, e.getProps());
        return r.scheduleForm = this.getForm(e, "schedule"),
        r.ratingDetails = r["contentRating/detailed"],
        r.derivedAiringType = r.derivedAiringType || "",
        r.startTime = parseInt(r.startTime, 10),
        r.endTime = parseInt(r.endTime, 10),
        r.duration = parseInt(r.endTime - r.startTime, 10),
        r.id = e.getFirstAction("self").getRawActionUrl().replace(/\.\.\//g, ""),
        r.details = e.getFirstAction("self"),
        r.resource = e,
        r.closedCaption = r.closedCaption || !1,
        r.hasDVS = r.hasDVS || !1,
        r.hasSAP = r.hasSAP || r.isSAP || !1,
        r.isHD = r.isHD || !1,
        i = [this.$.creativeWorkParser.getCreativeWork(e), e.getFirstAction("channel").fetch()["catch"](function(e) {
            return this.logError(e),
            Promise.resolve({
                data: !1
            })
        }), e.fetchEmbedded("recording").then(function(e) {
            return this.$.recordingsParser.getRecording(e.data)
        }
        .bind(this))["catch"](Function.prototype), this.$.entityRecordingParser.getEntity(e)],
        Promise.all(i).then(function(e, i) {
            return n = t || i[1].data,
            e.creativeWork = i[0],
            e.adult = e.creativeWork.isAdult || e.adult,
            e.type = e.creativeWork._type,
            n && (e.channel = n.getProps(),
            e.channel.id = n.getFirstAction("self").getRawActionUrl(),
            e.channel.resource = n,
            e.channel.tveVariant = n.getFirstAction("tveVariant").getRawActionUrl(),
            n.hasEmbedded("stream") && (e.channel.stream = e.stream = this.$.streamParser.parseStreamResource(n.getEmbedded("stream")),
            "disney" === e.channel.stream.streamProvider && (e.hasSAP = !1)),
            e.contentProvider = {
                logoUrl: n.getFirstAction("logo", {
                    width: 125,
                    height: 87
                }).getActionUrl(),
                name: e.channel.callSign,
                providerId: e.channel.id
            }),
            e.ratingDetails = e["contentRating/detailed"] || e.creativeWork.ratingDetails,
            i[2] && (e.recording = i[2],
            e.recording.creativeWork || (e.recording.creativeWork = e.creativeWork),
            e.recording.channel || (e.recording.channel = e.channel)),
            i[3] && (e.entity = i[3]),
            e
        }
        .bind(this, r))
    }
}),
Polymer({
    is: "tv-entity-upcoming",
    properties: {
        contentRendered: {
            type: Boolean,
            value: !1
        },
        creativeWork: Object,
        listings: Array,
        groupedListings: Array,
        overlayWorkingId: String,
        selectedProgramId: String,
        tabOpen: {
            type: Boolean,
            value: !1
        }
    },
    behaviors: [XTV.TvActionsHelper, XTV.TvAssetParserBehavior, XTV.TvFindBehavior, XTV.TvOohHelper, XTV.TvParentalControlsBehavior, XTV.TvTypeBehavior, XTV.TvUserBehavior, XTV.TvWatchableTypeBehavior, XTV.behaviors.splunk],
    observers: ["_listingsReady(listings)", "_resourceReady(resource)"],
    onDomChanged: function() {
        return this.groupedListings.length ? void this.async(function() {
            this.set("contentRendered", !0)
        }, 500) : void this.set("contentRendered", !1)
    },
    onTabClosed: function() {
        this.set("contentRendered", !1),
        this.set("listings", []),
        this.set("groupedListings", []),
        this.set("selectedListing", void 0),
        this.set("tabOpen", !1)
    },
    _resourceReady: function(e) {
        e && this.$.listingsParser.parseListings(e).then(this.set.bind(this, "listings"))
    },
    replaceRecording: function(e, t) {
        if (e && t) {
            var i, n;
            i = this.listings.findIndex(function(t) {
                return t.recording && t.recording.id === e.id
            }),
            i >= 0 && (this.set("selectedListing", this.listings[i]),
            this.set("selectedListing.recording", e),
            n = this.getItemPathInGroupCollectionByIndex(this.groupedListings, this.selectedListing),
            n && this.splice("groupedListings." + n.groupIndex + ".collection", n.itemIndex, 1, Object.assign({}, this.selectedListing)))
        }
    },
    _replaceListingInGroup: function(e) {
        if (this.groupedListings && e) {
            var t = this.findById(this.listings, e)
              , i = this.getItemPathInGroupCollection(this.groupedListings, e.id);
            this.splice("listings", t, 1, e),
            i && this.splice("groupedListings." + i.groupIndex + ".collection", i.itemIndex, 1, e)
        }
    },
    refreshListingAndCreateRecording: function(e) {
        this.set("selectedListing", e),
        this.async(function() {
            this.fetchAndParseListing(e).then(function(e) {
                this.set("selectedListing", void 0),
                this._replaceListingInGroup(e),
                this.isRecordingInProgress(e.recording) && this.fire("created-recording", {
                    listing: e
                })
            }
            .bind(this))
        }, 3e3)
    },
    refreshListingByRecording: function(e) {
        var t = this.findByIdOnProperty(this.listings, e.id, "recording");
        t >= 0 && this.async(function() {
            this.fetchAndParseListing(this.listings[t]).then(this._replaceListingInGroup.bind(this))
        }, 3e3)
    },
    fetchAndParseListing: function(e) {
        return e.details.fetch({
            force: !0
        }).then(function(t) {
            return this.$.listingsParser._parseListing(t.data, e.channel.resource)
        }
        .bind(this), this.logError.bind(this))
    },
    _groupByStartTime: function(e) {
        var t, i = {};
        return e.forEach(function(e) {
            t = moment(parseInt(e.startTime, 10)).startOf("day").valueOf(),
            i[t] ? i[t].push(e) : i[t] = [e]
        }),
        i
    },
    _isOverlayWorking: function(e, t) {
        return e && t && e === t
    },
    _isListingRecorded: function(e) {
        return !!e.recording
    },
    _isListingOpened: function(e, t) {
        return e === t
    },
    _isRecordingInProgress: function(e) {
        return !!e.recording && this.isRecordingInProgress(e.recording)
    },
    _isCollectionOpened: function(e, t) {
        return this.selectedProgramId ? e.some(function(e) {
            return e.creativeWork.programId === this.selectedProgramId
        }, this) : 0 === t
    },
    _expandedListingIndex: function(e) {
        return this.selectedProgramId ? e.findIndex(function(e) {
            return e.creativeWork.programId === this.selectedProgramId
        }, this) : 0
    },
    _listingsReady: function() {
        var e = this._groupByStartTime(this.listings)
          , t = !1;
        Object.keys(e).forEach(function(i, n) {
            var r = e[i]
              , s = !1
              , o = -1;
            t || (s = this._isCollectionOpened(r, n)),
            s && (t = !0,
            o = this._expandedListingIndex(r)),
            moment.setLocale("heading"),
            this.push("groupedListings", {
                title: moment(parseInt(i, 10)).calendar(),
                expanded: s,
                expandedListing: o,
                collection: e[i]
            })
        }
        .bind(this))
    },
    _onListRowTap: function(e) {
        var t = e.currentTarget;
        this.groupedListings.forEach(function(i, n) {
            i === e.model.group && this.set("groupedListings." + n + ".expanded", !0),
            t.opened ? this.set("groupedListings." + n + ".expandedListing", i.collection.indexOf(e.model.listing)) : this.set("groupedListings." + n + ".expandedListing", -1)
        }, this)
    },
    _record: function(e) {
        var t = Object.assign({}, e.model.listing);
        this.isSportsTeam(this.creativeWork) || (t.entity = this.entityRecording),
        this.fire("app:record:listing", {
            listing: t
        })
    },
    _recordOptions: function(e) {
        var t = Object.assign({}, e.model.listing.recording);
        this.isSportsTeam(this.creativeWork) || (t.entity = this.entityRecording),
        this.fire("app:recording:modify", {
            recording: t
        })
    },
    _watch: function(e) {
        var t = e.model.listing;
        this.fire("app:player:watch", {
            watchable: t.recording ? t.recording : t
        })
    },
    _watchChannel: function(e) {
        this.fire("app:player:watchChannel", {
            channel: e.model.listing.channel
        })
    }
}),
function() {
    var e = {
        info: "tabTitleForInfo",
        episodes: "tabTitleForEpisodes",
        upcoming: "tabTitleForUpcoming"
    };
    Polymer({
        is: "tv-page-entity",
        properties: {
            _sportsTeam: Boolean,
            _entityId: String,
            hasEpisodes: {
                readOnly: !0,
                type: Boolean,
                value: !1
            },
            creativeWork: Object,
            contentProvider: {
                observer: "_onContentProviderChange",
                type: Object
            },
            providerLogo: String,
            endpointParams: {
                type: Object,
                value: function() {
                    return {
                        includeTve: !0,
                        includeTveLinear: !0
                    }
                }
            },
            entityRecording: Object,
            hasNoRecommendations: Boolean,
            overlayWorkingId: String,
            resource: {
                observer: "_resourceChanged",
                type: Object
            },
            restartVideo: Boolean,
            resumeVideo: Boolean,
            selectedProgramId: String,
            selectedTabItem: Object,
            selectedTab: String,
            selectedWatchable: {
                observer: "_selectedWatchableChanged",
                type: Object
            },
            tabTitleForInfo: {
                computed: "_getTitleForInfo(creativeWork, localize)",
                type: String
            },
            tabTitleForEpisodes: {
                computed: "_getTitleForEpisodes(creativeWork, localize)",
                type: String
            },
            tabTitleForUpcoming: {
                computed: "_getTitleForUpcoming(creativeWork, localize)",
                type: String
            }
        },
        behaviors: [XTV.TvA11yBehavior, XTV.TvAssetParserBehavior, XTV.TvFindBehavior, XTV.TvLocalizeBehavior, XTV.TvPageBehavior, XTV.TvRecordingBehavior, XTV.TvTypeBehavior, XTV.TvUrlBehavior, XTV.TvWatchableTypeBehavior],
        observers: ["_defaultTabSet(params.*, query.*)", "_defaultEpisodeSet(params.*)", "_entityChanged(params.*)", "_everythingReady(resource, creativeWork, controls)", "_updateMetaTags(resource, creativeWork)"],
        listeners: {
            "created-recording": "_createRecording",
            "no-more-episodes": "_hideEpisodesTab",
            "open-info-tab": "_openInfoTab"
        },
        onPageClosed: function() {
            this.resetError(),
            this.$.poster.reset(),
            this.$$("#entityInfoPage").onTabClosed(),
            this.$$("#entityEpisodesPage").onTabClosed(),
            this.$$("#entityUpcomingPage").onTabClosed(),
            this.set("creativeWork", void 0),
            this.set("defaultTab", void 0),
            this.set("entityRecording", void 0),
            this.set("resource", void 0),
            this.set("selectedTab", void 0),
            this._setHasEpisodes(!1),
            this.setA11yPageClosedFocus()
        },
        onPageOpened: function() {
            if (!this.fetching && this._entityId && this.currentPage) {
                this.resetError(),
                this.showUnauthView && (this.$.tabEpisodes.hidden = !0,
                this.$.tabUpcoming.hidden = !0,
                this.set("controls", {
                    enabled: !1
                }));
                var e = this._sportsTeam ? ["sportsTeamApi"] : ["entityApi"];
                this.fetching = !0,
                this.async(function() {
                    this.showSpinner(),
                    this.setA11yLoadingAnnouncement(),
                    this.hidden = !0,
                    this.sendApiRequests(e)
                })
            }
        },
        _handleResponse: function(e) {
            this.fetching = !1,
            this.set("resource", e.detail.resource)
        },
        _pageLoaded: function() {
            this.hideSpinner(),
            this.hidden = !1,
            document.title = this.creativeWork.name + " | " + this.partner.appName,
            this.setEntityRecording(this.resource),
            this.setA11yPageOpenedFocus()
        },
        _areRecommendationsHidden: function(e) {
            return !/info/.test(e) || this.hasNoRecommendations
        },
        _defaultTabSet: function() {
            var e;
            e = this.params.opt1 && !/^\d+$/.test(this.params.opt1) ? this.params.opt1 : this.params.opt2,
            "true" === this.query.nextAiring ? this.set("defaultTab", this._sportsTeam ? "games" : "upcoming") : e && this.set("defaultTab", e)
        },
        _defaultEpisodeSet: function() {
            var e;
            e = this.params.opt1 && /^\d+$/.test(this.params.opt1) ? this.params.opt1 : this.params.opt2,
            this.set("selectedProgramId", e)
        },
        _entityApiError: function(e) {
            this.fetching = !1,
            this.hidden = !1,
            this.set("creativeWork", {
                name: "Program Details"
            }),
            this.pageError(e)
        },
        _entityChanged: function() {
            this.params && (this.onPageClosed(),
            this.set("_entityId", this.params.entityId || this.params.teamId),
            this.params.entityId ? (this.set("_sportsTeam", !1),
            this.endpointParams.programId = this._entityId) : this.params.teamId && (this.set("_sportsTeam", !0),
            this.endpointParams.teamId = this._entityId),
            this._swapTabOrder(),
            this.onPageOpened())
        },
        _onContentProviderChange: function(e) {
            this.set("providerLogo", (e || {}).logoUrl),
            this.toggleAttribute("hidden", !this.providerLogo, this.$.networkLogo)
        },
        _swapTabOrder: function() {
            var e = this._sportsTeam ? this.$$("#tabEpisodes") : this.$$("#tabUpcoming");
            e && Polymer.dom(this.$.viewControl).appendChild(e)
        },
        _everythingReady: function() {
            this.resource && (this._handleTabs(),
            this._pageLoaded())
        },
        _setEpisodesTab: function(e, t) {
            if (e && t) {
                var i, n, r;
                this.isSportsTeam(t) ? (this._setHasEpisodes(!0),
                i = e.hasEmbedded("games") && e.getEmbedded("games").length,
                this.$.tabEpisodes.hidden = !i) : this.isTvSeries(t) ? (n = !(!e.hasEmbedded("episodes") || !e.getEmbedded("episodes").length),
                r = !(!e.hasAction("watchOptions") || !e.getAction("watchOptions").length),
                this._setHasEpisodes(n || r),
                this.$.tabEpisodes.hidden = !this.hasEpisodes) : (this._setHasEpisodes(!1),
                this.$.tabEpisodes.hidden = !0)
            }
        },
        _setUpcomingTab: function(e) {
            if (e) {
                var t;
                this.user.authenticated ? (t = e.hasEmbedded("upcomingListings") && e.getEmbedded("upcomingListings").length,
                this.$.tabUpcoming.hidden = !t) : this.$.tabUpcoming.hidden = !0
            }
        },
        _handleTabs: function() {
            this._setEpisodesTab(this.resource, this.creativeWork),
            this._setUpcomingTab(this.resource),
            this.async(this._selectTab.bind(this, [this.defaultTab, "episodes", "info"]))
        },
        _hideEpisodesTab: function() {
            this.$.tabEpisodes.hidden = !0,
            this.selectedTab = "info"
        },
        _openInfoTab: function() {
            this.selectedTab = "info"
        },
        _itemSelected: function(e, t) {
            this.set("selectedTabItem", t.item),
            this.async(function() {
                this.set("tabOpen", !0, t.item)
            }, 250)
        },
        _createRecording: function(e, t) {
            var i = t.listing;
            i && i.recording && this.isRecordingInProgress(i.recording) && (this.$$("#entityInfoPage").replaceRecording(i.recording, "recorded-single", i),
            this.$$("#entityEpisodesPage").replaceRecording(i.recording, "recorded-single", i))
        },
        refreshEntityRecording: function() {
            this.async(function() {
                this.setEntityRecording(this.resource, {
                    force: !0
                })
            }, 2500)
        },
        _refreshAndUpdateRecording: function(e, t) {
            e && t && e && this.async(function() {
                this.refreshRecording(e).then(function(e) {
                    this.$.recordingsParser.getRecording(e.data).then(function(e) {
                        this.$$("#entityInfoPage").replaceRecording(e, t),
                        this.$$("#entityEpisodesPage").replaceRecording(e, t),
                        this.$$("#entityUpcomingPage").replaceRecording(e, t)
                    }
                    .bind(this))
                }
                .bind(this))
            }, 2500)
        },
        setEntityRecording: function(e, t) {
            this.$.entityRecordingParser.getEntity(e, t).then(this.set.bind(this, "entityRecording"))
        },
        onRecordingModification: function(e) {
            var t = e.state
              , i = e.working;
            return i ? void this.set("overlayWorkingId", e.listing.id) : (this.set("overlayWorkingId", ""),
            /canceled-repeat|recorded-repeat|modified-repeat/.test(t) && this.refreshEntityRecording(),
            void (/recorded-single/.test(t) ? this.$$("#entityUpcomingPage").refreshListingAndCreateRecording(e.listing) : /modified-single/.test(t) ? this._refreshAndUpdateRecording(e.recording, t) : /canceled-single|deleted-recording/.test(t) && (this.$$("#entityInfoPage").replaceRecording(e.recording, t),
            this.$$("#entityEpisodesPage").replaceRecording(e.recording, t),
            this.$$("#entityUpcomingPage").refreshListingByRecording(e.recording, t))))
        },
        _resourceChanged: function(e) {
            if (e)
                return "SportsTeamEntityDetail" === e.getProp("_type") ? (this.set("episodesProperty", "games", this.$.entityEpisodesPage),
                this.$.teamParser.getSportsTeam(e).then(this.set.bind(this, "creativeWork"))) : (this.set("episodesProperty", "episodes", this.$.entityEpisodesPage),
                this.toggleAttribute("hidden", !0, this.$.networkLogo),
                this.set("contentProvider", this.$.contentProviderParser.getContentProvider(e)),
                this.$.creativeWorkParser.getCreativeWork(e).then(this.set.bind(this, "creativeWork")).then(this.sendApiRequests.bind(this, ["recommendationsApi"])))
        },
        _selectedWatchableChanged: function(e) {
            e && this._watch(e)
        },
        _selectTab: function(e) {
            var t;
            e.some(function(e) {
                return e = "replays" === e ? "episodes" : e,
                e = "games" === e ? "upcoming" : e,
                t = Polymer.dom(this.$.viewControl).querySelector('[tab="' + e + '"]'),
                !(!t || t.hidden) && (this.set("selectedTab", e),
                !0)
            }, this)
        },
        _getTitleForInfo: function(e) {
            if (!e)
                return "";
            var t = {};
            return t[XTV.TvTypeBehavior.Types.Movie] = "Movie_Info",
            t[XTV.TvTypeBehavior.Types.SportsEvent] = "Game_Info",
            t[XTV.TvTypeBehavior.Types.SportsTeam] = "Team_Info",
            t[XTV.TvTypeBehavior.Types.TvSeries] = "Series_Info",
            t[e.type] || "Info"
        },
        _getTitleForEpisodes: function(e) {
            return e ? this.isSportsTeam(e) ? "Replays" : "Episodes" : ""
        },
        _getTitleForUpcoming: function(e) {
            return e ? this.isSportsTeam(e) ? "Games" : "Upcoming" : ""
        },
        _updateMetaTags: function(e, t) {
            if (!e || !t || "false" === document.getElementsByTagName("html")[0].getAttribute("prerender"))
                return !1;
            var i = t.name + ", " + t.name + " " + this.partner.name.toLowerCase() + ", " + t.name + " " + this.partner.company.toLowerCase()
              , n = ""
              , r = t.name
              , s = ""
              , o = JSON.parse(document.querySelector('script[type="application/ld+json"]').text);
            this.isTvSeries(t) && (n = "Watch full episodes of " + t.name + " by season. Never miss out on any episode!",
            s = "video.tv_show",
            o["@type"] = "TVSeries"),
            this.isMovie(t) && (n = "Enjoy " + t.name + " online with " + this.partner.productName + "'s high-quality streaming anytime, anywhere. Watch your favorite movies with " + this.partner.productName + " today!",
            s = "video.movie",
            o["@type"] = "Movie"),
            document.querySelector("meta[property=og\\:title]").setAttribute("content", r),
            document.querySelector("meta[property=og\\:description]").setAttribute("content", n),
            document.querySelector("meta[property=og\\:image]").setAttribute("content", t.image),
            document.querySelector("meta[property=og\\:type]").setAttribute("content", s),
            document.querySelector("meta[name=twitter\\:title]").setAttribute("content", r),
            document.querySelector("meta[name=twitter\\:description]").setAttribute("content", n),
            document.querySelector("meta[name=twitter\\:image]").setAttribute("content", t.image),
            document.querySelector("meta[name=twitter\\:image\\:alt]").setAttribute("content", r),
            document.title = r,
            document.querySelector("meta[name=description]").setAttribute("content", n),
            document.querySelector("meta[name=keywords]").setAttribute("content", i),
            o.name = r,
            document.querySelector('script[type="application/ld+json"]').text = JSON.stringify(o),
            window.prerenderReady = !0
        },
        _watch: function(e) {
            this.fire("app:player:watch", {
                watchable: e,
                options: {
                    restartVideo: this.restartVideo,
                    resumeVideo: this.resumeVideo
                }
            })
        },
        _watchEntity: function(e, t) {
            if (t.watchables) {
                var i, n, r = this.mixin({
                    restartVideo: !1,
                    resumeVideo: !1
                }, t || {}), s = t.creativeWork, o = t.watchables;
                this.set("restartVideo", r.restartVideo),
                this.set("resumeVideo", r.resumeVideo),
                1 === o.length ? this._watch(o[0]) : this.resumeVideo ? (i = this.getLatestResumePointForWatchables(o, this.resumePoints),
                n = this.getWatchableForResumePoint(o, i),
                this._watch(n)) : (this.set("watchables", o, this.$$("#overlayWatchOptions")),
                this.set("creativeWork", s, this.$$("#overlayWatchOptions")),
                this.$$("#overlayManager").start("overlayWatchOptions"));
            }
        },
        _onIronSelect: function(t) {
            var i = this.$.viewControl.selectedItem
              , n = Polymer.dom(this.$.viewControl).querySelectorAll('[role="tab"]')
              , r = e[i.getAttribute("tab")];
            n.forEach(function(e) {
                e.setAttribute("aria-selected", "false")
            }),
            this.async(function() {
                i.setAttribute("aria-selected", "true")
            }, 500),
            window.ll("tagEvent", "Entity Viewed", {
                "Tab Name": this[r].replace(/_/g, " ")
            })
        }
    })
}(),
Polymer({
    is: "tv-page-market-ineligible",
    behaviors: [XTV.TvLocalizeBehavior, XTV.TvUserBehavior],
    properties: {
        ironSelected: {
            type: Boolean,
            value: !1
        }
    },
    observers: ["onIronSelectChanged(ironSelected)"],
    onIronSelectChanged: function(e) {
        e && this.async(function() {
            this.$.content.setAttribute("role", "alert"),
            this.$.content.setAttribute("aria-label", "Coverage is still limited.")
        }, 500)
    }
}),
Polymer({
    is: "tv-page-not-customer",
    behaviors: [XTV.TvLocalizeBehavior, XTV.TvUserBehavior],
    properties: {
        ironSelected: {
            type: Boolean,
            value: !1
        }
    },
    observers: ["onIronSelectChanged(ironSelected)"],
    onIronSelectChanged: function(e) {
        e && this.async(function() {
            this.$.content.setAttribute("role", "alert"),
            this.$.content.setAttribute("aria-role", "Good News! XFINITY TV is now available in your area.")
        }, 500)
    }
}),
Polymer({
    is: "tv-popular-item",
    properties: {
        errorLoading: Boolean,
        loaded: {
            type: Boolean,
            value: !1
        },
        playNowAsset: Object,
        stamped: {
            type: Boolean,
            value: !1
        },
        unAuthedPlayNowAsset: {
            type: Object,
            computed: "getPlayNowAsset(browseItem)"
        }
    },
    behaviors: [XTV.TvLocalizeBehavior, XTV.TvActionsHelper, XTV.TvAssetParserBehavior, XTV.TvBrowseBehavior, XTV.TvOohHelper, XTV.TvParentalControlsBehavior, XTV.TvTypeBehavior, XTV.TvUrlBehavior],
    fireCarouselCloseAndFocus: function(e) {
        this.fire("close-and-focus", {
            target: e.currentTarget
        })
    },
    _isMovie: function(e) {
        return !!e && this.isMovie(e)
    },
    _isTvEpisode: function(e) {
        return !!e && this.isTvEpisode(e)
    },
    _onTap: function() {
        this.errorLoading && this.navigateToHash(this.browseItem.link)
    },
    _stampDetails: function() {
        this.set("stamped", !0)
    },
    _stampDetailsEnter: function(e) {
        var t = e.detail.keyboardEvent.target;
        t.fire("tap"),
        this.fire("iron-announce", {
            text: this.localize("Please_wait")
        })
    },
    _watch: function(e) {
        return !e.currentTarget.hasAttribute("disabled") && void this.fire("app:player:watch", {
            options: {
                restartVideo: "restart" === e.currentTarget.getAttribute("name") || "watch" === e.currentTarget.getAttribute("name"),
                refocusCurrentTarget: e.currentTarget,
                refocusTarget: ".carousel-item",
                refocusParent: "li"
            },
            watchable: this.playNowAsset.watchable
        })
    },
    _setA11yLabel: function(e, t, i) {
        return 0 === e ? t + i + "-heading " + t + i + "-item-" + e : t + i + "-item-" + e
    }
}),
function() {
    Polymer({
        is: "tv-last-watched",
        hostAttributes: {
            hidden: !0
        },
        properties: {
            lastWatched: {
                type: Array,
                notify: !0
            },
            lastWatchedChannels: {
                type: Array,
                notify: !0
            },
            limit: {
                type: Number,
                value: 12
            }
        },
        behaviors: [XTV.TvWatchableTypeBehavior, XTV.TvGridBehavior],
        observers: ["_updateChannelItems(grid.channels)"],
        onLoad: function() {
            ((this.lastWatched || [])[0] || {}).added ? (this.set("lastWatched", []),
            this.$.storage.save()) : (this._trimToLimit(),
            this._setLastWatchedChannels(),
            this._updateChannelItems())
        },
        onLoadEmpty: function() {
            this.set("lastWatched", []),
            this.set("lastWatchedChannels", [])
        },
        refresh: function() {
            this._hasChannels() && (this.channelMap || this.fire("fetch-channel-map"),
            this.isGridCurrent() || this.fire("grid:set-params"))
        },
        add: function(e) {
            var t;
            this.isListing(e) && (e = e.channel),
            (this.isChannel(e) || 0 !== Object.keys(e.creativeWork).length) && (this._removeWatchable(e),
            this.unshift("lastWatched", e),
            this._trimToLimit(),
            this.lastWatched.forEach(function(e, i) {
                this.isChannel(e) && (t = Object.assign({}, e),
                delete t.listings,
                this.splice("lastWatched", i, 1, t))
            }, this),
            this.$.storage.save(),
            this._updateChannelItems(),
            this._reloadAllStorage())
        },
        clear: function() {
            this.set("lastWatched", []),
            this.set("lastWatchedChannels", []),
            this.$.storage.save(),
            this._reloadAllStorage()
        },
        _removeWatchable: function(e) {
            e && this.lastWatched.some(function(t) {
                if (e.id === t.id)
                    return this.splice("lastWatched", this.lastWatched.indexOf(t), 1),
                    !0
            }, this)
        },
        remove: function(e) {
            this._removeWatchable(e),
            this.$.storage.save(),
            this._reloadAllStorage()
        },
        _reloadAllStorage: function() {
            [].slice.call(document.querySelectorAll('iron-localstorage[name="lastViewed"]')).forEach(function(e) {
                e.reload()
            })
        },
        _replaceChannelReferenceOn: function(e) {
            if (this[e]) {
                var t;
                this[e].forEach(function(i, n) {
                    this.isChannel(i) && (t = this.grid.channels.find(function(e) {
                        return e.id === i.id
                    }, this),
                    t && this.splice(e, n, 1, t))
                }, this)
            }
        },
        _hasChannels: function() {
            return (this.lastWatched || []).some(function(e) {
                return this.isChannel(e)
            }, this)
        },
        _setLastWatchedChannels: function() {
            this.set("lastWatchedChannels", (this.lastWatched || []).filter(function(e) {
                return this.isChannel(e)
            }, this))
        },
        _trimToLimit: function() {
            this.lastWatched.length > this.limit && this.splice("lastWatched", this.limit, this.lastWatched.length)
        },
        _updateChannelItems: function() {
            this.grid && this.grid.channels && this.isGridCurrent() && (this._setLastWatchedChannels(),
            this._replaceChannelReferenceOn("lastWatched"),
            this._replaceChannelReferenceOn("lastWatchedChannels"))
        }
    })
}(),
function() {
    var e = 12
      , t = {
        browseVodMovies: {
            resource: "popularMoviesResource",
            items: "popularMovieItems"
        },
        browseVodTvSeries: {
            resource: "popularShowsResource",
            items: "popularShowItems"
        },
        getRecentlyWatched: {
            resource: "recentlyWatchedResource",
            items: "recentlyWatchedItems"
        },
        getVodWatched: {
            resource: "recentlyRentedResource",
            items: "recentlyRentedItems"
        },
        recentChannels: {
            items: "recentChannels"
        },
        recentRecordings: {
            resource: "recentlyRecordedResource",
            items: "recentlyRecordedItems"
        }
    };
    Polymer({
        is: "tv-page-foryou",
        properties: {
            browseParams: {
                type: Object,
                readOnly: !0,
                value: {
                    limit: 12
                }
            },
            channelMap: Object,
            hasRows: {
                type: String,
                reflectToAttribute: !0,
                value: "unknown"
            },
            isAuthenticated: {
                type: Boolean,
                reflectToAttribute: !0
            },
            isNoResults: {
                type: Boolean,
                computed: "_isNoResults(hasRows)"
            },
            popularParams: {
                type: Object,
                computed: "_setPopularParams(user.authenticated, popularRowItemCount)"
            },
            popularRowItemCount: Number,
            popularMovieItems: {
                type: Array,
                value: function() {
                    return []
                }
            },
            popularShowItems: {
                type: Array,
                value: function() {
                    return []
                }
            },
            recentChannels: Array,
            recentlyRecordedItems: {
                type: Array,
                value: function() {
                    return []
                }
            },
            recentlyRentedItems: {
                type: Array,
                value: function() {
                    return []
                }
            },
            recentlyWatchedItems: {
                type: Array,
                value: function() {
                    return []
                }
            },
            selectedListing: Object,
            selectedLanguage: String
        },
        behaviors: [XTV.TvA11yBehavior, XTV.TvLocalizeBehavior, XTV.TvActionsHelper, XTV.TvAssetParserBehavior, XTV.TvBrowseBehavior, XTV.TvCarouselBehavior, XTV.TvGridBehavior, XTV.TvOohHelper, XTV.TvPageBehavior, XTV.TvParentalControlsBehavior, XTV.TvRecordingBehavior, XTV.TvTypeBehavior, XTV.TvUrlBehavior, XTV.TvUserBehavior, XTV.TvWatchableTypeBehavior, XTV.behaviors.splunk],
        listeners: {
            "carousel-select": "onCarouselSelected",
            "safe-browse-updated": "_onSafeBrowseChange"
        },
        observers: ["_onLanguageChange(selectedLanguage)", "_popularShowsResourceChanged(popularShowsResource)", "_popularMoviesResourceChanged(popularMoviesResource)", "_recentChannelsChanged(recentChannels, user.authenticated, currentPage)", "_recentlyRecordedResourceChanged(recentlyRecordedResource)", "_recentlyRentedResourceChanged(recentlyRentedResource)", "_recentlyWatchedResourceChanged(recentlyWatchedResource)"],
        fireCarouselCloseAndFocus: function(e) {
            e.currentTarget.fire("close-and-focus", {
                target: e.currentTarget
            })
        },
        onPageClosed: function() {
            this.setA11yPageClosedFocus(),
            this.hasRows || this.set("hasRows", "unknown")
        },
        onPageOpened: function() {
            var e, i, n = ["popularShowsApi", "popularMoviesApi"];
            return this.setA11yPageClosedFocus(),
            this.setA11yLoadingAnnouncement(),
            this.resetCarousels(),
            this.user.authenticated && ("unknown" === this.hasRows && this.showSpinner(),
            n.unshift("recentRentedApi"),
            n.unshift("recentWatchedApi"),
            this.userHasEntitlements("cdvr") && n.unshift("recentRecordingsApi")),
            e = n.map(function(e) {
                return this.$[e].sendRequest()["catch"](Function.prototype)
            }, this),
            this.recentChannels && this.recentChannels.length && e.push(Promise.resolve({
                endpoint: "recentChannels"
            })),
            Promise.all(e).then(function(e) {
                var n;
                this.hideSpinner(),
                this.setA11yPageOpenedFocus(this.user.authenticated),
                i = e.filter(Boolean).some(function(e) {
                    return n = !!t[e.endpoint] && t[e.endpoint].items,
                    !!n && this._hasItems(this[n].length)
                }
                .bind(this)),
                this.set("hasRows", i.toString())
            }
            .bind(this))
        },
        onPlayerMediaOpened: function(e) {
            var t = e.watchable;
            this.isListing(t) || (this._removeItemFromCollection("recentlyWatchedItems", t.id),
            this.splice("recentlyWatchedItems", 0, 0, t))
        },
        onPlayerMediaEnded: function(e) {
            var t = e.watchable;
            this.isListing(t) || (this._removeItemFromCollection("recentlyWatchedItems", t.id),
            this.isAnyVod(t) && this.clearPlayNowFromCache(t))
        },
        onRecordingModification: function(e) {
            var t = e.state
              , i = e.recording;
            "" !== t && i && (/deleted-recording/.test(t) && (this.removeRecordingFromCollection("recentlyRecordedItems", i),
            this.removeRecordingFromCollection("recentlyWatchedItems", i)),
            this.selectedListing ? this._updateSelectedListing() : /deleted-recording/.test(t) || this.refreshRecording(i).then(function(e) {
                this._parseWatchable(e.data).then(this.updateRecordingInCollection.bind(this, "recentlyRecordedItems"))
            }
            .bind(this)))
        },
        onResumePointPosted: function(e) {
            this.clearPlayNowFromCache(e.watchable)
        },
        onCarouselSelected: function(e, t) {
            t.parentCarousel && this.closeCarousels(t.parentCarousel),
            this.selectedListing && this.set("selectedListing", void 0),
            e.target.classList.contains("is-recent-channel") && this._getListingDetails(e),
            this.setCarouselDetailsStyling(e.target, t.parentCarousel.parentElement.id)
        },
        setCarouselDetailsStyling: function(e, t) {
            if ("popularShowsRow" !== t && "popularMoviesRow" !== t && "recentlyRented" !== t) {
                var i = e.querySelector(".x2-actions [name=restart]")
                  , n = e.querySelector(".x2-actions [name=recordOptions]")
                  , r = e.querySelector(".x2-actions [name=info]")
                  , s = !i.hidden && !n.hidden && !r.hidden;
                this.toggleClass("carousel-details-es-long", "es" === this.getLanguage(!1) && s, e.querySelector(".carousel-details"))
            }
        },
        _watchSelectedListing: function(e) {
            return !e.currentTarget.hasAttribute("disabled") && (this.fire("app:player:watch", {
                options: {
                    refocusCurrentTarget: e.currentTarget,
                    refocusTarget: ".carousel-item",
                    refocusParent: "li"
                },
                watchable: this.selectedListing
            }),
            void this.resetCarousels())
        },
        _watch: function(e) {
            return !e.currentTarget.hasAttribute("disabled") && (this.closeCarousels(),
            void this.fire("app:player:watch", {
                options: {
                    restartVideo: "restart" === e.currentTarget.getAttribute("name") || "watch" === e.currentTarget.getAttribute("name"),
                    refocusCurrentTarget: e.currentTarget,
                    refocusTarget: ".carousel-item",
                    refocusParent: "li"
                },
                watchable: e.model.item.playNowItem ? this.getPlayNowAsset(e.model.item, this.user.inhome).watchable : e.model.item
            }))
        },
        _composeTitle: function(e) {
            if (e)
                return this.isMovie(e.creativeWork) ? e.derivedTitle : this.isSportsEvent(e.creativeWork) ? e.creativeWork.name : e.entity && e.entity.name ? e.entity.name : e.creativeWork && e.creativeWork.series ? e.creativeWork.series.name : e.creativeWork && e.creativeWork.name ? e.creativeWork.name : void 0
        },
        _composeActionsForAssetWhenCurrent: function(e, t) {
            return this.currentPage ? this.composeActionsForAsset(e, t) : []
        },
        _composeOnNowTitle: function(e) {
            if (!e || !e.listings)
                return "";
            var t = this.getCurrentlyOnListing(e.listings);
            return t ? this.localize("On_Now_c") + " " + t.title : ""
        },
        _computeWatched: function(e, t, i) {
            if (this.currentPage) {
                var n = i[e.programId]
                  , r = this.getItemResumePoint(e, t)
                  , s = 0;
                if (r) {
                    if (n && new Date(n.dateWatched).valueOf() > new Date(r.dateUpdated).valueOf())
                        return 100;
                    s = this.percentWatched(e, r.position),
                    s = 0 === s ? 1 : s
                } else
                    n && (s = 100);
                return s
            }
        },
        _hasResumePointAndNotRecording: function(e, t) {
            if (this.currentPage)
                return this.hasResumePoints(e, t) && !this.isRecordingInProgress(e)
        },
        _isWatchedAndNotRecording: function(e, t, i) {
            if (this.currentPage)
                return !this.isRecordingInProgress(e) && (i[e.programId] || this.getItemResumePoint(e, t))
        },
        _hasValidRentalPrice: function(e) {
            return (e.getProp("price") || 0) > 0
        },
        _fetchListingDetails: function(e, t) {
            return e.details.fetch({
                force: !0
            }).then(function(e) {
                return this.querySelector("#listingsParser")._parseListing(e.data, t.resource)
            }
            .bind(this), this.logError.bind(this))
        },
        _getListingDetails: function(e) {
            var t = e.target
              , i = t.channel
              , n = this.getCurrentlyOnListing(i.listings);
            t.querySelector(".carousel-details").appendChild(this.$.detailsContainer),
            this.$.detailsContainer.hidden = !1,
            this.$.detailContent.hidden = !0,
            this.$.detailSpinner.active = !0,
            this._fetchListingDetails(n, i).then(function(e) {
                this.set("selectedListing", e),
                this.$.detailContent.hidden = !1,
                this.$.detailSpinner.active = !1
            }
            .bind(this))
        },
        _handleApiError: function() {},
        _handleApiResponse: function(e) {
            this.set(t[e.detail.endpoint].resource, e.detail.resource)
        },
        _isEpisodeOrSeriesOrEvent: function(e) {
            return this.isTvEpisode(e) || this.isTvSeries(e) || this.isSportsEvent(e)
        },
        _isNoResults: function(e) {
            return "false" === e
        },
        _noResultAction: function(e) {
            window.page(e.currentTarget.value)
        },
        _updateSelectedListing: function() {
            this._fetchListingDetails(this.selectedListing, this.selectedListing.channel).then(function(e) {
                this.set("selectedListing", e),
                e.recording && this.splice("recentlyRecordedItems", 0, 0, e.recording)
            }
            .bind(this))
        },
        _setGridParams: function() {
            this.fire("grid:set-params")
        },
        _recentChannelsChanged: function(e, t, i) {
            return e.length && t && i ? (this.$.lastWatched.refresh(),
            this.$$("#recentChannels").hidden = !1,
            void this.resetCarousels()) : void (this.$$("#recentChannels").hidden = !0)
        },
        _removeItemFromCollection: function(e, t) {
            if (t && this[e]) {
                var i = this[e].find(function(e) {
                    return e.id === t
                });
                i && this.splice(e, this[e].indexOf(i), 1)
            }
        },
        _parseWatchable: function(e) {
            return this.querySelector("#watchableParser").parseWatchable(e)
        },
        _popularShowsResourceChanged: function() {
            this.popularShowsResource && Promise.all(this.querySelector("#browseParser").parseResource(this.popularShowsResource)).then(this._setCarouselItems.bind(this, "browseVodTvSeries"))
        },
        _popularMoviesResourceChanged: function() {
            this.popularMoviesResource && Promise.all(this.querySelector("#browseParser").parseResource(this.popularMoviesResource)).then(this._setCarouselItems.bind(this, "browseVodMovies"))
        },
        _filterExpired: function(e) {
            return e.filter(function(e) {
                if (!e.expirationTime || !moment().isAfter(e.expirationTime))
                    return e
            }, this)
        },
        _recentlyRecordedResourceChanged: function() {
            if (this.recentlyRecordedResource) {
                var e = this.recentlyRecordedResource.getEmbedded("recordings");
                Promise.all(e.map(this._parseWatchable, this)).then(this._setCarouselItems.bind(this, "recentRecordings"))
            }
        },
        _recentlyRentedResourceChanged: function() {
            if (this.recentlyRentedResource) {
                var e = this.recentlyRentedResource.getEmbedded("watchedVodList");
                Promise.all(e.filter(this._hasValidRentalPrice).map(this._parseWatchable, this)).then(function(e) {
                    e.sort(this._sortRecentlyRented.bind(this)),
                    this._setCarouselItems("getVodWatched", e)
                }
                .bind(this))
            }
        },
        _recentlyWatchedResourceChanged: function() {
            if (this.recentlyWatchedResource) {
                var e = this.recentlyWatchedResource.getEmbedded("recentlyWatchedAssets");
                Promise.all(e.map(this._parseWatchable, this)).then(this._filterExpired.bind(this)).then(this._setCarouselItems.bind(this, "getRecentlyWatched"))
            }
        },
        _record: function() {
            this.fire("app:record:listing", {
                listing: this.selectedListing
            })
        },
        _recordOptionsFlow: function(e) {
            var t = e.model ? e.model.item : this.selectedListing ? this.selectedListing.recording : null;
            t && this.fire("app:recording:modify", {
                recording: t
            })
        },
        _rentedLabel: function(e, t) {
            if (this.currentPage) {
                var i = [this.getRentalExpiredTime(e.rentalExpires)]
                  , n = this.timeRemainingAsText(e, t);
                return n && i.unshift(n),
                i.join(", ")
            }
        },
        _hasItems: function(e) {
            return Number(e) > 0
        },
        _setCarouselItems: function(e, i) {
            this.set(t[e].items, i)
        },
        _setPopularParams: function(t, i) {
            return {
                perPage: i || e,
                sort: "popular",
                filters: "",
                embedPlayNowDetail: !t
            }
        },
        _sortRecentlyRented: function(e, t) {
            var i = (this.getItemResumePoint(e, this.resumePoints) || {}).dateUpdated || 0
              , n = (this.getItemResumePoint(t, this.resumePoints) || {}).dateUpdated || 0;
            return i && n ? i > n ? -1 : i < n ? 1 : 0 : i ? -1 : n ? 1 : e.watched ? t.watched ? 0 : -1 : 1
        },
        _watchedLabel: function(e, t, i) {
            if (this.currentPage) {
                var n = [e.rentalExpires ? this._rentedLabel(e, t) : this.timeRemainingAsText(e, t)];
                return this.isPurchase(e) && n.push(this.purchasedLabel(e.transactionDetails.purchaseTimestamp, i ? e.isHD ? "HD" : "SD" : void 0)),
                n.filter(Boolean).join(", ")
            }
        },
        _setA11yLabel: function(e, t) {
            return 0 === e ? t + "-heading " + t + "-item-" + e : t + "-item-" + e
        },
        _setA11yInstructions: function(e, t) {
            return 0 === e ? t : ""
        },
        _onSafeBrowseChange: function() {
            this.set("popularMovieItems", []),
            this.set("popularShowItems", []),
            this.set("recentlyWatchedItems", []),
            this.set("recentlyRentedItems", []),
            this.set("recentlyRecordedItems", []),
            this.set("hasRows", "unknown")
        },
        _onLanguageChange: function(e) {
            this.toggleClass("language-es", "es-US" === e)
        }
    })
}(),
Polymer({
    is: "tv-grid-row",
    properties: {
        active: {
            type: Boolean,
            observer: "_activeChanged"
        },
        channel: Object,
        selectedCell: Object,
        gridStart: Number,
        gridEnd: Number,
        visibleTimeFrame: Number,
        rowIndex: Number
    },
    behaviors: [XTV.TvA11yBehavior, XTV.TvLocalizeBehavior, XTV.TvGridBehavior],
    _activeChanged: function() {
        this.active || this._deactivateCell()
    },
    _activateCell: function(e) {
        this.set("selectedCell", e),
        this.selectedCell.setAttribute("active", !0),
        this.selectedCell.setAttribute("aria-expanded", "true")
    },
    _deactivateCell: function() {
        this.selectedCell && (this.selectedCell.removeAttribute("active"),
        this.selectedCell.setAttribute("aria-expanded", "false"),
        this.set("selectedCell", null))
    },
    _onListingSelected: function(e) {
        e.preventDefault(),
        e.currentTarget === this.selectedCell ? this._clearSelectedItem() : this._setSelectedItem(e.currentTarget, e.model.listing)
    },
    _clearSelectedItem: function() {
        this._deactivateCell(),
        this.fire("grid-cell-unselected")
    },
    _setSelectedItem: function(e, t) {
        this._deactivateCell(),
        this._activateCell(e),
        this.fire("grid-cell-selected", {
            item: t,
            row: this,
            index: this.rowIndex
        })
    },
    select: function() {
        this._setSelectedItem(this.$$("a.grid-program-action"), this.getCurrentlyOnListing(this.channel.listings))
    },
    _getTitle: function(e, t) {
        if (e && t) {
            var i = moment(parseInt(e.startTime, 10)).format("h:mma")
              , n = moment(parseInt(e.endTime, 10)).format("h:mma");
            return this.localize("_title_start_to_end_", "title", e.title, "start", i, "end", n)
        }
    },
    _listingWidth: function(e) {
        var t = Math.max(e.startTime, this.channel.gridStart)
          , i = Math.min(e.endTime, this.channel.gridEnd)
          , n = i - t
          , r = 218 * n / 18e5;
        return "width:" + r + "px"
    },
    _watchChannel: function(e) {
        e.preventDefault(),
        this.fire("tv-listing-watch-channel", {
            watchable: this.channel.listings[0]
        })
    },
    _setTabindex: function(e) {
        return 0 === e ? "0" : "-1"
    },
    _findFocusedItem: function(e) {
        var t = this.querySelectorAll("[data-start-time]");
        return e === -1 ? this.querySelector(".grid-channel-action") : e === -2 ? this.querySelector("#favoritesButton") : Array.prototype.filter.call(t, function(t) {
            return parseInt(t.getAttribute("data-start-time"), 10) <= e
        }).pop()
    },
    enableFocus: function(e) {
        var t = this._findFocusedItem(e);
        t && (this.clearFocus(),
        t.setAttribute("tabindex", "0"))
    },
    setFocus: function(e) {
        var t = this._findFocusedItem(e);
        t && (this.enableFocus(e),
        t.focus())
    },
    clearFocus: function() {
        Array.prototype.forEach.call(this.querySelectorAll("[data-start-time]"), function(e) {
            e.setAttribute("tabindex", "-1")
        }),
        this.querySelector(".grid-channel-action").setAttribute("tabindex", "-1")
    },
    _getProgramStartTimes: function() {
        var e = this.gridStart + 18e5 * this.visibleTimeFrame;
        return [].map.call(this.querySelectorAll("[data-start-time]"), function(e) {
            return Math.max(this.gridStart, Number(e.getAttribute("data-start-time")))
        }, this).filter(function(t) {
            return e > t
        })
    },
    getNextTime: function(e) {
        var t, i = this._getProgramStartTimes();
        return e === -2 ? -1 : (t = i.find(function(t) {
            return t > e
        }),
        t || this.fire("grid:skip-forward", {
            refocusRow: !0,
            setTime: "first"
        }),
        t)
    },
    getPreviousTime: function(e) {
        var t, i = this._getProgramStartTimes();
        return e < 0 ? Math.max(-2, e - 1) : (t = i.reverse().slice(1).find(function(t) {
            return t < e
        }),
        t || this.fire("grid:skip-back", {
            refocusRow: !0,
            setTime: "last"
        }),
        t)
    },
    timeClamp: function(e) {
        return e.startTime < this.gridEnd && e.endTime > this.gridStart
    }
}),
function() {
    function e(e) {
        for (var t = e.target; t; ) {
            if ("tv-datepicker" === t.localName)
                return;
            t = t.parentElement
        }
        this.set("open", !1)
    }
    Polymer({
        is: "tv-datepicker-popup",
        properties: {
            open: {
                type: Boolean,
                value: !1,
                notify: !0,
                observer: "popupStateChange"
            }
        },
        behaviors: [XTV.TvLocalizeBehavior],
        dismissPopup: function() {
            this.fire("dismissed"),
            this.set("open", !1)
        },
        popupStateChange: function() {
            this.clickListener || (this.clickListener = e.bind(this)),
            this.open ? (this.returnFocus = document.activeElement,
            Polymer.dom(this.root).querySelector("button.dialog-close").focus(),
            document.addEventListener("click", this.clickListener, !1),
            this.fire("opened")) : (this.returnFocus && this.returnFocus.focus(),
            document.removeEventListener("click", this.clickListener, !1),
            this.fire("closed"))
        }
    })
}(),
Polymer({
    is: "tv-datepicker-options",
    properties: {
        calculatedDate: Number,
        dateOption: {
            type: String,
            notify: !0
        },
        timeOption: {
            type: String,
            notify: !0
        },
        nextWeekOptionLabel: String,
        nowOptionLabel: String,
        tonightOptionLabel: String,
        setDateLabel: String,
        setTimeLabel: String
    },
    behaviors: [XTV.TvGridBehavior, XTV.TvLocalizeBehavior, XTV.TvMoment],
    observers: ["updateOptionLabels(calculatedDate, dateOption, timeOption, localize)"],
    isToday: function() {
        return moment(this.calculatedDate).isBetween(moment().startOf("day"), moment().endOf("day"), null, "[]")
    },
    updateOptionLabels: function() {
        var e, t;
        this.localize && (moment.setLocale(),
        e = this.floorMoment(),
        t = this.isToday(),
        this.set("nowOptionLabel", t ? this.localize("Now") : e.format("h:mma")),
        this.set("tonightOptionLabel", this.localize(t ? "Tonight" : "Evening")),
        this.set("nextWeekOptionLabel", this.localize("Next_{dayOfWeek}", "dayOfWeek", e.format("dddd"))),
        "no_change" === this.dateOption || "picked" === this.dateOption ? this.set("setDateLabel", moment(this.calculatedDate).format("ddd MMM D")) : this.set("setDateLabel", ""),
        "no_change" === this.timeOption ? this.set("setTimeLabel", moment(this.calculatedDate).format("h:mma")) : this.set("setTimeLabel", ""),
        Polymer.dom(this.root).querySelectorAll("tv-dropdown").forEach(function(e) {
            e.refresh()
        }))
    },
    showTonight: function() {
        var e = this.floorMoment();
        return !(this.isToday() && e.hour() >= 20)
    }
}),
Polymer({
    is: "tv-datepicker-time-options",
    properties: {
        selectedDate: Number,
        currentHour: Number,
        currentMinute: Number,
        currentAMPM: String,
        currentTime: {
            type: Number,
            notify: !0
        }
    },
    behaviors: [XTV.TvLocalizeBehavior, XTV.TvMoment],
    observers: ["updateCurrentTime(currentHour, currentMinute, currentAMPM)", "updateOptions(selectedDate)", "refreshDropdowns(localize)"],
    updateCurrentTime: function() {
        this.set("currentTime", 60 * Number(this.currentHour) + Number(this.currentMinute) + ("PM" === this.currentAMPM ? 720 : 0))
    },
    updateOptions: function() {
        var e = moment(this.selectedDate);
        this.set("currentHour", e.hour() % 12),
        this.set("currentMinute", e.minute()),
        this.set("currentAMPM", e.hour() >= 12 ? "PM" : "AM")
    },
    refreshDropdowns: function() {
        Polymer.dom(this.root).querySelectorAll("tv-dropdown").forEach(function(e) {
            e.refresh()
        })
    }
}),
Polymer({
    is: "tv-datepicker-calendar",
    properties: {
        open: {
            type: Boolean,
            notify: !0
        },
        seletedDate: Number,
        currentDate: {
            type: Number,
            notify: !0
        },
        calendarHeading: String,
        calendar: Array,
        hasPreviousMonth: Boolean,
        hasNextMonth: Boolean,
        activeMonth: Number
    },
    behaviors: [XTV.TvLocalizeBehavior, XTV.TvMoment],
    observers: ["updateAvailabilityWindow(selectedDate)", "generateCalendar(activeMonth, localize)"],
    showPrevious: function(e) {
        e.preventDefault(),
        this.set("activeMonth", moment(this.activeMonth).subtract(1, "month").valueOf())
    },
    showNext: function(e) {
        e.preventDefault(),
        this.set("activeMonth", moment(this.activeMonth).add(1, "month").valueOf())
    },
    updateAvailabilityWindow: function() {
        this.availableStart = moment().startOf("day"),
        this.availableEnd = moment().startOf("day").add(14, "days"),
        this.set("activeMonth", moment(this.selectedDate).startOf("month").valueOf()),
        this.clearCurrentDate(),
        this.generateCalendar()
    },
    generateCalendar: function() {
        var e, t = [];
        for (moment.setLocale(),
        this.set("calendarHeading", moment(this.activeMonth).format("MMMM YYYY")),
        this.startOfMonth = moment(this.activeMonth).startOf("month"),
        this.endOfMonth = moment(this.activeMonth).endOf("month"),
        e = this.startOfMonth.clone(),
        this.set("hasPreviousMonth", this.availableStart.isBefore(this.startOfMonth)),
        this.set("hasNextMonth", this.availableEnd.isAfter(this.endOfMonth)); e.isSameOrBefore(this.endOfMonth); )
            t.push(this.buildCalendarRow(e)),
            e.endOf("week").add(1, "day");
        this.set("calendar", t)
    },
    buildCalendarRow: function(e) {
        var t = e.clone().startOf("week");
        return [0, 1, 2, 3, 4, 5, 6].map(function(e) {
            var i = t.clone().add(e, "days")
              , n = i.isBetween(this.startOfMonth, this.endOfMonth, "day", "[]");
            return n ? this.buildCalendarDay(i) : null
        }
        .bind(this))
    },
    buildCalendarDay: function(e) {
        var t = e.isBetween(this.availableStart, this.availableEnd, "day", "[]")
          , i = e.isSame(moment(this.selectedDate).clone().startOf("day"));
        return {
            label: e.format("D"),
            ariaLabel: e.format("MMMM Do"),
            ariaDisabled: (!t).toString(),
            tabIndex: t ? "0" : "-1",
            value: e.valueOf(),
            disabled: !t,
            selected: i
        }
    },
    setCurrentDate: function(e) {
        e.preventDefault(),
        e.model.day.disabled || this.set("currentDate", e.model.day.value)
    },
    clearCurrentDate: function() {
        this.set("currentDate", this.selectedDate)
    },
    applyPopupTap: function(e) {
        e.preventDefault(),
        this.applyPopup()
    },
    applyPopup: function() {
        this.fire("apply", {
            currentDate: this.currentDate
        }),
        this.clearCurrentDate()
    },
    cancelPopupTap: function(e) {
        e.preventDefault(),
        this.cancelPopup()
    },
    cancelPopup: function() {
        this.fire("cancel"),
        this.clearCurrentDate()
    },
    dayAbbrev: function(e) {
        return this.localize(e)[0]
    },
    isDateChecked: function(e, t, i, n) {
        return e === t ? i : n
    }
}),
Polymer({
    is: "tv-datepicker",
    properties: {
        buttonLabel: String,
        buttonAriaLabel: String,
        popupOpened: {
            type: Boolean,
            value: !1
        },
        calendarOpened: {
            type: Boolean,
            value: !1
        },
        selectedDate: Number,
        calculatedDate: Number,
        dateInvalid: Boolean,
        dateOption: {
            type: String,
            value: "today",
            observer: "dateOptionChange"
        },
        timeOption: {
            type: String,
            value: "now"
        },
        currentTime: {
            type: Number,
            value: 0
        },
        currentDate: {
            type: Number,
            value: 0
        }
    },
    behaviors: [XTV.TvGridBehavior, XTV.TvLocalizeBehavior, XTV.TvMoment, XTV.TvUtilityBehavior],
    observers: ["calculate(dateOption, timeOption, currentTime, currentDate)", "updateButtonLabel(selectedDate, localize)"],
    extractTime: function(e) {
        return e - e.clone().startOf("day")
    },
    updateButtonLabel: function() {
        var e, t = moment().startOf("day"), i = moment().endOf("day");
        moment.setLocale(),
        e = moment(this.selectedDate).isBetween(t, i, null, "[]") ? this.localize("Today") + moment(this.selectedDate).format(" M[/]DD") : moment(this.selectedDate).format("ddd M[/]DD"),
        this.set("buttonAriaLabel", this.localize("Jump_to_Listings_d_Currently_showing_listings_for_", "selectedDate", e)),
        this.set("buttonLabel", e.replace(/\./g, ""))
    },
    openPopup: function() {
        var e = this.floorMoment()
          , t = e.clone().add(30, "minutes")
          , i = moment().startOf("day")
          , n = moment().endOf("day");
        moment(this.selectedDate).isBetween(e, t, null, "[]") ? this.set("timeOption", "now") : this.set("timeOption", "no_change"),
        moment(this.selectedDate).isBetween(i, n, null, "[]") ? this.set("dateOption", "today") : this.set("dateOption", "no_change"),
        this.set("popupOpened", !0)
    },
    resetPopup: function(e) {
        e.preventDefault(),
        this.set("timeOption", "now"),
        this.set("dateOption", "today")
    },
    cancelPopup: function(e) {
        e.preventDefault(),
        this.set("popupOpened", !1)
    },
    applyPopup: function(e) {
        e.preventDefault(),
        this.dateInvalid || (this.fire("date-selected", {
            utc: this.calculatedDate.valueOf()
        }),
        this.set("popupOpened", !1))
    },
    calculateDate: function(e) {
        switch (this.dateOption) {
        case "today":
            return e.clone().startOf("day");
        case "tomorrow":
            return e.clone().startOf("day").add(1, "day");
        case "next_week":
            return e.clone().startOf("day").add(7, "days");
        case "pick":
        case "picked":
            return moment(this.currentDate);
        default:
            return moment(this.selectedDate).startOf("day")
        }
    },
    calculateTime: function(e) {
        switch (this.timeOption) {
        case "now":
            return this.extractTime(e);
        case "next_hour":
            return this.extractTime(e.add(1, "hour"));
        case "tonight":
            return 72e6;
        case "pick":
            return 6e4 * this.currentTime;
        default:
            return this.extractTime(moment(this.selectedDate))
        }
    },
    calculate: function() {
        var e = this.floorMoment()
          , t = moment().startOf("hour")
          , i = moment().startOf("hour").add(14, "days");
        this.set("calculatedDate", this.calculateDate(e).add(this.calculateTime(e)).valueOf()),
        this.set("dateInvalid", !moment(this.calculatedDate).isBetween(t, i, null, "[]"))
    },
    timePickerHidden: function() {
        return "pick" !== this.timeOption
    },
    dateOptionChange: function(e, t) {
        this.previousDateOption = t,
        this.async(function() {
            this.set("calendarOpened", "pick" === this.dateOption)
        }, 10)
    },
    applyCalendar: function(e, t) {
        var i = moment().startOf("day")
          , n = moment().endOf("day");
        this.set("currentDate", t.currentDate),
        moment(t.currentDate).isBetween(i, n, null, "[]") ? this.set("dateOption", "today") : this.set("dateOption", "picked")
    },
    cancelCalendar: function() {
        this.set("dateOption", this.previousDateOption)
    }
}),
Polymer({
    is: "tv-grid-timeline",
    properties: {
        isPageActive: Boolean,
        durationInHours: Number,
        gridStart: {
            type: Number,
            notify: !0
        },
        gridEnd: Number,
        timeIntervals: Array,
        visibleTimeFrame: Number
    },
    behaviors: [XTV.TvLocalizeBehavior, XTV.TvGridBehavior, XTV.TvUtilityBehavior],
    observers: ["_setDay(localize)", "_setParams(localize, gridStart, gridEnd, durationInHours)", "_pageChanged(isPageActive)"],
    _setDay: function() {
        moment.resetLocale(),
        this.set("day", moment().format("dddd"))
    },
    _getTabindex: function(e) {
        return e ? "0" : "-1"
    },
    _setAriaHidden: function(e) {
        return String(!e)
    },
    _pageChanged: function() {
        this.isPageActive || this.clearTimers()
    },
    clearTimers: function() {
        this.currentTimeInterval && clearInterval(this.currentTimeInterval)
    },
    _setParams: function() {
        for (var e = parseInt(this.gridStart, 10), t = []; e < this.gridEnd; )
            t.push({
                utc: e,
                formatted: moment(parseInt(e, 10)).format("h:mma"),
                title: this.localize("View_TV_Listings_for_moment_", "moment", moment(parseInt(e, 10)).format("h:mma")),
                isNow: Date.now() >= e && Date.now() < e + 18e5
            }),
            e += 18e5;
        this.set("timeIntervals", t),
        this.setControls(),
        this.updateCurrentTime(),
        this.currentTimeInterval = setInterval(this.updateCurrentTime.bind(this), 6e4)
    },
    _dateSelectedChanged: function(e, t) {
        this.gridStart !== t.utc && this.isInAllowedTimeRange(parseInt(t.utc, 10)) && this.setStartTime(parseInt(t.utc, 10))
    },
    goToTime: function(e) {
        e.preventDefault(),
        this.isInAllowedTimeRange(e.model.time.utc) && Date.now() <= e.model.time.utc && this.setStartTime(e.model.time.utc)
    },
    skipBack: function(e) {
        e.preventDefault(),
        this.fire("grid:skip-back")
    },
    skipForward: function(e) {
        e.preventDefault(),
        this.fire("grid:skip-forward")
    },
    setStartTime: function(e) {
        this.fire("grid:set-params", {
            startTime: parseInt(e, 10)
        })
    },
    setControls: function() {
        this.gridStart > Date.now() ? (this.$.previous.hidden = !1,
        this.$.timeline.removeAttribute("current"),
        this.set("prevBtn", this.localize("View_previous_listings_moment1__h_moment2_", "moment1", moment(parseInt(this.gridStart, 10) - 36e5 * parseInt(this.durationInHours, 10)).format("h:mma"), "moment2", moment(parseInt(this.gridStart, 10)).format("h:mma")))) : (this.$.previous.hidden = !0,
        this.$.timeline.setAttribute("current", !0)),
        this.isInAllowedTimeRange(parseInt(this.gridEnd, 10)) ? (this.$.next.hidden = !1,
        this.set("nextBtn", this.localize("View_next_listings_moment1__h_moment2_", "moment1", moment(parseInt(this.gridEnd, 10)).format("h:mma"), "moment2", moment(parseInt(this.gridEnd + 36e5 * this.durationInHours, 10)).format("h:mma")))) : this.$.next.hidden = !0
    },
    updateCurrentTime: function() {
        var e = 18e5 * this.visibleTimeFrame
          , t = 100 * Math.min(1, (Date.now() - this.gridStart) / e);
        t < 0 ? this.$.currentTime.hidden = !0 : (this.$.currentTime.hidden = !1,
        this.$.currentTime.setAttribute("style", "width: " + t + "%")),
        this.set("timeIntervals", this.timeIntervals.map(function(e) {
            return e.isNow = Date.now() >= e.utc && Date.now() < e.utc + 18e5,
            e
        }))
    },
    _isLastInterval: function(e) {
        return e === this.timeIntervals.length - 1
    },
    _isColumnHidden: function(e) {
        var t = 218 * (this.visibleTimeFrame - Math.floor(this.visibleTimeFrame));
        return e === this.timeIntervals.length - 1 && t < 50
    }
}),
function(e) {
    var t = {
        hidden: "visibilitychange",
        mozHidden: "mozvisibilitychange",
        msHidden: "msvisibilitychange",
        webkitHidden: "webkitvisibilitychange"
    }
      , i = Object.keys(t).find(function(e) {
        return "undefined" != typeof document[e]
    });
    e.XTV = e.XTV || {},
    e.XTV.TvPageVisibilityHelper = {
        properties: {
            hiddenTimer: Object,
            isPageHidden: {
                notify: !0,
                type: Boolean,
                value: !1
            }
        },
        attached: function() {
            document.addEventListener(t[i], this._onVisibilityChange.bind(this))
        },
        _onVisibilityChange: function() {
            document[i] ? this.set("hiddenTimer", setTimeout(this.set.bind(this, "isPageHidden", !0), 100)) : (clearTimeout(this.hiddenTimer),
            this.set("hiddenTimer", void 0)),
            !this.hiddenTimer && this.isPageHidden && this.set("isPageHidden", !1)
        }
    }
}(window),
function() {
    var e = /[^\s\w]/g
      , t = {
        _13: "enter",
        _27: "esc",
        _38: "up",
        _40: "down",
        KeyUpIgnore: [27, 32, 37, 38, 39, 40],
        NavKeys: [13, 27, 38, 40],
        KeyDownStop: [37, 39]
    };
    Polymer({
        is: "tv-search-input",
        properties: {
            buttonDisabled: Boolean,
            loading: Boolean,
            minKeywordLength: {
                type: Number,
                value: 1,
                readOnly: !0
            },
            icon: {
                type: String,
                value: "tv-icons:search"
            },
            searchTerm: String,
            placeholderText: String,
            placeholderDefault: {
                type: String,
                observer: "setPlaceholderDefault"
            },
            placeholderFocused: String
        },
        behaviors: [XTV.TvLocalizeBehavior, XTV.TvUrlBehavior],
        attached: function() {
            this.$.search.addEventListener("keydown", this._keyDown.bind(this)),
            this.$.search.addEventListener("keyup", this._keyUp.bind(this)),
            this.$.search.addEventListener("focus", this.onSearchFocused.bind(this))
        },
        getButtonTabIndex: function() {
            return this.buttonDisabled ? -1 : 0
        },
        focus: function() {
            this.$.search.focus()
        },
        _isValidSearchTerm: function(t) {
            return t !== this.searchTerm && t.length >= this.minKeywordLength && "" !== t.replace(e, "")
        },
        _buttonClick: function(e) {
            e.preventDefault(),
            this.buttonDisabled || this.fire("button-click")
        },
        _stopPropagation: function(e) {
            /\w/.test(e.key) && e.stopPropagation()
        },
        _keyUp: function(e) {
            var i = "";
            if (this._stopPropagation(e),
            t.KeyUpIgnore.indexOf(e.keyCode) === -1) {
                if (i = this.$.search.value.trim(),
                !i)
                    return this.set("loading", !1),
                    this.fire("search-empty"),
                    this.set("searchTerm", ""),
                    void this.cancelDebouncer("search");
                this.fire("search-open"),
                this._isValidSearchTerm(i) && (this.set("searchTerm", i),
                this.debounce("search", this._submitForm, 500))
            }
        },
        _keyDown: function(e) {
            t.NavKeys.indexOf(e.keyCode) > -1 ? (e.preventDefault(),
            this.fire(t["_" + e.keyCode] + "-key")) : t.KeyDownStop.indexOf(e.keyCode) > -1 ? e.stopPropagation() : this._stopPropagation(e)
        },
        onSearchFocused: function() {
            this.searchTerm && this.fire("search-open")
        },
        _submitForm: function() {
            this.set("loading", !0),
            this.fire("search-term", this.searchTerm)
        },
        clearForm: function() {
            this.set("value", "", this.$.search),
            this.set("searchTerm", "")
        },
        changePlaceholder: function(e) {
            e ? this.set("placeholderText", this.placeholderFocused) : this.set("placeholderText", this.placeholderDefault)
        },
        setPlaceholderDefault: function() {
            this.changePlaceholder(!1)
        },
        onFocus: function(e) {
            this.changePlaceholder("focus" === e.type)
        }
    })
}(),
function(e) {
    var t = ["callSign", "callSignVoiceOverHint", "branchOf/company/callSign"]
      , i = function(e, t) {
        return new RegExp("^" + e + "$","i").test(t)
    }
      , n = function(e, t) {
        return new RegExp("^" + e,"i").test(t)
    }
      , r = function(e, t) {
        return new RegExp(e,"i").test(t)
    }
      , s = [r, n, i];
    e.XTV = e.XTV || {},
    e.XTV.TvChannelFinderSearch = {
        getLevel: function(e, t) {
            return s.reduce(function(i, n, r) {
                return s[r](e, t) ? r : i
            }, -1)
        },
        getChannelLevel: function(e, i) {
            return t.reduce(function(n, r, s) {
                var o = this.getLevel(e, i[t[s]]);
                return o > n ? o : n
            }
            .bind(this), -1)
        },
        getResultGroups: function(e, t) {
            var i, n = [[], [], []];
            return t.forEach(function(t) {
                i = this.getChannelLevel(e, t),
                i > -1 && n[i].push(t)
            }, this),
            n.forEach(function(e) {
                e.sort(function(e, t) {
                    return e.number - t.number
                })
            }),
            n[2].concat(n[1], n[0])
        },
        passesHdFilter: function(e, t) {
            return t && e.isHD || !t
        },
        passesFavorites: function(e, t) {
            return t && e.isFavorite || !t
        },
        passesTve: function(e, t) {
            return t && e.isTve || !t
        },
        getResults: function(e, t, i) {
            var n, r, s = [], o = [], i = i || [];
            return e ? (t.forEach(function(e) {
                n = this.passesHdFilter(e, i.indexOf("hd") > -1),
                r = this.passesFavorites(e, i.indexOf("favorites") > -1),
                e.isTve ? n && r && o.push(e) : n && r && i.indexOf("tve") === -1 && s.push(e)
            }, this),
            this.getResultGroups(e, s).concat(this.getResultGroups(e, o))) : []
        },
        getChannelByNumber: function(e, t, i) {
            var n, r, s, o, i = i || [];
            return o = t.find(function(t) {
                if (parseInt(e, 10) === t.number)
                    return n = this.passesHdFilter(t, i.indexOf("hd") > -1),
                    r = this.passesFavorites(t, i.indexOf("favorites") > -1),
                    s = this.passesTve(t, i.indexOf("tve") > -1),
                    n && r && s
            }, this),
            o ? [o] : []
        }
    }
}(window),
function() {
    var e, t = /^[\d]+$/, i = ["channel-finder-fav", "channel-finder-select", "channel-finder-watch"], n = function(t, i) {
        var n = {
            Action: t
        };
        i && (n["Is TVE"] = i.isTve ? "Yes" : "No"),
        void 0 !== e && (n["Is Numeric"] = e ? "Yes" : "No"),
        window.ll("tagEvent", "Channel Finder", n)
    };
    Polymer({
        is: "tv-channel-finder",
        properties: {
            displayChannels: Array,
            gridChannels: Array,
            activeFilters: {
                type: Array
            },
            findMessaging: String,
            hideAdjustFilters: {
                type: Boolean,
                value: !0
            },
            hideNoChannelsFound: {
                type: Boolean,
                value: !0
            },
            isSearchOpen: {
                type: Boolean,
                value: !1
            },
            panelHidden: {
                type: Boolean,
                value: !0
            },
            recentChannels: {
                type: Array,
                value: [],
                notify: !0
            },
            searchResults: {
                type: Array,
                notify: !0,
                observer: "onSearchResults"
            },
            recentChannelsHidden: {
                type: Boolean,
                computed: "computeRecentChannelsHidden(isSearchOpen, recentChannels)"
            }
        },
        behaviors: [XTV.TvA11yBehavior, Polymer.IronA11yKeysBehavior, XTV.TvChannelFinderSearch, XTV.TvLocalizeBehavior, XTV.TvUserBehavior, XTV.TvUtilityBehavior],
        keyBindings: {
            up: "onUpKey",
            down: "onDownKey",
            left: "onLeftKey",
            right: "onRightKey",
            esc: "onEscKey"
        },
        observers: ["_onFavoritesChanged(channelFavorites.*)", "onRecentChannels(recentChannels.*)"],
        onSearchEmpty: function() {
            this.searchTerm = "",
            this.set("searchResults", []),
            this.set("isSearchOpen", !1),
            this.set("hideNoChannelsFound", !0),
            this.set("hideAdjustFilters", !0),
            this.set("displayChannels", this.recentChannels || []),
            e = void 0
        },
        onSearchEnterKey: function() {
            this._hasDisplayChannels() && this.focusChannel(0)
        },
        onSearchUpKey: function() {
            this._hasDisplayChannels() && this.focusChannel(this.displayChannels.length - 1)
        },
        onSearchDownKey: function() {
            this._hasDisplayChannels() && this.focusChannel(0)
        },
        onSearchEscapeKey: function() {
            this.closePanel()
        },
        focusChannel: function(e, t) {
            this.channelRowIndex = e,
            this.buttonIndex = i.length - 1,
            this.$$("#channel-row-" + e + " .channel-finder-watch").focus()
        },
        onUpKey: function(e) {
            e.preventDefault(),
            this._hasDisplayChannels() && (--this.channelRowIndex > -1 ? this.focusChannel(this.channelRowIndex, this.channelRowIndex + 1) : this.$.searchInput.focus())
        },
        onDownKey: function(e) {
            e.preventDefault(),
            this._hasDisplayChannels() && (++this.channelRowIndex < this.displayChannels.length ? this.focusChannel(this.channelRowIndex, this.channelRowIndex - 1) : this.$.searchInput.focus())
        },
        getButtonElement: function(e, t) {
            return this.$$("#channel-row-" + e + " ." + i[t])
        },
        leftRightKey: function(e) {
            this._hasDisplayChannels() && ("left" === e ? --this.buttonIndex < 0 && (this.buttonIndex = i.length - 1) : ++this.buttonIndex > i.length - 1 && (this.buttonIndex = 0),
            this.getButtonElement(this.channelRowIndex, this.buttonIndex).focus())
        },
        onLeftKey: function() {
            this.leftRightKey("left")
        },
        onRightKey: function() {
            this.leftRightKey()
        },
        onEscKey: function() {
            this.closePanel()
        },
        search: function() {
            var i;
            e = t.test(this.searchTerm),
            i = e ? this.getChannelByNumber(this.searchTerm, this.gridChannels, this.activeFilters) : this.getResults(this.searchTerm, this.gridChannels, this.activeFilters),
            this.set("searchResults", i)
        },
        onSearchTerm: function(e, t) {
            this.searchTerm = t,
            this.search()
        },
        onSearchResults: function(t) {
            this.set("isSearchOpen", !0),
            this.set("displayChannels", t),
            (this.activeFilters && this.activeFilters.length || !this.hideAdjustFilters) && this.set("hideAdjustFilters", this[e ? "getChannelByNumber" : "getResults"](this.searchTerm, this.gridChannels).length === this.searchResults.length),
            this.set("hideNoChannelsFound", !(!t || !t.length) || !this.hideAdjustFilters)
        },
        onRecentChannels: function() {
            (!this.searchResults || this.searchResults && !this.searchResults.length) && this.set("displayChannels", this.recentChannels)
        },
        onDomChanged: function() {
            this.debounce("loadImageDebouncer", this.loadImages, 500)
        },
        loadImage: function(e) {
            e.loadImage()
        },
        loadImages: function() {
            var e = Polymer.dom(this.root).querySelectorAll('[is="tv-lazy-image"][data-src]:not([lazy-loaded])');
            e && e.forEach(this.loadImage.bind(this))
        },
        onScroll: function() {
            this.debounce("loadImageDebouncer", this.loadImages, 500)
        },
        _getListingAriaLabel: function(e, t) {
            return this.localize("Browse_channel_listings_d", "channel", e + t)
        },
        _selectChannel: function(e) {
            var t = e.model.channel.id
              , i = this.channelMap[t];
            e.preventDefault(),
            this._addRecentChannel(i),
            n("Browse", i),
            this.fire("grid-cell-focused", {
                id: t
            }),
            this.closePanel({
                skipFocus: !0,
                track: !1
            })
        },
        _addRecentChannel: function(e) {
            var t = "recentChannels"
              , i = this.get(t).findIndex(function(t, i) {
                return t.id === e.id
            }, this);
            i > -1 && this.splice(t, i, 1),
            this.splice(t, 0, 0, e)
        },
        _watchChannel: function(e) {
            e.preventDefault();
            var t = e.model.channel.id
              , i = this.channelMap[t];
            this._addRecentChannel(i),
            this.fire("app:player:watchChannel", {
                options: {
                    refocusCurrentTarget: e.currentTarget,
                    refocusParent: "tv-channel-finder",
                    refocusTarget: "#dialogToggle"
                },
                channel: i
            }),
            n("Tune", i),
            this.closePanel({
                skipFocus: !0,
                track: !1
            })
        },
        _clickListener: function(e) {
            for (var t = e.target; t; ) {
                if ("tv-channel-finder" === t.localName)
                    return;
                t = t.parentElement
            }
            this.closePanel()
        },
        _togglePanel: function(e) {
            e.preventDefault(),
            this.clickListener || (this.clickListener = this._clickListener.bind(this)),
            this.panelHidden ? this.openPanel() : this.closePanel()
        },
        onKeyC: function() {
            this.panelHidden && (this.debounce("openPanel", this.openPanel, 200),
            this.fire("channel-finder:a11y-open"))
        },
        openPanel: function() {
            this.debounce("loadImageDebouncer", this.loadImages, 500),
            this.set("panelHidden", !1),
            this.set("findMessaging", this.localize(this.userHasTveOrPurchasesOnly() ? "Find_a_channel_by_name" : "Find_a_channel_by_name_or_number")),
            document.addEventListener("click", this.clickListener, !1),
            this.$.searchInput.focus()
        },
        closePanel: function(e) {
            e = Object.assign({
                track: !0
            }, e || {}),
            this.panelHidden || (this.set("panelHidden", !0),
            document.removeEventListener("click", this.clickListener, !1),
            this.onSearchEmpty(),
            this.$.searchInput.clearForm(),
            e.skipFocus || this.$.dialogToggle.focus(),
            e.track && n("Cancel"))
        },
        computeRecentChannelsHidden: function(e, t) {
            return e || !t.length
        },
        _parseProperty: function(e, t, i) {
            return t[e] || t[i] || ""
        },
        removeChannelFromDisplay: function(e) {
            var t;
            this._hasDisplayChannels() && e && (t = this.displayChannels.findIndex(function(t) {
                return t.id === e
            }, this),
            t > -1 && this.async(function() {
                this.splice("displayChannels", t, 1),
                this.$.searchInput.focus()
            }, 1))
        },
        _onFavoritesChanged: function(e) {
            var t;
            this._hasDisplayChannels() && ("channelFavorites" === e.path || /splices/.test(e.path)) && (this.displayChannels.forEach(function(e, t) {
                this.notifyPath("displayChannels." + t + ".isFavorite")
            }, this),
            this._hasFavoritesFilter(this.activeFilters) && /splices/.test(e.path) && (t = e.value.indexSplices[0],
            t.removed.length && this.removeChannelFromDisplay(t.removed[0])))
        },
        _hasFavoritesFilter: function(e) {
            return (e || []).includes("favorites")
        },
        _hasDisplayChannels: function() {
            return this.get("displayChannels.length")
        }
    })
}(),
function(e) {
    e.XTV = e.XTV || {};
    var t, i = function() {
        t && t.onScroll()
    }, n = function(e) {
        t && t.onPageClick(e)
    }, r = function() {
        t && t.debounce("widthUpdate", function() {
            t._updateVisibleTimeFrame(),
            t.user.authenticated && t._updateRenderedIndexes()
        }, 100)
    }, s = 176, o = 218, a = 65, c = 5;
    Polymer({
        is: "tv-page-grid",
        properties: {
            activeChannelGroup: Array,
            activeFilters: {
                type: Array,
                observer: "activeFiltersChanged"
            },
            allowedFilters: String,
            channelMap: Object,
            channels: {
                type: Array,
                value: function() {
                    return []
                }
            },
            renderedChannels: {
                type: Array,
                value: function() {
                    return []
                }
            },
            renderStartIndex: Number,
            renderEndIndex: Number,
            totalGridHeight: Number,
            tveStartIndex: Number,
            hasListingDetailsError: Boolean,
            initialized: {
                type: Boolean,
                value: !1
            },
            lastScrollPosition: Number,
            listingsStartTime: Number,
            modifiable: {
                type: Object,
                notify: !0
            },
            overlayWorking: {
                type: Boolean,
                notify: !0
            },
            recordable: {
                type: Object,
                notify: !0
            },
            selectedListing: Object,
            selectedRow: Object,
            selectedRowIndex: {
                type: Number,
                value: -1
            },
            collapseContentHeight: {
                type: Number,
                value: 0
            },
            showFavorites: Boolean,
            showTve: Boolean,
            showHD: Boolean,
            focusedTime: {
                type: Number,
                value: -1
            },
            focusedRowIndex: {
                type: Number,
                value: 0
            },
            visibleTimeFrame: Number
        },
        listeners: {
            "date-selected": "_resetFocusTime",
            "grid-cell-focused": "_focusChannelRow",
            "channel-finder:a11y-open": "_scrollToTop",
            "grid-cell-selected": "_onGridCellSelected",
            "grid-cell-unselected": "_onGridCellUnselected",
            "grid:set-params": "_resetGridParams",
            "grid:skip-back": "_skipBack",
            "grid:skip-forward": "_skipForward"
        },
        behaviors: [XTV.TvA11yBehavior, XTV.TvLocalizeBehavior, XTV.TvActionsHelper, XTV.TvGridBehavior, XTV.TvPageBehavior, XTV.TvPageVisibilityHelper, XTV.TvParentalControlsBehavior, XTV.TVScrollToBehavior, XTV.TvSpinnerBehavior, XTV.TvTypeBehavior, XTV.TvOohHelper, XTV.TvUrlBehavior, XTV.TvUserBehavior, XTV.TvWatchableTypeBehavior, XTV.behaviors.splunk],
        observers: ["_onFavoritesChanged(channelFavorites.*)", "_onGridChannelsReady(grid.channels, initialized, channelFavoritesState)", "_onPageVisibilityChange(isPageHidden)", "pageError(channelMapError)", "pageError(gridError)", "_setA11yGridTitle(grid.startTime, grid.endTime, localize)", "_setAllowedFilters(user.tokenSummary)", "_setGridMessageState(initialized, showFavorites, channelFavoritesState, channels.length)", "_startTimeChanged(grid.channels, grid.startTime)", "_repopulateRenderedChannels(channels.*)", "_updateGridHeight(channels.*, selectedRowIndex, collapseContentHeight)", "_updateTveStartIndex(channels.*)"],
        _startTimeChanged: function(e) {
            if (e.length && this.initialized) {
                var t = moment(this.grid.startTime).startOf("hour").isSame(moment().startOf("hour"))
                  , i = this.floorTime() === this.grid.startTime;
                this.fire("grid:start-timer", {
                    refreshInMin: t && !i ? 60 : 30
                })
            }
        },
        refreshGrid: function() {
            this.initialized && (this.set("channels", this.channels.slice()),
            this._hideDetails())
        },
        _setGridMessageState: function() {
            if (this.initialized) {
                if (this.showFavorites && "pending" === this.channelFavoritesState || this.showFavorites && "ok" === this.channelFavoritesState && !this.get("grid.channels.length"))
                    return this.set("message", this.localize("Loading_Favorites_d_")),
                    this.set("hidden", !0, this.$$("#grid")),
                    void this.set("hidden", !1, this.$$("#emptyRowsMessage"));
                if (this.showFavorites && this.grid && ("failed" === this.channelFavoritesState || "ok" === this.channelFavoritesState && this.channelFavorites && 0 === this.channels.length))
                    return this.set("message", this.localize("Adjust_filters_to_see_more_titles_d")),
                    this.set("hidden", !0, this.$$("#grid")),
                    void this.set("hidden", !1, this.$$("#emptyRowsMessage"));
                this.set("hidden", !1, this.$$("#grid")),
                this.set("hidden", !0, this.$$("#emptyRowsMessage"))
            }
        },
        selectChannel: function(e) {
            this.channelToSelect = e,
            this._selectRow()
        },
        _selectRow: function() {
            var e;
            this.channelToSelect && this.allChannelsRendered && (e = this.$$('[data-id="' + this.channelToSelect.id + '"]'),
            e && e.select())
        },
        _scrollToTop: function() {
            this.scrollIntoView(this.$$('[data-id="' + this.channels[0].id + '"]'))
        },
        _showDetails: function(e, t) {
            this.selectedRow && e !== this.selectedRow && this.set("active", !1, this.selectedRow),
            this.set("selectedRow", e),
            this.set("selectedRowIndex", t),
            this.set("active", !0, this.selectedRow),
            this.toggleAttribute("opened", !0, this.$.collapse),
            this.toggleAttribute("opened", !1, this.$.details),
            this.toggleAttribute("enabled", !0, this.$.focusLoop),
            this.$.details.setAttribute("aria-expanded", "false"),
            this._updateCollapseHeight()
        },
        _hideDetails: function() {
            this.set("active", !1, this.selectedRow),
            this.toggleAttribute("opened", !1, this.$.collapse),
            this.toggleAttribute("enabled", !1, this.$.focusLoop),
            this.set("selectedRow", void 0),
            this.set("selectedRowIndex", -1),
            this._updateRenderedIndexes()
        },
        _updateCollapseHeight: function() {
            this.set("collapseContentHeight", this.$.collapse.scrollHeight)
        },
        onPageClick: function(e) {
            for (var t = e.target; t; ) {
                if (["TV-ACTIONS", "TV-DATEPICKER", "TV-FILTERS", "TV-GRID-ROW", "TV-OVERLAY-LAYOUT", "TV-CHANNEL-FINDER"].indexOf(t.nodeName) > -1)
                    return;
                t = t.parentElement
            }
            this._hideDetails()
        },
        _onPageVisibilityChange: function(e) {
            !e && this.currentPage && this.isSignedIn() && this.grid && this.grid.channels && Date.now() - this.grid.startTime > 18e5 && this.fire("grid:start-timer")
        },
        _onGridCellUnselected: function() {
            this._hideDetails()
        },
        _onGridCellSelected: function(e, t) {
            this.scrollIntoView(t.row, 10, 0, 61),
            this._showDetails(t.row, t.index),
            this.set("active", !0, this.$.spinner),
            this.setA11yLoadingAnnouncement(),
            this._loadListingDetails(t.item).then(this._showListingDetails.bind(this), this._listingDetailsError.bind(this))
        },
        _loadListingDetails: function(e) {
            return e.details.fetch({
                force: !0
            }).then(function(e) {
                var t = this.channelMap[e.data.getFirstAction("channel").getRawActionUrl()].resource;
                return this.$.listingsParser._parseListing(e.data, t)
            }
            .bind(this)).then(function(e) {
                return e
            })
        },
        _listingDetailsError: function(e) {
            this.logError(Object.assign({}, e, {
                fatal: !0
            })),
            this.set("hasListingDetailsError", !0),
            this.set("active", !1, this.$.spinner),
            this.toggleAttribute("opened", !0, this.$.details),
            this.toggleAttribute("enabled", !0, this.$.focusLoop),
            this.$.details.setAttribute("aria-expanded", "true"),
            this.async(function() {
                this._updateCollapseHeight()
            }, 100)
        },
        _showListingDetails: function(e) {
            this.set("selectedListing", e),
            this.set("active", !1, this.$.spinner),
            this.toggleAttribute("opened", !0, this.$.details),
            this.toggleAttribute("enabled", !0, this.$.focusLoop),
            this.$.details.setAttribute("aria-expanded", "true"),
            this.async(function() {
                this._updateCollapseHeight(),
                this.$.details.focus()
            }, 100),
            this.set("hasListingDetailsError", !1)
        },
        onRecordingModification: function(e) {
            var t = e.state
              , i = e.working;
            this.set("isOverlayRecording", i && this.selectedListing.id === (e.listing || {}).id),
            t && (this.set("active", !0, this.$.details),
            this.async(function() {
                this._loadListingDetails(this.selectedListing).then(this._showListingDetails.bind(this), this._listingDetailsError.bind(this))
            }, 3e3))
        },
        activeFiltersChanged: function(e, t) {
            var i = e || [];
            if (this.set("showFavorites", i.indexOf("favorites") !== -1),
            this.set("showTve", i.indexOf("tve") !== -1),
            this.set("showHD", i.indexOf("hd") !== -1),
            t && (this._filterChanged("hd", i, t) || this._filterChanged("tve", i, t) || this._filterChanged("favorites", i, t))) {
                if (!this.currentPage)
                    return this.lastScrollPosition = 0,
                    void (this.forceRerender = !0);
                window.scrollTo(0, 0),
                this.showSpinner(),
                this.channelToSelect = null,
                this.set("channels", this._filterChannels(this.grid.channels)),
                this._gridContentLoaded()
            }
        },
        _filterChanged: function(e, t, i) {
            var n = t.indexOf(e) >= 0 && i.indexOf(e) < 0
              , r = t.indexOf(e) < 0 && i.indexOf(e) >= 0;
            return n || r
        },
        handleKeyEsc: function() {
            var e = this.querySelector('.grid-program-action[tabindex="0"]');
            this._hideDetails(),
            e && e.focus()
        },
        onPageOpened: function() {
            this.resetError(),
            this.$.filters.reload(),
            this.focusContent = !0,
            t = this,
            window.addEventListener("resize", r),
            this.user.authenticated ? (document.addEventListener("click", n),
            window.addEventListener("scroll", i),
            window.scrollTo(0, this.lastScrollPosition || 0),
            this.set("disabled", !1, this.$.filters),
            this.$.collapse = this.$.collapse || this.querySelector("#collapse"),
            this.$.details = this.$.details || this.querySelector("#details"),
            this.$.spinner = this.$.spinner || this.querySelector("#spinner"),
            this.$.focusLoop = this.$.focusLoop || this.querySelector("#focusLoop"),
            this.isGridCurrent() && this.channels.length ? this.fire("grid:start-timer") : (this.showSpinner(),
            this.setA11yLoadingAnnouncement(),
            this.fire("fetch-channel-map")),
            this.verifyGridWidth(),
            this._updateRenderedIndexes(),
            this.set("initialized", !0)) : this.verifyGridWidth()
        },
        verifyGridWidth: function() {
            return 0 === this.clientWidth ? void this.async(this.verifyGridWidth, 100) : void this._updateVisibleTimeFrame()
        },
        onPlayerClosed: function() {
            this.fire("grid:start-timer")
        },
        onPlayerMediaOpened: function() {
            this.fire("grid:start-timer", {
                refreshInMin: 90
            })
        },
        onScroll: function() {
            this.lastScrollPosition =  window.pageYOffset,
            this.pendingUpdate || this._doRenderedUpdate(),
            this.debounce("renderedChannelsUpdateDebouncer", function() {
                this.pendingUpdate && (window.cancelAnimationFrame(this.pendingUpdate),
                this.pendingUpdate = null), 
                this._trimRenderedChannels()
            }, 100)
        },
        onPageClosed: function() {
            document.removeEventListener("click", n),
            window.removeEventListener("scroll", i),
            window.removeEventListener("resize", r),
            this._hideDetails(),
            this.fire("grid:stop-timer"),
            this.set("initialized", !1)
        },
        _record: function() {
            this.fire("app:record:listing", {
                listing: this.selectedListing
            })
        },
        _recordOptions: function() {
            this.fire("app:recording:modify", {
                recording: this.selectedListing.recording
            })
        },
        _watch: function(e) {
            var t = e.model.selectedListing;
            this.fire("app:player:watch", {
                watchable: t.recording ? t.recording : t
            })
        },
        _watchListingChannel: function(e, t) {
            this.user.inhome || this.isTveListing(t.watchable) || t.watchable.channel.tveVariant ? this.fire("app:player:watchChannel", {
                channel: t.watchable.channel
            }) : this.fire("app:check:ooh", {
                inHomeAsset: t.watchable
            })
        },
        _setA11yGridTitle: function() {
            var e = moment(parseInt(this.grid.startTime, 10)).format("h:mma")
              , t = moment(parseInt(this.grid.endTime, 10)).format("h:mma");
            this.set("gridAriaLabel", this.localize("TV_Listings_start_to_end_", "start", e, "end", t))
        },
        _setAllowedFilters: function() {
            this.set("allowedFilters", this.getAllowedFilters({
                includeDvs: !0,
                includeFavorites: !0
            }))
        },
        _rowByIndex: function(e) {
            var t = this.channels[e].id;
            return this.querySelector('tv-grid-row[data-id="' + t + '"]')
        },
        _updateFocusTime: function(e) {
            void 0 !== e || this.refocusRow || (e = -1),
            this.set("focusedTime", e),
            this._rowByIndex(this.focusedRowIndex).setFocus(e)
        },
        _resetFocusTime: function() {
            this.set("focusedTime", -1),
            this._rowByIndex(this.focusedRowIndex).enableFocus(-1)
        },
        _focusRow: function(e) {
            this._rowByIndex(this.focusedRowIndex).clearFocus(),
            this.set("focusedRowIndex", e),
            this._updateRenderedChannels(),
            this.async(function() {
                this._rowByIndex(e).setFocus(this.focusedTime)
            }, 10)
        },
        _focusChannelRow: function(e, t) {
            var i = this.channels.findIndex(function(e) {
                return t.id === e.id
            });
            this._updateFocusTime(this.grid.startTime),
            this._focusRow(i)
        },
        _moveRowFocus: function(e) {
            var t = this.focusedRowIndex + e;
            t = Math.max(0, t),
            t = Math.min(this.channels.length, t),
            this._focusRow(t)
        },
        _focusFirstRow: function() {
            this._focusRow(0)
        },
        _focusLastRow: function() {
            this._focusRow(this.channels.length - 1)
        },
        _onKeyPressed: function(e) {
            var t = e.detail.combo
              , i = e.detail.keyboardEvent;
            switch (["right", "left", "up", "down", "home", "end", "pageup", "pagedown"].indexOf(t) !== -1 && (i.preventDefault(),
            i.stopPropagation()),
            t) {
            case "down":
                this._moveRowFocus(1);
                break;
            case "up":
                this._moveRowFocus(-1);
                break;
            case "right":
                this._updateFocusTime(this._rowByIndex(this.focusedRowIndex).getNextTime(this.focusedTime));
                break;
            case "left":
                this._updateFocusTime(this._rowByIndex(this.focusedRowIndex).getPreviousTime(this.focusedTime));
                break;
            case "pagedown":
                this._moveRowFocus(10);
                break;
            case "pageup":
                this._moveRowFocus(-10);
                break;
            case "home":
                i.ctrlKey ? (this._updateFocusTime(-1),
                this._focusFirstRow()) : this._updateFocusTime(-1);
                break;
            case "end":
                i.ctrlKey ? (this._updateFocusTime(-1),
                this._focusLastRow()) : this._updateFocusTime(this.grid.endTime - 1e3)
            }
        },
        _resetGridParams: function() {
            this.channelMapError || (this.showSpinner(),
            this.setA11yLoadingAnnouncement())
        },
        _areListingsCurrent: function() {
            return this.listingsStartTime === this.grid.startTime
        },
        _filterChannels: function(e) {
            return e.filter(function(e) {
                return !(this.showTve && !e.isTve) && (!(this.showHD && !e.isHD) && !(this.showFavorites && !e.isFavorite))
            }, this)
        },
        _onGridChannelsReady: function(e, t, i) {
            this.grid.force && this.set("channels", []),
            t && e.length && (this.showFavorites && "pending" === i || (!this.forceRerender && this._areListingsCurrent() && this.isGridCurrent() && this.channels.length ? this.allChannelsRendered && this.set("channels", this._filterChannels(e)) : (this.forceRerender = !1,
            this._hideDetails(),
            this.showSpinner(),
            this.listingsStartTime = this.grid.startTime,
            this.set("channels", this._filterChannels(e)),
            this._gridContentLoaded())))
        },
        _onFavoritesChanged: function(e) {
            var t;
            this.channels && (this.showFavorites && /splices/.test(e.path) && (t = e.value.indexSplices[0],
            t.addedCount ? this.set("channels", this._filterChannels(this.grid.channels)) : t.removed.length && this.removeFavoriteRow(t.removed[0]),
            this.async(this._setGridMessageState, 500)),
            this.debounce("favoritesNotifier", function() {
                this.renderedChannels.forEach(function(e, t) {
                    this.notifyPath("renderedChannels." + t + ".channel.isFavorite")
                }, this)
            }, 100))
        },
        removeFavoriteRow: function(e) {
            var t, i;
            this.showFavorites && this.channels.length && (i = this.$$('[data-id="' + e + '"]'),
            i && (i.classList.add("channel-row-fade-out"),
            setTimeout(function(e, i) {
                t = this.channels.findIndex(function(e) {
                    return e.id == i
                }, this),
                this.splice("channels", t, 1),
                e.classList.remove("channel-row-fade-out")
            }
            .bind(this, i, e), 250)))
        },
        _doRenderedUpdate: function() {
            this._updateRenderedIndexes(),
            this.pendingUpdate = window.requestAnimationFrame(this._doRenderedUpdate.bind(this))
        },
        _updateRenderedIndexes: function() {
            var e = this.querySelector("div#grid").offsetTop
              , t = Math.max(0, window.pageYOffset - e)
              , i = window.pageYOffset - e + window.innerHeight;
            this.selectedRowIndex !== -1 && (this.selectedRowIndex + 1) * a < t && (t -= this.collapseContentHeight,
            i -= this.collapseContentHeight),
            this.set("renderStartIndex", Math.floor(t / a) - c),
            this.set("renderEndIndex", 50000),
            this._updateRenderedChannels()
            //this.set("renderEndIndex", Math.ceil(i / a) + c),////////////////////////////////htvl fix
        },
        _getRenderableChannel: function(e) {
            return {
                index: e,
                channel: this.channels[e]
            }
        },
        _keepChannelRendered: function(e) {
            return !!e && (e.index === this.selectedRowIndex || (e.index === this.focusedRowIndex || e.index >= this.renderStartIndex && e.index <= this.renderEndIndex))
        },
        _updateRenderedChannels: function() {
            //var e, t = Math.max(0, this.renderStartIndex), i = Math.min(this.channels.length - 1, this.renderEndIndex), n = 0;   ////////////////htvl fix
            var e, t = Math.max(0, this.renderStartIndex), i = 50000, n = 0;
            this.renderedChannels || (this.renderedChannels = []), e = this.channels.slice(t, i + 1).map(function(e, i) {
                return this._getRenderableChannel(t + i)
            }, this),
            (this.focusedRowIndex < t || this.focusedRowIndex > i) && e.push(this._getRenderableChannel(this.focusedRowIndex)),
            e.filter(function(e) {
                return !this.renderedChannels.find(function(t) {
                    return t.index === e.index
                })
            }, this).forEach(function(e) {
                for (; this._keepChannelRendered(this.renderedChannels[n]); )
                    n++;
                    this.splice("renderedChannels", n, 1, e)
            }, this)
        },
        _repopulateRenderedChannels: function() {
            this.renderedChannels || (this.renderedChannels = []),
            this.renderedChannels.forEach(function(e, t) {
                var i = this._getRenderableChannel(this.renderedChannels[t].index);
                this.splice("renderedChannels", t, 1, i)
            }, this),
            this._updateRenderedChannels()
        },
        _trimRenderedChannels: function() {                                            
            var e;
            for (e = this.renderedChannels.length - 1; e >= 0; e--)
//                this._keepChannelRendered(this.renderedChannels[e]) || this.splice("renderedChannels", e, 1)             /////////////////////////////////////////////htvl fix
                this._keepChannelRendered(this.renderedChannels[e])
        },
        _gridContentLoaded: function() {
            this._setGridMessageState(),
            this.refreshGrid(),
            this.hideSpinner(),
            this.focusContent && this.setA11yPageOpenedFocus(),
            this.refocusRow && this._refocusRow(),
            this.focusContent = !1,
            this.allChannelsRendered = !0,
            setTimeout(function() {
                this._selectRow()
            }
            .bind(this), 4e3)
        },
        _refocusRow: function() {
            "first" === this.setTime ? this.set("focusedTime", this.grid.startTime) : "last" === this.setTime && this.set("focusedTime", this.grid.endTime),
            this.async(function() {
                this._rowByIndex(this.focusedRowIndex).setFocus(this.focusedTime)
            }, 500),
            this.setTime = null,
            this.refocusRow = !1
        },
        _hideTitle: function(e) {
            return !(this.isTvEpisode(e) || this.isSportsEvent(e))
        },
        _shiftStartTime: function(e) {
            var t = Number(this.grid.startTime)
              , i = Number(this.grid.durationInHours) - .5
              , n = t + 36e5 * i * e
              , r = Number(this.floorTime());
            return n = Math.max(n, r),
            n = Math.min(n, moment(r).add(14, "days").valueOf())
        },
        _skipForward: function(e, t) {
            var i = this._shiftStartTime(1);
            i !== this.grid.startTime && (t.refocusRow ? (this.refocusRow = !0,
            this.setTime = t.setTime,
            this.setA11yPageClosedFocus()) : this._resetFocusTime(),
            this.fire("grid:set-params", {
                startTime: i
            }))
        },
        _skipBack: function(e, t) {
            var i = this._shiftStartTime(-1);
            i !== this.grid.startTime && (t.refocusRow ? (this.refocusRow = !0,
            this.setTime = t.setTime,
            this.setA11yPageClosedFocus()) : this._resetFocusTime(),
            this.fire("grid:set-params", {
                startTime: i
            }))
        },
        _visibleGridWidth: function() {
            var e = Math.ceil(this.visibleTimeFrame);
            return Math.max(e, .5) / 2
        },
        _updateVisibleTimeFrame: function() {
            var e, t = {}, i = !1;
            this.set("visibleTimeFrame", (this.clientWidth - s) / o),
            e = this._visibleGridWidth(),
            this.grid && e === this.grid.durationInHours || (i = !0,
            t.durationInHours = e),
            this.grid && this.isGridCurrent() ? t.startTime = this.grid.startTime : i = !0,
            i && this.user.authenticated ? (this.forceRerender = !0,
            this.fire("grid:set-params", t)) : (this.set("grid.durationInHours", t.durationInHours || this.grid.durationInHours),
            this.setTimeline(t.startTime))
        },
        onKeyC: function() {
            this.$.channelFinder.onKeyC()
        },
        _gridStyle: function() {
            return "height:" + this.totalGridHeight + "px"
        },
        _gridRowStyle: function(e) {
            var t = e * a;
            return this.selectedRowIndex > -1 && e > this.selectedRowIndex && (t += this.collapseContentHeight),
            "top:" + t + "px"
        },
        _collapseStyle: function() {
            var e = (this.selectedRowIndex + 1) * a;
            return "top:" + e + "px"
        },
        _linearPlaceholderStyle: function() {
            var e, t = this.tveStartIndex;
            return 0 === this.channels.length ? e = 1e3 : (t === -1 && (t = this.channels.length),
            e = t * a,
            this.selectedRowIndex !== -1 && this.selectedRowIndex < t && (e += this.collapseContentHeight)),
            "height:" + e + "px"
        },
        _tvePlaceholderStyle: function() {
            var e;
            return this.tveStartIndex === -1 ? e = 0 : (e = (this.channels.length - this.tveStartIndex) * a,
            this.selectedRowIndex !== -1 && this.selectedRowIndex >= this.tveStartIndex && (e += this.collapseContentHeight)),
            "height:" + e + "px"
        },
        _updateGridHeight: function() {
            var e;
            0 === this.channels.length ? this.set("totalGridHeight", 1e3) : (e = this.selectedRowIndex === -1 ? 0 : this.collapseContentHeight,
            this.set("totalGridHeight", this.channels.length * a + e))
        },
        _updateTveStartIndex: function() {
            this.set("tveStartIndex", this.channels.findIndex(function(e) {
                return e.isTve
            }))
        }
    })
}(window),
Polymer({
    is: "tv-page-name-device",
    behaviors: [XTV.TvLocalizeBehavior, XTV.TvValidationBehavior],
    properties: {
        deviceNameParams: {
            type: Object,
            notify: !0
        },
        ironSelected: {
            type: Boolean,
            value: !1
        }
    },
    observers: ["deviceChanged(device)", "deviceNameChanged(deviceName)", "onIronSelectChanged(ironSelected)"],
    onIronSelectChanged: function(e) {
        e && this.async(function() {
            this.$.content.setAttribute("role", "alert"),
            this.$.content.setAttribute("aria-label", this.localize("Time_to_name_your_device"))
        }, 500)
    },
    deviceChanged: function(e) {
        e && this.isValidDeviceName(e.deviceName) && this.set("deviceName", e.deviceName)
    },
    deviceNameChanged: function(e) {
        e = e || "",
        this.set("deviceName", this.replaceInvalidCharacters(e)),
        this.toggleAttribute("disabled", !this.isValidDeviceName(e), this.$.next)
    },
    onSetDeviceNameSuccess: function() {
        this.fire("update-device-name", {
            deviceName: this.deviceName
        }),
        this.fire("device-named")
    },
    onSubmit: function(e) {
        if (!this.$.next.hasAttribute("disabled"))
            return this.set("deviceNameParams", {
                deviceName: this.deviceName
            }),
            this.$.setDeviceNameApi.sendRequest(),
            e.preventDefault(),
            !1
    },
    _setPartnerIcon: function(e) {
        return e.iconSecondary || e.icon
    }
}),
Polymer({
    is: "tv-page-not-found",
    behaviors: [XTV.TvLocalizeBehavior, XTV.TvPageBehavior],
    onPageOpened: function() {
        this.$$("tv-page-error-content").removeAttribute("hidden"),
        this.fire("log", {
            module: "APP",
            status: 404,
            msg: this.localize("Page_not_found"),
            type: "ERROR"
        })
    }
}),
Polymer({
    is: "tv-on-now-details",
    properties: {
        channelMap: Object,
        fetching: {
            type: Boolean,
            value: !1,
            reflectToAttribute: !0
        },
        hasError: Boolean,
        listing: Object,
        listingDetails: Object,
        overlayCompletedState: String,
        overlayWorking: Boolean
    },
    behaviors: [XTV.TvLocalizeBehavior, XTV.TvActionsHelper, XTV.TvOohHelper, XTV.TvParentalControlsBehavior, XTV.TvTypeBehavior, XTV.TvUserBehavior, XTV.behaviors.splunk],
    observers: ["_listingChanged(listing)", "_listingDetailsChanged(listingDetails)", "_overlayCompleted(overlayCompletedState)", "_overlayWorking(overlayWorking)"],
    _listingChanged: function(e) {
        e && (this.set("hasError", !1),
        this.set("fetching", !0),
        this.toggleAttribute("hidden", !1, this.$.details),
        this.set("active", !0, this.$.spinner),
        this.fire("iron-announce", {
            text: this.localize("Please_wait")
        }),
        e.details.fetch({
            force: !0
        }).then(this._parseListing.bind(this), this._listingDetailsError.bind(this)).then(this.set.bind(this, "listingDetails")))
    },
    _listingDetailsChanged: function(e) {
        this.set("fetching", !1),
        this.set("subtitle", this._subtitle(e)),
        this.set("active", !1, this.$.spinner),
        this.set("hasError", !1)
    },
    _listingDetailsError: function(e) {
        this.logError(e),
        this.set("active", !1, this.$.spinner),
        this.set("hasError", !0),
        this.async(function() {
            this.set("fetching", !1)
        }
        .bind(this), 400)
    },
    _overlayCompleted: function(e) {
        e && this.async(function() {
            this._listingChanged(this.listing)
        }, 2e3)
    },
    _overlayWorking: function(e) {
        var t;
        this.async(function() {
            t = this.$$("#recordButton"),
            t.stopSpinning(),
            e && this.listingDetails.id === (this.overlayModel || {}).id && t.spin()
        }, 100)
    },
    _parseListing: function(e) {
        var t = this.channelMap[e.data.getFirstAction("channel").getRawActionUrl()].resource;
        return this.$.listingsParser._parseListing(e.data, t)
    },
    _record: function() {
        this.fire("app:record:listing", {
            listing: this.listingDetails
        })
    },
    _recordOptions: function() {
        this.fire("app:recording:modify", {
            recording: this.listingDetails.recording
        })
    },
    _subtitle: function(e) {
        var t;
        return this.isMovie(e.creativeWork) ? (t = "(" + e.creativeWork.releaseYear + ") ",
        t += Array.isArray(e.creativeWork.credits) ? e.creativeWork.credits.join(", ") : e.creativeWork.credits) : e.derivedTitle
    },
    _watch: function(e) {
        return !e.currentTarget.hasAttribute("disabled") && void this.fire("app:player:watch", {
            options: {
                refocusCurrentTarget: e.currentTarget,
                refocusTarget: ".carousel-item",
                refocusParent: "li"
            },
            watchable: this.listingDetails.recording || this.listingDetails
        })
    },
    _watchChannel: function(e) {
        return !e.currentTarget.hasAttribute("disabled") && void this.fire("app:player:watchChannel", {
            channel: this.listingDetails.channel,
            options: {
                refocusCurrentTarget: e.currentTarget,
                refocusTarget: ".carousel-item",
                refocusParent: "li"
            }
        })
    }
}),
Polymer({
    is: "tv-on-now-row",
    properties: {
        row: Object,
        emptyStateTitle: {
            type: String,
            computed: "_composeEmptyStateTitle(row)"
        }
    },
    behaviors: [XTV.TvLocalizeBehavior, XTV.TvOohHelper, XTV.TvParentalControlsBehavior, XTV.TvUserBehavior],
    attachDetails: function(e) {
        this.$$(".carousel-details[target]").appendChild(e),
        e.focus()
    },
    _composeEmptyStateTitle: function(e) {
        return /movies/i.test(e.label) ? e.label : e.label + " programs"
    },
    _getDetails: function(e) {
        this.toggleAttribute("target", !1, this.$$(".carousel-details[target]")),
        this.toggleAttribute("target", !0, e.currentTarget.querySelector(".carousel-details")),
        this.fire("listing-selected", {
            listing: e.model.listing
        })
    },
    _setA11yLabel: function(e, t) {
        return 0 === t ? "onnow-heading-" + e + " onnow-" + e + "-item-" + t : "onnow-" + e + "-item-" + t
    },
    _setA11yInstructions: function(e, t, i) {
        return 0 === e && 0 === t ? i + "-instructions" : ""
    },
    _conciliateModel: function(e) {
        return {
            ratingDetails: e["contentRating/detailed"],
            isHD: e.channel.isHD,
            closedCaption: e.closedCaption,
            hasSAP: e.isSAP,
            adult: e.adult,
            hasDVS: e.hasDVS
        }
    }
}),
function() {
    var e = "No shows available at this time.";
    Polymer({
        is: "tv-page-on-now",
        properties: {
            activeFilters: Array,
            allowedFilters: String,
            channelMap: Object,
            rows: Object
        },
        behaviors: [XTV.TvA11yBehavior, XTV.TvLocalizeBehavior, XTV.TvCarouselBehavior, XTV.TvGridBehavior, XTV.TvPageBehavior, XTV.TvUrlBehavior, XTV.TvUserBehavior],
        observers: ["_onFavoritesChanged(channelFavorites.*)", "_onPagePropertiesReady(grid.channels, activeFilters, params.menuId, user.guideMenu, channelFavoritesState, localize)", "_onRowsChanged(rows)", "_setAllowedFilters(user.tokenSummary)", "pageError(channelMapError)", "pageError(gridError)"],
        onPageOpened: function() {
            moment.resetLocale(),
            this.resetError(),
            this.$.filters.reload(),
            this.set("rows", void 0),
            this.$.emptyRowsMessage.hidden = !0,
            this.$.rowsContainer.hidden = !0,
            this.showSpinner(),
            this.setA11yLoadingAnnouncement(),
            this.channelMap && this.isGridAtFloor() || this.fire("iron-announce", {
                text: this.localize("Please_wait")
            }),
            this.fire("fetch-channel-map"),
            this.isGridAtFloor() || this.fire("grid:set-params")
        },
        onPageClosed: function() {
            this.setA11yPageClosedFocus(),
            this.fire("grid:stop-timer"),
            this.set("rows", void 0),
            this.set("guideMenu", void 0),
            this.set("listing", void 0, this.$.details),
            this.$.emptyRowsMessage.hidden = !0,
            this.$.rowsContainer.hidden = !0
        },
        _onFavoritesChanged: function(e) {
            this.activeFilters && this.activeFilters.includes("favorites") && /splices/.test(e.path) && this._createRows()
        },
        _onPagePropertiesReady: function(e, t, i, n, r) {
            var s;
            this.currentPage && e && 0 !== e.length && n && this.isGridAtFloor() && (t.includes("favorites") && "pending" === r || (s = n.find(function(e) {
                return i === e.slug
            }, this),
            s ? (this.set("guideMenu", s),
            this.setPageTitle(this.guideMenu.label),
            this.debounce("createRowsDebouncer", this._createRows.bind(this), 100),
            this.fire("grid:start-timer")) : this.navigateToHash("/")))
        },
        _createRows: function() {
            if (this.currentPage && this.grid && this.grid.channels) {
                this.resetCarousels(),
                this.fire("iron-announce", {
                    text: this.localize("Please_wait")
                });
                var e = this._setRows();
                this.grid.channels.filter(this.filterChannels, this).forEach(function(t) {
                    (t.listings || []).filter(this.filterListings, this).forEach(this.addListingToRow.bind(this, e))
                }, this),
                this.set("rows", e),
                this.hideSpinner(),
                this.setA11yPageOpenedFocus()
            }
        },
        onRecordingModification: function(e) {
            this.set("overlayWorking", e.working),
            this.set("overlayModel", e.listing),
            this.set("overlayCompletedState", e.state)
        },
        filterChannels: function(e) {
            return !(this._isFilteredBy("hd", e, "isHD") || this._isFilteredBy("tve", e, "isTve") || this._isFilteredBy("favorites", e, "isFavorite"))
        },
        filterListings: function(e) {
            var t = (e.filters || []).indexOf(this.guideMenu.filterName) !== -1
              , i = !(this._isFilteredBy("cc", e, "closedCaption") || this._isFilteredBy("dvs", e, "hasDVS") || this._isFilteredBy("sap", e, "isSAP"));
            return t && i
        },
        addListingToRow: function(e, t) {
            e.forEach(function(e, i) {
                e.listings.length >= 30 || (0 === i && this._isOnNow(t, e) || 0 !== i && this._isStartingInRowTimeRange(t, e)) && e.listings.push(t)
            }, this)
        },
        _isFilteredBy: function(e, t, i) {
            return this.activeFilters.indexOf(e) > -1 && !t[i]
        },
        _isOnNow: function(e, t) {
            var i = moment(new Date(parseInt(e.startTime, 10)))
              , n = moment(new Date(parseInt(e.endTime, 10)))
              , r = XTV.TvGridBehavior.getDate();
            return i.isBefore(parseInt(t.end, 10)) && n.isAfter(parseInt(t.start, 10)) && !i.isAfter(moment(r)) && !n.isBefore(moment(r))
        },
        _isStartingInRowTimeRange: function(e, t) {
            var i = moment(new Date(parseInt(e.startTime, 10)));
            return i.isSame(t.start) || i.isBetween(t.start, t.end)
        },
        _onListingSelected: function(e, t) {
            var i = this.$$("[active-row]");
            i && i !== e.currentTarget && i.$$("tv-carousel").reset(),
            this.attributeFollows("active-row", e.currentTarget, i),
            this.toggleAttribute("hidden", !1, this.$.details),
            e.currentTarget.attachDetails(this.$.details),
            this.set("listing", t.listing, this.$.details)
        },
        _onRowsChanged: function(t) {
            var i, n;
            t && (i = t.reduce(function(e, t) {
                return e + t.listings.length
            }, 0),
            n = /movie/i.test(this.guideMenu.label) ? this.localize("Movies") : this.localize("_menu_shows", "menu", this.guideMenu.label),
            e = this.localize("No_message_available_at_this_time_d", "message", n),
            this.set("emptyRowsMessageText", this.activeFilters.length > 0 ? this.localize("Adjust_filters_to_see_more_titles_d") : this.localize("No_shows_available_at_this_time_d")),
            this.$.emptyRowsMessage.hidden = !!i,
            this.$.rowsContainer.hidden = !i)
        },
        _rowTimes: function(e, t) {
            for (var i = [], n = 0; n < 2 * t; n++)
                i.push(e + 18e5 * n);
            return i
        },
        _setAllowedFilters: function() {
            this.set("allowedFilters", this.getAllowedFilters({
                includeFavorites: !0,
                includeDvs: !0
            }))
        },
        _setRows: function() {
            var e, t, i = this._rowTimes(this.grid.startTime, this.grid.durationInHours), n = !1;
            return i.map(function(i) {
                return e = i + 18e5,
                n = moment().isBetween(parseInt(i, 10), parseInt(e, 10)),
                t = moment(i).format("h:mm") + " - " + moment(e).format("h:mma"),
                {
                    label: this.guideMenu.label,
                    heading: n ? this.localize("_menuLabel_On_Now", "menuLabel", this.guideMenu.label) : t,
                    start: i,
                    end: e,
                    listings: []
                }
            }, this)
        }
    })
}(),
function(e) {
    e.XTV = e.XTV || {},
    e.XTV.TvPageParentalControlsBehavior = {
        properties: {
            controls: {
                type: Object,
                notify: !0
            },
            descriptions: {
                type: Object,
                notify: !0
            }
        },
        observers: ["parentalControlsReady(controls, descriptions)"],
        afterPageOpened: function() {},
        parentalControlsBehaviorPageOpened: function() {
            this.controls && this.descriptions && this.pageOpenedChecks() ? this.afterPageOpened() : this.showSpinner()
        },
        onPageOpened: function() {
            this.parentalControlsBehaviorPageOpened()
        },
        pageOpenedChecks: function() {
            return !0
        },
        parentalControlsReady: function(e, t) {},
        _getIndexedValue: function(e) {
            var t = Array.prototype.slice.call(arguments, 1);
            return e < t.length ? t[e] : t[t.length - 1]
        }
    }
}(window),
function(e) {
    e.XTV = e.XTV || {};
    var t = !1
      , i = !0;
    e.XTV.TvPageRequiresEnabledParentalControlsBehaviorImpl = {
        properties: {
            requiresEnabledParentalControls: {
                type: Boolean,
                value: !0
            }
        },
        afterPageOpened: function() {
            return this.requiresEnabledParentalControls && !this.controls.enabled ? void this.redirectTo("settings/parental-controls") : (this.currentPage && (t ? this.setIsPagePinRequired(!1) : this.$.pinVerify.needsVerification().then(function() {
                this.setA11yLoadingAnnouncement(),
                this.setA11yPageOpenedFocus()
            }
            .bind(this))["catch"](function() {
                this.redirectTo("settings/parental-controls")
            }
            .bind(this))),
            void this.onParentalControlsReady())
        },
        getIsPagePinRequired: function() {
            return i
        },
        setIsPagePinRequired: function(e) {
            i = e
        },
        setIsEntryParentalControls: function(e) {
            t = e
        },
        parentalControlsReady: function() {
            return this.currentPage && this.requiresEnabledParentalControls && !this.controls.enabled ? void this.redirectTo("settings/parental-controls") : void this.onParentalControlsReady.apply(this, arguments)
        },
        onParentalControlsReady: function() {}
    },
    e.XTV.TvPageRequiresEnabledParentalControlsBehavior = [XTV.TvA11yBehavior, XTV.TvLocalizeBehavior, XTV.TvPageBehavior, XTV.TvPageParentalControlsBehavior, XTV.TvPageRequiresEnabledParentalControlsBehaviorImpl, XTV.TvUrlBehavior]
}(window),
function() {
    var e = /^the (.*)/;
    Polymer({
        is: "tv-page-channel-list",
        behaviors: [XTV.TvA11yBehavior, XTV.TvLocalizeBehavior, XTV.TvPageRequiresEnabledParentalControlsBehavior, XTV.TvLinearKeyboardNavBehavior, XTV.TvNetworkMapBehavior],
        properties: {
            hasError: {
                type: Boolean,
                value: !1
            },
            pageTitle: String
        },
        listeners: {
            "update-channel-locks": "showSpinner"
        },
        observers: ["_refresh(controls.channelLocks.*)", "_refresh(controls.networkLocks.*)", "_showSection(networkHash)"],
        _lockAll: function() {
            var e = {}
              , t = {};
            Object.keys(this.networkHash).forEach(function(t) {
                e[t] = !0
            }),
            this.channels.forEach(function(e) {
                t[e.stationId] = !0
            }),
            this.fire("update-all-network-locks", {
                networkLocks: e,
                channelLocks: t
            })
        },
        _unlockAll: function() {
            this.fire("update-all-network-locks", {
                networkLocks: {},
                channelLocks: {}
            })
        },
        onPageOpened: function() {
            this.fire("network-resources:load"),
            this.networkHash ? this._showSection() : this.set("hasError", !0),
            this.parentalControlsBehaviorPageOpened()
        },
        onPageClosed: function() {
            this.set("hasError", !1)
        },
        _isLocked: function(e) {
            var t = this._lockedStatus(e);
            return t.fullyLocked ? this.localize("Locked") : t.partiallyLocked ? this.localize("Custom") : ""
        },
        _isLockedIcon: function(e) {
            var t = this._lockedStatus(e);
            return t.fullyLocked ? "tv-icons:locked" : "tv-icons:unlocked"
        },
        _isFullyLocked: function(e) {
            return this._lockedStatus(e).fullyLocked
        },
        _isPartiallyLocked: function(e) {
            return this._lockedStatus(e).partiallyLocked
        },
        _refresh: function() {
            this.hideSpinner()
        },
        _showSection: function() {
            this.params && this.params.channel && this.networkHash[this.params.channel] ? (this.set("network", this.networkHash[this.params.channel], this.$.channelLocks),
            this.set("pageTitle", this.networkHash[this.params.channel].name),
            this.$.list.setAttribute("hidden", ""),
            this.$.channelLocks.removeAttribute("hidden")) : (this.localize && this.set("pageTitle", this.localize("Networks_amp_Channels")),
            this.$.list.removeAttribute("hidden"),
            this.$.channelLocks.setAttribute("hidden", ""))
        },
        _sortByName: function(t, i) {
            var n = t.name.toLowerCase().replace(e, "$1, the")
              , r = i.name.toLowerCase().replace(e, "$1, the");
            return n === r ? 0 : n < r ? -1 : 1
        },
        keyboardNavElements: function() {
            return Polymer.dom(this.root).querySelectorAll("a[href],button[data-station-id]")
        },
        _getStationId: function(e) {
            return e.channels[0].stationId
        },
        _isChannelLocked: function(e) {
            return !!this.controls.channelLocks[e]
        },
        _toggleChannelLock: function(e) {
            var t = e.currentTarget.getAttribute("data-station-id");
            this.fire("update-channel-locks", {
                channels: [{
                    stationId: t,
                    locked: !this._isChannelLocked(t)
                }]
            })
        }
    })
}(),
Polymer({
    is: "tv-channel-locks",
    properties: {
        network: Object
    },
    behaviors: [XTV.TvLocalizeBehavior],
    _allLocked: function() {
        var e = this._isNetworkLocked()
          , t = this.network.channels.some(function(e) {
            return !this._isChannelLocked(e.stationId)
        }, this);
        return e && !t
    },
    _allLockedStr: function() {
        return String(this._allLocked.apply(this, arguments))
    },
    _getLockIcon: function(e, t) {
        return t.base[e] ? "tv-icons:locked" : "tv-icons:unlocked"
    },
    _hasChannels: function(e) {
        return !e.length
    },
    _isChannelLocked: function(e) {
        return !!this.controls.channelLocks[e]
    },
    _isChannelLockedStr: function() {
        return String(this._isChannelLocked.apply(this, arguments))
    },
    _isNetworkLocked: function() {
        return !!this.controls.networkLocks[this.network.companyId]
    },
    _isNetworkLockedStr: function() {
        return String(this._isNetworkLocked.apply(this, arguments))
    },
    _toggleChannelLock: function(e) {
        this.fire("update-channel-locks", {
            channels: [{
                stationId: e.model.channel.stationId,
                locked: !this._isChannelLocked(e.model.channel.stationId)
            }]
        })
    },
    _toggleAll: function() {
        var e = !this._allLocked();
        this.fire("update-network-locks", {
            companyId: this.network.companyId,
            channelIds: this.network.channels.map(function(e) {
                return e.stationId
            }),
            locked: e
        })
    },
    _toggleNetworkLock: function() {
        this.fire("update-network-locks", {
            companyId: this.network.companyId,
            locked: !this._isNetworkLocked()
        })
    },
    _channelDescription: function(e) {
        return e.isTve ? this.localize("_channelCallSign_TV_GO", "channelCallSign", e.callSign) : this.localize("_channelCallSign_channel_channelNumber_", "channelCallSign", e.callSign, "channelNumber", e.number)
    }
}),
Polymer({
    is: "tv-page-parental-controls",
    behaviors: [XTV.TvA11yBehavior, XTV.TvLocalizeBehavior, XTV.TvPageBehavior, XTV.TvPageParentalControlsBehavior, XTV.TvPageRequiresEnabledParentalControlsBehavior, XTV.TvUrlBehavior, XTV.TvNetworkMapBehavior],
    observers: ["_channelLocksChanged(controls.channelLocks.*, controls.networkLocks.*, networks, localize)", "_titleLocksChanged(controls.titleLocks.*, localize)", "_showPinCreateVerification(createPinCompletedState)", "_createPin(createPinVerifiedState)", "_pinVerified(pinVerificationState)"],
    afterPageOpened: function() {
        this.currentPage && this.$.pinVerify.needsVerification()["catch"](function() {
            this.redirectTo("settings")
        }
        .bind(this))
    },
    onPageOpened: function() {
        this.setA11yLoadingAnnouncement(),
        this.fire("network-resources:load"),
        this.setIsEntryParentalControls(!0),
        this.getIsPagePinRequired() ? this.$.pinVerify.needsVerification().then(function() {
            this.setA11yPageOpenedFocus()
        }
        .bind(this))["catch"](function() {
            this.redirectTo("settings")
        }
        .bind(this)) : this.setA11yPageOpenedFocus()
    },
    onPageClosed: function() {
        this.setIsPagePinRequired(!1),
        this.setA11yPageClosedFocus()
    },
    parentalControlsReady: function() {
        this.hideSpinner()
    },
    _channelLocksChanged: function() {
        this.networks && (this._allLocked() ? (this.set("channelLockSummary", this.localize("Locked")),
        this.set("channelLockDescription", this.localize("All_networks_and_channels_are_locked"))) : this._allUnlocked() ? (this.set("channelLockSummary", this.localize("None")),
        this.set("channelLockDescription", this.localize("No_networks_or_channels_are_locked"))) : (this.set("channelLockSummary", this.localize("Custom")),
        this.set("channelLockDescription", this.localize("Some_networks_or_channels_are_locked"))))
    },
    _onEnabledToggle: function() {
        this.set("overlayReason", "enabled"),
        this.$.overlayManager.start(this.controls.pin ? "overlayPinEntry" : "overlayPinCreate")
    },
    _onModifyPin: function() {
        this.set("overlayReason", "modifyPin"),
        this.$.overlayManager.start("overlayPinEntry")
    },
    _showPinCreateVerification: function(e) {
        /pin-validated-successful/.test(e) && this.$.overlayManager.start("overlayPinCreateVerify")
    },
    _createPin: function(e) {
        /pin-validated-successful/.test(e) && (this.$.pinVerify.resetTimer(),
        /enabled/.test(this.overlayReason) ? this.fire("enable-parental-controls", {
            enabled: !this.controls.enabled,
            pin: this.createdPin
        }) : this.fire("update-parental-controls-pin", {
            pin: this.createdPin
        }))
    },
    _pinVerified: function(e) {
        /pin-validated-successful/.test(e) && (/enabled/.test(this.overlayReason) ? this.fire("enable-parental-controls", {
            enabled: !this.controls.enabled
        }) : /modifyPin/.test(this.overlayReason) ? (this.set("overlayReason", "createPin"),
        this.$.overlayManager.start("overlayPinCreate")) : /reset/.test(this.overlayReason) && this.$.overlayManager.start("overlayResetParentalControls"))
    },
    _onResetParentalControls: function() {
        this.set("overlayReason", "reset"),
        this.$.overlayManager.start("overlayPinEntry")
    },
    _titleLocksChanged: function() {
        var e = Object.keys(this.controls.titleLocks).filter(function(e) {
            return (this.controls.titleLocks[e] || {}).locked
        }, this).length;
        this.set("titleLockSummary", e ? e + " " + this.localize("_lockCount_Locked", "lockCount", e) : this.localize("None")),
        this.set("titleLockDescription", e ? this.localize("_lockCount_titles_locked", "lockCount", e) : this.localize("No_titles_locked"))
    },
    urlForRatings: function(e) {
        return this.urlFor("settings/ratings/" + e.scheme)
    },
    _getRatingLabel: function(e, t, i) {
        var n = this.descriptions.ratings.find(function(t) {
            return t.scheme === e
        }).ratings
          , t = n.find(function(e) {
            return e.name === t
        });
        return i ? [t.label, t.advisories.find(function(e) {
            return e.name === i
        }).label].join("-") : t.label
    },
    lockSummary: function(e) {
        var t = this.descriptions.ratings.find(function(t) {
            return t.scheme === e
        }).ratings.map(function(e) {
            return e.name
        }).reverse().reduce(function(t, i) {
            var n = this.controls.ratingLocks[e][i]
              , r = n.locked
              , s = Object.keys(n.advisories).map(function(e) {
                return {
                    name: e,
                    locked: n.advisories[e].locked
                }
            })
              , o = s.filter(function(e) {
                return e.locked
            }).map(function(e) {
                return e.name
            });
            return s.length > 0 && s.length !== o.length ? t.concat(o.map(function(t) {
                return this._getRatingLabel(e, i, t)
            }, this)) : r ? t.concat(this._getRatingLabel(e, i)) : t
        }
        .bind(this), []);
        return t.length > 0 ? t.join(", ") : this.localize("None")
    },
    safeBrowseSummary: function(e) {
        var t = this.descriptions.safeBrowse.levels.find(function(t) {
            return t.name === e
        });
        return t.label
    },
    keyboardNavElements: function() {
        return Polymer.dom(this.root).querySelectorAll("[control][element]")
    },
    _preventNav: function(e) {
        this.controls.enabled || e.preventDefault()
    },
    disabledTabIndex: function(e) {
        return e ? 0 : -1
    }
}),
Polymer({
    is: "tv-page-safe-browse",
    properties: {
        safeBrowseLevels: Object,
        selectedLevel: {
            type: String,
            observer: "_levelChanged"
        }
    },
    behaviors: [XTV.TvA11yBehavior, XTV.TvLocalizeBehavior, XTV.TvPageRequiresEnabledParentalControlsBehavior],
    onParentalControlsReady: function() {
        var e = this.descriptions.safeBrowse.levels;
        this.set("safeBrowseLevels", e.map(function(e) {
            return {
                value: e.name,
                label: e.label
            }
        }, this)),
        this.set("selectedLevel", this.controls.safeBrowse),
        this.toggleClass("loaded", !0),
        this.hideSpinner()
    },
    _levelChanged: function(e, t) {
        t && this.fire("update-safe-browse-level", {
            level: e
        })
    },
    onPageOpened: function() {
        this.setA11yLoadingAnnouncement(),
        this.parentalControlsBehaviorPageOpened()
    },
    onPageClosed: function() {
        this.setA11yPageClosedFocus()
    }
}),
Polymer({
    is: "tv-page-titles",
    behaviors: [XTV.TvLocalizeBehavior, XTV.TvPageRequiresEnabledParentalControlsBehavior, XTV.TvLinearKeyboardNavBehavior],
    observers: ["_refresh(controls.titleLocks.*)"],
    onParentalControlsReady: function() {
        this.toggleClass("loaded", !0),
        this._refresh()
    },
    _deleteLock: function(e) {
        this.fire("delete-title-lock", {
            merlinId: e.model.lock.id
        })
    },
    _lockIcon: function(e) {
        return e ? "tv-icons:locked" : "tv-icons:unlocked"
    },
    _refresh: function() {
        this.set("titleLocks", Object.keys(this.controls.titleLocks).map(function(e) {
            return this.extend({
                id: e
            }, this.controls.titleLocks[e])
        }, this)),
        this.hideSpinner()
    },
    _sortByMerlinId: function(e, t) {
        return e.id === t.id ? 0 : e.id < t.id ? -1 : 1
    },
    _toggleLocked: function(e) {
        this.fire("update-title-lock", {
            merlinId: e.model.lock.id,
            locked: !e.model.lock.locked,
            title: e.model.lock.title
        })
    },
    keyboardNavElements: function() {
        return Polymer.dom(this.root).querySelectorAll("button.lock")
    },
    getRowElement: function(e) {
        return /\block\b/.test(e.getAttribute("class")) ? Polymer.dom(e.parentNode) : Polymer.dom(e.parentNode.parentNode)
    },
    getLockElement: function(e) {
        return this.getRowElement(e).querySelector("button.lock")
    },
    moveFocusDown: function(e) {
        this.moveFocus(e, 1, {
            target: this.getLockElement(e.detail.keyboardEvent.target)
        })
    },
    moveFocusUp: function(e) {
        this.moveFocus(e, -1, {
            target: this.getLockElement(e.detail.keyboardEvent.target)
        })
    },
    moveFocusLeft: function(e) {
        var t = e.detail.keyboardEvent.target;
        this.moveFocus(e, -1, {
            elements: this.getRowElement(t).querySelectorAll("button")
        })
    },
    moveFocusRight: function(e) {
        var t = e.detail.keyboardEvent.target;
        this.moveFocus(e, 1, {
            elements: this.getRowElement(t).querySelectorAll("button")
        })
    }
}),
function(e) {
    e.XTV = e.XTV || {},
    e.XTV.TvPageRatingsBehaviorImpl = {
        params: {
            schemeDescriptions: Object,
            ratingDescriptions: Object,
            schemeLocks: Object,
            ratingLocks: Object,
            ratings: Object
        },
        observers: ["_refreshDescriptions(descriptions.*, params.*)", "_refreshLocks(controls.ratingLocks.*, params.*)"],
        _isLocked: function(e) {
            return this._ratingLock(e).locked
        },
        _isLockedStr: function(e) {
            return String(this._isLocked(e))
        },
        _lockIcon: function(e) {
            return this._isLocked(e) ? "tv-icons:locked" : "tv-icons:unlocked"
        },
        _refreshDescriptions: function() {
            var e = this.descriptions.ratings.find(function(e) {
                return e.scheme === this.params.scheme
            }, this)
              , t = e.ratings.find(function(e) {
                return e.name === this.params.category
            }, this);
            this.set("schemeDescriptions", e),
            this.set("ratingDescriptions", t),
            this.set("ratings", e.ratings)
        },
        _refreshLocks: function() {
            var e = this.controls.ratingLocks[this.params.scheme]
              , t = e[this.params.category];
            this.set("schemeLocks", e),
            this.set("ratingLocks", t)
        },
        _getDependentCategories: function(e, t) {
            var i, n = this.ratings.findIndex(function(t) {
                return t.name === e
            });
            return i = t ? this.ratings.slice(0, n + 1) : this.ratings.slice(n),
            i.map(function(e) {
                return e.name
            })
        }
    },
    e.XTV.TvPageRatingsBehavior = [e.XTV.TvRatingsBehavior, e.XTV.TvPageRatingsBehaviorImpl]
}(window),
Polymer({
    is: "tv-page-ratings",
    behaviors: [XTV.TvLocalizeBehavior, XTV.TvPageRequiresEnabledParentalControlsBehavior, XTV.TvPageRatingsBehavior],
    properties: {
        ratingLevels: Object,
        selectedRatingLevel: String
    },
    observers: ["_buildRatingLevels(ratings.*)", "_updateSelectedRating(ratings.*, schemeLocks.*)"],
    onParentalControlsReady: function() {
        this.toggleClass("loaded", !0),
        this.hideSpinner(),
        this._updateSelectedRating()
    },
    _buildRatingLevelLabel: function(e) {
        var t, i;
        return e.length <= 2 ? e.join(this.localize("_and_")) : (i = e.pop(),
        t = e.pop(),
        e.push(t + this.localize("c_and_") + i),
        e.join(", "))
    },
    _buildRatingLevels: function() {
        var e, t = [{
            label: this.localize("None"),
            value: "-1"
        }];
        this.ratings.forEach(function(i, n) {
            e = this.ratings.slice(0, n + 1).map(function(e) {
                return e.label
            }).reverse(),
            t.push({
                label: this._buildRatingLevelLabel(e),
                value: String(n)
            })
        }, this),
        this.set("ratingLevels", t)
    },
    _updateSelectedRating: function() {
        var e, t;
        if (!this.ratings || !this.schemeLocks)
            return void this.set("selectedRatingLevel", "-1");
        for (e = this.ratings.length - 1; e >= 0; e--)
            if (t = this.ratings[e],
            this.schemeLocks[t.name] && this.schemeLocks[t.name].locked)
                return void this.set("selectedRatingLevel", String(e));
        this.set("selectedRatingLevel", "-1")
    },
    _ratingLock: function(e) {
        return this.schemeLocks[e]
    },
    _hasAdvisories: function() {
        return this.ratings.some(function(e) {
            return e.advisories.length > 0
        })
    },
    _ratingSummary: function(e) {
        return this.isEverythingLocked(this.schemeLocks, e) ? this.localize("Locked") : this.isAnythingLocked(this.schemeLocks, e) ? this.localize("Custom_locks") : ""
    },
    _updateRating: function(e) {
        var t = +e.target.selected;
        this.set("selectedRatingLevel", String(t)),
        this.fire("set-rating-locks", {
            scheme: this.params.scheme,
            ratings: this.ratings.reduce(function(e, i, n) {
                return e[i.name] = n <= t,
                e
            }, {})
        })
    },
    _showRatingDefinitions: function(e) {
        e.preventDefault(),
        this.$.overlayRatingDefinitions.open()
    }
}),
Polymer({
    is: "tv-page-ratings-category",
    behaviors: [XTV.TvLocalizeBehavior, XTV.TvPageRequiresEnabledParentalControlsBehavior, XTV.TvPageRatingsBehavior],
    observers: ["_refresh(ratingDescriptions.*)"],
    onParentalControlsReady: function() {
        this.toggleClass("loaded", !0),
        this.hideSpinner()
    },
    _refresh: function() {
        this.toggleClass("no-advisories", !this.ratingDescriptions.advisories.length)
    },
    _ratingLock: function(e) {
        return this.ratingLocks.advisories[e]
    },
    _isEverythingLockedStr: function() {
        return String(this.isEverythingLocked.apply(this, arguments))
    },
    _quickLock: function() {
        var e = !this.isEverythingLocked(this.schemeLocks, this.params.category);
        this.fire("update-all-rating-locks", {
            scheme: this.params.scheme,
            category: this.params.category,
            dependentCategories: this._getDependentCategories(this.params.category, e),
            locked: e
        })
    },
    _toggleLocked: function(e) {
        var t = e.model.advisory.name
          , i = !this._isLocked(t);
        this.fire("update-rating-locks", {
            scheme: this.params.scheme,
            category: this.params.category,
            advisory: t,
            dependentCategories: this._getDependentCategories(this.params.category, i),
            locked: i
        })
    }
}),
function() {
    Polymer({
        is: "tv-page-purchases",
        properties: {
            finishedLoading: {
                type: Boolean,
                value: !1
            },
            hasPurchaseGroups: {
                type: Boolean,
                computed: "_hasPurchaseGroups(purchaseGroups)",
                value: !1
            },
            isEmpty: {
                type: Boolean,
                computed: "_isEmpty(purchaseGroups, resource)"
            },
            resource: {
                type: Object,
                value: void 0,
                notify: !0
            },
            sortOption: {
                type: String,
                observer: "sortChanged"
            },
            sortFunction: {
                type: String,
                notify: !0
            }
        },
        observers: ["_onOverlayCompleted(overlayCompletedState)", "_resourceChanged(resource)"],
        behaviors: [XTV.TvA11yBehavior, XTV.TvLocalizeBehavior, XTV.TvPageBehavior, XTV.TvFindBehavior, XTV.TvTypeBehavior, XTV.TvUrlBehavior],
        _setA11yItemsAvailable: function(e) {
            return e > 1 ? this.localize("Items_available") : ""
        },
        _sortByAlpha: function(e, t) {
            return e.sortedName > t.sortedName ? 1 : e.sortedName < t.sortedName ? -1 : 0
        },
        _sortByRecent: function(e, t) {
            var i = parseInt(e.timestamp, 10)
              , n = parseInt(t.timestamp, 10);
            return i > n ? -1 : i < n ? 1 : this._sortByAlpha(e, t)
        },
        sortChanged: function(e) {
            "recent" === e ? this.set("sortFunction", "_sortByRecent") : "a-z" === e && this.set("sortFunction", "_sortByAlpha")
        },
        onPageClosed: function() {
            this.setA11yPageClosedFocus(),
            this.hasPurchaseGroups || this.set("resource", null)
        },
        onPageOpened: function() {
            this.showSpinner(),
            this.setA11yLoadingAnnouncement(),
            this.sendApiRequests(["purchases"]),
            this.$.sort.refresh()
        },
        _displayName: function(e, t) {
            return e + (t > 1 ? " (" + t + ")" : "")
        },
        _getImage: function(e) {
            var t = e.getFirstAction("image", {
                width: 240,
                height: 320
            }).getActionUrl()
              , i = e.getFirstAction("fallbackImage", {
                width: 240,
                height: 320
            }).getActionUrl();
            return t || i
        },
        _getImageTitle: function(e) {
            var t = "";
            return moment.setLocale("purchased"),
            e.numPurchases > 1 ? t = this.localize("_numPurchases_Episodes", "numPurchases", e.numPurchases) : (t = moment(e.timestamp).calendar(),
            moment().isSame(e.timestamp, "year") || (t += moment(e.timestamp).format("/YY"))),
            moment.resetLocale(),
            t
        },
        _handleResponse: function(e) {
            this.set("resource", e.detail.resource)
        },
        _hasPurchaseGroups: function(e) {
            return !!(e || []).length
        },
        _initializeEmptySort: function() {
            this.set("sortOption", "recent")
        },
        _isEmpty: function() {
            return this.resource && !(this.purchaseGroups || []).length
        },
        _isGridView: function(e) {
            return /grid/.test(e)
        },
        _isListView: function(e) {
            return /list/.test(e)
        },
        _finishedParsing: function(e) {
            this.set("purchaseGroups", e.filter(Boolean)),
            this.set("finishedLoading", !0),
            this.hideSpinner(),
            this.setA11yPageOpenedFocus()
        },
        _resourceChanged: function() {
            this.resource && Promise.all(this.resource.getEmbedded("purchaseGroups").map(function(e) {
                return this.$.purchaseGroupParser.parsePurchaseGroup(e)
            }, this)).then(this._finishedParsing.bind(this))
        },
        _setA11yLabelledby: function(e, t, i) {
            var n = i + "-item-" + e + " " + i + "-sub-" + e
              , r = t + " " + i + "-item-" + e + " " + i + "-sub-" + e;
            return 0 === e ? r : n
        },
        _setA11yInstructions: function(e, t) {
            return 0 === e ? t : ""
        },
        _setTabindex: function(e) {
            return 0 === e ? "0" : "-1"
        }
    })
}(),
Polymer({
    is: "tv-page-purchase-group",
    properties: {
        resource: {
            type: Object,
            value: void 0,
            notify: !0
        },
        purchaseGroup: {
            type: Object,
            value: function() {
                return {
                    creativeWork: {}
                }
            },
            notify: !0
        },
        purchases: {
            type: Array,
            value: function() {
                return []
            }
        },
        purchasesUnsorted: Array,
        animationConfig: {
            value: function() {
                return {}
            }
        },
        hidden: {
            type: Boolean,
            value: !0,
            notify: !0
        }
    },
    observers: ["_readyToSort(purchasesUnsorted)", "_readyToParse(params.groupId, resource, controls)"],
    behaviors: [XTV.TvA11yBehavior, XTV.TvLocalizeBehavior, XTV.TvAssetParserBehavior, XTV.TvPageBehavior, XTV.TvParentalControlsBehavior, XTV.TvTypeBehavior, XTV.TvUrlBehavior, XTV.TvUserBehavior, Polymer.NeonAnimationRunnerBehavior, Polymer.NeonSharedElementAnimatableBehavior, XTV.behaviors.splunk],
    onPageClosed: function() {
        this.setA11yPageClosedFocus(),
        this.set("purchaseGroup", {}),
        this.set("hidden", !0)
    },
    onPageOpened: function() {
        return Number(this.params.groupId) ? (this.resource || (this.showSpinner(),
        this.setA11yLoadingAnnouncement(),
        this.sendApiRequests(["purchases"]),
        this.fire("iron-announce", {
            text: this.localize("Please_wait")
        })),
        this.set("needsRedirectToPurchased", !1),
        void this.setA11yPageOpenedFocus()) : this.navigateTo("404")
    },
    openFirstListRow: function() {
        1 === this.purchases.length && this.querySelector(".list-row").setAttribute("opened", !0)
    },
    parseGroupPurchases: function(e) {
        Promise.all(e.getAction("purchases").map(this._fetchAction.bind(this))).then(function(e) {
            return e.map(function(e) {
                return this.$.purchasesParser.getPurchase(e.data)
            }, this)
        }
        .bind(this)).then(function(e) {
            Promise.all(e).then(this.set.bind(this, "purchasesUnsorted"))
        }
        .bind(this))
    },
    _actionsForPurchase: function(e, t) {
        return this.watchableActions(e, t)
    },
    _showContent: function() {
        this.animationConfig.fadeContent = [{
            name: "fade-in-animation",
            node: this.$.content
        }],
        this.toggleClass("ready", !0, this.$.content),
        this.playAnimation("fadeContent"),
        this.openFirstListRow()
    },
    _composeTimeRemaining: function(e, t) {
        return this.timeRemainingAsText(e, t)
    },
    _computePercentWatched: function(e, t) {
        var i = 0
          , n = this.getItemResumePoint(e, t);
        return n ? (i = this.percentWatched(e, n.position),
        i = i >= 100 ? 99 : i) : e.watched && (i = 100),
        i
    },
    _fetchAction: function(e) {
        return e.fetch().then(null, this.logError.bind(this))
    },
    _handleResponse: function() {
        this.set("resource", event.detail.resource)
    },
    _hasResumePointOrWatched: function(e, t) {
        return e.watched || this.hasResumePoints(e, t)
    },
    _isEntityButtonHidden: function(e) {
        return this.userHasPurchasesOnly() || this.isPerson(e)
    },
    _isLockable: function(e) {
        return this.controls.enabled && !(this.isPerson(e) || this.isSportsEvent(e) || this.isSportsTeam(e))
    },
    _lock: function() {
        this._toggleLock(!0)
    },
    _purchaseSubtitle: function(e) {
        return this.isMovie(e) ? "" : this._purchasedOnLabel(e)
    },
    _purchaseTitle: function(e) {
        return this.isMovie(e) ? this._purchasedOnLabel(e) : e.derivedTitle
    },
    _purchasedOnLabel: function(e) {
        var t = "M/D" + (moment().isSame(e.transactionDetails.purchaseTimestamp, "year") ? "" : "/YY")
          , i = [];
        return i.push(this.localize("Purchased_hdSd_on", "hdSd", e.isHD ? "HD" : "SD")),
        i.push(moment(e.transactionDetails.purchaseTimestamp).format(t)),
        i.join(" ")
    },
    _readyToParse: function(e) {
        if (this._resetState(),
        this.currentPage) {
            var t = this.resource.getEmbedded("purchaseGroups").filter(function(t) {
                return t.getFirstAction("self").getActionUrl().indexOf(e) !== -1
            })[0];
            t && (this.$.purchaseGroupParser.parsePurchaseGroup(t).then(this.set.bind(this, "purchaseGroup")),
            this.parseGroupPurchases(t),
            this.hideSpinner(),
            this.set("hidden", !1))
        }
    },
    _readyToSort: function(e) {
        this.set("purchases", e.sort(function(e, t) {
            return e.originalAirDate < t.originalAirDate ? 1 : e.originalAirDate > t.originalAirDate ? -1 : 0
        }))
    },
    _resetState: function() {
        this.set("purchaseGroup", {
            creativeWork: {}
        }),
        this.set("purchases", [])
    },
    _toggleLock: function(e) {
        this.$.pinVerify.needsVerification().then(function() {
            this.fire("update-title-lock", {
                merlinId: this.purchaseGroup.creativeWork.lockableMerlinId,
                locked: e,
                title: this.purchaseGroup.creativeWork.name
            })
        }
        .bind(this))
    },
    _unlock: function() {
        this._toggleLock(!1)
    },
    _watch: function(e) {
        this.fire("app:player:watch", {
            options: {
                restartVideo: "restart" === e.currentTarget.getAttribute("name") || "watch" === e.currentTarget.getAttribute("name")
            },
            watchable: e.model.purchase
        })
    }
}),
Polymer({
    is: "tv-page-recording-group",
    properties: {
        currentPage: Boolean,
        resource: {
            type: Object,
            value: void 0,
            notify: !0
        },
        recordingGroup: {
            type: Object,
            value: function() {
                return {}
            },
            notify: !0
        },
        recordings: {
            type: Array,
            value: function() {
                return []
            }
        }
    },
    observers: ["_everythingReady(recordings, recordingGroup)", "_readyToParse(params.groupId, resource, controls)"],
    behaviors: [XTV.TvA11yBehavior, XTV.TvLocalizeBehavior, XTV.TvAssetParserBehavior, XTV.TvOohHelper, XTV.TvPageBehavior, XTV.TvParentalControlsBehavior, XTV.TvRecordingBehavior, XTV.TvTypeBehavior, XTV.TvUrlBehavior, XTV.TvWatchableTypeBehavior, XTV.behaviors.splunk],
    onPageClosed: function() {
        this.setA11yPageClosedFocus(),
        this.set("recordingGroup", void 0),
        this.set("recordings", []),
        this.toggleClass("ready", !1, this.$.content)
    },
    onPageOpened: function() {
        return Number(this.params.groupId) ? (this.showSpinner(),
        void (this.resource || (this.sendApiRequests(["recordings"]),
        this.setA11yLoadingAnnouncement()))) : this.navigateTo("404")
    },
    parseGroupRecordings: function(e) {
        Promise.all(e.getAction("recordings").map(this._fetchAction.bind(this))).then(function(e) {
            return e.map(function(e) {
                return this.$.recordingsParser.getRecording(e.data)
            }, this)
        }
        .bind(this)).then(function(e) {
            Promise.all(e).then(this.set.bind(this, "recordings"))
        }
        .bind(this))
    },
    _actionsForRecording: function(e, t, i) {
        var n = [];
        return this.isDownloaded(e) || (n = this.hasResumePoints(e, t) ? ["resume", "restart"] : ["watch"],
        this.isManageableByItself(e) && n.push("recordOptions")),
        (this.isPerson(i) || this.isSportsTeam(i)) && n.push("entity"),
        n
    },
    _everythingReady: function(e, t) {
        e.length && t && (this.toggleClass("ready", !0, this.$.content),
        this.hideSpinner(),
        this.setA11yPageOpenedFocus())
    },
    expandLastListRow: function() {
        var e = this.$$(".list-row");
        this.set("opened", !0, e),
        this.set("disable-collapse", !0, e)
    },
    _deleteRecordingGroup: function() {
        this.fire("app:recording:delete:group", {
            recordingGroup: this.recordingGroup
        })
    },
    _fetchAction: function(e) {
        return e.fetch().then(null, this.logError.bind(this))
    },
    _getDerivedTitle: function(e, t) {
        return this.isSportsTeam(t.creativeWork) ? e.creativeWork.name : e.derivedTitle
    },
    _groupRecordOptions: function() {
        this.fire("app:recording:modify", {
            recording: this.recordingGroup
        })
    },
    _handleResponse: function(e) {
        this.set("resource", e.detail.resource)
    },
    _hasMultipleRecordings: function(e) {
        return e > 1
    },
    _hasResumePointOrRecordingNow: function(e, t) {
        return this.hasResumePoints(e, t) || this.isRecordingInProgress(e)
    },
    _isEntityActionHidden: function(e) {
        if (e)
            return !e.entityId || this.isPerson(e)
    },
    _isSingleMovieRecording: function(e, t) {
        return !this._hasMultipleRecordings(this.recordings.length) && this.isMovie(t.creativeWork)
    },
    _isLockable: function(e, t) {
        return t.enabled && !(this.isPerson(e) || this.isSportsEvent(e) || this.isSportsTeam(e))
    },
    _isManageable: function(e) {
        if (e)
            return this.isManageableByItself(e) || this.isManageableAsRepeat(e.entity)
    },
    _isOnlyItem: function(e, t, i) {
        return 0 === t && !this._hasMultipleRecordings(i)
    },
    _lock: function() {
        this._toggleLock(!0)
    },
    onRecordingModification: function(e) {
        var t = e.state
          , i = e.recording;
        /modified-single/.test(t) ? this.refreshRecording(i).then(this.updateRecordingInCollection.bind(this, "recordings", i)) : /canceled-repeat|modified-repeat|recorded-repeat/.test(t) ? this.async(function() {
            this.sendApiRequests(["recordings"])
        }, 2e3) : /deleted-recording-group/.test(t) ? this.recordingGroup.numDownloads ? this.async(function() {
            this.sendApiRequests(["recordings"])
        }, 2e3) : this.redirectTo("recordings") : /deleted-recording/.test(t) && (this.removeRecordingFromCollection("recordings", i),
        this.set("recordingGroup.numRecordings", this.recordings.length),
        0 === this.recordings.length ? this.redirectTo("recordings") : 1 === this.recordings.length && this.expandLastListRow())
    },
    _readyToParse: function(e) {
        if (this.currentPage) {
            var t = this.resource.getEmbedded("recordingGroups").filter(function(t) {
                return t.getFirstAction("self").getActionUrl().indexOf(e) !== -1
            })[0];
            if (!t)
                return void this.redirectTo("recordings");
            this.$.recordingGroupParser.parseRecordingGroup(t).then(this.set.bind(this, "recordingGroup")),
            this.async(this.parseGroupRecordings.bind(this, t), 100)
        }
    },
    _recordOptions: function(e) {
        this.fire("app:recording:modify", {
            recording: e.model.recording
        })
    },
    _toggleLock: function(e) {
        this.$.pinVerify.needsVerification().then(function() {
            this.fire("update-title-lock", {
                merlinId: this.recordingGroup.creativeWork.lockableMerlinId,
                locked: e,
                title: this.recordingGroup.creativeWork.name
            })
        }
        .bind(this))
    },
    _unlock: function() {
        this._toggleLock(!1)
    },
    _watch: function(e) {
        e.currentTarget.hasAttribute("disabled") || this.fire("app:player:watch", {
            options: {
                restartVideo: "restart" === e.currentTarget.getAttribute("name") || "watch" === e.currentTarget.getAttribute("name")
            },
            watchable: e.model.recording
        })
    },
    _isRecordingNow: function(e) {
        return "STARTED" === e.recordingStatus
    },
    _canShowWatchedProgress: function(e, t, i) {
        return !this.isDownloaded(e) && !this._isRecordingNow(e) && (this.hasResumePoints(e, t) || !!i[e.programId])
    },
    _composeTimeRemaining: function(e, t) {
        return this.timeRemainingAsText(e, t)
    },
    _computePercentWatched: function(e, t, i) {
        var n = i[e.programId]
          , r = this.getItemResumePoint(e, t)
          , s = 0;
        if (r) {
            if (n && new Date(n.dateWatched).valueOf() > new Date(r.dateUpdated).valueOf())
                return 100;
            s = this.percentWatched(e, r.position),
            s = s >= 100 ? 99 : s
        }
        return n && (s = 100),
        s
    }
}),
function() {
    Polymer({
        is: "tv-page-scheduled",
        properties: {
            recordings: Array,
            dataGrouped: {
                type: Array,
                value: function() {
                    return []
                }
            },
            isEmpty: {
                type: Boolean,
                value: !1
            }
        },
        observers: ["_recordingsReady(recordings)"],
        behaviors: [XTV.TvA11yBehavior, XTV.TvLocalizeBehavior, XTV.TvOohHelper, XTV.TvPageBehavior, XTV.TvParentalControlsBehavior, XTV.TvRecordingBehavior, XTV.TvFindBehavior],
        onPageOpened: function() {
            this.recordingsResource || (this.showSpinner(),
            this.setA11yLoadingAnnouncement()),
            this.sendApiRequests(["scheduledApi", "storage"]),
            this.async(function() {
                this.updateStyles()
            }, 1e3)
        },
        onPageClosed: function() {
            this.setA11yPageClosedFocus()
        },
        onRecordingModification: function(e) {
            var t = e.state
              , i = e.recording;
            /canceled-repeat|canceled-single|deleted-recording/.test(t) ? (this._removeRecordingsAndClear(t, i),
            this.async(this._recordingsReady.bind(this))) : /modified-repeat|modified-single/.test(t) && this.refreshRecording(i).then(function(e) {
                this.$.recordingsParser.getRecording(e.data).then(function(e) {
                    this.updateRecordingInCollection("recordings", e),
                    this.async(this._recordingsReady.bind(this))
                }
                .bind(this))
            }
            .bind(this))
        },
        _groupByRecordDate: function(e) {
            var t, i = {}, n = function(e) {
                return moment(new Date(e.dateRecorded)).startOf("day").valueOf()
            };
            return e.forEach(function(e) {
                t = n(e),
                i[t] ? i[t].collection.push(e) : (moment.setLocale("heading"),
                i[t] = {
                    title: moment(parseInt(t, 10)).calendar(),
                    collection: [e]
                },
                moment.resetLocale())
            }),
            i
        },
        _handleRecordings: function(e) {
            this.$.recordingsParser.parseRecordings(e.detail.resource).then(this.set.bind(this, "recordings"))
        },
        _isRecordingNow: function(e) {
            return "STARTED" === e.recordingStatus
        },
        _recordingsReady: function() {
            this.start = (new Date).getTime();
            var e = this._groupByRecordDate(this.recordings);
            this.set("dataGrouped", Object.keys(e).map(function(t) {
                return e[t]
            })),
            this.hideSpinner(),
            this.setA11yPageOpenedFocus(),
            this.set("isEmpty", !this.dataGrouped.length),
            this.scrollY && this.async(scrollTo.bind(window, 0, this.scrollY), 50)
        },
        _recordOptionsFlow: function(e) {
            this.fire("app:recording:modify", {
                recording: e.model.recording
            })
        },
        _removeRecordingsAndClear: function(e, t) {
            var i;
            t && (/canceled-repeat/.test(e) ? (i = this.findAllByEntityId(this.recordings, t.entity.entityId),
            i.forEach(function(e) {
                this.splice("recordings", this.findById(this.recordings, e), 1)
            }, this)) : this.splice("recordings", this.findById(this.recordings, t), 1),
            this.scrollY = window.pageYOffset,
            this.set("dataGrouped", []),
            this.sendApiRequests(["storage"]))
        },
        _watch: function(e) {
            return !e.currentTarget.hasAttribute("disabled") && void this.fire("app:player:watch", {
                watchable: e.model.recording
            })
        },
        _getRecordingActions: function(e) {
            if (e) {
                var t = ["recordOptions", "entity"];
                return this._isRecordingNow(e) && t.push("watch"),
                t
            }
        }
    })
}(),
function(e) {
    Polymer({
        is: "tv-page-settings",
        behaviors: [XTV.TvA11yBehavior, XTV.TvLocalizeBehavior, XTV.TvPageBehavior, XTV.TvUrlBehavior, XTV.TvUserBehavior, XTV.TvSpinnerBehavior],
        onPageOpened: function() {
            this.setA11yLoadingAnnouncement(),
            this.setA11yPageOpenedFocus()
        },
        onPageClosed: function() {
            this.setA11yPageClosedFocus()
        },
        _getAuthText: function(e) {
            return e ? this.localize("Sign_Out") : this.localize("Sign_In")
        },
        _handleAuth: function() {
            this.navigateTo("logout"),
            e.player.closePlayer() && this.setA11ySignoutAnnouncement()
        }
    })
}(window),
Polymer({
    is: "tv-page-accessibility",
    properties: {
        captioning: Boolean,
        isDVSActive: {
            type: Boolean,
            value: !1
        }
    },
    behaviors: [XTV.TvA11yBehavior, XTV.TvLocalizeBehavior, XTV.TvPageBehavior],
    _changeClosedCaption: function(e) {
        e.currentTarget.hasAttribute("disabled") || this.$.overlayManager.start("overlayClosedCaption")
    },
    _onEnabledToggle: function() {
        this.set("captioning", !this.captioning)
    },
    _onDVSToggle: function() {
        this.set("isDVSActive", !this.isDVSActive)
    },
    onPageOpened: function() {
        this.setA11yLoadingAnnouncement(),
        this.setA11yPageOpenedFocus()
    },
    onPageClosed: function() {
        this.setA11yPageClosedFocus()
    }
}),
Polymer({
    is: "tv-page-background",
    behaviors: [XTV.TvLocalizeBehavior, XTV.TvPageBehavior]
}),
function() {
    var e = {
        PURCHASED_VOD: "Purchase",
        TVE_VOD: "TV Go"
    };
    Polymer({
        is: "tv-parser-devices",
        hostAttributes: {
            hidden: !0
        },
        getDevices: function(t) {
            var i, n = {
                stream: [],
                download: []
            };
            return t.getEmbedded("devices").forEach(function(t) {
                i = t.getProps(),
                i.isStreaming && (i.streamTypeDisplay = e[i.streamType] || "",
                n.stream.push(i)),
                (i.recordingCheckoutCount > 0 || i.purchasedVodCheckoutCount > 0 || i.tveCheckoutCount > 0) && (i.checkInAll = t.getFirstAction("checkInAll"),
                n.download.push(i))
            }),
            Promise.resolve(n)
        }
    })
}(),
Polymer({
    is: "tv-page-devices",
    behaviors: [XTV.TvA11yBehavior, XTV.TvLocalizeBehavior, XTV.TvPageBehavior, XTV.TvSpinnerBehavior],
    properties: {
        resource: {
            type: Object,
            value: void 0,
            notify: !0
        },
        devices: {
            type: Object,
            notify: !0
        },
        deviceToModify: Object,
        updateDevices: {
            type: Boolean,
            notify: !0
        }
    },
    observers: ["_resourceChanged(resource)", "_devicesChanged(updateDevices)"],
    _resourceChanged: function(e) {
        this.resource && this.$.getAllDevicesListParser.getDevices(e).then(this.set.bind(this, "devices"))
    },
    _devicesChanged: function() {
        this.updateDevices && this.onPageOpened(!0)
    },
    _changeDeviceName: function() {
        this.$.overlayManager.start("overlayRenameDevice")
    },
    onPageClosed: function() {
        this.setA11yPageClosedFocus(),
        this.set("error", !1),
        this.set("errorCode", "")
    },
    onPageOpened: function(e) {
        this.set("loading", !0),
        this.$.getAllDevicesList.sendRequest({
            force: e
        }),
        this.setA11yLoadingAnnouncement(),
        this.setA11yPageOpenedFocus()
    },
    _onResponse: function(e) {
        this.set("loading", !1),
        this.set("resource", e.detail.resource)
    },
    _onError: function(e) {
        this.set("loading", !1),
        this.set("error", !0),
        this.set("errorCode", e.detail.details.error.code)
    },
    _getPurchasesLabel: function(e) {
        return 1 === e ? this.localize("Purchase") : this.localize("Purchases")
    },
    _getRecordingsLabel: function(e) {
        return 1 === e ? this.localize("Recording") : this.localize("Recordings")
    },
    _checkInDownloads: function(e) {
        this.set("deviceToModify", e.model.downloadItem),
        this.$.overlayManager.start("overlayCheckInDownloads")
    }
}),
Polymer({
    is: "tv-page-help",
    properties: {
        provider: String,
        userType: String
    },
    behaviors: [XTV.TvA11yBehavior, XTV.TvLocalizeBehavior, XTV.TvPageBehavior],
    observers: ["_showHelp(user.tokenSummary)"],
    _showHelp: function(e) {
        if (e) {
            var t = this.$$('[provider="' + e.mso + '"]');
            t && (Polymer.dom(this.root).querySelectorAll("[active-help]").forEach(function(e) {
                this.toggleAttribute("active-help", !1, e)
            }, this),
            this.toggleAttribute("active-help", !0, t.querySelector('[user-type*="' + e.userType + '"]')),
            this.toggleAttribute("active-help", !0, t))
        }
    },
    onPageOpened: function() {
        this.setA11yLoadingAnnouncement(),
        this.setA11yPageOpenedFocus()
    },
    onPageClosed: function() {
        this.setA11yPageClosedFocus()
    }
}),
function() {
    var e = [{
        label: "English",
        value: "en-US"
    }, {
        label: "Español",
        value: "es-US"
    }]
      , t = [{
        label: "English",
        value: "en"
    }, {
        label: "Español",
        value: "es"
    }, {
        label: "Français",
        value: "fra,fre"
    }, {
        label: "Deutsch",
        value: "ger,deu"
    }, {
        label: "Italiano",
        value: "ita"
    }, {
        label: "Português",
        value: "por"
    }];
    Polymer({
        is: "tv-page-language",
        properties: {
            sapLanguage: String,
            selectedLanguage: {
                type: String,
                notify: !0
            },
            supportedLanguages: {
                type: Array,
                readOnly: !0,
                value: function() {
                    return e
                }
            },
            supportedSapLanguages: {
                type: Array,
                readOnly: !0,
                value: function() {
                    return t
                }
            }
        },
        behaviors: [XTV.TvA11yBehavior, XTV.TvLocalizeBehavior, XTV.TvUrlBehavior, XTV.TvPageBehavior],
        onPageOpened: function() {
            this.setA11yLoadingAnnouncement(),
            this.setA11yPageOpenedFocus()
        },
        onPageClosed: function() {
            this.setA11yPageClosedFocus()
        }
    })
}(),
Polymer({
    is: "tv-page-terms",
    properties: {
        headingMessage: {
            type: String,
            value: "Clicking on the links below will access the internet"
        }
    },
    behaviors: [XTV.TvA11yBehavior, XTV.TvLocalizeBehavior, XTV.TvPageBehavior],
    onPageOpened: function() {
        this.setA11yLoadingAnnouncement(),
        this.setA11yPageOpenedFocus()
    },
    onPageClosed: function() {
        this.setA11yPageClosedFocus()
    }
}),
Polymer({
    is: "tv-page-tos",
    behaviors: [XTV.TvLocalizeBehavior, XTV.TvUrlBehavior],
    properties: {
        ironSelected: {
            type: Boolean,
            value: !1
        }
    },
    observers: ["onIronSelectChanged(ironSelected)"],
    onIronSelectChanged: function(e) {
        e && this.async(function() {
            this.$.content.setAttribute("role", "alert"),
            this.$.content.setAttribute("aria-label", this.localize("Do_you_accept_the_Terms_of_Activation_q"))
        }, 500)
    },
    _acceptTos: function() {
        this.$.acceptTosApi.sendRequest(),
        this._sendLocalytics(!0)
    },
    _acceptedTos: function() {
        this.fire("accepted-tos")
    },
    _rejectedTos: function() {
        this.async(function() {
            XTV.User.fire("user:logout")
        }, 100),
        this._sendLocalytics(!1)
    },
    _showDenyTos: function() {
        this.$.denyTosOverlay.open()
    },
    _showTos: function() {
        this.tosViewed = !0,
        this.$.tosOverlay.open()
    },
    _sendLocalytics: function(e) {
        window.ll("tagEvent", "Terms Of Activation", {
            Response: e ? "Accepted" : "Rejected",
            Viewed: this.tosViewed ? "Yes" : "No"
        })
    }
}),
function(e) {
    function t() {
        var t;
        i.currentPage && (r = r ? r : document.querySelector("#headerWrap"),
        n || (n = r.getBoundingClientRect().height),
        t = e.pageYOffset > n,
        e.innerHeight + e.pageYOffset >= i.currentPage.offsetHeight && i.currentPage.fire("scroll-end"),
        !i.fixedHeader && t && (i.set("fixedHeader", !0),
        i._closeSearchResults(),
        i._closeNav(),
        i.currentPage && i.currentPage.onHeaderCollapse && i.currentPage.onHeaderCollapse()),
        i.fixedHeader && (i.headerOpen && i.toggleHeader(),
        t || i.set("fixedHeader", !1)))
    }
    var i, n, r;
    Polymer({
        is: "tv-app",
        properties: {
            activeFilters: Array,
            browseRootParams: {
                type: Object,
                value: function() {
                    return {
                        depth: 2
                    }
                }
            },
            guideMenuParams: {
                type: Object,
                value: function() {
                    return {}
                }
            },
            currentPage: {
                type: Object,
                notify: !0
            },
            fixedHeader: {
                reflectToAttribute: !0,
                type: Boolean,
                value: !1
            },
            headerOpen: {
                reflectToAttribute: !0,
                type: Boolean,
                value: !1
            },
            pageContext: {
                type: Object
            },
            ondemandNodeIds: {
                type: Object,
                value: function() {
                    return {}
                }
            },
            ondemandNodeIdsState: {
                type: String,
                value: "loading"
            },
            accountInfo: Object,
            recordingOverlayCompletedState: String,
            loginUrl: {
                type: String,
                value: ""
            },
            selectedLanguage: {
                notify: !0,
                observer: "_onSelectedLanguageChanged",
                type: String
            }
        },
        behaviors: [XTV.TvBrowseBehavior, XTV.TvFavoritesMediatorBehavior, XTV.TvLocalizeBehavior, XTV.TvGridBehavior, XTV.TvSpinnerBehavior, XTV.TvUrlBehavior, XTV.TvUserBehavior, XTV.TvWatchableTypeBehavior, XTV.TvWatchedProgramsMediatorBehavior, XTV.behaviors.splunk, XTV.TvFeedbackBehavior],
        observers: ["_onLocalizeReady(localize)", "_onRecordingOverlayCompletedStateChange(recordingOverlayCompletedState, recordingOverlayWorkingState)", "_onUserReady(user.authenticated)", "_settingsPageActive(currentPage.menuId)"],
        listeners: {
            "app:language-changed": "_languageChanged",
            "app:player:notify:opened": "_handlePlayerMediaOpenedEvent",
            "app:player:notify:ended": "_handlePlayerMediaEndedEvent",
            "app:player:notify:closed": "_handlePlayerClosedEvent",
            "app:recording:modify": "_handleRecordingModify",
            "app:recordings:modify": "_handleMultipleRecordingModify",
            "app:recording:delete:single": "_handleRecordingDeleteSingle",
            "app:recording:delete:group": "_handleRecordingDeleteGroup",
            "app:record:repeat": "_handleRecordRepeat",
            "app:record:listing": "_handleRecordListing",
            "app:resume-point:posted": "_handleResumePointPostedEvent",
            "app:show:simpleOOHModal": "_showSimpleOOHModal",
            "app:check:ooh": "_checkOOH",
            "app:player:watch": "_watchEventHandler",
            "app:player:watchChannel": "_watchChannelEventHandler",
            "app:header:focus": "handleHeaderFocus",
            "app:focus:app": "_setAppFocus",
            "app:focus:content": "_setContentFocus",
            "filters-changed": "setAppFilters",
            "fetch-channel-map": "fetchChannelMap",
            "grid-page:select-channel": "_selectChannel",
            "grid:set-params": "_setGridParams",
            "grid:start-timer": "_startGridTimer",
            "grid:stop-timer": "_stopGridTimer",
            "search:close": "_closeSearchResults",
            tap: "_globalClickHandler",
            "network-resources:load": "loadNetworkResources"
        },
        _languageChanged: function() {
            this.user.authenticated && (this._setMenuList(),
            this._updateMenu(),
            this.userHasPurchasesOnly() || (this._sendBrowseRootRequest(),
            this._sendGuideMenuRequest(!0)))
        },
        _handleRecordListing: function(e, t) {
            var i = t.listing;
            i && (this.set("listingToRecord", void 0),
            this.set("listingToRecord", i),
            this.$$("#recordingOverlayManager").start("recordingOverlay"))
        },
        _handleRecordRepeat: function(e, t) {
            var i = t.entity;
            i && (this.set("entity", void 0, this.$$("#recordingOverlayRecordRepeat")),
            this.set("entity", i, this.$$("#recordingOverlayRecordRepeat")),
            this.$$("#recordingOverlayManager").start("recordingOverlayRecordRepeat"))
        },
        _handleMultipleRecordingModify: function(e, t) {
            var i = t.recordings;
            i && (this.set("recordingToModify", void 0),
            this.set("recordingsToModify", i),
            this.$$("#recordingOverlayManager").start("recordingOverlayOptionsMultiple"))
        },
        _handleRecordingModify: function(e, t) {
            var i = t.recording;
            i && (this.set("recordingToModify", void 0),
            this.set("recordingToModify", i),
            this.$$("#recordingOverlayManager").start("recordingOverlayOptions"))
        },
        _handleRecordingDeleteSingle: function(e, t) {
            var i = t.recording;
            i && (this.set("recordingToModify", void 0),
            this.set("recordingToModify", i),
            this.$$("#recordingOverlayManager").start("recordingOverlayDeleteRecording"))
        },
        _handleRecordingDeleteGroup: function(e, t) {
            var i = t.recordingGroup;
            i && (this.set("recordingGroupToModify", void 0),
            this.set("recordingGroupToModify", i),
            this.$$("#recordingOverlayManager").start("recordingOverlayDeleteRecordingGroup"))
        },
        handleScroll: function() {
            this.debounce("scrollDebouncer", t, 250)
        },
        handleHeaderFocus: function() {
            !this.headerOpen && this.fixedHeader && this.set("headerOpen", !0)
        },
        _setAppFocus: function() {
            this.$.appContent.focus()
        },
        _setContentFocus: function() {
            this.$.mainContent.focus()
        },
        handleSkipLink: function(e) {
            var t = e.target.getAttribute("data-skip-target")
              , i = this.$.mainContent;
            "menu" === t && this.$.nav ? this.$.nav.querySelector("#nav-0").focus() : "content" === t && i && i.focus(),
            e.preventDefault(),
            e.stopPropagation()
        },
        attached: function() {
            i = this,
            e.addEventListener("scroll", this.handleScroll.bind(this)),
            this.$.headerWrap.addEventListener("focus", this.handleHeaderFocus.bind(this), !0)
        },
        _sendAllFavoriteChannelsRequest: function() {
            this.$.getAllFavorites.sendRequest()
        },
        _sendWatchedProgramsRequest: function() {
            this.$.getWatchedPrograms.sendRequest()
        },
        _onFavoritesError: function() {
            this.set("channelFavoritesState", "failed")
        },
        setFavoriteChannels: function(e, t) {
            this.set("channelFavoritesState", "ok"),
            this.set("channelFavorites", t.resource.getAction("channels").map(function(e) {
                return e.getRawActionUrl()
            }
            .bind(this)))
        },
        setAppFilters: function(e, t) {
            this.set("activeFilters", t.activeFilters)
        },
        _setMenuList: function() {
            this.menuList = [{
                label: this.localize("For_You"),
                entitlements: ["cdvr", "clinear", "cvod", "tve-linear", "tve-vod"],
                id: "foryou",
                href: this.urlFor("foryou")
            }, {
                label: this.localize("Saved"),
                entitlements: ["cdvr", "est"],
                id: "saved",
                items: [{
                    label: this.localize("Recordings"),
                    href: this.urlFor("recordings"),
                    entitlements: "cdvr"
                }, {
                    label: this.localize("Scheduled"),
                    href: this.urlFor("scheduled"),
                    entitlements: "cdvr"
                }, {
                    label: this.localize("Purchases"),
                    href: this.urlFor("purchases"),
                    entitlements: "est"
                }]
            }, {
                label: this.localize("Live_TV"),
                entitlements: ["cdvr", "clinear", "cvod", "tve-linear", "tve-vod"],
                id: "guide",
                items: [{
                    label: this.localize("All_Listings"),
                    href: this.urlFor("listings")
                }]
            }, {
                label: this.localize("On_Demand"),
                entitlements: ["cdvr", "clinear", "cvod", "tve-linear", "tve-vod"],
                id: "browse",
                items: []
            }]
        },
        toggleHeader: function() {
            this.set("headerOpen", !this.headerOpen)
        },
        _appendOnDemandMenuItems: function(e, t) {
            this.set("menus." + (this.menus.length - 1) + ".items", t.resource.getEmbedded("browseItems").map(this._buildMenuItem.bind(this)).filter(Boolean)),
            this.set("ondemandNodeIdsState", "ready")
        },
        _appendGuideMenuItems: function(e, t) {
            var i = t.resource.getProp("menus")
              , n = [];
            i = i.filter(function(e) {
                return "filter" === e.style
            }),
            this.set("user.guideMenu", i),
            n = i.map(function(e) {
                return {
                    label: e.label,
                    href: this.urlFor("listings", e.slug)
                }
            }, this),
            n.unshift({
                label: this.localize("All_Listings"),
                href: this.urlFor("listings")
            }),
            this.set("menus." + (this.menus.length - 2) + ".items", n)
        },
        _initializePlayer: function() {
            this.$.player && this.$.player.initialize && this.$.player.initialize()
        },
        _onGuideMenuError: function() {
            this.set("user.guideMenu", [])
        },
        _enableOnDemandErrorModal: function() {
            var e = this.querySelector('[data-menu-id="browse"]');
            e && (e.addEventListener("tap", this._showMWSRootErrorModal.bind(this)),
            e.addEventListener("keydown", this._showMWSRootErrorModal.bind(this))),
            this.set("ondemandNodeIdsState", "failed")
        },
        _buildMenuItem: function(e) {
            var t = e.getFirstAction("browse").getActionUrl().split("node/").pop().replace("/", "")
              , i = e.getProp("title")
              , n = e.getProp("slug");
            if (this.set("ondemandNodeIds." + n, t),
            this.set("ondemandNodeIds." + i.toLowerCase(), t),
            e.hasEmbedded("browseItems"))
                return {
                    label: i,
                    href: this.urlFor("ondemand", n)
                }
        },
        mapNodeId: function(e) {
            return this.ondemandNodeIds["tvseries" === e ? "tv" : e] || ""
        },
        setFixedHeaderHeight: function() {
            var e = this.currentPage.querySelector("tv-page-heading")
              , t = e ? e.getBoundingClientRect().height : 0;
            n = this.currentPage.getBoundingClientRect().top + t
        },
        _resetParentalPinVerifier: function() {
            var e = this.$$("tv-page-parental-controls");
            this.isInPageGroup("settings") || !e || e.getIsPagePinRequired() || e.setIsPagePinRequired(!0)
        },
        openPage: function() {
            e.scrollTo(0, 0),
            this.set("fixedHeader", !1),
            this.set("headerOpen", !1),
            setTimeout(function() {
                var e = Polymer.dom(this.$.mainContent).querySelector("[current-page]");
                e && (this.set("currentPage", e),
                this.setFixedHeaderHeight(),
                this.set("params", this.pageContext.params, e),
                this.set("query", this.pageContext.query, e),
                this.setAttribute("page", e.nodeName.toLowerCase()),
                this.isOnPage("search") || this.$.searchForm.clearForm(),
                this._resetParentalPinVerifier(),
                this._initializeIronAnnouncer(),
                this.pageContext.title && "false" === document.getElementsByTagName("html")[0].getAttribute("prerender") && (document.title = this.localize(this.pageContext.title) + " - " + this.partner.appName),
                e.onPageOpened(),
                this.fire("user:resume-points:refresh"))
            }
            .bind(this), 10)
        },
        _initializeIronAnnouncer: function() {
            Polymer.IronA11yAnnouncer.requestAvailability();
            var e = document.getElementsByTagName("iron-a11y-announcer")[0];
            e && e.setAttribute("aria-hidden", "true")
        },
        _closeSearchResults: function() {
            this.$.searchForm.closeResults()
        },
        _closeNav: function() {
            this.$.nav.closeNav()
        },
        _getYear: function() {
            return moment().format("YYYY")
        },
        _globalClickHandler: function(e) {
            Polymer.dom(e).rootTarget.classList.contains("tv-nav") || this._closeNav(),
            Polymer.dom(e).rootTarget.classList.contains("tv-search-form") || this._closeSearchResults()
        },
        onLogout: function() {
            this.$.channelMap.clear()
        },
        _onSelectedLanguageChanged: function() {
            this.set("resource", void 0, this.$$("tv-page-recording-group")),
            this.set("resource", void 0, this.$$("tv-page-completed")),
            this.clearPlayNowDetailsCache()
        },
        _onLocalizeReady: function() {
            var e = this.$$("#languageSelect");
            this._setMenuList(),
            e && e.refresh()
        },
        _onUserReady: function(e) {
            e && (this._updateMenu(),
            this.userHasPurchasesOnly() || (this._sendBrowseRootRequest(),
            this._sendAllFavoriteChannelsRequest(),
            this._sendGuideMenuRequest(!0),
            this._sendWatchedProgramsRequest()))
        },
        _onRecordingOverlayCompletedStateChange: function(e, t) {
            this.currentPage && this.currentPage.onRecordingModification && this.currentPage.onRecordingModification({
                listing: this.listingToRecord,
                recording: this.recordingToModify,
                recordingGroup: this.recordingGroupToModify,
                state: e,
                working: t
            }),
            /deleted-recording/.test(e) && this.$.lastWatchedStorage.remove(this.recordingToModify)
        },
        _updateMenu: function() {
            this.set("menus", this.menuList.filter(function(e) {
                return !e.entitlements || !!this.userHasEntitlements(e.entitlements) && (e.items && (e.items = e.items.filter(function(e) {
                    return !e.entitlements || this.userHasEntitlements(e.entitlements)
                }, this)),
                !0)
            }, this))
        },
        _onSearchResultsChanged: function() {
            this.set("loading", !1, this.$.searchForm)
        },
        fetchChannelMap: function() {
            this.$.channelMap.fetch()
        },
        _selectChannel: function(e, t) {
            this.$$("#gridPage").selectChannel(t)
        },
        _setGridParams: function(e, t) {
            this.$.grid.setParams(t)
        },
        _startGridTimer: function(e, t) {
            this.$.grid.startGridTimer(t)
        },
        _stopGridTimer: function() {
            this.$.grid.stopGridTimer()
        },
        _sendBrowseRootRequest: function() {
            this.pageContext && this.pageContext.query && this.pageContext.query.aliasName && this.set("browseRootParams.aliasName", this.pageContext.query.aliasName),
            this.$.getBrowseRoot.sendRequest()
        },
        _sendGuideMenuRequest: function(e) {
            this.pageContext && this.pageContext.query && this.pageContext.query.guideMenu && this.set("guideMenuParams.aliasName", this.pageContext.query.guideMenu),
            this.$.getGuideMenu.sendRequest({
                force: e
            })
        },
        _settingsPageActive: function(e) {
            this.toggleAttribute("selected", "settings" === e, this.$.settings)
        },
        _showFooter: function(e, t) {
            return !e && !!t
        },
        _showSimpleOOHModal: function() {
            this.$.oohOverlaySimple.open()
        },
        _showOOHModal: function(e) {
            this.hideSpinner(),
            this.set("inHomeAsset", e.inHomeAsset, this.$.oohOverlay),
            this.set("oohAsset", e.oohAsset || null, this.$.oohOverlay),
            this.set("isUniversity", this.isUniversity(), this.$.oohOverlay),
            this.$.oohOverlay.open()
        },
        _showMWSRootErrorModal: function(e) {
            ("tap" === e.type || "keydown" === e.type && 13 === e.keyCode) && (e.preventDefault(),
            this.$.mwsErrorOverlay.open())
        },
        _handleResumePointPostedEvent: function(e) {
            this.currentPage && this.currentPage.onResumePointPosted && this.currentPage.onResumePointPosted({
                watchable: e.detail.watchable
            })
        },
        _handlePlayerClosedEvent: function(e) {
            this.currentPage && this.currentPage.onPlayerClosed && this.currentPage.onPlayerClosed({
                watchable: e.detail.watchable
            })
        },
        _handlePlayerMediaOpenedEvent: function(e) {
            this.currentPage && this.currentPage.onPlayerMediaOpened && this.currentPage.onPlayerMediaOpened({
                watchable: e.detail.watchable
            })
        },
        _handlePlayerMediaEndedEvent: function(e) {
            this.currentPage && this.currentPage.onPlayerMediaEnded && this.currentPage.onPlayerMediaEnded({
                watchable: e.detail.watchable
            })
        },
        _getOohLinearAssetForPivot: function(e) {
            var t;
            return e.channel.tveVariant ? (t = this.getCurrentlyOnListing(this.grid.byStationId[e.channel.tveVariant].listings),
            t.details.fetch({
                force: !0
            }).then(function(t) {
                return this.$.listingsParser._parseListing(t.data, this.channelMap[e.channel.tveVariant].resource).then(function(e) {
                    return e
                })
            }
            .bind(this), this.logError.bind(this))) : Promise.resolve(void 0)
        },
        _getOohVodAssetForPivot: function(e) {
            return this.set("watchOptionsApiParams", {
                programId: e.programId
            }),
            this.$.watchOptionsApi.sendRequest().then(function(e) {
                return this.$.watchOptionsParser.parseWatchOptions(e.resource).then(function(e) {
                    return e.reduce(function(e, t) {
                        return this.isTve(t) ? t : e
                    }
                    .bind(this), !1)
                }
                .bind(this))
            }
            .bind(this))
        },
        _checkOOH: function(e) {
            var t = e.detail.inHomeAsset;
            this.isListing(t) ? (this.showSpinner(),
            this._getOohLinearAssetForPivot(t).then(function(e) {
                t.channel.tveVariant || this._showOOHModal({
                    inHomeAsset: t,
                    oohAsset: e
                })
            }
            .bind(this))) : this.isVod(t) ? (this.showSpinner(),
            this._getOohVodAssetForPivot(t).then(function(e) {
                this._showOOHModal({
                    inHomeAsset: t,
                    oohAsset: e
                })
            }
            .bind(this))) : this.isRecordingInProgress(t) && this._showOOHModal({
                inHomeAsset: t
            })
        },
        _findChannelFromGridAndWatch: function(e, t) {
            if (e && this.grid) {
                var i = this.grid.byStationId[e.id];
                i && i.listings && this.fire("app:player:watch", {
                    options: t,
                    watchable: this.getCurrentlyOnListing(i.listings)
                })
            }
        },
        _watchEventHandler: function(e) {
            this._initializePlayer(),
            this.$.player.fire("player:watch", e.detail)
        },
        _watchChannelEventHandler: function(e, t) {
            var i = (t || {}).channel
              , n = (t || {}).options;
            i && this.isChannel(i) && (this.channelMap && this.isGridCurrent() ? this._findChannelFromGridAndWatch(i, n) : (this.showSpinner(),
            this.fire("iron-announce", {
                text: this.localize("Please_wait")
            }),
            this.$.channelMap.fetch().then(function() {
                this.$.grid.setParams().then(this._findChannelFromGridAndWatch.bind(this, i)).then(this.hideSpinner.bind(this))
            }
            .bind(this))))
        },
        _submitFeedback: function(e) {
            e.preventDefault(),
            this.openFeedbackWindow()
        },
        _showFeedbackLink: function() {
            return this.partner.showFeedbackLink && this.user.authenticated
        },
        _showUpdateAvailableModal: function() {
            this.fire("user:show-update-modal")
        },
        loadNetworkResources: function() {
            this.$.networkMap.initialize()
        },
        onKeyC: function(e) {
            var t = this.$$("#gridPage")
              , i = this.$.player;
            !i || "full" !== i.displayMode && t && t.currentPage ? t.onKeyC() : i.handleKeyCC()
        }
    })
}(window),
function() {
    var e = {
        addingDevice: {
            title: "Adding_Device",
            route: "/adding-device",
            welcome: !0
        },
        auth: {
            title: "authorize",
            route: "/auth",
            welcome: !0
        },
        browseNode: {
            authenticate: !0,
            entitlements: ["cdvr", "clinear", "cvod", "tve-linear", "tve-vod"],
            refresh_resume_points: !0,
            route: "/browse/node/:nodeId",
            path: "/node"
        },
        browseOndemandNode: {
            authenticate: !0,
            entitlements: ["cdvr", "clinear", "cvod", "tve-linear", "tve-vod"],
            refresh_resume_points: !0,
            route: "/ondemand/:ondemandNodeId",
            path: "/node"
        },
        freebrowse: {
            authenticate: !1,
            entitlements: [],
            title: "On_Demand",
            route: "/browse/free-episodes-movies",
            path: "/browse"
        },
        browse: {
            authenticate: !0,
            entitlements: ["cdvr", "clinear", "cvod", "tve-linear", "tve-vod"],
            refresh_resume_points: !0,
            route: "/browse/:type/:nodeId?/:menuId?",
            title: "On_Demand",
            path: "/browse"
        },
        completed: {
            authenticate: !0,
            entitlements: ["cdvr"],
            refresh_resume_points: !0,
            route: "/recordings",
            title: "Recordings",
            localytics: function() {
                window.ll("tagScreen", "Recordings"),
                window.ll("tagEvent", "Screen Viewed", {
                    Screen: "Recordings"
                })
            }
        },
        completedItem: {
            authenticate: !0,
            entitlements: ["cdvr"],
            refresh_resume_points: !0,
            route: "/recordings/:groupId",
            path: "/recording-group",
            localytics: function() {
                window.ll("tagScreen", "Recording Group Info"),
                window.ll("tagEvent", "Screen Viewed", {
                    Screen: "Recording Group Info"
                })
            }
        },
        deleted: {
            authenticate: !0,
            entitlements: ["cdvr"],
            title: "Deleted",
            route: "/deleted",
            localytics: function() {
                window.ll("tagScreen", "Deleted Recordings"),
                window.ll("tagEvent", "Screen Viewed", {
                    Screen: "Deleted Recordings"
                })
            }
        },
        sportsTeam: {
            authenticate: !0,
            defaultTab: "games",
            refresh_resume_points: !0,
            route: "/entity/sports/team/:teamId/:opt1?/:opt2?",
            path: "/entity/sports/team"
        },
        entity: {
            authenticate: !1,
            defaultTab: "episodes",
            refresh_resume_points: !0,
            route: "/entity/:entityId/:opt1?/:opt2?",
            path: "/entity",
            localytics: function() {
                this.params.tab = this.params.tab || this.defaultTab;
                var e = this.params.tab.charAt(0).toUpperCase() + this.params.tab.slice(1);
                window.ll("tagScreen", "Entity " + e),
                window.ll("tagEvent", "Screen Viewed", {
                    Screen: "Entity " + e
                })
            }
        },
        foryou: {
            authenticate: !1,
            entitlements: ["cdvr", "clinear", "cvod", "tve-linear", "tve-vod"],
            refresh_resume_points: !0,
            route: "/foryou",
            title: "For_You",
            localytics: function() {
                window.ll("tagScreen", "For You"),
                window.ll("tagEvent", "Screen Viewed", {
                    Screen: "For You"
                })
            }
        },
        index: {
            authenticate: !1,
            entitlements: ["cdvr", "clinear", "cvod", "tve-linear", "tve-vod"],
            refresh_resume_points: !0,
            route: "/",
            title: "",
            localytics: function() {
                window.ll("tagScreen", "For You"),
                window.ll("tagEvent", "Screen Viewed", {
                    Screen: "For You"
                })
            }
        },
        listings: {
            authenticate: !1,
            entitlements: ["cdvr", "clinear", "cvod", "tve-linear", "tve-vod"],
            title: "All_Listings",
            route: "/listings",
            localytics: function() {
                window.ll("tagScreen", "Live TV: All Listings"),
                window.ll("tagEvent", "Screen Viewed", {
                    Screen: "Live TV: All Listings"
                })
            }
        },
        live: {
            authenticate: !0,
            entitlements: ["cdvr", "clinear", "cvod", "tve-linear", "tve-vod"],
            title: "TV_Listings",
            route: "/live/:linkBait?/:companyId?/:callSign?"
        },
        logout: {
            authenticate: !0,
            title: "Logout",
            route: "/logout"
        },
        marketIneligible: {
            authenticate: !0,
            route: "/market-ineligible",
            welcome: !0
        },
        nameDevice: {
            authenticate: !0,
            title: "Name_Your_Device",
            route: "/name-device",
            welcome: !0,
            localytics: function() {
                window.ll("tagScreen", "Name Device"),
                window.ll("tagEvent", "Screen Viewed", {
                    Screen: "Name Device"
                })
            }
        },
        networks: {
            authenticate: !0,
            entitlements: ["cdvr", "clinear", "cvod", "tve-linear", "tve-vod"],
            refresh_resume_points: !0,
            title: "Networks",
            route: "/networks"
        },
        notCustomer: {
            route: "/not-customer",
            welcome: !0
        },
        onNow: {
            authenticate: !0,
            entitlements: ["cdvr", "clinear", "cvod", "tve-linear", "tve-vod"],
            route: "/listings/:menuId",
            path: "/listings",
            localytics: function() {
                var e = this.params.menuId || "";
                e = e.charAt(0).toUpperCase() + e.slice(1),
                window.ll("tagScreen", "Live TV: " + e),
                window.ll("tagEvent", "Screen Viewed", {
                    Screen: "Live TV: " + e
                })
            }
        },
        purchases: {
            authenticate: !0,
            entitlements: ["est"],
            refresh_resume_points: !0,
            route: "/purchases",
            title: "Purchases",
            localytics: function() {
                window.ll("tagScreen", "Purchases"),
                window.ll("tagEvent", "Screen Viewed", {
                    Screen: "Purchases"
                })
            }
        },
        purchasedItem: {
            authenticate: !0,
            entitlements: ["est"],
            refresh_resume_points: !0,
            route: "/purchases/:groupId",
            path: "/purchased-group",
            localytics: function() {
                window.ll("tagScreen", "Purchase Group Info"),
                window.ll("tagEvent", "Screen Viewed", {
                    Screen: "Purchase Group Info"
                })
            }
        },
        scheduled: {
            authenticate: !0,
            entitlements: ["cdvr"],
            refresh_resume_points: !0,
            route: "/scheduled",
            title: "Scheduled",
            localytics: function() {
                window.ll("tagScreen", "Scheduled"),
                window.ll("tagEvent", "Screen Viewed", {
                    Screen: "Scheduled"
                })
            }
        },
        search: {
            authenticate: !0,
            route: "/search/:searchTerm?/:entityId?",
            path: "/search",
            localytics: function() {
                window.ll("tagScreen", "Search"),
                window.ll("tagEvent", "Screen Viewed", {
                    Screen: "Search"
                })
            }
        },
        settings: {
            authenticate: !0,
            title: "Settings",
            route: "/settings",
            localytics: function() {
                window.ll("tagScreen", "Settings"),
                window.ll("tagEvent", "Screen Viewed", {
                    Screen: "Settings"
                })
            }
        },
        settings_accessibility: {
            authenticate: !0,
            title: "Accessibility",
            route: "/settings/accessibility",
            localytics: function() {
                window.ll("tagScreen", "Accessibility"),
                window.ll("tagEvent", "Screen Viewed", {
                    Screen: "Accessibility"
                })
            }
        },
        settings_background: {
            authenticate: !0,
            title: "Background",
            route: "/settings/background"
        },
        settings_channel_list: {
            authenticate: !0,
            title: "Channel_Locks",
            route: "/settings/channels/:channel?"
        },
        settings_devices: {
            authenticate: !0,
            title: "Manage_Devices",
            route: "/settings/devices",
            localytics: function() {
                window.ll("tagScreen", "Manage Devices"),
                window.ll("tagEvent", "Screen Viewed", {
                    Screen: "Manage Devices"
                })
            }
        },
        settings_help: {
            authenticate: !0,
            title: "Help",
            route: "/settings/help",
            localytics: function() {
                window.ll("tagScreen", "Help"),
                window.ll("tagEvent", "Screen Viewed", {
                    Screen: "Help"
                })
            }
        },
        settings_language: {
            authenticate: !0,
            title: "Language",
            route: "/settings/language",
            localytics: function() {
                window.ll("tagScreen", "Languages"),
                window.ll("tagEvent", "Screen Viewed", {
                    Screen: "Languages"
                })
            }
        },
        settings_parentalControls: {
            authenticate: !0,
            title: "Parental_Controls",
            route: "/settings/parental-controls",
            localytics: function() {
                window.ll("tagScreen", "Parental Controls"),
                window.ll("tagEvent", "Screen Viewed", {
                    Screen: "Parental Controls"
                })
            }
        },
        settings_safeBrowse: {
            authenticate: !0,
            title: "Safe_Browse",
            route: "/settings/safe-browse"
        },
        settings_titles: {
            authenticate: !0,
            title: "Titles",
            route: "/settings/titles"
        },
        settings_ratings: {
            authenticate: !0,
            route: "/settings/ratings/:scheme"
        },
        settings_ratings_category: {
            authenticate: !0,
            route: "/settings/ratings/:scheme/:category"
        },
        terms: {
            authenticate: !0,
            title: "Terms",
            route: "/settings/terms",
            localytics: function() {
                window.ll("tagScreen", "Terms & Policies"),
                window.ll("tagEvent", "Screen Viewed", {
                    Screen: "Terms & Policies"
                })
            }
        },
        terms_consent: {
            authenticate: !0,
            title: "Terms_of_Service",
            route: "/terms-consent",
            welcome: !0,
            localytics: function() {
                window.ll("tagScreen", "Terms Acceptance"),
                window.ll("tagEvent", "Screen Viewed", {
                    Screen: "Terms Acceptance"
                })
            }
        }
    };
    Polymer({
        is: "tv-app-router",
        behaviors: [XTV.TvUrlBehavior, XTV.TvUserBehavior],
        properties: {
            pageContext: {
                notify: !0,
                type: Object
            },
            pages: {
                notify: !0,
                type: Object,
                value: function() {
                    return e
                }
            }
        },
        _changePage: function(e) {
            var t = Object.assign({}, e.page)
              , i = this.pageContext || {}
              , n = localStorage.getItem("continueUrl") || "";
            return "index" === t.name && (t.name = "foryou"),
            t.params = e.params,
            t.canonicalPath = e.page.canonicalPath,
            "freebrowse" === t.name && (t.params.type = "free-episodes-movies"),
            t.entitlements && this.isSignedIn() && !this.userHasEntitlements(t.entitlements) ? this.userHasPurchasesOnly() ? this.navigateTo("purchases") : n === t.canonicalPath ? (localStorage.removeItem("continueUrl"),
            this.navigateTo("foryou")) : this.navigateToHash(n || "/") : void (t.canonicalPath !== i.canonicalPath && (t.name !== i.name && ("live" === t.name ? this.set("pages.listings.active", !0) : this.set("pages." + t.name + ".active", !0),
            "live" === i.name && this.set("pages.listings.active", !1),
            this.set("pages." + i.name + ".active", !1)),
            t.localytics && t.localytics(),
            this.set("pageContext", t),
            this.fire("load-page", t)))
        },
        _registerRoute: function(e) {
            window.page(e.route, this._setContext.bind(this, e), this._changePage.bind(this))
        },
        _setContext: function(e, t, i) {
            t.page = e,
            t.page.canonicalPath = t.canonicalPath,
            t.page.params = t.params,
            t.page.query = this.parseUrlQuery(t.querystring),
            t.state.pathMatch = e.path,
            i(t)
        },
        _setupPages: function() {
            Object.keys(this.pages).forEach(function(e) {
                var t = this.pages[e];
                t.route = t.route || "/" + e,
                t.name = e || "",
                this._registerRoute.call(this, t)
            }
            .bind(this))
        },
        ready: function() {
            this._setupPages()
        },
        start: function() {
            window.page.start({
                decodeURLComponents: !1,
                hashbang: !1
            })
        }
    })
}(),
function() {
    Polymer({
        is: "tv-build-checker",
        properties: {
            active: {
                type: Boolean,
                value: void 0
            },
            buildCheckInterval: Number,
            buildInfo: {
                type: Object,
                notify: !0,
                value: function() {
                    return {}
                }
            },
            hasPendingUpdate: {
                type: Boolean,
                value: !1,
                notify: !0
            }
        },
        observers: ["_onActiveChanged(active, buildCheckInterval)"],
        _onActiveChanged: function(e) {
            e && !this.updateInterval ? this.start() : this.stop()
        },
        _onOverlayClosed: function() {
            this.set("hasPendingUpdate", !0)
        },
        getBuildInfo: function() {
            fetch("/build.json", {
                cache: "no-cache"
            }).then(function(e) {
                return e.ok ? e.json() : Promise.resolve({})
            }
            .bind(this))["catch"](Function.prototype).then(this.setBuildValues.bind(this))
        },
        setBuildValues: function(e) {
            this.buildInfo.env || this.set("buildInfo.env", "local"),
            e = e || {},
            Number(XTV.buildInfo.deployTimestamp) < Number(e.deployTimestamp) && (this.showUpdateModal(),
            this.stop(),
            Object.keys(e).forEach(function(t) {
                this.set("buildInfo." + t, e[t])
            }, this))
        },
        showUpdateModal: function() {
            this.$.overlay.open()
        },
        _setFingerprint: function() {
            this.set("buildInfo.fingerprint", "cloudtv_web_polymer_0_" + window.XTV.env)
        },
        start: function() {
            this._setFingerprint(),
            this.updateInterval = setInterval(this.getBuildInfo.bind(this), this.buildCheckInterval)
        },
        stop: function() {
            this.updateInterval = clearInterval(this.updateInterval)
        }
    })
}(),
function(e) {
    e.XTV = e.XTV || {},
    e.XTV.TvXhrHelperBehavior = {
        parseHeaderString: function(e) {
            var t, i, n;
            if (e)
                return i = e.split(", "),
                t = {},
                i.forEach(function(e) {
                    n = [],
                    e.indexOf("=") > 0 ? (n = e.split("="),
                    t[n[0]] = isNaN(n[1]) ? n[1] : Number(n[1])) : t[e] = !0
                }, this),
                t
        }
    }
}(window),
function(e) {
    e.XTV = e.XTV || {},
    Polymer({
        is: "tv-channel-map",
        hostAttributes: {
            hidden: !0
        },
        behaviors: [XTV.TvXhrHelperBehavior],
        properties: {
            channelFavorites: {
                type: Array,
                notify: !0
            },
            channelFavoritesState: {
                type: String,
                value: "pending",
                notify: !0
            },
            channelMap: {
                type: Object,
                notify: !0
            },
            channelMapError: {
                type: Object,
                notify: !0
            },
            channelsByStation: {
                type: Object,
                notify: !0
            },
            expiresTimestamp: Number
        },
        observers: ["_byStation(channelMap)", "_onFavoritesChanged(channelFavorites.*)"],
        clear: function() {
            this.set("channelMap", void 0),
            this.set("channelsByStation", void 0)
        },
        _getExpiresTimestamp: function(e) {
            var t, i = Date.now();
            return e && e.headers ? (t = this.parseHeaderString(e.headers.get("Cache-Control")),
            t["max-age"] && (i += 1e3 * t["max-age"]),
            i) : i
        },
        fetch: function() {
            return this.$.channelMapApi.sendRequest()
        },
        _byStation: function(e) {
            var t;
            e && this.set("channelsByStation", Object.keys(e).reduce(function(i, n) {
                return t = e[n],
                t.id = n,
                i[t.stationId] = t,
                i
            }, {}))
        },
        _onChannelMapApiError: function(e) {
            this.set("channelMapError", e)
        },
        _onChannelMapApiResponse: function(e, t) {
            var i = {}
              , n = t.resource.getEmbedded("channels") || [];
            return n.length ? void (Date.now() < this.expiresTimestamp || (n.forEach(function(e) {
                var t = e.getProps();
                t.id = e.getFirstAction("self").getRawActionUrl(),
                t.networkLogo = e.getFirstAction("logo", {
                    width: 125,
                    height: 87
                }).getActionUrl(),
                t.resource = e,
                t.stream = this.$.streamsParser.parseStreamResource(e.getEmbedded("stream")),
                t.tveVariant = e.getFirstAction("tveVariant").getRawActionUrl(),
                t.isFavorite = this.channelFavorites && this.channelFavorites.includes(t.id),
                i[t.id] = t
            }, this),
            this.set("channelMapError", void 0),
            this.set("channelMap", i),
            this.set("expiresTimestamp", this._getExpiresTimestamp(t.xhr)),
            this.fetched = !0)) : void this.set("channelMapError", e)
        },
        _onFavoritesChanged: function(e) {
            var t;
            this.channelMap && ("channelFavorites" === e.path && (Object.keys(this.channelMap).forEach(function(e) {
                this.channelMap[e].isFavorite = this.channelFavorites.includes(e)
            }, this),
            this.set("channelFavoritesState", "ok")),
            /splices/.test(e.path) && (t = e.value.indexSplices[0],
            t.addedCount ? t.object.forEach(function(e) {
                this.channelMap[e].isFavorite = !0
            }, this) : t.removed.length && (this.channelMap[t.removed[0]].isFavorite = !1)))
        }
    })
}(window),
Polymer({
    is: "tv-parser-grid",
    hostAttributes: {
        hidden: !0
    },
    properties: {
        channels: {
            type: Array,
            notify: !0
        },
        channelMap: Object,
        gridEnd: Number,
        gridStart: Number,
        resource: Object
    },
    behaviors: [XTV.TvParserBehavior],
    observers: ["_resourceChanged(resource, channelMap)"],
    _resourceChanged: function() {
        var e, t, i;
        this.resource && this.resource.getEmbedded("channels") && (t = this.resource.getFirstAction("programImageLink"),
        i = this.resource.getFirstAction("programFallbackImageLink"),
        this.set("channels", this.resource.getEmbedded("channels").map(function(n) {
            if (e = this.channelMap[n.getFirstAction("self").getRawActionUrl()])
                return Object.assign({}, e, {
                    listings: n.getEmbedded("listings").map(this._parseListing.bind(this, e, t, i), this),
                    gridStart: this.gridStart,
                    gridEnd: this.gridEnd
                })
        }, this).filter(Boolean)))
    },
    _parseListing: function(e, t, i, n) {
        var r = n.getProps();
        return r.channel = e,
        r.details = n.getFirstAction("self"),
        r.id = r.details.getRawActionUrl().replace(/\.\.\//g, ""),
        r.startTime = parseInt(r.startTime, 10),
        r.endTime = parseInt(r.endTime, 10),
        r.imageLink = t.setParams({
            entityId: r.entityId,
            width: 240,
            height: 320
        }).getActionUrl(),
        r.imageFallbackLink = i.setParams({
            entityId: r.entityId,
            width: 240,
            height: 320
        }).getActionUrl(),
        r
    }
}),
function() {
    Polymer({
        is: "tv-grid",
        properties: {
            channelMap: Object,
            favorites: Array,
            controls: Object,
            endpointParams: Object,
            grid: {
                type: Object,
                notify: !0,
                value: function() {
                    return {
                        durationInHours: 2,
                        force: !1
                    }
                }
            },
            gridError: {
                type: Object,
                notify: !0
            },
            gridTimer: Object
        },
        behaviors: [XTV.TvGridBehavior, XTV.TvParentalControlsBehavior],
        observers: ["_onChannelsReady(grid.channels)", "_onFavoritesChanged(channelFavorites.splices)"],
        listeners: {
            "safe-browse-updated": "_onSafeBrowseChange"
        },
        invalidate: function() {
            this.set("grid.channels", []),
            this.set("grid.startTime", void 0),
            this.set("grid.endTime", void 0),
            this.set("grid.durationInHours", 2),
            this.set("grid.force", !0)
        },
        setParams: function(e) {
            return this.set("grid.channels", []),
            e && e.durationInHours && this.set("grid.durationInHours", e.durationInHours),
            this.setTimeline((e || {}).startTime),
            this.set("endpointParams", {
                startTime: this.grid.startTime,
                hours: Math.round(this.grid.durationInHours)
            }),
            this.$.gridApi.sendRequest({
                force: this.grid.force
            }).then(function() {
                this.set("grid.force", !1)
            }
            .bind(this))
        },
        startGridTimer: function(e) {
            clearTimeout(this.gridTimer),
            this.set("gridTimer", setTimeout(this.setParams.bind(this), this._calcRefreshTimeout((e || {}).refreshInMin)))
        },
        stopGridTimer: function() {
            this.gridTimer && this.set("gridTimer", clearTimeout(this.gridTimer))
        },
        _calcRefreshTimeout: function(e) {
            var t, i = Math.round((this.getDate() - new Date(this.grid.startTime)) / 6e4);
            if (e = e || 30,
            i >= 0) {
                if (!(e >= i))
                    return 1e3;
                t = e - i
            } else
                t = -i + e;
            return 6e4 * t + Math.round(6e5 * Math.random())
        },
        _onChannelsReady: function(e) {
            e && this.set("grid.byStationId", e.reduce(function(e, t) {
                return e[t.id] = t,
                e
            }, {}))
        },
        _onFavoritesChanged: function() {
            this.grid && this.grid.channels && this.grid.channels.forEach(function(e, t) {
                this.set("grid.channels." + t + ".isFavorite", this.channelFavorites.includes(e.id))
            }, this)
        },
        _onGridApiError: function(e) {
            this.set("gridError", e),
            this.invalidate()
        },
        _onGridApiResponse: function(e) {
            this.set("gridError", void 0),
            this.set("resource", e.detail.resource, this.$.gridParser)
        },
        _onSafeBrowseChange: function() {
            this.invalidate()
        }
    })
}(),
function(e) {
    var t = []
      , i = function(e) {
        for (var i = (t || []).slice(0); i.length; )
            i.shift().apply(this, [e])
    };
    e.XTV = e.XTV || {},
    e.XTV.behaviors = e.XTV.behaviors || {},
    e.XTV.behaviors.Logger = {
        properties: {
            _logQueue: {
                type: Array,
                value: function() {
                    return t
                }
            }
        }
    },
    e.addEventListener("log", i)
}(window),
function(e, t) {
    var i = []
      , n = function() {
        var e = i.splice(0, i.length);
        return e.forEach(function(e) {
            Object.keys(e).forEach(function(t) {
                "" === e[t] && delete e[t]
            })
        }),
        e
    };
    Polymer({
        is: "tv-logger-splunk",
        properties: {
            config: {
                type: Object,
                observer: "_onConfigChange"
            },
            data: {
                type: Object
            },
            env: {
                type: String,
                value: "prod"
            }
        },
        behaviors: [e.XTV.behaviors.Logger],
        _logSplunk: function(e) {
            this._storeSplunk(e),
            this.debounce("log-splunk", this.sendSplunkLogs.bind(this), 1e3)
        },
        _storeSplunk: function(e) {
            i.push(Object.assign({}, e.detail, this.config.props, {
                env: this.env,
                component: e.target.constructor.name,
                parentComponent: e.target.parentNode ? e.target.parentNode.constructor.name : "",
                referrer: document.referrer,
                url: window.location.href
            }, this.data))
        },
        sendSplunkLogs: function() {
            var t = n();
            t.length && e.fetch(this.config.endpoint + this.config.props.appname, {
                method: "POST",
                body: JSON.stringify(t)
            })["catch"](Function.prototype)
        },
        onBeforeUnload: function() {
            var e = n();
            e.length && t.sendBeacon(this.config.endpoint + this.config.props.appname, JSON.stringify(e))
        },
        _onConfigChange: function() {
            this.config.enabled && (this._logQueue.push(this._logSplunk.bind(this)),
            e.addEventListener("beforeunload", this.onBeforeUnload.bind(this)),
            e.addEventListener("log-delayed", this._storeSplunk.bind(this)))
        }
    })
}(window, navigator),
function(e) {
    var t = !1;
    e.XTV = e.XTV || {},
    Polymer({
        is: "tv-parental-controls",
        properties: {
            controls: {
                type: Object,
                notify: !0
            },
            descriptions: {
                type: Object,
                notify: !0
            },
            loaded: {
                type: Boolean,
                value: !1,
                readOnly: !0
            },
            loading: {
                type: Boolean,
                value: !1,
                readOnly: !0
            },
            isInitialized: {
                type: Boolean,
                value: !1
            }
        },
        behaviors: [XTV.TvLocalizeBehavior],
        observers: ["_onLocalizeReady(localize)", "_everythingLoaded(controls, descriptions)"],
        _onLocalizeReady: function() {
            this.isInitialized && (this.$.settingsApi.sendRequest(),
            this.$.descriptionsApi.sendRequest({
                force: !0
            }))
        },
        initialize: function() {
            return this.isInitialized = !0,
            e.XTV.User.ParentalControls ? (this._parentalControlsReady(),
            Promise.resolve(e.XTV.User.ParentalControls)) : t ? void 0 : (t = !0,
            this.fetch())
        },
        fetch: function() {
            var e = [];
            return e.push(this.$.settingsApi.sendRequest()),
            this.descriptions || e.push(this.$.descriptionsApi.sendRequest()),
            Promise.all(e)
        },
        onDescriptionsApiResponse: function(e, t) {
            this.set("descriptions", t.resource.getProps())
        },
        onParentalControlsApiError: function(e, t) {
            this.fire("parental-controls-fail", t.details.error.code)
        },
        onSettingsApiResponse: function(e, t) {
            this.set("controls", t.resource.getProps()),
            this.resetting && (this.set("controls.reset", !0),
            this.resetting = !1)
        },
        reset: function() {
            return this.$.resetApi.sendRequest().then(function() {
                return this.resetting = !0,
                this.fetch()
            }
            .bind(this))
        },
        update: function(e) {
            return this.$.updateSettingsApi.sendRequest({
                body: JSON.stringify(e),
                headers: {
                    "Content-Type": "application/json"
                }
            })
        },
        updateRatings: function(e) {
            return this.$.updateRatingsApi.sendRequest({
                body: JSON.stringify(e),
                headers: {
                    "Content-Type": "application/json"
                }
            })
        },
        _everythingLoaded: function(i, n) {
            e.XTV.User.ParentalControls = {
                controls: i,
                descriptions: n
            },
            t = !1,
            this.fire("iron-signal", {
                name: "parental-controls-ready"
            }),
            window.ll("setCustomDimension", 3, i.enabled ? "Enabled" : "Disabled")
        },
        _parentalControlsReady: function() {
            this.set("controls", e.XTV.User.ParentalControls.controls),
            this.set("descriptions", e.XTV.User.ParentalControls.descriptions)
        }
    })
}(window),
Polymer({
    is: "tv-parser-tve",
    hostAttributes: {
        hidden: !0
    },
    getTve: function(e) {
        var t = Object.assign({}, e.getProps());
        return t.adult = t.isAdult,
        t.contentProvider = this.$.contentProviderParser.getContentProvider(e),
        t.closedCaption = t.closedCaption || !1,
        t.expirationTime = parseInt(t.expirationTime, 10),
        t.hasSAP = t.hasSAP || !1,
        t.isHD = t.isHD || !1,
        t.id = t.guid,
        t.stream = this.$.streamsParser.parseStreamResource(e.getEmbedded("streams")),
        t.isUnauthWatchable = /hulu/i.test((t.stream || {}).streamProvider) || /cbs/i.test((t.stream || {}).streamProvider),
        t.ratingDetails = t["contentRating/detailed"],
        delete t.watched,
        this.$.creativeWorkParser.getCreativeWork(e).then(function(e) {
            return t.creativeWork = e,
            t.programId = t.creativeWork.programId,
            t.type = t.creativeWork._type,
            t
        }
        .bind(this), Function.prototype)
    }
}),
Polymer({
    is: "tv-parser-transaction-details",
    hostAttributes: {
        hidden: !0
    },
    parseResource: function(e) {
        var t;
        return e.fetchEmbedded("transactionDetails").then(function(e) {
            return t = e.data.getProps(),
            t.purchaseTimestamp = parseInt(t.date, 10),
            t
        })
    }
}),
Polymer({
    is: "tv-parser-vod",
    hostAttributes: {
        hidden: !0
    },
    behaviors: [XTV.TvWatchableTypeBehavior],
    getVod: function(e) {
        var t = []
          , i = Object.assign({}, e.getProps());
        return i.adult = i.isAdult,
        i.contentProvider = this.$.contentProviderParser.getContentProvider(e),
        i.closedCaption = i.closedCaption || !1,
        i.expirationTime = parseInt(i.vodWindowExpireTime, 10),
        i.hasSAP = i.isSAP || !1,
        i.isHD = i.isHD || !1,
        i.id = i.mediaGuid,
        i.rentalExpires = new Date(i.rentalDateTime).getTime() + 6e4 * i.rentalPeriod,
        i.resource = e,
        i.stream = this.$.streamsParser.parseStreamResource(e.getEmbedded("streams")),
        i.ratingDetails = i["contentRating/detailed"],
        delete i.isSAP,
        delete i.vodWindowExpireTime,
        delete i.watched,
        t.push(this.$.creativeWorkParser.getCreativeWork(e)),
        e.hasEmbedded("transactionDetails") && t.push(this.$.transactionDetailsParser.parseResource(e)),
        Promise.all(t).then(function(e) {
            return i.creativeWork = e[0],
            i.type = i.creativeWork._type,
            e[1] && (i._type = this.Types.Purchase,
            i.transactionDetails = e[1]),
            i
        }
        .bind(this), Function.prototype)
    }
}),
Polymer({
    is: "tv-parser-watchable",
    behaviors: [XTV.TvWatchableTypeBehavior],
    hostAttributes: {
        hidden: !0
    },
    parseWatchable: function(e) {
        var t = e.getProps();
        if (this.isRecording(t))
            return this.$.recordingsParser.getRecording(e);
        if (this.isVod(t))
            return this.$.vodParser.getVod(e);
        if (this.isTve(t))
            return this.$.tveParser.getTve(e);
        if (this.isListing(t))
            return this.$.listingsParser._parseListing(e);
        throw "Unknown watchable found: [type=" + e.getProp("_type") + "]"
    }
}),
Polymer({
    is: "tv-parser-play-now",
    hostAttributes: {
        hidden: !0
    },
    parseResource: function(e) {
        var t = e.getProps()
          , i = e.getEmbedded("playNowAsset")
          , n = [];
        return t.contentProvider = this.$.contentProviderParser.getContentProvider(e),
        n.push(this.$.watchableParser.parseWatchable(i)),
        Promise.all(n).then(function(e) {
            return t.watchable = e[0],
            t
        }
        .bind(this))
    }
}),
Polymer({
    is: "tv-parser-browse",
    behaviors: [XTV.TvUrlBehavior],
    hostAttributes: {
        hidden: !0
    },
    parseResource: function(e, t) {
        t = t || {};
        var i = e.getEmbedded("browseItems") || []
          , n = t.imgAction || e.getFirstAction("programImageLink")
          , r = t.imgActionFallback || e.getFirstAction("programFallbackImageLink")
          , s = t.playNowDetailAction || e.getFirstAction("playNowDetail2")
          , o = [];
        return i.length ? o = i.map(function(e) {
            var i = e.getProps()
              , o = e.hasAction("programFallbackImageLink")
              , a = e.getEmbedded("playNowDetail2")
              , c = {
                entityId: e.getProp("entityId"),
                height: t.posterHeight || 320,
                width: t.posterWidth || 240
            }
              , l = []
              , h = o ? e.getFirstAction("programFallbackImageLink") : n;
            return i.heroImg = h.setParams({
                entityId: e.getProp("entityId"),
                height: 640,
                width: 1280
            }).getActionUrl(),
            i.posterImg = o ? null : h.setParams(c).getActionUrl(),
            i.fallbackImg = r.setParams(c).getActionUrl(),
            i.playNowDetail = s,
            i.playNowItem = {},
            "Episode" === i.programType && i.seriesProgramId ? i.link = this.urlFor("entity", i.seriesProgramId) : i.link = this.urlFor("entity", i.entityId),
            a ? (l.push(this.$.playNowParser.parseResource(a.getEmbedded("inHomePlayNowDetail"))),
            a.hasEmbedded("oohPlayNowDetail") && l.push(this.$.playNowParser.parseResource(a.getEmbedded("oohPlayNowDetail"))),
            Promise.all(l).then(function(e) {
                return e[0] && (i.playNowItem.inhome = e[0]),
                e[1] && (i.playNowItem.ooh = e[1]),
                i
            })) : Promise.resolve(i)
        }
        .bind(this)) : o
    }
}),
Polymer({
    is: "tv-parser-device",
    hostAttributes: {
        hidden: !0
    },
    _isCurrentDevice: function(e) {
        return !!e.getProp("isCurrent")
    },
    parseDevice: function(e) {
        if (e) {
            var t = (e.getEmbedded("devices") || []).filter(this._isCurrentDevice, this)
              , i = t.length ? t[0].getProps() : {};
            return Promise.resolve(i)
        }
    }
}),
Polymer({
    is: "tv-parser-episodes",
    hostAttributes: {
        hidden: !0
    },
    properties: {
        property: String
    },
    parseEpisodes: function(e) {
        if (e && e.getEmbedded(this.property)) {
            var t;
            return t = e.getEmbedded(this.property).map(function(e) {
                return Promise.all([this.$.creativeWorkParser.getCreativeWork(e), this.$.watchOptionsParser.parseWatchOptions(e)]).then(function(e) {
                    var t = e[0];
                    return t.watchables = e[1],
                    t
                }
                .bind(this))
            }, this),
            Promise.all(t)
        }
    }
}),
function() {
    var e = /hd/i;
    Polymer({
        is: "tv-parser-purchases",
        behaviors: [XTV.TvParserBehavior, XTV.TvTypeBehavior, XTV.TvWatchableTypeBehavior],
        hostAttributes: {
            hidden: !0
        },
        properties: {
            property: String
        },
        getPurchase: function(t) {
            if (!t)
                return Promise.resolve(void 0);
            var i, n = [], r = t.getProps();
            return r.contentProvider = this.$.contentProviderParser.getContentProvider(t),
            r.description = r.derivedDescription,
            r.duration = parseInt(r.duration, 10),
            r.isSAP = r.sap,
            r.id = r.mediaGuid,
            t.hasEmbedded("streams") && (r.stream = this.$.streamsParser.parseStreamResource(t.getEmbedded("streams"))),
            "undefined" == typeof r.isHD && (r.isHD = e.test(r.videoQuality)),
            r.ratingDetails = r["contentRating/detailed"],
            t.hasEmbedded("encodesCreativeWork") || t.hasAction("encodesCreativeWork") ? n.push(this.$.creativeWorkParser.getCreativeWork(t)) : n.push(Promise.resolve(void 0)),
            t.hasEmbedded("provider/channel") || t.hasAction("provider/channel") ? n.push(t.fetchEmbedded("provider/channel")) : n.push(Promise.resolve(void 0)),
            t.hasEmbedded("transactionDetails") || t.hasAction("transactionDetails") ? n.push(this.$.transactionDetailsParser.parseResource(t)) : n.push(Promise.resolve(void 0)),
            Promise.all(n).then(function(e, t) {
                return e.creativeWork = t[0],
                e.originalAirDate = new Date(e.creativeWork.datePublished).getTime(),
                i = t[1],
                i && (e.channel = i.data.getProps(),
                e.contentProvider = {
                    logoUrl: i.data.getFirstAction("logo", {
                        width: 125,
                        height: 87
                    }).getActionUrl(),
                    name: e.channel.callSign,
                    providerId: i.data.getFirstAction("self").getRawActionUrl()
                }),
                e.transactionDetails = t[2] || void 0,
                e.creativeWork && (e.airdate = this.isMovie(e.creativeWork) ? e.creativeWork.releaseYear : e.derivedAirDate,
                this.isTvSeries(e.creativeWork) && (e.creativeWork.type = this.Types.TvEpisode),
                e.adult = e.creativeWork.isAdult,
                e.rating = e.creativeWork.rating,
                e.type = e.creativeWork.type),
                e._type = this.Types.Purchase,
                e
            }
            .bind(this, r), Function.prototype)
        }
    })
}(),
function() {
    var e = /^(the|an|a) (.*)$/;
    Polymer({
        is: "tv-parser-purchase-group",
        hostAttributes: {
            hidden: !0
        },
        behaviors: [XTV.TvUrlBehavior],
        parsePurchaseGroup: function(t) {
            if (t) {
                var i = t.getProps()
                  , n = t.getFirstAction("self").getRawActionUrl();
                return n = n.split("/"),
                n = n[n.length - 2],
                i.id = n,
                i.sortedName = t.getProp("name").toLowerCase().replace(e, "$2, $1"),
                i.timestamp = new Date(t.getProp("purchased")).getTime(),
                i.url = this.urlFor("purchases", n),
                this.$.creativeWorkParser.getCreativeWork(t).then(function(e, t) {
                    return e.creativeWork = t,
                    e
                }
                .bind(this, i))
            }
        }
    })
}(),
function() {
    "use strict";
    Polymer({
        is: "tv-play-now-asset-list-row",
        properties: {
            errorLoading: Boolean,
            isPlayNowDetailDeferred: Boolean,
            loaded: {
                type: Boolean,
                value: !1,
                reflectToAttribute: !0
            },
            playNowAsset: {
                type: Object,
                observer: "_onPlayNowAssetReady"
            },
            user: Object
        },
        behaviors: [XTV.TvOohHelper, XTV.TvUrlBehavior, XTV.TvUserBehavior, XTV.TvBrowseBehavior],
        observers: ["_browseItemChanged(browseItem, user.inhome)"],
        _browseItemChanged: function(e, t) {
            this.isPlayNowDetailDeferred || this.set("playNowAsset", this.getPlayNowAsset(e, t))
        },
        _onPlayNowAssetReady: function(e) {
            e && this.set("loaded", !0)
        },
        _watch: function(e) {
            if (e.preventDefault(),
            this.loaded)
                return this.errorLoading ? void this.navigateToHash(this.browseItem.link) : this.isWatchingAssetDisabled(this.playNowAsset.watchable, this.user.inhome) ? void this.fire("app:show:simpleOOHModal") : void this.fire("app:player:watch", {
                    watchable: this.playNowAsset.watchable
                })
        },
        focusNextItem: function() {
            var e = Polymer.dom(this).node.nextElementSibling;
            e && e.tagName === this.tagName && e.focus()
        },
        focusPreviousItem: function() {
            var e = Polymer.dom(this).node.previousElementSibling;
            e && e.tagName === this.tagName && e.focus()
        },
        _onKeyPressed: function(e) {
            var t = e.detail.combo
              , i = document.activeElement
              , n = i && "TV-PLAY-NOW-ASSET-LIST-ROW" === i.tagName;
            ["right", "left", "up", "down"].indexOf(t) !== -1 && (e.detail.keyboardEvent.preventDefault(),
            e.detail.keyboardEvent.stopPropagation()),
            n && ("down" === t || "right" === t ? this.focusNextItem(i) : "up" !== t && "left" !== t || this.focusPreviousItem(i))
        }
    })
}(),
function(e) {
    e.XTV = e.XTV || {},
    e.XTV.TvFullScreenBehavior = {
        enterFullscreen: function() {
            var e = ["requestFullscreen", "msRequestFullscreen", "mozRequestFullScreen", "webkitRequestFullscreen"].find(function(e) {
                return document.body[e]
            }, this);
            e && document.body[e]()
        },
        exitFullscreen: function() {
            var e = ["exitFullscreen", "msExitFullscreen", "mozCancelFullScreen", "webkitExitFullscreen"].find(function(e) {
                return document[e]
            });
            e && document[e]()
        },
        isFullscreen: function() {
            return ["fullscreenElement", "mozFullScreenElement", "webkitFullscreenElement", "msFullscreenElement"].find(function(e) {
                return !!document[e]
            }, this)
        },
        toggleFullScreen: function() {
            this.isFullscreen() ? this.exitFullscreen() : this.enterFullscreen()
        }
    }
}(window),
function(e) {
    e.XTV = e.XTV || {},
    e.XTV.TvAuditudeBehaviorImpl = {
        buildAuditude: function(e) {
            var t = {};
            return e.auditudeId && (t = {
                domainId: "auditude.com",
                zoneId: "2637",
                targetingInfo: {
                    plr: "hlslfplr",
                    auditudeParamCountryCode: "US",
                    auditudeParamZipCode: "",
                    cloudServices: "YES"
                },
                mediaID: e.auditudeId
            }),
            t
        },
        buildDAI: function() {
            return {
                terminalAddress: this._getUserTokenSummary().deviceId
            }
        },
        isAdSeekable: function(e) {
            return (e.videoAd || {}).seekable && this.isDAI && !this.externalAds
        },
        breakContainsVpaid: function(e) {
            var t = (e || {}).ads || [];
            return !!t.find(function(e) {
                return e.vpaid === !0
            })
        },
        seekableAds: function(e) {
            return e = e || this.get("timelineAdBreaks") || [],
            !(!e.length || !this.isDAI) && !!e.find(function(e) {
                return (e.ads || []).find(function(e) {
                    return void 0 !== e.seekable
                })
            })
        }
    },
    e.XTV.TvAuditudeBehavior = [e.XTV.TvAuditudeBehaviorImpl, e.XTV.TvUserBehavior]
}(window),
function(e) {
    e.XTV = e.XTV || {},
    e.XTV.TVAdBehaviorImpl = {
        isBadAd: function(e, t, i) {
            return e <= 0 && (t < 0 || i < 0)
        },
        isC3: function(e) {
            return "c3" === e.adType && e.inAdWindow === !0 && e.breaks.length > 0
        },
        adBreakStartText: function() {
            return this.localize("Your_video_will_resume_shortly_d")
        },
        adProgressText: function(e, t, i, n, r) {
            if (this.breakContainsVpaid(i))
                return this.localize("Your_video_will_resume_shortly_d");
            var s, o = this.localize("Your_video_will_resume_in") + " ", a = "", c = 0, l = (i.ads || {}).length, h = i.duration || 0, u = ((n || {}).videoAd || {}).duration || 0, d = t, f = this.getPreviousDuration(t, i), p = 0;
            return h = h < 1e3 ? 1e3 * h : h,
            u = u < 1e3 ? 1e3 * u : u,
            h && l > 1 ? (p = e + f,
            c = h - p > 0 ? Math.floor(h - p) : 0,
            o = this.localize("Your_video_will_resume_in") + " ") : (l && l > 1 && (a = this.localize("_adPosition_of_totalAds_ads_d", "adPosition", d, "totalAds", l) + " "),
            l > 1 || 0 === l ? (o = this.localize("Time_remaining_for_this_ad_c") + " ",
            c = u - e > 0 ? Math.floor(u - e) : 0) : 1 === l && (c = u - e,
            o = this.localize("Your_video_will_resume_in") + " ")),
            (u < 0 && 0 === h || 0 == c) && (o = this.localize("Your_video_will_resume_shortly_d"),
            c = ""),
            s = this.formatDisplayTime(c),
            s = "0:00" === s ? "" : s,
            o = c > 0 ? o + s : o,
            a + o
        },
        adProgress: function(e) {
            return e.get("position") + this.getPreviousDuration(e)
        },
        configureC3: function(e) {
            var t = [];
            return e.breaks.forEach(function(e) {
                var i = new window.pp.VideoAd("1",Number(e.start),Number(e.end - e.start))
                  , n = new window.pp.VideoAdBreak;
                n.addAd(i),
                t.push(n)
            }),
            t
        },
        getPreviousDuration: function(e, t) {
            var i = 0
              , n = 0
              , r = e - 1
              , s = t.ads.length;
            if (s > 0 && s >= r)
                for (i = 0; i < r; i++)
                    n += (t.ads[i] || {}).duration || 0;
            return n
        },
        timeToHMS: function(e) {
            var t, i, n = Math.round(e / 1e3);
            return t = Math.floor(n / 3600),
            n %= 3600,
            i = Math.floor(n / 60),
            n %= 60,
            {
                h: t,
                m: i,
                s: n
            }
        },
        formatDisplayTime: function(e) {
            var t = []
              , i = this.timeToHMS(e);
            return i.h > 0 && (i.m = this.zeroPad(i.m)),
            i.h && t.push(i.h),
            t.push(i.m),
            t.push(this.zeroPad(i.s)),
            t.join(":")
        },
        zeroPad: function(e) {
            return e < 10 ? "0" + e : e
        }
    },
    e.XTV.TVAdBehavior = [e.XTV.TvAuditudeBehavior, e.XTV.TvLocalizeBehavior, e.XTV.TVAdBehaviorImpl]
}(window),
Polymer({
    is: "tv-clock",
    properties: {
        autoStart: {
            type: Boolean,
            value: !1
        },
        displayTime: {
            type: String,
            readOnly: !0
        },
        format: {
            type: String,
            value: "h:mma"
        },
        _interval: Object,
        frequency: {
            type: Number,
            value: 1e3
        }
    },
    attached: function() {
        this.autoStart && this.start()
    },
    detached: function() {
        this.stop()
    },
    start: function() {
        this.updateDisplay(),
        this._interval = setInterval(this.updateDisplay.bind(this), this.frequency)
    },
    stop: function() {
        clearInterval(this._interval)
    },
    updateDisplay: function() {
        this._setDisplayTime(moment().format(this.format))
    }
}),
Polymer({
    is: "tv-player-play-toggle-button",
    properties: {
        disabled: Boolean,
        playerState: {
            type: String,
            value: ""
        },
        videoType: {
            type: String,
            value: ""
        }
    },
    behaviors: [XTV.TvLocalizeBehavior],
    observers: ["_playerStateChanged(playerState)"],
    isLinear: function() {
        return "linear" === this.videoType
    },
    delegatePlayToggleTap: function(e) {
        "keys-pressed" === e.type && (e.detail.keyboardEvent.preventDefault(),
        e.detail.keyboardEvent.stopPropagation()),
        "playing" === this.playerState ? "linear" === this.videoType ? this.stop() : this.pause() : "linear" === this.videoType ? this.resume() : this.play()
    },
    pause: function() {
        this.fire("pause")
    },
    play: function() {
        this.fire("play")
    },
    stop: function() {
        this.fire("stop")
    },
    resume: function() {
        this.fire("player:resume")
    },
    _playerStateChanged: function() {
        "playing" === this.playerState ? (this.$.playButton.hidden = !0,
        this.$.pauseButton.hidden = this.isLinear(),
        this.$.stopButton.hidden = !this.isLinear(),
        this.$.playToggleButton.setAttribute("aria-label", this.isLinear() ? this.$.stopButtonLabel.innerHTML : this.$.pauseButtonLabel.innerHTML),
        this.$.playToggleButton.setAttribute("aria-describedby", this.isLinear() ? this.$.stopButtonKey.getAttribute("id") : this.$.pauseButtonKey.getAttribute("id"))) : (this.$.playButton.hidden = "paused" === this.playerState && this.isLinear(),
        this.$.pauseButton.hidden = !0,
        this.$.stopButton.hidden = !0,
        this.$.playToggleButton.setAttribute("aria-label", this.$.playButtonLabel.innerHTML),
        this.$.playToggleButton.setAttribute("aria-describedby", this.$.playButtonKey.getAttribute("id")))
    }
}),
function() {
    Polymer({
        is: "tv-player-controls",
        properties: {
            disabled: {
                type: Boolean,
                value: !1,
                reflectToAttribute: !0
            },
            disableControls: {
                type: Boolean,
                value: !1
            },
            isScrubbing: Boolean,
            labelLeft: String,
            labelRight: String,
            playerState: String,
            timelineAdBreaks: Array,
            adEvent: Object,
            adData: {
                type: Object,
                value: function() {
                    return {}
                }
            },
            adMode: {
                type: Boolean,
                value: !1
            },
            externalAds: {
                type: Boolean,
                value: !1
            },
            isCurrentAdBad: {
                type: Boolean,
                value: !1
            },
            pinText: {
                type: String,
                value: ""
            },
            limit: {
                type: Number
            },
            immediateValue: {
                type: Number,
                notify: !0
            },
            videoType: {
                type: String,
                value: "normal",
                reflectToAttribute: !0
            },
            value: {
                type: Number,
                notify: !0
            },
            eventMethods: {
                type: Object,
                value: function() {
                    return {
                        AdBreakStart: this._onAdBreakStart,
                        AdBreakComplete: this._onAdBreakComplete,
                        AdBreakExited: this._onAdBreakComplete,
                        AdStart: this._onAdStart,
                        AdProgress: this._onAdProgress,
                        AdComplete: this._onAdComplete,
                        AdExited: this._onAdComplete
                    }
                }
            }
        },
        behaviors: [XTV.TvLocalizeBehavior, XTV.TVAdBehavior, XTV.TvUtilityBehavior],
        observers: ["_adBreaksTimeline(timelineAdBreaks)", "_adEventChanged(adEvent.*)", "_onLabelLeftChange(labelLeft)"],
        _disabledSlider: function(e, t) {
            return e || t
        },
        _interceptValue: function() {
            return this.isScrubbing ? this.immediateValue : this.value
        },
        resetState: function() {
            this.set("limit", null),
            this.set("labelLeft", null),
            this.set("labelRight", null)
        },
        _onDurationStatusChange: function(e) {
            var t = this.formatTime(e);
            this.playerDuration = e,
            this.set("max", e),
            this.set("labelRight", this.adMode ? null : e > 0 ? t : "")
        },
        _onLabelLeftChange: function() {
            if (this.adMode && (!this.isCurrentAdBad && this.externalAds || this.adBreakIsVpaid)) {
                var e = this.adBreakStartText();
                this.adData.videoAdBreak && this.adData.videoAdStart && (e = this.adProgressText(this.value, this.currentAd, this.adData.videoAdBreak, this.adData.videoAdStart, this.max)),
                this.set("labelLeft", "0:00" === e ? "" : e)
            }
        },
        _adBreaksTimeline: function(e) {
            this.removeAdBreaks(),
            this.adData.timelineAdBreaks = e,
            e.forEach(function(e) {
                this.addAdBreak(e)
            }, this)
        },
        addAdBreak: function(e) {
            var t = this.$.playerProgress.max
              , i = e.startTime
              , n = e.duration
              , r = n / t * 100
              , s = i / t * 100
              , o = s - .2
              , a = document.createElement("adBreak");
            a.id = "adBreak",
            a.className = "xa-player-transport-ad-breaks",
            a.style.width = (r > 0 ? r : .5) + "%",
            a.style.left = o + "%",
            Polymer.dom(this.$.adBreakContainer).appendChild(a)
        },
        _adEventChanged: function(e) {
            this.eventMethods[e.value.type].call(this, e.value)
        },
        _onAdBreakStart: function(e) {
            this.playerDuration = this.$.playerProgress.max,
            this.adData.videoAdBreak = e.adBreakStart.videoAdBreak,
            this.adData.isAuditude = e.isAuditude,
            this.adData.isC3 = e.isC3,
            this.adData.vpaid = e.vpaid,
            this.set("value", 0),
            (this.externalAds || e.vpaid) && (this.set("currentAd", 0),
            this.adData.videoAdBreak || (this.adData.videoAdBreak = {
                duration: 0,
                ads: []
            }),
            this.set("duration", this.adData.videoAdBreak.duration || 0)),
            this.hideAssets()
        },
        _onAdStart: function(e) {
            var t = this.adData.videoAdBreak.duration;
            this.adData.videoAdStart = e,
            this.set("currentAd", this.currentAd += 1),
            setTimeout(function() {
                Object.keys(this.adData.adProgress || {}).length || this.set("labelLeft", this.adBreakStartText())
            }
            .bind(this), 500),
            e.videoAd.vpaid && this._onDurationStatusChange(0),
            this.externalAds && (this._onDurationStatusChange(t > 0 ? t : e.videoAd.duration),
            this.isCurrentAdBad = this.isBadAd(this.playerDuration, t, this.adData.videoAdStart.videoAd.duration))
        },
        _onAdComplete: function(e) {
            this.adData.videoAdStart = null,
            this.adData.adComplete = e
        },
        _onAdProgress: function(e) {
            if (this.adMode && (this.isCurrentAdBad && this.externalAds || this.adBreakIsVpaid)) {
                var t = this.adProgressText(this.value, this.currentAd, this.adData.videoAdBreak, this.adData.videoAdStart, this.max);
                return this.set("labelLeft", t),
                void this.$.playerProgress.setPercent(e.progress > 0 ? e.progress : 100)
            }
            this.$.playerProgress.value = this.$.playerProgress.value !== Math.floor(e.position) ? e.position : this.$.playerProgress.value
        },
        _onAdBreakComplete: function() {
            this.adData = {},
            this.set("currentAd", 0),
            this.set("adData", {}),
            this.showAdTicks()
        },
        _onDurationChange: function(e) {
            this.playerDuration = e
        },
        hideAssets: function() {
            this.adMode && (this.externalAds || this.adBreakIsVpaid) && (this.set("labelRight", null),
            this.hideAdTicks())
        },
        hideAdTicks: function() {
            document.getElementById("adBreakContainer").style.visibility = "hidden"
        },
        showAdTicks: function() {
            document.getElementById("adBreakContainer").style.visibility = "visible"
        },
        removeAdBreaks: function() {
            for (var e = document.getElementById("adBreakContainer"); e.hasChildNodes(); )
                e.removeChild(e.lastChild)
        },
        flashPin: function() {
            this.$.playerProgress._setPressed(!0),
            this.async(function() {
                this.$.playerProgress._setPressed(!1)
            }, 1e3)
        },
        _scrubbing: function() {
            this.set("isScrubbing", !0)
        },
        _scrubbingFinished: function() {
            this.set("isScrubbing", !1),
            this.fire("scrubbed", {
                value: this.$.playerProgress.immediateValue
            })
        }
    })
}(),
Polymer({
    is: "tv-player-info-header",
    properties: {
        expirationTime: String,
        purchasedText: String,
        model: Object,
        playerPosition: Number
    },
    behaviors: [XTV.TvLocalizeBehavior, XTV.TvAssetParserBehavior, XTV.TvWatchableTypeBehavior],
    observers: ["_setProperties(model, localize)"],
    getDateFormat: function(e) {
        return moment(e).year() !== moment().year() ? "MM/DD/YY" : "MM/DD"
    },
    formatDate: function(e) {
        return moment(e).format(this.getDateFormat(e))
    },
    getExpirationTime: function(e) {
        return e.rentalExpires ? this.getRentalExpiredTime(e.rentalExpires) : this.isPurchase(e) ? "" : this.localize("Ends_expirationTime_", "expirationTime", this.formatDate(e.expirationTime))
    },
    getPurchasedLabel: function(e) {
        return this.isPurchase(e) ? this.purchasedLabel(e.transactionDetails.purchaseTimestamp, e.isHD ? "HD" : "SD") : ""
    },
    _setProperties: function(e, t) {
        e && t && (this.set("purchasedText", this.getPurchasedLabel(e)),
        this.set("expirationTime", e.expirationTime ? this.getExpirationTime(e) : ""),
        this.$.timeLeft.hidden = !(this.isAnyVod(e) || this.isRecording(e) && "COMPLETE" === this.model.recordingStatus),
        this.$.ends.hidden = !this.isAnyVod(e),
        this.$.timeRecording.hidden = !this.isRecording(e),
        this.$.timeAiring.hidden = !this.isListing(e))
    }
}),
Polymer({
    is: "tv-player-nav",
    properties: {
        hideFeatureButtons: {
            type: Boolean,
            value: !1
        },
        disableFeatureButtons: {
            type: Boolean,
            value: !1
        }
    },
    behaviors: [XTV.TvLocalizeBehavior, XTV.TvUserBehavior],
    hostAttributes: {
        role: "menu"
    },
    resetState: function() {
        var e = this.$$("[active]");
        e && e.removeAttribute("active")
    },
    _doAction: function(e) {
        this.fire("player:action:" + e.target.dataset.event)
    },
    _togglePanel: function(e) {
        var t = this.$$("[active]");
        e.target === t ? (e.target.removeAttribute("active"),
        this.fire("player:panel:close", {
            panel: e.target.dataset.panel
        })) : (this.attributeFollows("active", e.target, t),
        this.fire("player:panel:open", {
            panel: e.target.dataset.panel
        }))
    },
    focusMiniGuideButton: function() {
        this.$$(".guide-button").focus()
    },
    focusLastWatchedButton: function() {
        this.$$(".last-watched-button").focus()
    }
}),
Polymer({
    is: "tv-player-mini-controls",
    properties: {
        playerState: {
            type: String,
            value: ""
        },
        videoType: {
            type: String,
            value: ""
        },
        miniControlsVisible: {
            type: Boolean,
            value: !1
        }
    },
    behaviors: [XTV.TVAdBehavior, XTV.TvLocalizeBehavior],
    observers: ["_playerStateChanged(playerState)", "_volumeChanged(volume)"],
    listeners: {
        mouseenter: "showMiniControls",
        mouseleave: "hideMiniControls"
    },
    ready: function() {
        this.addEventListener("focus", this._onFocus.bind(this), !0),
        this.addEventListener("blur", this._onBlur.bind(this), !0)
    },
    _onFocus: function() {
        "miniControls" !== document.activeElement.getAttribute("id") && this.showMiniControls()
    },
    _onBlur: function() {
        this.hideMiniControls()
    },
    close: function() {
        this.fire("player:action:close")
    },
    maximize: function() {
        this.fire("player:action:maximize")
    },
    resume: function() {
        this.fire("player:resume")
    },
    mute: function() {
        this.fire("player:action:mute")
    },
    unmute: function() {
        this.fire("player:action:unmute")
    },
    isLinear: function() {
        return "linear" === this.videoType
    },
    _playerStateChanged: function() {
        this._toggleMainButton(),
        this._toggleVolumeButton(),
        this._toggleExpandButton(),
        this._toggleMiniControls()
    },
    delegateVolumeToggleTap: function() {
        this.volume > 0 ? this.mute() : this.unmute()
    },
    _toggleMiniControls: function() {
        this.isLinear() && "stopped" === this.playerState && this.showMiniControls()
    },
    _toggleMainButton: function() {
        this.$$(".xa-mini-controls-maximize").hidden = this.isLinear() && "playing" !== this.playerState,
        this.$$(".big-resume-button").hidden = this.isLinear() && "playing" === this.playerState || !this.isLinear(),
        this.$$(".mini-controls-background").hidden = !(this.isLinear() && "stopped" === this.playerState)
    },
    _toggleVolumeButton: function() {
        "playing" === this.playerState ? this.$$(".xa-player-volume-toggle").hidden = !1 : this.$$(".xa-player-volume-toggle").hidden = this.isLinear()
    },
    _toggleExpandButton: function() {
        this.$$(".xa-player-maximize").hidden = this.isLinear() && "playing" === this.playerState || !this.isLinear()
    },
    _volumeChanged: function(e) {
        e > 0 ? this.attributeFollows("hidden", this.$.unmuteButton, this.$.muteButton) : this.attributeFollows("hidden", this.$.muteButton, this.$.unmuteButton)
    },
    showMiniControls: function() {
        this.set("miniControlsVisible", !0)
    },
    hideMiniControls: function() {
        this.isLinear() && "stopped" === this.playerState || this.set("miniControlsVisible", !1)
    }
}),
Polymer({
    is: "tv-player-option",
    properties: {
        icon: String,
        label: String,
        isActive: {
            type: Boolean,
            notify: !0
        },
        isDisabled: Boolean
    },
    behaviors: [XTV.TvUtilityBehavior],
    _toggleActive: function() {
        this.isDisabled || this.set("isActive", !this.isActive)
    },
    toggleDisabled: function(e) {
        this.set("isDisabled", e)
    }
}),
function(e) {
    e.XTV = e.XTV || {},
    Polymer({
        is: "tv-player-volume",
        properties: {
            muted: {
                type: Boolean,
                notify: !0,
                reflectToAttribute: !0
            },
            sliderImmediateValue: Number,
            sliderLastValue: {
                type: Number,
                notify: !0
            },
            pinText: {
                type: String,
                value: ""
            },
            volume: {
                type: Number,
                notify: !0,
                observer: "_onVolumeChange"
            },
            volumeIcon: {
                type: String,
                computed: "_computeVolumeIcon(volume)"
            }
        },
        behaviors: [XTV.TvLocalizeBehavior],
        observers: ["_sliderImmediateValueChanged(sliderImmediateValue)"],
        attached: function() {
            Polymer.IronA11yAnnouncer.requestAvailability()
        },
        ready: function() {
            this.addEventListener("focus", this._onEnter.bind(this), !0),
            this.addEventListener("blur", this._onLeave.bind(this), !0)
        },
        _clearHideTimeout: function() {
            this.cancelAsync(this._hideTimeoutHandler),
            this._hideTimeoutHandler = null
        },
        _computeVolumeIcon: function(e) {
            return 0 === e ? "video-volume-0bars" : e > 0 && e <= 35 ? "video-volume-1bar" : e > 35 && e <= 65 ? "video-volume-2bars" : e > 65 ? "video-volume-3bars" : void 0
        },
        _hideVolumeSlider: function() {
            this.removeAttribute("expanded")
        },
        _onEnter: function() {
            this._showVolumeSlider(),
            this._clearHideTimeout()
        },
        _onLeave: function() {
            this._setHideTimeout()
        },
        _onVolumeChange: function(e, t) {
            this.set("pinText", e + "%"),
            this.set("sliderLastValue", 0 === e ? t : e),
            this.set("muted", 0 === e)
        },
        _setHideTimeout: function() {
            null === this._hideTimeoutHandler ? this._hideTimeoutHandler = this.async(function() {
                this._hideVolumeSlider()
            }, 500) : (this.cancelAsync(this._hideTimeoutHandler),
            this._hideTimeoutHandler = null,
            this._setHideTimeout())
        },
        _showVolumeSlider: function() {
            this.setAttribute("expanded", !0),
            this._clearHideTimeout()
        },
        _sliderImmediateValueChanged: function(e) {
            this.set("volume", e),
            0 === e && this.set("sliderLastValue", 100)
        },
        _toggleMuted: function() {
            this.set("muted", !this.muted),
            this.set("volume", this.muted ? 0 : 0 === this.sliderLastValue ? 100 : this.sliderLastValue),
            this.fire("iron-announce", {
                text: this.muted ? this.localize("Volume_muted") : this.localize("Volume_unmuted")
            })
        }
    })
}(window),
Polymer({
    is: "notification-animation",
    behaviors: [Polymer.NeonAnimationBehavior],
    configure: function(e) {
        var t = e.node;
        return e.transformOrigin && this.setPrefixedProperty(t, "transformOrigin", e.transformOrigin),
        e.timing = {
            duration: 1800,
            easing: "cubic-bezier(0.1, 0, 0.22, 0.35)"
        },
        this._effect = new KeyframeEffect(t,[{
            offset: 0,
            transform: "scale(0.9)",
            opacity: 0
        }, {
            offset: .05,
            transform: "scale(1)",
            opacity: 1
        }, {
            offset: .9,
            transform: "scale(1)",
            opacity: 1
        }, {
            offset: 1,
            transform: "scale(0.9)",
            opacity: 0
        }],this.timingFromConfig(e)),
        this._effect
    }
}),
Polymer({
    is: "tv-player-notification",
    behaviors: [XTV.TvLocalizeBehavior, Polymer.NeonAnimationRunnerBehavior],
    properties: {
        animationConfig: {
            value: function() {
                return {
                    notify: {
                        name: "notification-animation",
                        node: this.$.container
                    }
                }
            }
        },
        notificationText: String,
        showText: {
            type: Boolean,
            value: !1
        },
        icon: String,
        isActive: Boolean,
        label: String
    },
    observers: ["_showNotification(isActive, localize)"],
    _showNotification: function(e) {
        this.set("notificationText", e ? this.localize("ON") : this.localize("OFF")),
        this.cancelAnimation(),
        this.playAnimation("notify")
    }
}),
Polymer({
    is: "tv-player-panel-end-card",
    properties: {
        active: {
            type: Boolean,
            observer: "_reset",
            reflectToAttribute: !0
        },
        watchable: {
            type: Object,
            observer: "_setProperties"
        }
    },
    behaviors: [XTV.TvLocalizeBehavior],
    _doAction: function(e) {
        this.fire("player:action:" + e.currentTarget.dataset.event)
    },
    _restart: function() {
        this.fire("app:player:watch", {
            watchable: this.watchable,
            options: {
                restartVideo: !0
            }
        })
    },
    _reset: function(e) {
        e || this.set("watchable", {})
    },
    _setProperties: function(e) {
        e && (this.set("url", e.creativeWork ? e.creativeWork.backgroundSrc : "", this.$.tvBackgroundImage),
        this.set("derivedTitle", e.derivedTitle ? e.derivedTitle : ""))
    }
}),
function(e) {
    e.XTV = e.XTV || {},
    e.XTV.TvReflectChildClassToHost = {
        _reflectClass: function(e) {
            this.reflect.forEach(function(t) {
                e.classList.contains(t) && (this[t] = !0)
            }
            .bind(this))
        },
        _unReflectClass: function(e) {
            this.reflect.forEach(function(t) {
                e.classList.contains(t) || (this[t] = !1)
            }
            .bind(this))
        }
    }
}(window),
Polymer({
    is: "tv-error-category",
    properties: {
        defaultCategory: {
            type: String
        },
        categoryMappings: {
            type: Object,
            value: function() {
                return {}
            }
        },
        regexCategoryMappings: {
            type: Object,
            value: function() {
                return {}
            }
        }
    },
    _getJoinedCode: function(e, t) {
        var i = [];
        return t && i.push(t),
        (e.code || 0 === e.code) && i.push(e.code),
        (e.subCode || 0 === e.subCode) && i.push(e.subCode),
        i.join(".")
    },
    getCategory: function(e, t) {
        var i = this._getJoinedCode(e, t)
          , n = this.categoryMappings[i];
        return n ? n : (Object.keys(this.regexCategoryMappings).forEach(function(e) {
            this.regexCategoryMappings[e].forEach(function(t) {
                var r = t.test ? t : new RegExp(t);
                r.test(i) && (n = e)
            })
        }
        .bind(this)),
        n || this.defaultCategory)
    }
}),
Polymer({
    is: "tv-player-ooh-message",
    properties: {
        oohAutoPivot: {
            type: Boolean,
            value: !1,
            reflectToAttribute: !0
        },
        isUniversity: Boolean,
        tveVariant: String
    },
    behaviors: [XTV.TvLocalizeBehavior],
    _displayOohInfoOverlay: function() {
        this.fire("player:action:displayOohInfoOverlay")
    },
    _watch: function(e) {
        e.stopPropagation(),
        e.preventDefault(),
        window.ll("tagEvent", "Pivoted", {
            To: "Linear",
            Auto: "No"
        }),
        this.fire("app:player:watchChannel", {
            channel: {
                id: this.tveVariant,
                _type: "TelevisionStation/Channel"
            }
        })
    }
}),
Polymer({
    is: "tv-player-panel-error",
    properties: {
        active: {
            type: Boolean,
            reflectToAttribute: !0,
            value: !1,
            observer: "_isActive"
        },
        error: {
            type: Object
        },
        watchable: {
            type: Object
        },
        displayMode: {
            type: String,
            reflectToAttribute: !0
        },
        selectId: {
            computed: "_getSelectId(error, displayMode)"
        },
        isUniversity: Boolean,
        flash: {
            type: Boolean,
            value: !1,
            reflectToAttribute: !0
        },
        reflect: {
            readOnly: !0,
            value: function() {
                return ["flash"]
            }
        }
    },
    behaviors: [XTV.TvReflectChildClassToHost, XTV.TvFlashCompatibility, XTV.TvLocalizeBehavior, XTV.TvUserBehavior],
    _isActive: function(e) {
        e ? this.removeAttribute("hidden") : this.setAttribute("hidden", !0)
    },
    _getSelectId: function(e, t) {
        var i;
        if ("mini" === t)
            return e.isRetry ? "PlayerRetryMini" : "ooh" === e.category ? "PlayerMiniOoh" : "PlayerMini";
        if (e.isRetry)
            return "PlayerRetry";
        if (e.category && (i = this.$$('[default-category="' + e.category + '"]')),
        !i) {
            if (this.$$('[data-id="' + e.category + '"]'))
                return e.category;
            i = this.$$('[default-category="Player"]')
        }
        return i.getCategory(e)
    },
    _onSelected: function(e, t) {
        var i = t.item;
        i.removeAttribute("hidden"),
        this.selectedEl && (this.selectedEl.setAttribute("hidden", !0),
        this._unReflectClass(i)),
        this._reflectClass(i),
        this.selectedEl = i
    }
}),
function() {
    var e, t = "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7";
    Polymer({
        is: "tv-player-panel-loading",
        properties: {
            active: {
                type: Boolean,
                reflectToAttribute: !0,
                observer: "_onActiveChanged"
            },
            isAutoPivoting: Boolean,
            networkLogo: String,
            networkName: String,
            showNetworkLogo: {
                type: Boolean,
                value: !1,
                computed: "_showNetworkLogo(watchable, active, isAutoPivoting)"
            },
            showPartnerLogo: {
                type: Boolean,
                value: !1,
                computed: "_showPartnerLogo(watchable, active)"
            },
            watchable: {
                type: Object,
                observer: "_onWatchableChanged"
            }
        },
        behaviors: [XTV.TvLocalizeBehavior, XTV.TvWatchableTypeBehavior],
        _getIcon: function(e, t) {
            return "comcast" === e ? "tv-icons:badge-xod-long" : t.icon
        },
        _onActiveChanged: function(t) {
            t === !0 && (e = Date.now()),
            t === !1 && e && this.fire("log-delayed", Object.assign({
                module: "SPINNER",
                type: "PERF"
            }, {
                duration: Date.now() - e / 1e3
            }))
        },
        _onWatchableChanged: function(e) {
            e && e.contentProvider && (this.set("networkLogo", e.contentProvider.logoUrl),
            this.set("networkName", e.contentProvider.name))
        },
        _showNetworkLogo: function(e, t, i) {
            return !(!e || !t || i) && (this.isListing(e) || this.isRecording(e) || this.isTve(e))
        },
        _showPartnerLogo: function(e, t) {
            return !(!e || !t) && (this.isPurchase(e) || this.isVod(e))
        },
        reset: function() {
            this.set("active", !1),
            this.set("networkLogo", t),
            this.set("networkName", ""),
            this.set("watchable", void 0),
            this.notifyPath("active")
        }
    })
}(),
Polymer({
    is: "tv-player-panel-stopped",
    properties: {
        active: {
            type: Boolean,
            observer: "_activeChanged",
            reflectToAttribute: !0
        },
        isPlaybackStopped: {
            type: Boolean,
            value: !1,
            observer: "_isPlaybackStoppedChanged"
        },
        isPlaybackTimedOut: {
            type: Boolean,
            value: !1,
            observer: "_isPlaybackTimedOutChanged"
        }
    },
    behaviors: [XTV.TvLocalizeBehavior],
    _activeChanged: function(e) {
        this.set("isPlaybackStopped", e),
        this.set("isPlaybackTimedOut", !1)
    },
    _isPlaybackStoppedChanged: function(e) {
        e ? this.playbackStoppedTimer = setTimeout(function() {
            this.set("isPlaybackTimedOut", !0)
        }
        .bind(this), 3e5) : (clearTimeout(this.playbackStoppedTimer),
        this.playbackStoppedTimer = null)
    },
    _isPlaybackTimedOutChanged: function(e) {
        e ? this.playbackTimedOutTimer = setTimeout(function() {
            this.fire("player:action:close")
        }
        .bind(this), 3e5) : (clearTimeout(this.playbackTimedOutTimer),
        this.playbackTimedOutTimer = null)
    },
    resume: function() {
        this.fire("player:resume")
    },
    exit: function() {
        this.fire("player:action:close")
    }
}),
Polymer({
    is: "tv-player-rating",
    properties: {
        active: {
            type: Boolean,
            observer: "_setActive",
            reflectToAttribute: !0
        },
        adMode: {
            type: Boolean,
            value: !1
        },
        displayMode: {
            type: String,
            value: "closed"
        },
        playerContainer: Object,
        rating: String,
        subrating: String,
        watchable: Object
    },
    behaviors: [XTV.TvTypeBehavior],
    observers: ["_setProperties(watchable, playerContainer)"],
    animateOut: function() {
        this.toggleAttribute("disabled", !0, this.$.container),
        this.set("active", !1)
    },
    debounceResize: function() {
        this.debounce("resize", this.setRatingPosition.bind(this), 100)
    },
    getScheme: function(e) {
        var t = e.creativeWork.ratingDetails || {};
        return t.scheme
    },
    getSchemeClass: function(e) {
        if (e && e.creativeWork)
            return "scheme-" + this.getScheme(e)
    },
    setRatingPosition: function() {
        if (this.active) {
            var e = ((this.watchable || {}).stream || {}).aspectRatio || 1.78
              , t = this.playerContainer.clientWidth
              , i = this.playerContainer.clientHeight
              , n = e < t / i
              , r = n ? i * e : t
              , s = n ? i : t / e
              , o = 40
              , a = 40;
            this.style.left = String(((t - r) / 2 + a).toFixed(2)) + "px",
            this.style.top = String(((i - s) / 2 + o).toFixed(2)) + "px",
            this.updateStyles()
        } else
            this.removeResizeListener()
    },
    removeResizeListener: function() {
        window.removeEventListener("resize", this.onResize)
    },
    ready: function() {
        this.onResize = this.debounceResize.bind(this)
    },
    _setActive: function(e) {
        "NR" !== this.rating && (this.toggleAttribute("active", e, this.$.container),
        e ? ("full" !== this.displayMode || this.adMode ? this.removeResizeListener() : (window.addEventListener("resize", this.onResize),
        setTimeout(function() {
            this.setRatingPosition()
        }
        .bind(this), 500)),
        this.fadeOutTimer = setTimeout(this.animateOut.bind(this), 15e3)) : (this.removeResizeListener(),
        this.toggleAttribute("disabled", !1, this.$.container),
        clearTimeout(this.fadeOutTimer)))
    },
    _setProperties: function(e) {
        if (!e || !e.creativeWork)
            return this.set("audience", ""),
            this.set("rating", ""),
            void this.set("subrating", "");
        var t = e.creativeWork.ratingDetails || {}
          , i = t.name || ""
          , n = t.subRating || [];
        this.toggleAttribute("disabled", !i, this.$.container),
        this.set("audience", "v-chip" === this.getScheme(e) ? "TV" : ""),
        this.set("rating", i.replace(/^TV-/, "")),
        this.set("subrating", n ? n.join(" ") : "")
    }
}),
function(e) {
    var t, i = {
        "TelevisionStation/Channel": "Live",
        TVListing: "Live",
        Purchase: "Purchase",
        "s:VideoObject/Recording": "DVR",
        TveVideo: "On-Demand",
        "s:VodItem": "On-Demand"
    }, n = {
        "TelevisionStation/Channel": "TVE",
        TVListing: "TVE",
        Purchase: "T6",
        "s:VideoObject/Recording": "T6",
        TveVideo: "TVE",
        "s:VodItem": "T6"
    };
    e.XTV = e.XTV || {},
    e.XTV.behaviors.localytics = {
        getType: function(e) {
            e = e || {};
            var t = i[e._type] || "";
            return "On-Demand" === t && e.rentalExpires && (t = "Rental"),
            t
        },
        getRights: function(e) {
            return e = e || {},
            "TVListing" === e._type ? e.channel.isTve ? "TVE" : "T6" : n[e._type] || ""
        },
        setLocalyticsWatchable: function(e) {
            t = e
        },
        closeVideoEvent: function(e, i, n) {
            this.setVideoEvent(t, e, i, n)
        },
        setVideoEvent: function(e, t, i, n) {
            if (e) {
                var r = e.duration || e.endTime - e.startTime;
                window.ll("tagEvent", "Video Played", {
                    Name: e.derivedTitle,
                    Entity: (e.entity || {}).entityId || (e.creativeWork || {}).entityId,
                    Season: ((e.creativeWork || {}).partOfSeason || {}).seasonNumber || "",
                    Episode: (e.creativeWork || {}).episodeNumber || "",
                    "Viewed %": Math.round(100 * t / r) || 0,
                    "Duration (secs)": Math.round(r / 1e3) || 0,
                    "Duration (mins)": Math.round(r / 6e4) || 0,
                    "Viewed (secs)": Math.round(t / 1e3) || 0,
                    "Viewed (mins)": Math.round(t / 6e4) || 0,
                    Type: this.getType(e),
                    "Rights Type": this.getRights(e),
                    "Captions Utilized": i ? "Yes" : "No",
                    "SAP Audio Utilized": n ? "Yes" : "No"
                })
            }
        }
    }
}(window),
function(e) {
    e.XTV = e.XTV || {},
    e.XTV.TvAnalyticsHelperImpl = {
        properties: {
            buildInfo: Object
        },
        hostInfo: function() {
            return {
                appName: "cDVR-X2-Desktop",
                appVersion: this._getProductVersion(),
                deviceName: this.user.userAgent.browser.name,
                deviceVersion: this.user.userAgent.ua,
                deviceId: this._getUserTokenSummary().deviceId,
                accountId: this._getUserTokenSummary().xboAccountId,
                xsctPartnerId: this._getUserTokenSummary().partnerId,
                physicalId: this._getUserTokenSummary().deviceId,
                inHomeState: function() {
                    return this.user.inhome ? "inHome" : "outOfHome"
                }
                .bind(this)
            }
        },
        _getProductVersion: function() {
            var e = "Dev";
            return XTV.buildInfo.version && XTV.buildInfo.build_life_id && (e = XTV.buildInfo.version + "." + XTV.buildInfo.build_life_id),
            e
        },
        resolveAnalyticIds: function(e) {
            var t = {}
              , i = e.auditudeId || (e.stream || {}).auditudeId;
            return t.assetId = i || e.assetId || "",
            t.assetType = this.getPlayerPlatformAssetType(e),
            t.auditudeId = i || "",
            t.mediaGuid = e.mediaGuid || "",
            t.providerId = e.providerId || (e.contentProvider || {}).name || "",
            t.streamId = (e.stream || {}).streamId || "",
            t.assetId || t.providerId || !e.paid || !this.isVod(e) || this.isTve(e) || this.mixin(t, this.resolveAssetIdFromPAID(e, t)),
            this.isRecording(e) && (t.recordingId = e.id || ""),
            this.isListing(e) && (t.streamId = (e.channel || {}).streamId || ""),
            "ExternalStream" === (this.watchable.stream || {})._type && (t.assetId = e.streamId || ""),
            t
        },
        resolveAssetIdFromPAID: function(e, t) {
            var i = e.paid || ""
              , n = t.auditudeId || e.auditudeId || "";
            return {
                providerId: t.providerId ? t.providerId : i ? i.split("_")[0] || "" : n,
                assetId: t.assetId ? t.assetId : i ? i.split("_")[1] || "" : ""
            }
        },
        getPlayerPlatformAssetType: function(e) {
            var t = this.isListing(e)
              , i = e && (e.channel || e).isTve || this.isTve(e) || !1
              , n = this.isAnyVod(e)
              , r = this.isRecording(e)
              , s = this.isVod(e);
            return t ? i ? "TVE_LINEAR" : "T6_LINEAR" : r ? "CDVR" : s ? i ? "TVE_VOD" : "T6_VOD" : n && i ? "TVE_VOD" : "DEFAULT"
        }
    },
    e.XTV.TvAnalyticsHelper = [e.XTV.TvAnalyticsHelperImpl, e.XTV.TvUserBehavior, e.XTV.TvWatchableTypeBehavior]
}(window),
function() {
    Polymer({
        is: "tv-player-info-title",
        properties: {
            watchable: {
                type: Object,
                observer: "_setProperties"
            },
            showSeasonEpisode: {
                type: Boolean,
                value: !1
            }
        },
        behaviors: [XTV.TvTypeBehavior],
        parseTitleSubtitle: function(e) {
            if (!e || !e.creativeWork)
                return "";
            var t, i = {
                title: e.derivedTitle
            }, n = e.creativeWork;
            return this.isTvEpisode(n) || this.isTvSeries(n) ? (this.set("showSeasonEpisode", !0),
            i.title = n.series ? n.series.name : n.name,
            i.subtitle = n.series && e.derivedTitle !== n.series.name ? e.derivedTitle : "") : this.isSportsEvent(n) && (t = n.name.split(" - "),
            i.title = t[0],
            i.subtitle = t[1]),
            i
        },
        _setProperties: function(e) {
            this.set("title", e ? this.parseTitleSubtitle(e).title : ""),
            this.set("subtitle", e ? this.parseTitleSubtitle(e).subtitle : ""),
            this.$.subtitle.hidden = "" === this.subtitle || void 0 === this.subtitle
        }
    })
}(),
Polymer({
    is: "tv-player-last-watched",
    properties: {
        opened: {
            type: Boolean,
            value: !1
        },
        items: Array,
        user: Object
    },
    behaviors: [XTV.TvLocalizeBehavior, XTV.TvGridBehavior, XTV.TvOohHelper, XTV.TvUserBehavior, XTV.TvWatchableTypeBehavior],
    listeners: {
        "keypress-enter": "_watchEnter"
    },
    _clear: function(e) {
        e.preventDefault(),
        this.fire("clear")
    },
    _composeOnNowTitle: function(e) {
        if (!e || !e.listings)
            return "";
        var t = this.getCurrentlyOnListing(e.listings);
        return t ? this.localize("On_Now_c") + " " + t.title : ""
    },
    open: function() {
        this.set("opened", !0),
        this.$$("tv-carousel").reset(),
        this.$$("tv-carousel").toggleControls()
    },
    close: function() {
        this.set("opened", !1)
    },
    _watchEnter: function(e) {
        e.target.fire("tap")
    },
    _watch: function(e) {
        var t = e.model.item;
        t && !this.isWatchingAssetDisabled(t, this.user.inhome) && this.fire("app:player:watch", {
            watchable: t,
            options: {
                fetchDetails: !0
            }
        })
    },
    _watchChannel: function(e) {
        var t = e.model.item;
        t && this.isListingWatchable(t, this.user.inhome) && this.fire("app:player:watchChannel", {
            channel: t
        })
    },
    _setA11yLabel: function(e, t) {
        return 0 === e ? t + "-heading " + t + "-item-" + e : t + "-item-" + e
    },
    _setA11yInstructions: function(e, t) {
        return 0 === e ? t + "-instructions" : ""
    }
}),
Polymer({
    is: "tv-player-hulu-logo",
    properties: {
        isHuluLogo: {
            type: Boolean,
            observer: "_isHuluLogoChanged"
        }
    },
    _isHuluLogoChanged: function(e) {
        this.set("huluLogoSrc", e ? this.getHuluLogo() : "")
    },
    getHuluLogo: function() {
        return window.NewSite && window.NewSite.getComponents().logoComponent.url.toString()
    }
}),
Polymer({
    is: "tv-player-metadata-summary",
    properties: {
        disabled: {
            type: Boolean,
            value: !1
        },
        watchable: Object,
        isHuluLogo: {
            type: Boolean,
            value: !1
        }
    },
    behaviors: [XTV.TvLocalizeBehavior, XTV.TvUserBehavior, XTV.TvWatchableTypeBehavior],
    setHuluNetworkLogo: function(e) {
        this.set("isHuluLogo", e)
    },
    _getNetworkLogo: function(e) {
        if (e)
            return e.contentProvider && e.contentProvider.logoUrl
    },
    _getNetworkProvider: function(e) {
        if (e)
            return this.isListing(e) ? (e.channel || {}).callSign : (e.contentProvider || {}).name
    },
    _setAssetSource: function(e) {
        var t = this.getVideoSourceMarkup(e);
        return this.$.assetSource.hidden = !t,
        t
    },
    getVideoSourceMarkup: function(e) {
        return this.isRecording(e) ? "DVR" : this.isListing(e) && !e.channel.isTve ? e.channel.number : this.isPurchase(e) ? "" : void 0
    },
    focusInfoButton: function() {
        this.$$(".info-button").focus()
    },
    setUI: function() {
        this.fire("player:panel:open", {
            panel: "info"
        })
    }
}),
Polymer({
    is: "tv-player-mini-guide",
    behaviors: [XTV.TvA11yBehavior, XTV.TvGridBehavior, XTV.TvLocalizeBehavior, XTV.TvOohHelper, XTV.TvParentalControlsBehavior, XTV.behaviors.splunk],
    properties: {
        opened: {
            type: Boolean,
            value: !1,
            reflectToAttribute: !0
        },
        channelMap: Object,
        grid: Object,
        gridExpirationTime: Number,
        hasListingDetailsError: Boolean,
        isRefreshing: {
            type: Boolean,
            value: !1
        },
        onNowListings: Array,
        refreshTimer: Object,
        selectedListing: Object,
        user: Object
    },
    observers: ["_onOpenedWithChannelMap(channelMap, opened)", "_onGridReady(grid.channels)", "_notifyFavorites(channelFavorites.splices)"],
    listeners: {
        "miniGuideContainer.scroll": "_onScroll",
        "safe-browse-updated": "_onSafeBrowseChange"
    },
    _clearRefreshTimer: function() {
        clearTimeout(this.refreshTimer),
        this.refreshTimer = null
    },
    getListingActions: function() {
        return ["watch", "entity"]
    },
    _getAiringTime: function(e, t) {
        return e && t ? moment(e).format("h:mm") + " - " + moment(t).format("h:mma") : ""
    },
    _itemTapped: function(e) {
        var t = this.$.detailsContainer
          , i = Polymer.dom(e.currentTarget)
          , n = e.model.listing;
        return this.selectedListing && this.selectedListing.id === n.id ? (e.currentTarget.set("opened", !1),
        void this.set("selectedListing", null)) : (i.appendChild(t),
        t.hidden = !1,
        this.$.detailSpinner.active = !0,
        t.querySelector(".xa-mini-guide-details").hidden = !0,
        this.scrollToChannel(n.channel.number),
        void this.fetchListingDetails(n).then(function(e) {
            this.set("selectedListing", e),
            this.$.detailSpinner.active = !1,
            t.querySelector(".xa-mini-guide-details").hidden = !1
        }
        .bind(this)))
    },
    _onOpenedWithChannelMap: function() {
        if (this.opened && this.channelMap) {
            if (this.gridExpirationTime && moment().isBefore(moment(this.gridExpirationTime)))
                return this.$.spinner.active = !1,
                this.setupRefreshTimer(),
                void this.debounce("readyDebouncer", this.fire.bind(this, "mini-guide-ready"), 500);
            this.set("grid.durationInHours", 1, this.$.grid),
            this.$.grid.setParams({
                startTime: XTV.TvGridBehavior.floorTime()
            })
        }
    },
    fetchListingDetails: function(e) {
        return this.set("hasListingDetailsError", !1),
        e.details.fetch({
            force: !0
        }).then(function(t) {
            return this.$.listingsParser._parseListing(t.data, e.channel.resource)
        }
        .bind(this), this.listingDetailsError.bind(this))
    },
    listingDetailsError: function(e) {
        this.set("active", !1, this.$.detailSpinner),
        this.set("hasListingDetailsError", !0),
        this.$.detailsContainer.querySelector(".xa-mini-guide-details").hidden = !1,
        this.logError(e)
    },
    refreshSelectedListing: function() {
        this.selectedListing && this.onNowListings.forEach(function(e) {
            this.selectedListing.channel.number === e.channel.number && this.fetchListingDetails(e).then(function(e) {
                this.set("selectedListing", null),
                this.set("selectedListing", e)
            }
            .bind(this))
        }, this)
    },
    setupRefreshTimer: function() {
        var e = this.onNowListings.reduce(function(e, t) {
            return e.endTime < t.endTime ? e : t
        });
        e && (this.gridExpirationTime = e.endTime,
        this._clearRefreshTimer(),
        this.refreshTimer = setTimeout(function() {
            this.opened && (this.isRefreshing = !0,
            this.$.grid.setParams({
                startTime: e.endTime
            }))
        }
        .bind(this), moment(e.endTime).diff(moment())))
    },
    _onGridReady: function(e) {
        this.opened && e && e.length && (this.set("onNowListings", e.map(function(e) {
            return this.getCurrentlyOnListing(e.listings)
        }, this).filter(Boolean)),
        this._notifyFavorites(),
        this.selectedListing && this.refreshSelectedListing(),
        this.setupRefreshTimer())
    },
    _onListRendered: function() {
        this.$.spinner.active = !1,
        this.$.miniGuideContainer.hidden = !1,
        this.isRefreshing ? this.isRefreshing = !1 : this.debounce("readyDebouncer", this.fire.bind(this, "mini-guide-ready"), 500),
        this.moveFocus && this.takeFocus(),
        this.debounce("loadImageDebouncer", this.loadImages, 500)
    },
    loadImage: function(e) {
        e.loadImage()
    },
    loadImages: function() {
        var e = Polymer.dom(this.root).querySelectorAll('[is="tv-lazy-image"][data-src]:not([lazy-loaded])');
        e && e.forEach(this.loadImage.bind(this))
    },
    close: function() {
        var e = this.$$("tv-list-row-collapsible[opened]");
        this._clearRefreshTimer(),
        this.set("selectedListing", null),
        this.set("opened", !1),
        e && e.set("opened", !1)
    },
    detatched: function() {
        this.isRefreshing = !1,
        this._clearRefreshTimer()
    },
    open: function() {
        this.fire("fetch-channel-map"),
        this.$.spinner.active = !0,
        this.set("opened", !0),
        this.scrollToTop()
    },
    scrollToTop: function() {
        this.$.miniGuideContainer.scrollTop = 0
    },
    scrollToChannel: function(e) {
        if (e) {
            var t = this.$$('[data-channel-number="' + e + '"]');
            t && (animatedScrollTo(this.$.miniGuideContainer, t.offsetTop, 250),
            t.querySelector(".list-row-action").focus())
        }
    },
    _minimizePlayer: function() {
        this.fire("player:action:forceMiniPlayer")
    },
    _watchListing: function(e) {
        e.preventDefault(),
        e.stopImmediatePropagation(),
        this.fire("player:watch", {
            watchable: this.selectedListing
        })
    },
    _watchChannel: function(e) {
        e.preventDefault(),
        e.stopImmediatePropagation(),
        this.fire("app:player:watchChannel", {
            channel: e.model.listing.channel
        })
    },
    _notifyFavorites: function() {
        this.opened && this.onNowListings && this.onNowListings.forEach(function(e, t) {
            this.notifyPath("onNowListings." + t + ".channel.isFavorite")
        }, this)
    },
    _onFavoriteTap: function(e) {
        e.preventDefault(),
        e.stopImmediatePropagation()
    },
    _onTapNetworkLogo: function(e) {
        this.isListingWatchable(e.model.listing.channel, this.user.inhome) && this._watchChannel(e)
    },
    _onScroll: function() {
        this.debounce("loadImageDebouncer", this.loadImages, 500)
    },
    takeFocus: function() {
        this.$.miniGuideContainer.hidden ? this.moveFocus = !0 : (this.$.miniGuideContainer.focus(),
        this.moveFocus = !1)
    },
    _onSafeBrowseChange: function() {
        this.gridExpirationTime = 0,
        this.$.grid.invalidate()
    }
}),
function() {
    var e = {
        eng: "English",
        en: "English",
        spa: "Español",
        es: "Español",
        itl: "Italian",
        hin: "Hindi",
        fra: "French",
        hun: "Hungarian",
        rus: "Russian",
        ger: "German",
        deu: "German",
        por: "Portuguese",
        ita: "Italian"
    };
    Polymer({
        is: "tv-player-settings-popup",
        properties: {
            sapAvailable: Boolean,
            sapLanguages: Array,
            sapLanguageMap: Array,
            audioProgram: {
                type: String,
                notify: !0
            },
            playbackQuality: {
                type: String,
                notify: !0
            },
            qualityLevels: Array,
            autoHideDelay: {
                type: Number,
                notify: !0
            }
        },
        behaviors: [XTV.TvLocalizeBehavior],
        observers: ["_onLocalizeChange(localize)", "setSelectedValue(autoHideDelay, localize)", "_onLanguagesChange(sapLanguages, localize)"],
        _onSapDropdownRendered: function() {
            var e = document.querySelector("#sapDropdown");
            e && this.async(function() {
                this.set("selected", "", e),
                this.set("selected", this.audioProgram, e)
            }, 50)
        },
        _onLocalizeChange: function() {
            var e = this.$$("#sapDropdown");
            this.set("qualityLevels", [{
                label: this.localize("Low"),
                value: "low"
            }, {
                label: this.localize("High"),
                value: "high"
            }, {
                label: this.localize("Auto"),
                value: "auto"
            }]),
            this.$.autoHideDropDown.refresh(),
            e && this.async(function() {
                e.refresh()
            }, 50)
        },
        setSelectedValue: function(e) {
            this.set("selected", e, this.$.autoHideDropDown)
        },
        takeFocus: function() {
            this.$.playerSettingsPopup.focus()
        },
        _fireClose: function(e) {
            e.detail.keyboardEvent.preventDefault(),
            e.detail.keyboardEvent.stopPropagation(),
            this.fire("close")
        },
        _customizeCaptions: function() {
            this.$.overlayClosedCaption.open()
        },
        _onLanguagesChange: function() {
            this.set("sapLanguageMap", (this.sapLanguages || []).map(function(t, i) {
                return {
                    code: t.toLowerCase(),
                    name: 0 === i ? this.localize("None") : e[t]
                }
            }, this))
        }
    })
}(),
Polymer({
    is: "tv-player-support-popup",
    properties: {
        watchable: Object,
        user: Object
    },
    behaviors: [XTV.TvLocalizeBehavior, XTV.TvWatchableTypeBehavior, XTV.TvFeedbackBehavior, XTV.TvUserBehavior],
    _fireClose: function(e) {
        e.detail.keyboardEvent.preventDefault(),
        e.detail.keyboardEvent.stopPropagation(),
        this.fire("close")
    },
    takeFocus: function() {
        this.$.playerSupportPopup.focus()
    },
    _showFeedbackLink: function(e) {
        return !(e.showFeedbackLink && this.isSignedIn())
    },
    showHelpOverlay: function() {
        this.$.overlayPlayerShortcuts.open()
    },
    toggleHelpOverlay: function() {
        this.$.overlayPlayerShortcuts.toggle()
    },
    _submitFeedback: function() {
        this.openFeedbackWindow()
    }
}),
function(e) {
    e.XTV = e.XTV || {},
    e.XTV.TvDisplayFormat = {
        getBitrate: function(e) {
            return Math.round(e / 1024)
        },
        getBitratesAsString: function(e) {
            return Array.isArray(e) ? (e || []).map(function(e) {
                return this.getBitrate(e)
            }
            .bind(this)).join(", ") : e
        },
        getBuffer: function(e) {
            return Math.round(e / 1e3)
        },
        getBitrateRange: function(e) {
            return this.getBitrate(e[0]) + " - " + this.getBitrate(e[1])
        },
        getVersions: function(e) {
            return e.match(/\d[\d\.]+/g) || [0]
        }
    }
}(window);
var fakeAdBreakStart = {
    type: "AdBreakStart",
    videoAdBreak: {
        logger: {
            _sinks: [],
            _name: "VideoAdBreak"
        },
        ads: [{
            logger: {
                _sinks: [],
                _name: "VideoAd"
            },
            seenCount: 0,
            vpaid: !1,
            restrictions: [{
                id: "1722b60c-f213-11e6-a5a3-005056b378a9",
                mode: "fastForward",
                scale: -1,
                limit: -1
            }],
            id: "1722b60c-f213-11e6-a5a3-005056b378a9",
            startTime: 1848545,
            duration: 30097,
            companionAds: []
        }, {
            logger: {
                _sinks: [],
                _name: "VideoAd"
            },
            seenCount: 0,
            vpaid: !1,
            restrictions: [{
                id: "1722b60e-f213-11e6-a5a3-005056b378a9",
                mode: "fastForward",
                scale: -1,
                limit: -1
            }],
            id: "1722b60e-f213-11e6-a5a3-005056b378a9",
            startTime: 1878642,
            duration: 30063,
            companionAds: []
        }, {
            logger: {
                _sinks: [],
                _name: "VideoAd"
            },
            seenCount: 0,
            vpaid: !1,
            restrictions: [{
                id: "1722b610-f213-11e6-a5a3-005056b378a9",
                mode: "fastForward",
                scale: -1,
                limit: -1
            }],
            id: "1722b610-f213-11e6-a5a3-005056b378a9",
            startTime: 1908705,
            duration: 15082,
            companionAds: []
        }],
        adCount: 3,
        duration: 75242,
        vpaid: !1
    }
}
  , fakeAdStart = {
    type: "AdStart",
    videoAd: {
        logger: {
            _sinks: [],
            _name: "VideoAd"
        },
        seenCount: 0,
        vpaid: !1,
        restrictions: [{
            id: "b7f5367f-f213-11e6-af40-005056b3331f",
            mode: "fastForward",
            scale: -1,
            limit: -1
        }],
        id: "b7f5367f-f213-11e6-af40-005056b3331f",
        startTime: 1848679,
        duration: 30063,
        companionAds: []
    },
    progress: .3998994378477302,
    rate: 1,
    position: 0
}
  , fakeAdComplete = {
    type: "AdComplete",
    videoAd: {
        logger: {
            _sinks: [],
            _name: "VideoAd"
        },
        seenCount: 1,
        vpaid: !1,
        restrictions: [{
            id: "b0e98346-f214-11e6-8d23-005056b34116",
            mode: "fastForward",
            scale: -1,
            limit: -1
        }],
        id: "b0e98346-f214-11e6-8d23-005056b34116",
        startTime: 2553617,
        duration: 15048,
        companionAds: []
    }
}
  , fakeMediaProgress = {
    type: "MediaProgress",
    position: 0,
    playbackSpeed: 1,
    startposition: 0,
    endposition: 2974672,
    updateinterval: 250
}
  , fakeAdProgress = {
    type: "AdProgress",
    videoAd: {
        logger: {
            _sinks: [],
            _name: "VideoAd"
        },
        seenCount: 0,
        vpaid: !1,
        restrictions: [{
            id: "60e81911-f214-11e6-914d-005056b32df1",
            mode: "fastForward",
            scale: -1,
            limit: -1
        }],
        id: "60e81911-f214-11e6-914d-005056b32df1",
        startTime: 2158023,
        duration: 14982,
        companionAds: []
    },
    progress: 65.65557882125287,
    rate: 1,
    position: 9836.518819000106
}
  , fakeAdBreakComplete = {
    type: "AdBreakComplete",
    videoAdBreak: {
        logger: {
            _sinks: [],
            _name: "VideoAdBreak"
        },
        ads: [{
            logger: {
                _sinks: [],
                _name: "VideoAd"
            },
            seenCount: 0,
            vpaid: !1,
            restrictions: [{
                id: "1722b60c-f213-11e6-a5a3-005056b378a9",
                mode: "fastForward",
                scale: -1,
                limit: -1
            }],
            id: "1722b60c-f213-11e6-a5a3-005056b378a9",
            startTime: 1848545,
            duration: 30097,
            companionAds: []
        }, {
            logger: {
                _sinks: [],
                _name: "VideoAd"
            },
            seenCount: 0,
            vpaid: !1,
            restrictions: [{
                id: "1722b60e-f213-11e6-a5a3-005056b378a9",
                mode: "fastForward",
                scale: -1,
                limit: -1
            }],
            id: "1722b60e-f213-11e6-a5a3-005056b378a9",
            startTime: 1878642,
            duration: 30063,
            companionAds: []
        }, {
            logger: {
                _sinks: [],
                _name: "VideoAd"
            },
            seenCount: 0,
            vpaid: !1,
            restrictions: [{
                id: "1722b610-f213-11e6-a5a3-005056b378a9",
                mode: "fastForward",
                scale: -1,
                limit: -1
            }],
            id: "1722b610-f213-11e6-a5a3-005056b378a9",
            startTime: 1908705,
            duration: 15082,
            companionAds: []
        }],
        adCount: 3,
        duration: 75242,
        vpaid: !1
    }
};
!function() {
    var e, t = ["DURATION_CHANGED", "MEDIA_OPENED", "MEDIA_PROGRESS", "MEDIA_ENDED", "MEDIA_FAILED", "PLAY_STATE_CHANGED", "BITRATE_CHANGED", "BUFFER_COMPLETE", "BUFFER_START", "DROPPED_FPS_CHANGED", "FPS_CHANGED", "FRAGMENT_INFO", "MEDIA_WARNING", "NUMBER_OF_ALTERNATIVE_AUDIO_STREAMS_CHANGED", "NUMBER_OF_CLOSED_CAPTIONS_STREAMS_CHANGED", "PLAYBACK_STARTED", "AD_BREAK_COMPLETE", "AD_BREAK_START", "AD_BREAK_EXITED", "AD_COMPLETE", "AD_EXITED", "AD_PROGRESS", "AD_SEEK", "AD_START"];
    Polymer({
        is: "tv-player-debug-panel",
        properties: {
            adPanelDisplay: {
                type: Boolean,
                value: !1
            },
            createAdBreaks: {
                type: Boolean,
                value: !1
            },
            data: {
                type: Object,
                value: function() {
                    return {}
                }
            },
            watchable: Object,
            mediaOpenedEvent: Object,
            playerPlatformApi: Object,
            videoDurationFormatted: String,
            isFragmentData: {
                type: Boolean,
                value: !1
            },
            isBufferData: {
                type: Boolean,
                value: !1
            },
            isAdInfo: {
                type: Boolean,
                value: !1
            },
            adEvents: {
                type: Array,
                value: function() {
                    return []
                }
            },
            isVideoInfo: {
                type: Boolean,
                value: !1
            },
            hidden: {
                type: Boolean,
                reflectToAttribute: !0,
                notify: !0
            },
            panelSettings: {
                type: Boolean,
                value: !1
            },
            bufferTimer: Object,
            debugPanelSettings: {
                type: Object,
                notify: !0
            }
        },
        behaviors: [XTV.TvOverlayBehavior, XTV.TvFlashCompatibility, XTV.TvAuditudeBehavior, XTV.TvWatchableTypeBehavior, XTV.TvUserBehavior, XTV.TvUtilityBehavior, XTV.TvDisplayFormat],
        observers: ["videoDurationChanged(data.videoDuration)", "playerPlatformApiCreated(playerPlatformApi)", "currentBitrateChanged(data.currentBitrate)", "videoProgressChanged(data.videoProgress)", "videoContentPositionChanged(data.videoContentPosition)", "watchableChanged(watchable)", "errorChanged(data.error)", "onHiddenChanged(hidden, isAttached)", "onAdModeChanged(adMode)"],
        initialize: function() {
            this.set("data.droppedFrames", 0)
        },
        adPanel: function() {
            this.set("adPanelDisplay", !this.adPanelDisplay),
            this.set("createAdBreaks", !1)
        },
        adBreakStart: function() {
            this.player.AD_BREAK_START(fakeAdBreakStart),
            this.AD_BREAK_START(fakeAdBreakStart)
        },
        adStart: function() {
            this.player.AD_START(fakeAdStart),
            this.AD_START(fakeAdStart)
        },
        mediaProgressStart: function() {
            var t = 0;
            this.playerPlatformApi.pause(),
            e = setInterval(function() {
                t++,
                fakeMediaProgress.position = 1e3 * t + this.playerPlatformApi.getCurrentPosition(),
                this.player.MEDIA_PROGRESS(fakeMediaProgress)
            }
            .bind(this), 1e3)
        },
        mediaProgressStop: function() {
            clearInterval(e)
        },
        adProgressStart: function() {},
        adProgressStop: function() {},
        adComplete: function() {
            this.mediaProgressStop(),
            this.player.AD_COMPLETE(fakeAdComplete),
            this.AD_COMPLETE(fakeAdComplete)
        },
        adBreakComplete: function() {
            this.mediaProgressStop(),
            this.player.AD_BREAK_COMPLETE(fakeAdBreakComplete),
            this.AD_BREAK_COMPLETE(fakeAdBreakComplete),
            this.playerPlatformApi.play()
        },
        consoleMonitoringMessages: function() {
            this.set("showConsoleMonitoring", !this.player.showConsoleMonitoring, this.player)
        },
        showCreateAdBreak: function() {
            this.set("createAdBreaks", !this.createAdBreaks)
        },
        closePanel: function() {
            this.set("hidden", !0)
        },
        refreshPanel: function() {
            this.populatePanel()
        },
        errorChanged: function(e) {
            e && e.watchable && (delete e.watchable,
            this.set("data.errorMessage", JSON.stringify(e)))
        },
        onAdModeChanged: function(e) {
            this.set("adMode", e)
        },
        onHiddenChanged: function(e) {
            e || (this._clearBufferTimer(),
            this.mediaProgressStop()),
            this.get("debugPanelSettings.panelVisible") === e && this.set("debugPanelSettings.panelVisible", !e),
            this.setPanelFromSettings()
        },
        videoProgressChanged: function(e) {
            this.set("videoProgress", this.formatTime(e))
        },
        videoContentPositionChanged: function(e) {
            this.set("videoContentPosition", this.formatTime(e))
        },
        watchableChanged: function(e) {
            e && (this.watchable = e,
            this.set("mediaOpenedEvent", null),
            this.populatePanel())
        },
        setItems: function(e, t) {
            e.forEach(function(e) {
                var i = e.objectKey || e
                  , n = void 0 !== t[i] ? t[i] : "cannot find " + i
                  , r = e.objectKey ? e.key : e;
                return void 0 === i ? void console.error("missing key in setting debug panel") : void this.set("data." + r, n.toString())
            }, this)
        },
        populatePanel: function() {
            this.watchable && this.setItems(["hasSAP", "hasDVS", "isHD", {
                key: "assetType",
                objectKey: "_type"
            }, {
                key: "assetCC",
                objectKey: "closedCaption"
            }, {
                key: "assetDVS",
                objectKey: "hasDVS"
            }, {
                key: "sourceType",
                objectKey: "_type"
            }], this.watchable),
            this.mediaOpenedEvent && (this.setItems(["hasCC", "mediaType", "numAds", {
                key: "recentEvent",
                objectKey: "type"
            }, {
                key: "languages",
                objectKey: "availableAudioLanguages"
            }], this.mediaOpenedEvent),
            this.playerPlatformApi.player.playerReady && (this.set("data.videoDuration", this.playerPlatformApi.getDuration()),
            this.set("data.videoType", this.playerPlatformApi.getVideoType()),
            this.set("data.assetEngineType", this.playerPlatformApi.getAssetEngineType()),
            this.set("data.playerPlatformVersion", this.playerPlatformApi.getVersion()),
            this.set("data.adTimeline", this.getTimeline()),
            this.set("data.videoDimensions", "Actual Video Width: " + this.playerPlatformApi.getVideoWidth() + ", Height: " + this.playerPlatformApi.getVideoHeight()),
            this.set("data.videoContentPosition", Math.floor(this.playerPlatformApi.getContentPosition())))),
            this.set("data.contentProvider", (this.watchable.contentProvider || {}).name || "no watchable.contentProvider.name found"),
            this.set("data.mediaId", this.watchable.mediaId || this.watchable.id || "no mediaId or watchable.id found"),
            this.set("data.streamUrl", (this.watchable.stream || {}).url || (this.watchable.stream || {}).streamId || "no stream url or stream id found"),
            this.get("debugPanelSettings.panelVisible") && this.setPanelFromSettings(),
            this.adMode || (this.set("data.adVpaid", "not set"),
            this.resetAdData())
        },
        getTimeline: function() {
            var e = this.playerPlatformApi.getTimeline();
            return e.forEach(function(e) {
                e.vpaid = this.breakContainsVpaid(e)
            }, this),
            e
        },
        setPanelFromSettings: function() {
            this.set("hidden", !this.get("debugPanelSettings.panelVisible")),
            this.onFragmentsDisplay(this.get("debugPanelSettings.fragmentInfo")),
            this.onBufferDisplay(this.get("debugPanelSettings.bufferData"))
        },
        _clearBufferTimer: function() {
            clearInterval(this.bufferTimer)
        },
        _setBufferTimer: function() {
            this.isBufferData && !this.hidden && (this.bufferTimer = setInterval(this.getBufferValues.bind(this), 1e3))
        },
        currentBitrateChanged: function(e) {
            this.set("data.translatedBitrate", this.getBitrate(e || 0))
        },
        onFragmentsDisplay: function(e) {
            this.isFragmentData = "boolean" == typeof e ? e : !this.isFragmentData,
            this.set("debugPanelSettings.fragmentInfo", this.isFragmentData)
        },
        onBufferDisplay: function(e) {
            this.isBufferData = "boolean" == typeof e ? e : !this.isBufferData,
            this._clearBufferTimer(),
            this._setBufferTimer(),
            this.set("debugPanelSettings.bufferData", this.isBufferData)
        },
        onAdDisplay: function() {
            this.isAdInfo = !this.isAdInfo
        },
        addAdEvent: function(e) {
            this.adEvents.push(e.type),
            this.set("data.adEvents", this.adEvents.join("->")),
            this.set("data.adEvent", e.type)
        },
        onVideoAssetDisplay: function() {
            this.isVideoInfo = !this.isVideoInfo
        },
        addPlayerListeners: function() {
            t.forEach(function(e) {
                var t = window.pp.Events[e]
                  , i = this[e];
                "function" == typeof this.playerPlatformApi.addEventListener && "string" == typeof t && "function" == typeof i && this.playerPlatformApi.addEventListener(t, i.bind(this))
            }, this)
        },
        playerPlatformApiCreated: function() {
            this.playerPlatformApi ? this.addPlayerListeners() : null
        },
        getBufferValues: function() {
            this.set("data.bufferFilledLength", this.playerPlatformApi.getBufferFilledLength()),
            this.set("data.bufferValueMax", this.playerPlatformApi.getBufferTime())
        },
        MEDIA_OPENED: function(e) {
            this.resetAdData(),
            this.set("mediaOpenedEvent", e),
            this.populatePanel()
        },
        MEDIA_PROGRESS: function(e) {
            this.set("data.videoProgress", e.position.toFixed(2))
        },
        DURATION_CHANGED: function(e) {
            this.set("data.recentEvent", e.type)
        },
        MEDIA_FAILED: function(e) {
            this.set("data.adTimeline", ""),
            this.set("mediaOpenedEvent", null),
            this.set("data.recentEvent", e.type),
            this.set("data.error", JSON.stringify(e))
        },
        MEDIA_RETRY: function(e) {
            this.set("data.adTimeline", ""),
            this.set("data.recentEvent", e.type),
            this.set("data.error", "Retry : " + JSON.stringify(e))
        },
        MEDIA_ENDED: function(e) {
            this.set("data.adTimeline", ""),
            this.set("mediaOpenedEvent", null),
            this.set("data.recentEvent", e.type)
        },
        PLAY_STATE_CHANGED: function(t) {
            this.set("data.recentEvent", t.type),
            this.set("data.playerStatus", t.playState),
            "idle" === t.playState && (this._clearBufferTimer(),
            clearInterval(e))
        },
        BITRATE_CHANGED: function(e) {
            this.set("data.recentEvent", e.type),
            this.set("data.bitrateChangeReason", e.changeReason),
            this.set("data.currentBitrate", e.bitRate),
            this.set("data.bitrateVideoHeight", e.height),
            this.set("data.bitrateVideoWidth", e.width),
            this.set("data.bitrateRange", this.getBitrateRange(this.playerPlatformApi.getBitrateRange())),
            this.set("data.availableBitrates", this.playerPlatformApi.getBitrateRange()),
            this.getBufferValues()
        },
        BUFFER_COMPLETE: function(e) {
            this.set("data.bufferEvent", e.type)
        },
        BUFFER_START: function(e) {
            this.set("data.bufferEvent", e.type)
        },
        DROPPED_FPS_CHANGED: function(e) {
            this.set("data.recentEvent", e.type),
            this.set("data.droppedFrames", e.droppedfps)
        },
        FPS_CHANGED: function(e) {
            this.set("data.recentEvent", e.type),
            this.set("data.currentFPS", e.fps)
        },
        FRAGMENT_INFO: function(e) {
            this.isFragmentData && (this.set("data.fragmentDownloadDuration", e.downloadDuration),
            this.set("data.fragmentDuration", e.fragmentDuration),
            this.set("data.fragmentSize", e.fragmentSize),
            this.set("data.fragmentUrl", e.fragmentUrl))
        },
        MEDIA_WARNING: function(e) {
            this.set("data.recentEvent", e.type)
        },
        NUMBER_OF_ALTERNATIVE_AUDIO_STREAMS_CHANGED: function(e) {
            this.set("data.recentEvent", e.type),
            this.set("data.numOfAudioStreams", e.numberOfAlternativeAudioStreams),
            this.set("data.currentLanguage", this.playerPlatformApi.getCurrentAudioLanguage())
        },
        NUMBER_OF_CLOSED_CAPTIONS_STREAMS_CHANGED: function(e) {
            this.set("data.numOfClosedCaptions", e.numberOfClosedCaptionsStreams)
        },
        PLAYBACK_STARTED: function(e) {
            this.set("data.recentEvent", e.type)
        },
        AD_BREAK_START: function(e) {
            this.resetAdData(),
            this.set("data.adEvents", ""),
            this.set("data.adBreakCount", e.videoAdBreak.adCount),
            this.set("data.adBreakAds", JSON.stringify(e.videoAdBreak.ads)),
            this.set("data.adBreakDuration", e.videoAdBreak.duration),
            this.set("data.adBreakStartTime", e.videoAdBreak.startTime),
            this.set("data.adBreakEndTime", e.videoAdBreak.endTime),
            this.set("data.adBreakWatched", e.videoAdBreak.watched),
            this.set("data.adBreakContainsVPAID", this.breakContainsVpaid(e.videoAdBreak)),
            this.addAdEvent(e)
        },
        AD_BREAK_COMPLETE: function(e) {
            this.addAdEvent(e),
            this.resetAdData()
        },
        AD_BREAK_EXITED: function(e) {
            this.addAdEvent(e)
        },
        AD_START: function(e) {
            this.set("data.adClickthrough", e.videoAd.clickThrough);
            var t, i = {};
            for (t in e.videoAd)
                e.videoAd.hasOwnProperty(t) && this.set("data." + t, e.videoAd[t]);
            this.set("data.seekable", e.videoAd.seekable),
            this.set("data.endTime", e.videoAd.endTime),
            this.set("data.pausable", e.videoAd.pausable),
            this.set("data.adVpaid", e.videoAd.vpaid),
            this.set("data.watched", e.videoAd.watched),
            this.set("data.adData", JSON.stringify(i)),
            this.addAdEvent(e)
        },
        resetAdData: function() {
            this.adEvents = [],
            this.set("data.adEvent", ""),
            this.set("data.adBreakCount", ""),
            this.set("data.adBreakAds", []),
            this.set("data.adBreakDuration", ""),
            this.set("data.adBreakStartTime", ""),
            this.set("data.adBreakEndTime", ""),
            this.set("data.adBreakWatched", ""),
            this.set("data.adClickthrough", ""),
            this.set("data.duration", ""),
            this.set("data.endTime", ""),
            this.set("data.adId", ""),
            this.set("data.pausable", ""),
            this.set("data.seekable", ""),
            this.set("data.startTime", ""),
            this.set("data.watched", ""),
            this.set("data.adVpaid", ""),
            this.set("data.adClickthrough", "")
        },
        AD_COMPLETE: function(e) {
            this.set("data.adClickthrough", ""),
            this.addAdEvent(e)
        },
        AD_EXITED: function(e) {
            this.addAdEvent(e)
        },
        AD_PROGRESS: function(e) {},
        videoDurationChanged: function(e) {
            e && this.set("videoDurationFormatted", this.formatTime(e))
        },
        _getOS: function() {
            return window.navigator.userAgent
        }
    })
}(),
function(e) {
    e.XTV || (e.XTV = {}),
    e.XTV.TvPlayerHelperBehavior = {
        cleanPlatformUrl: function(e) {
            var t = e.replace(/^http:/, "https:")
              , i = t.indexOf("?");
            return t.substr(0, i === -1 ? t.length : i)
        },
        getResolvedStreamUrl: function(e) {
            return /link\.theplatform\.com/.test(e) ? this.cleanPlatformUrl(e) : e || null
        }
    }
}(window),
function(e) {
    e.XTV || (e.XTV = {});
    var t = 5
      , i = 0
      , n = (Object,
    !1)
      , r = !1
      , s = ["AD_START", "AD_PROGRESS", "EMERGENCY_ALERT_STARTED", "EMERGENCY_ALERT_COMPLETE", "EMERGENCY_ALERT_FAILURE", "MEDIA_FAILED", "MEDIA_ENDED", "MEDIA_OPENED", "MEDIA_RETRY"];
    e.XTV.TvPlayerBadAdMonitor = {
        listeners: {
            pause: "monitorUserAction",
            play: "monitorUserAction",
            stop: "monitorUserAction",
            "player:action:close": "cleanupMonitor"
        },
        observers: ["adModeChange(adMode)", "userClickChange(userCoverTap)", "MEDIA_PROGRESS_MONITOR(playerPosition)"],
        addMonitorListeners: function() {
            s.forEach(function(e) {
                var t = window.pp.Events[e]
                  , i = this[e + "_MONITOR"];
                "string" == typeof t && "function" == typeof i && this.api.addEventListener(t, i.bind(this))
            }, this)
        },
        monitorConsole: function(e) {
            this.showConsoleMonitoring && console.log(e)
        },
        monitorUserAction: function(e) {
            return this.monitorConsole("USER DID THIS " + e.type),
            "stop" === e.type ? void this.cleanupMonitor() : (r = !0,
            void this.async(function() {
                userClick = !0
            }, 1e3))
        },
        userClickChange: function(e) {
            e && (r = e)
        },
        AD_START_MONITOR: function() {
            i = 0,
            this.monitorConsole("Ad Started")
        },
        AD_PROGRESS_MONITOR: function() {
            this.playerProgressing()
        },
        MEDIA_PROGRESS_MONITOR: function() {
            this.playerProgressing()
        },
        EMERGENCY_ALERT_STARTED_MONITOR: function() {
            this.cleanupMonitor()
        },
        EMERGENCY_ALERT_COMPLETE_MONITOR: function() {
            this.cleanupMonitor()
        },
        EMERGENCY_ALERT_FAILURE: function() {
            this.cleanupMonitor()
        },
        MEDIA_FAILED_MONITOR: function() {
            this.cleanupMonitor()
        },
        MEDIA_ENDED_MONITOR: function() {
            this.cleanupMonitor()
        },
        MEDIA_OPENED_MONITOR: function() {
            this.cleanupMonitor()
        },
        MEDIA_RETRY_MONITOR: function() {
            this.cleanupMonitor()
        },
        playerProgressing: function() {
            this.adMode && (n = !0,
            r = !1,
            i = 0,
            this.cancelDebouncer("noProgressing"),
            this.monitorConsole("Player making progress"),
            this.debounce("noProgressing", function() {
                n = !1
            }, 1e3))
        },
        adModeChange: function(e) {
            this.monitorConsole("ad mode changed to " + e),
            this.cleanupMonitor(),
            e && (this.monitorConsole("Creating ad progress monitoring"),
            this.progressMonitor = setInterval(function() {
                this.monitoringAdProgress()
            }
            .bind(this), 1e3),
            i = 0)
        },
        cleanupMonitor: function() {
            n = !1,
            r = !1,
            i = 0,
            clearInterval(this.progressMonitor),
            this.monitorConsole("Destroying ad progress monitor")
        },
        monitoringAdProgress: function() {
            n || !this.adMode || r || (i++,
            this.monitorConsole("NO PROGRESS BEING MADE " + i + " user tapped " + this.userCoverTap),
            i > t && this.rebootAssetAdLess())
        },
        rebootAssetAdLess: function() {
            this.monitorConsole("REBOOTING ASSET feature flag for reboot: " + this.partner.skipBadAdAndResumeContent),
            this.cleanupMonitor(),
            this.partner.skipBadAdAndResumeContent && (this.set("adLessSession", !0),
            this.setAsset(this.api.getContentPosition()))
        }
    }
}(window),
function(e) {
    e.XTV || (e.XTV = {});
    var t = function(e, t) {
        var i = !0;
        return e.filter(function(n, r) {
            var s = e[r - 1];
            return i = !s || i && n > s && n < t
        })
    };
    e.XTV.TvPlayerBitrateBehavior = {
        properties: {
            bitrateProfiles: Array,
            filteredBitrates: {
                type: Array,
                value: []
            },
            maximumBitrate: {
                type: Number,
                value: 35e5,
                readOnly: !0
            },
            validBitrates: Array
        },
        configureBitrates: function() {
            var e = {}
              , i = {}
              , n = {}
              , r = {};
            this.api && (e = this.api.getAvailableBitrates() || [],
            n = t(e, this.get("maximumBitrate")) || [],
            e && (r = e.filter(function(e) {
                return e < this.get("maximumBitrate")
            }, this)),
            i = this.forceBitrateFilter && n.length > 1 ? n : e),
            1 === n.length && (n = e,
            r = this.localize("not_filtered")),
            this.set("qualityBitrateMapping", {
                low: {
                    min: i[0],
                    max: i[1]
                },
                high: {
                    min: i[n.length - 2],
                    max: i[n.length - 1]
                },
                auto: {
                    min: i[0],
                    max: i[n.length - 1]
                }
            }),
            this.set("bitrateProfiles", e),
            this.set("filteredBitrates", r),
            this.set("validBitrates", n),
            this.setPlayerQuality(this.playbackQuality)
        }
    }
}(window),
function(e) {
    e.XTV || (e.XTV = {}),
    e.XTV.TvPlayerA11yBehaviorImpl = {
        handleKeyAll: function(e) {
            if (this.isEasActive)
                return e.detail.keyboardEvent.preventDefault(),
                e.detail.keyboardEvent.stopPropagation(),
                !1
        },
        handleKeyScrubbing: function(e) {
            if (!this.isListing(this.watchable))
                switch (e.detail.keyboardEvent.preventDefault(),
                e.detail.keyboardEvent.stopPropagation(),
                this.set("uiState", "controls"),
                e.detail.combo) {
                case "left":
                case "shift+left":
                    this.$.playerScrubber.$.playerProgress._decrementKey(e);
                    break;
                case "right":
                case "shift+right":
                    this.$.playerScrubber.$.playerProgress._incrementKey(e)
                }
        },
        handleKeyVolume: function(e) {
            switch ("volumeSlider" === document.activeElement.id && (this.autoHideControls(),
            "idle" === this.uiState && this.set("uiState", "controls")),
            e.detail.combo) {
            case "up":
                this.incrementVolume();
                break;
            case "down":
                this.decrementVolume();
                break;
            case "m":
                0 === this.volume ? this.unmuteVolume() : this.muteVolume()
            }
        },
        handleKeyLinearPlayback: function(e) {
            this.isListing(this.watchable) && (this.stop(),
            e.detail.keyboardEvent.preventDefault(),
            e.detail.keyboardEvent.stopPropagation())
        },
        handleKeyPlayback: function(e) {
            this.isListing(this.watchable) || (this.togglePlayPause(),
            e.detail.keyboardEvent.preventDefault(),
            e.detail.keyboardEvent.stopPropagation())
        },
        handleKeyDisplay: function() {
            "full" === this.displayMode ? this.enterFullscreen() : "mini" === this.displayMode && this.maximizePlayer()
        },
        handleKeyEsc: function() {
            "ended" === this.playerState && "full" === this.displayMode ? this.closePlayer() : this.hasOpenPopup() ? this.closePopups() : this.hasOpenPanel() ? this.set("uiState", "controls") : this.isFullscreen() ? this.exitFullscreen() : this.set("displayMode", "mini")
        },
        handleKeyGuide: function() {
            this.isSignedIn() && !this.userHasPurchasesOnly() && this.set("uiState", "mini-guide" === this.uiState ? "controls" : "mini-guide")
        },
        handleKeyLastWatched: function() {
            this.isSignedIn() && this.set("uiState", "last-watched" === this.uiState ? "controls" : "last-watched")
        },
        handleKeyInfo: function() {
            this.set("uiState", "info" === this.uiState ? "controls" : "info")
        },
        handleKeyShiftD: function() {
            this.set("debugPanelVisible", !this.debugPanelVisible)
        },
        handleKeyCC: function() {
            this.ccAvailable && this.hasPlayingState() && this.set("isCCActive", !this.isCCActive)
        },
        handleKeyDVS: function() {
            this.dvsAvailable && this.hasPlayingState() && this.set("isDVSActive", !this.isDVSActive)
        },
        handleKeySAP: function() {
            this.sapAvailable && this.hasPlayingState() && this.set("isSAPActive", !this.isSAPActive)
        },
        handleKeyShortcutsModal: function() {
            this.$.supportPopup.toggleHelpOverlay()
        },
        handleKeyControlToggle: function() {
            this.set("uiState", "controls")
        }
    },
    e.XTV.TvPlayerA11yBehavior = [e.XTV.TvFullScreenBehavior, e.XTV.TvWatchableTypeBehavior, e.XTV.TvPlayerA11yBehaviorImpl, e.XTV.TvUserBehavior]
}(window),
function(e) {
    e.XTV || (e.XTV = {}),
    e.XTV.TvPlayerFetchBehaviorImpl = {
        _onApiError: function(e, t) {
            this._onPlayerError({
                code: t.details.xhr.status,
                subCode: t.details.xhr.headers.get("X-CDVR-STATUS-SUBCODE"),
                description: t.endpoint
            })
        },
        _onFetchWatchableSuccess: function(e, t) {
            return this.$.watchableParser.parseWatchable(t.resource).then(this.watch.bind(this))
        },
        _fetchWatchableDetails: function(e) {
            if (this.isRecording(e))
                this.$.watchableFetcher.set("endpoint", "getRecording"),
                this.$.watchableFetcher.set("params", {
                    recordingId: e.id
                });
            else if (this.isTve(e) && this.isPartner("comcast"))
                this.$.watchableFetcher.set("endpoint", "getTveVideo"),
                this.$.watchableFetcher.set("params", {
                    guid: e.guid
                });
            else {
                if (!(this.isVod(e) || this.isPurchase(e) || this.isTve(e)))
                    return;
                this.$.watchableFetcher.set("endpoint", "getVodItem"),
                this.$.watchableFetcher.set("params", {
                    accountName: e.accountName,
                    mediaGuid: e.mediaGuid
                })
            }
            this.$.watchableFetcher.sendRequest()
        }
    },
    e.XTV.TvPlayerFetchBehavior = [e.XTV.TvWatchableTypeBehavior, e.XTV.TvPlayerFetchBehaviorImpl]
}(window),
function(e) {
    e.XTV || (e.XTV = {});
    var t, i = {
        linear: {
            beat: "linearStreamHeartbeat",
            stop: "stopWatchingLinearStream"
        },
        purchase: {
            beat: "purchasedVodStreamHeartbeat",
            finish: "finishWatchingPurchasedVod",
            stop: "stopWatchingPurchasedVod"
        },
        recording: {
            beat: "recordingHeartbeat",
            finish: "finishWatchingRecording",
            stop: "stopWatchingRecording"
        },
        tvelinear: {
            beat: "tveLinearStreamHeartbeat",
            stop: "stopWatchingLinearStreamTve"
        },
        tvevod: {
            beat: "tveVodStreamHeartbeat",
            finish: "finishWatchingTveVod",
            stop: "stopWatchingTveVod"
        },
        vod: {
            beat: "vodStreamHeartbeat",
            finish: "finishWatchingVod",
            stop: "stopWatchingVod"
        }
    }, n = 12e4, r = 0;
    e.XTV.TvPlayerHeartbeatBehaviorImpl = {
        observers: ["_setHeartbeatApi(watchable)"],
        _getHeartbeatEndpoint: function(e, t) {
            return this.isTveListing(e) ? i.tvelinear[t] : this.isListing(e) ? i.linear[t] : this.isVod(e) ? i.vod[t] : this.isTve(e) ? i.tvevod[t] : this.isRecording(e) ? i.recording[t] : this.isPurchase(e) ? i.purchase[t] : void 0
        },
        _getHeartbeatParams: function(e) {
            return this.isListing(e) ? {
                streamId: e.channel.streamId
            } : this.isTve(e) || this.isPurchase(e) ? {
                mediaId: e.mediaId
            } : this.isVod(e) ? {
                paid: e.paid
            } : this.isRecording(e) ? {
                recordingId: e.id
            } : void 0
        },
        _setHeartbeatApi: function(e) {
            e && (this.set("endpoint", this._getHeartbeatEndpoint(e, "beat"), this.$.heartbeatApi),
            this.set("params", this._getHeartbeatParams(e), this.$.heartbeatApi))
        },
        _makeHeartbeatCall: function() {
            this.adMode || this.$.heartbeatApi.sendRequest()
        },
        _onHeartbeatError: function(e, t) {
            r++,
            r > 2 && this._tooManyHeartbeatFailures({
                code: t.details.xhr.status,
                subCode: t.details.xhr.headers.get("X-CDVR-STATUS-SUBCODE")
            })
        },
        _tooManyHeartbeatFailures: function(e) {
            r = 0,
            this.stopHeartbeat(),
            this.fire("player:heartbeat:failed", e)
        },
        finishWatching: function(e) {
            e && !this.isListing(e) && this.isSignedIn() && (this.set("endpoint", this._getHeartbeatEndpoint(e, "finish"), this.$.heartbeatApi),
            this.$.heartbeatApi.sendRequest())
        },
        stopWatching: function(e) {
            e && this.isSignedIn() && (this.set("endpoint", this._getHeartbeatEndpoint(e, "stop"), this.$.heartbeatApi),
            this.$.heartbeatApi.sendRequest())
        },
        startHeartbeat: function(e) {
            e.isCbs || e.isHulu || (this.stopHeartbeat(),
            t = setInterval(this._makeHeartbeatCall.bind(this), n))
        },
        stopHeartbeat: function() {
            t = clearInterval(t)
        }
    },
    e.XTV.TvPlayerHeartbeatBehavior = [e.XTV.TvWatchableTypeBehavior, e.XTV.TvPlayerHeartbeatBehaviorImpl]
}(window),
function(e) {
    var t = 2e4;
    e.XTV || (e.XTV = {}),
    e.XTV.TvPlayerResumePointBehaviorImpl = {
        onResumePointSuccess: function() {
            this.fire("app:resume-point:posted", {
                watchable: this.watchable
            })
        },
        startResumePointInterval: function() {
            !this.isListing(this.watchable) && this.isSignedIn() && (this.resumePointUpdateInterval = setInterval(this._updateResumePoint.bind(this), t))
        },
        stopResumePointInterval: function() {
            clearInterval(this.resumePointUpdateInterval),
            this.resumePointUpdateInterval = null
        },
        _updateResumePoint: function() {
            var e = this.$$("#resumePointApi")
              , t = this.watchable || {};
            !this.isSignedIn() || this.adMode || !t.mediaId || !this.playerPosition || ["loading", "error"].indexOf(this.playerState) > -1 || (this.set("params", {
                mediaId: t.mediaId,
                programId: t.creativeWork.programId,
                progress: this.playerPosition
            }, e),
            e.sendRequest())
        }
    },
    e.XTV.TvPlayerResumePointBehavior = [e.XTV.TvWatchableTypeBehavior, e.XTV.TvPlayerResumePointBehaviorImpl]
}(window),
function() {
    var e = {
        title: "Stream %%ChannelName%% Live Online, Watch Live TV",
        description: "Watch %%ChannelName%%live online and on your mobile devices with XFINITY Stream.",
        keywords: "watch live tv, watch %%ChannelName%% live, xfinity tv, xfinity stream, comcast",
        socialTitle: "Watch %%ChannelName%% Live on XFINITY Stream",
        socialDescription: "Stream %%ChannelName%% live online and on your mobile devices with XFINITY Stream."
    }
      , t = function(t) {
        return !(!document.getElementsByTagName("html")[0].hasAttribute("prerender") || "false" === document.getElementsByTagName("html")[0].getAttribute("prerender")) && (Object.keys(e).forEach(function(i) {
            e[i] = e[i].replace("%%ChannelName%%", t.callSignVoiceOverHint)
        }),
        document.querySelector("meta[property=og\\:title]").setAttribute("content", e.socialTitle),
        document.querySelector("meta[property=og\\:description]").setAttribute("content", e.socialDescription),
        document.querySelector("meta[name=twitter\\:title]").setAttribute("content", e.socialTitle),
        document.querySelector("meta[name=twitter\\:description]").setAttribute("content", e.socialDescription),
        document.title = e.title,
        document.querySelector("meta[name=description]").setAttribute("content", e.description),
        document.querySelector("meta[name=keywords]").setAttribute("content", e.keywords),
        void (window.prerenderReady = !0))
    };
    Polymer({
        is: "tv-video-link",
        behaviors: [XTV.TvUrlBehavior, XTV.TvWatchableTypeBehavior],
        properties: {
            hasLaunchedPlayer: {
                type: Boolean,
                value: !1
            },
            channelMap: Object,
            pageContext: Object,
            playerState: {
                type: String,
                observer: "onPlayerState"
            },
            user: Object,
            watchable: {
                type: Object,
                observer: "generate"
            }
        },
        observers: ["onDataReady(channelMap, pageContext, user.inhome)"],
        onDataReady: function(e, t) {
            "live" === t.name && (this.params = t.params,
            this.params.companyId ? this.debounce("watchChannelFromLink", this._watchChannel, 2e3) : window.history.pushState({}, "", this.urlFor("listings")))
        },
        onPlayerState: function() {
            "stopped" !== this.playerState && "closed" !== this.playerState || !/\/live\//.test(window.location.pathname) || ("live" !== this.pageContext.name ? window.history.replaceState({
                path: this.pageContext.canonicalPath
            }, "", this.pageContext.canonicalPath) : window.history.pushState({}, "", this.urlFor("listings")))
        },
        generate: function(e) {
            this.isAutoWatchingFromLink ? this.isAutoWatchingFromLink = !1 : this.isListing(e) && this._generateLink(e)
        },
        _urlSlug: function(e) {
            return ("Watch-" + (e || "Live")).replace(/[^\w\s-]+/g, "").replace(/\s+/g, "-")
        },
        _generateLink: function(e) {
            e.channel.companyId && e.channel.callSign ? window.history.replaceState({
                path: "/live"
            }, "", this.urlFor("live", this._urlSlug(e.derivedTitle), e.channel.companyId, e.channel.callSign)) : window.history.pushState({}, "", "/listings")
        },
        _getMatchingChannelId: function() {
            var e = Object.keys(this.channelMap || {}).filter(function(e) {
                var t, i = this.channelMap[e], n = i.companyId === this.params.companyId;
                return t = this.params.callSign ? n && i.callSign.toLowerCase() === this.params.callSign.toLowerCase() : n,
                t && !this.user.inhome ? i.isTve === !0 : t
            }, this)
              , t = e.filter(function(e) {
                var t = this.channelMap[e];
                return t.isHD
            }, this);
            return t[0] || e[0]
        },
        _watchChannel: function() {
            var e;
            this.hasLaunchedPlayer || (e = this.channelMap[this._getMatchingChannelId()],
            e ? (this.isAutoWatchingFromLink = !0,
            this.fire("app:player:watchChannel", {
                channel: e
            }),
            this.fire("grid-page:select-channel", e),
            this.set("hasLaunchedPlayer", !0),
            t(e)) : window.history.pushState({}, "", "/listings"))
        }
    })
}(),
function(e) {
    e.XTV = e.XTV || {};
    var t = document.body || document.documentElement
      , i = !1
      , n = t
      , r = t
      , s = ["DURATION_CHANGED", "EMERGENCY_ALERT_STARTED", "EMERGENCY_ALERT_COMPLETE", "EMERGENCY_ALERT_FAILURE", "MEDIA_FAILED", "MEDIA_ENDED", "MEDIA_OPENED", "MEDIA_RETRY", "MEDIA_PROGRESS", "PLAY_STATE_CHANGED", "AD_BREAK_COMPLETE", "AD_BREAK_START", "AD_BREAK_EXITED", "AD_COMPLETE", "AD_EXITED", "AD_PROGRESS", "AD_SEEK", "AD_START"];
    Polymer({
        is: "tv-player",
        properties: {
            audioProgram: {
                type: String,
                observer: "_onSettingAudioProgramChanged"
            },
            adEvent: {
                type: Object,
                notify: !0
            },
            adData: {
                type: Object,
                value: function() {
                    return {}
                }
            },
            adMode: {
                type: Boolean,
                value: !1
            },
            userCoverTap: {
                type: Boolean,
                value: !1
            },
            userMouseMove: Boolean,
            displayMode: {
                type: String,
                value: "closed",
                reflectToAttribute: !0,
                observer: "_displayModeChanged"
            },
            error: Object,
            externalAds: {
                type: Boolean,
                value: !1
            },
            isAuditude: {
                type: Boolean,
                value: !1
            },
            isC3Ad: {
                type: Boolean,
                value: !1
            },
            isDAI: {
                type: Boolean,
                value: !1
            },
            adEndPosition: {
                type: Number,
                value: 0
            },
            initialized: {
                type: Boolean,
                value: !1
            },
            adLessSession: {
                type: Boolean,
                value: !1
            },
            adIsVpaid: {
                type: Boolean,
                value: !1,
                reflectToAttribute: !0
            },
            adBreakIsVpaid: {
                type: Boolean,
                value: !1
            },
            isHulu: {
                type: Boolean,
                value: !1
            },
            isCbs: {
                type: Boolean,
                value: !1
            },
            isCCActive: {
                type: Boolean,
                observer: "_onSettingCCChanged"
            },
            isDVSActive: {
                type: Boolean,
                observer: "_onSettingDVSChanged"
            },
            isSAPActive: {
                type: Boolean,
                value: !1,
                observer: "_onSettingSAPChanged"
            },
            ccAvailable: {
                type: Boolean,
                value: !1
            },
            dvsAvailable: {
                type: Boolean,
                value: !1
            },
            sapAvailable: {
                type: Boolean,
                value: !1
            },
            ccStyleSettings: {
                type: Object,
                observer: "_onSettingCCStyleChanged"
            },
            playerDuration: Number,
            playerPosition: Number,
            playerState: {
                type: String,
                value: "",
                reflectToAttribute: !0,
                observer: "_playerStateChanged"
            },
            playerA11yLabel: {
                type: String,
                value: ""
            },
            skipUiChange: {
                type: Boolean,
                value: !1
            },
            debugPanel: {
                type: Object,
                notify: !0,
                value: function() {
                    return {}
                }
            },
            playerPlatformApi: {
                type: Object,
                notify: !0,
                value: function() {
                    return {}
                }
            },
            debugPanelVisible: {
                type: Boolean,
                value: !1
            },
            isAutoPivoting: {
                type: Boolean,
                value: !1
            },
            resolvedStreamUrl: String,
            restartVideo: Boolean,
            sapLanguages: Object,
            showConsoleMonitoring: {
                type: Boolean,
                value: !1
            },
            scrubberMax: Number,
            scrubberPosition: Number,
            timelineAdBreaks: {
                type: Array,
                notify: !0
            },
            volume: {
                type: Number,
                observer: "_onSettingVolumeChanged"
            },
            lastVolume: {
                type: Number,
                value: 100
            },
            uiState: {
                type: String,
                value: "idle",
                reflectToAttribute: !0,
                observer: "_uiStateChanged"
            },
            upcomingListing: Object,
            watchable: {
                type: Object,
                notify: !0,
                observer: "_onWatchableChanged"
            },
            forceBitrateFilter: {
                type: Boolean,
                value: !0,
                observer: "configureBitrates"
            },
            playbackQuality: {
                type: String,
                value: "auto",
                observer: "_onSettingQualityChanged"
            },
            autoHideDelay: {
                type: Number,
                observer: "_onSettingAutoHideChanged"
            },
            settingsPopupVisible: {
                type: Boolean,
                value: !1
            },
            isEasActive: {
                type: Boolean,
                value: !1
            },
            isUniversityUser: Boolean,
            setNextListingTimer: Object,
            supportPopupVisible: {
                type: Boolean,
                value: !1
            },
            linearRefreshTimer: Object,
            hideCursor: {
                type: Boolean,
                reflectToAttribute: !0,
                value: !1
            },
            oohAutoPivot: Boolean,
            pendingPlayerStop: {
                type: Boolean,
                value: !1
            }
        },
        behaviors: [XTV.behaviors, XTV.behaviors.splunk, XTV.resumePointsBehavior, XTV.TVAdBehavior, XTV.TvAnalyticsHelper, XTV.TvAuditudeBehavior, XTV.TvFlashCompatibility, XTV.TvFullScreenBehavior, XTV.TvGridBehavior, XTV.TvLocalizeBehavior, XTV.TvOohHelper, XTV.TvPageBehavior, XTV.TvParentalControlsBehavior, XTV.TvPlayerA11yBehavior, XTV.TvPlayerBadAdMonitor, XTV.TvPlayerBitrateBehavior, XTV.TvPlayerFetchBehavior, XTV.TvPlayerHeartbeatBehavior, XTV.TvPlayerHelperBehavior, XTV.TvPlayerResumePointBehavior, XTV.TvWatchableTypeBehavior, XTV.TvUtilityBehavior, XTV.TvUserBehavior, XTV.TvXacsaDrmHelper],
        listeners: {
            mouseenter: "onMouseEnter",
            mousemove: "onMouseOver",
            mouseleave: "onMouseLeave",
            "player:watch": "_watchEventHandler",
            "player:action:close": "closePlayer",
            "player:action:deleterecording": "displayDeleteRecordingModal",
            "player:action:displayOohInfoOverlay": "_onDisplayOohInfoOverlay",
            "player:action:forceMiniPlayer": "forceMiniPlayer",
            "player:action:minimize": "minimizePlayer",
            "player:action:maximize": "maximizePlayer",
            "player:action:mute": "muteVolume",
            "player:action:unmute": "unmuteVolume",
            "player:heartbeat:failed": "_onHeartbeatFailed",
            "player:panel:open": "onPanelOpen",
            "player:panel:close": "onPanelClose",
            "player:resume": "resume",
            pause: "pause",
            play: "play",
            stop: "stop"
        },
        observers: ["_canWatchAsset(user.inhome)", "_onCreateTokenSummarySuccess(user.tokenSummary)", "_launchVideo(resolvedStreamUrl, watchable)", "_onErrorChanged(error)", "_onPlayerPositionChanged(playerPosition)", "_onPlayerDurationChanged(playerDuration, watchable)", "_onExternalResourceChanged(externalPlayerResource)", "_onDebugPanelVisibleChanged(debugPanelVisible)"],
        attached: function() {
            Polymer.IronA11yAnnouncer.requestAvailability(),
            e.addEventListener("beforeunload", this.sendLocalytics.bind(this))
        },
        sendLocalytics: function() {
            "error" !== this.playerState && this.playerPosition && this.localytics.setVideoEvent(this.watchable, this.playerPosition, this.isCCActive, this.isSAPActive)
        },
        actionsForInfoPanel: function() {
            var e = [];
            return this.userHasPurchasesOnly() || e.push("entity"),
            this.isTrickModesRestricted(this.watchable) && e.push("restart"),
            e
        },
        _onDebugPanelVisibleChanged: function() {
            this.debugPanelVisible ? (this.setDebugPanelProps(),
            window.addEventListener("resize", this.resizeDebugPanel, !1),
            setTimeout(function() {
                this.debugPanelResize()
            }
            .bind(this), 500)) : this.resizeDebugPanel && window.removeEventListener("resize", this.resizeDebugPanel, !1)
        },
        debugPanelResize: function() {
            this.debounce("panelResize", function() {
                this.set("debugPanel.browserDimensions", "Browser Width: " + window.innerWidth + ", Height: " + window.innerHeight),
                this.playerPlatformApi && this.set("debugPanel.videoDimensions", "Actual Video Width: " + this.playerPlatformApi.getVideoWidth() + ", Height: " + this.playerPlatformApi.getVideoHeight())
            }, 500)
        },
        initialize: function() {
            e.XTV.Player || this.initialized || (e.XTV.Player = this,
            this.createPlayer(),
            this.resizeDebugPanel = this.debugPanelResize.bind(this))
        },
        _onCreateTokenSummarySuccess: function() {
            this.set("isUniversityUser", this.isUniversity())
        },
        createPlayer: function() {
            XTV.Player.api = new window.pp.PlayerPlatformAPI({
                configurationManager: XTV.Player.config,
                videoElement: XTV.Player.$.playerDiv,
                configuration: {
                    autoplay: !0,
                    easUpdateInterval: 15e3,
                    maximumRetries: 3,
                    defaultAsset: {
                        playingVODBufferTime: 3e4,
                        placementStatusNotificationEndPoint: this.$.props.getValue("primetimePlacementStatusNotificationEndpoint")
                    },
                    retryOnMediaFailed: !0,
                    analyticsProtocol: "2.0",
                    auditudeTimeout: 1e4,
                    partnerId: this.partner.company,
                    swfUrl: "/flash/PSDKPlayerAPI.swf",
                    drmSwfUrl: "/flash/FlashDRMAPI.swf",
                    espnSwfUrl: "flash/ESPNPlayer.swf",
                    disneySwfUrl: "flash/DISNEYPlayer.swf",
                    cbsSwfUrl: "/flash/CBSPlayer.swf",
                    globalTokensUrl: "/flash/token/GlobalTokens.swf",
                    placementRequestEndPoint: this.$.props.getValue("primetimePlacementRequestEndpoint"),
                    alertServiceEndPoint: this.partner.primetimeAlertServiceEndpoint,
                    analyticsEndPoint: this.partner.primetimeAnalyticsEndpoint,
                    zipToFipsEndPoint: this.partner.primetimeZipToFipsEndpoint
                }
            }),
            this._getUserTokenSummary().deviceId && this.api.configureAnalytics(this.hostInfo()),
            this.addPlayerListeners(),
            this.set("playerPlatformApi", XTV.Player.api),
            this.set("player", this),
            this.set("initialized", !0)
        },
        announceState: function(e) {
            this.fire("iron-announce", {
                text: e
            })
        },
        pause: function() {
            this.api.pause()
        },
        resume: function() {
            var e;
            return this.isListing(this.watchable) && this.isLocked(this.controls, this.watchable) ? (this.set("playerState", "loading"),
            e = this.$.pinVerify.needsVerification()) : e = Promise.resolve(),
            e.then(this.play.bind(this), function() {
                this.set("playerState", "stopped")
            }
            .bind(this))
        },
        play: function() {
            this.isListing(this.watchable) ? (this.set("playerState", "loading"),
            this.resolvedStreamUrl ? this._launchVideo(this.resolvedStreamUrl, this.watchable) : this._onWatchableChanged(this.watchable)) : this.api.play()
        },
        stop: function() {
            this.saveVolume(),
            this.stopAsset(),
            this.stopWatching(this.watchable),
            this.set("playerState", "stopped")
        },
        stopAsset: function() {
            var e = "preparing" === this.api.getPlayerStatus();
            e || this.api.stop(),
            this.set("pendingPlayerStop", e),
            this.sendLocalytics(),
            i && this.api.eas.stop()
        },
        updatePosition: function(e) {
            var t = 5e3
              , i = this.api.getDuration()
              , n = i - e.detail.value < t;
            this.api.setPosition(n ? i - t : e.detail.value),
            "playerScrubber" === (e.target || {}).id && (this.autoHideControls(),
            "idle" === this.uiState && this.set("uiState", "controls"))
        },
        addPlayerListeners: function() {
            s.forEach(function(e) {
                var t = window.pp.Events[e]
                  , i = this[e];
                "string" == typeof t && "function" == typeof i && this.api.addEventListener(t, i.bind(this))
            }, this)
        },
        addPlayerResizing: function() {
            var e = this.$$("#viper-player-container")
              , t = this.$$("#viper-player");
            e && t && (e.style.height = t.style.height = "100%",
            e.style.width = t.style.width = "100%"),
            this.updateStyles()
        },
        addToLastWatched: function() {
            this.$.lastWatchedStorage.add(this.watchable)
        },
        clearLastWatched: function() {
            this.$.lastWatchedStorage.clear()
        },
        focusLaunchElement: function() {
            r && !r.hasAttribute("hidden") ? r.focus() : n && !n.hasAttribute("hidden") && n.focus()
        },
        closePlayer: function(e) {
            return e = Object.assign({
                resumePointRefreshTimeout: 1e3,
                signout: !1
            }, e || {}),
            this.initialized && ("closed" !== this.displayMode && this.announceState(this.localize("Video_player_closed_d")),
            this.stopWatching(this.watchable),
            this.cancelAutoHideControls(),
            this.clearLinearAssetRefreshTimer(),
            this.exitFullscreen(),
            this.onEasComplete(),
            this.resetControls(),
            this.saveVolume(),
            this.stopAsset(),
            this.stopHeartbeat(),
            this.stopResumePointInterval(),
            this._adModeStateCheck(!1),
            this.vpaidExit(),
            this.$.playerNav.resetState(),
            this.set("adMode", !1),
            this.set("uiState", "idle"),
            this.set("displayMode", "closed"),
            this.set("playerState", "closed"),
            this.set("resolvedStreamUrl", void 0),
            this.set("restartVideo", !1),
            this.set("skipUiChange", !1),
            this.set("active", !1, this.$.rating),
            this.set("playerA11yLabel", ""),
            e.signout || (this.focusLaunchElement(),
            this.fire("app:player:notify:closed", {
                watchable: this.watchable
            }),
            this.async(function() {
                this.fire("user:resume-points:refresh")
            }, e.resumePointRefreshTimeout)),
            this.set("watchable", void 0),
            this.set("playerPosition", 0)),
            !0
        },
        saveVolume: function() {
            (this.hasPlayingState() || "buffering" === this.api.getPlayerStatus()) && this.set("lastVolume", this.volume)
        },
        closePopups: function() {
            this._closeSettingsPopup(!1),
            this._closeSupportPopup(!1)
        },
        configureSAP: function() {
            this.set("sapLanguages", this.api.getAvailableAudioLanguages()),
            this.set("debugPanel.languages", this.sapLanguages)
        },
        setCCAvailable: function(e) {
            var t = e || !1;
            !e && this.api && (t = this.api.hasCC()),
            this.set("ccAvailable", !this.isEasActive && t)
        },
        setPlayerQuality: function(e) {
            if (this.api) {
                var t = this.qualityBitrateMapping[e];
                t && this.api.setBitrateRange(t.min, t.max),
                this.set("debugPanel.videoQuality", e)
            }
        },
        displayDeleteRecordingModal: function() {
            var e = Object.assign({}, this.watchable);
            this.closePlayer(),
            this.fire("app:recording:delete:single", {
                recording: e
            })
        },
        hasPlayingState: function() {
            return ["playing", "paused", "stopped"].indexOf(this.playerState) > -1
        },
        hasOpenPanel: function() {
            return ["info", "last-watched", "mini-guide"].indexOf(this.uiState) > -1
        },
        hasOpenPopup: function() {
            return this.settingsPopupVisible || this.supportPopupVisible
        },
        isStreamProvider: function(e, t) {
            var i;
            return !(!e || !t) && (i = new RegExp(e,"gi"),
            t && t.stream && i.test(t.stream.streamProvider))
        },
        forceMiniPlayer: function() {
            var e = 1;
            this.isFullscreen() && (this.exitFullscreen(),
            e = this.isBrowserFirefox() ? 2e3 : e),
            this.async(this.minimizePlayer.bind(this), e)
        },
        maximizePlayer: function() {
            this.set("displayMode", "full"),
            setTimeout(function() {
                this.announceState(this.localize("Player_maximized"))
            }
            .bind(this), 100)
        },
        minimizePlayer: function() {
            return this.isFullscreen() ? void this.exitFullscreen() : (this.set("uiState", "idle"),
            this.set("displayMode", "mini"),
            this.set("active", !1, this.$.rating),
            this.fire("user:resume-points:refresh"),
            void setTimeout(function() {
                this.announceState(this.localize("Player_minimized")),
                this.$.miniControls.focus()
            }
            .bind(this), 100))
        },
        resetControls: function() {
            this.$.playerScrubber.resetState(),
            this.set("scrubberPosition", 0),
            this.set("scrubberMax", 0)
        },
        normalizedAudioProgram: function(e) {
            var t = e
              , i = this.sapLanguages || [];
            return i.indexOf(t) <= 0 ? i[0] || "" : t
        },
        announceMuted: function() {
            ["loading", "error"].indexOf(this.playerState) === -1 && this.announceState(this.$.playerVolume.muted ? this.localize("Volume_muted") : this.localize("Volume_unmuted"))
        },
        announceVolume: function() {
            this.announceState(this.localize("Volume_valume_", "valume", this.volume))
        },
        muteVolume: function() {
            this.set("volume", 0),
            this.announceMuted()
        },
        unmuteVolume: function() {
            this.set("volume", this.volumeLastValue || 100),
            this.announceMuted()
        },
        incrementVolume: function() {
            this.set("volume", this.volume >= 90 ? 100 : this.volume + 10),
            this.announceVolume()
        },
        decrementVolume: function() {
            this.set("volume", this.volume > 10 ? this.volume - 10 : 0),
            this.announceVolume()
        },
        setResolvedStreamUrl: function(e) {
            this.set("resolvedStreamUrl", this.getResolvedStreamUrl(e))
        },
        _watchEventHandler: function(e) {
            var t = e.detail.watchable
              , i = this.get("watchable.entityId")
              , n = this.mixin({
                fetchDetails: !1
            }, e.detail.options || {});
            return this.setLaunchElement(n.refocusCurrentTarget, n.refocusTarget, n.refocusParent),
            this.skipUiChange || (this.set("uiState", "idle"),
            this.set("displayMode", "full")),
            !this.isListing(t) && n.fetchDetails ? (this.set("playerState", "loading"),
            void this._fetchWatchableDetails(t)) : this.isListing(t) && !t.stream ? (this.skipUiChange || this.set("playerState", "loading"),
            this.oohAutoPivot && this.isAutoPivoting && i && i !== t.entityId ? (this.set("isAutoPivoting", !1),
            this.set("watchable", t, this.$.errorPanel),
            this.set("tveVariant", this.get("watchable.channel.tveVariant"), this.$.errorPanel),
            void this.set("error", {
                category: "ooh",
                fatal: !0
            })) : void t.details.fetch({
                force: !0
            }).then(function(e) {
                this.$.listingsParser._parseListing(e.data, t.channel.resource).then(function(e) {
                    "closed" !== this.displayMode && this.watch(e)
                }
                .bind(this))
            }
            .bind(this), function(e) {
                this.logError(e),
                this.set("error", {
                    code: e.xhr.status,
                    description: "listing-details",
                    subCode: e.xhr.headers.get("X-CDVR-STATUS-SUBCODE")
                })
            }
            .bind(this))) : void this.watch(t, n)
        },
        _restart: function() {
            this.watch(this.watchable, {
                restartVideo: !0
            })
        },
        _resume: function() {
            this.watch(this.watchable, {
                restartVideo: !1
            })
        },
        watch: function(e, t) {
            var i, n = this.mixin({
                restartVideo: !1
            }, t || {});
            return this.isLocked(this.controls, e) && !this.isWatchingAssetDisabled(e, this.user.inhome) ? (this.set("playerState", "loading"),
            i = this.$.pinVerify.needsVerification()) : i = Promise.resolve(),
            this.oohAutoPivot && this.isAutoPivoting && (this.set("isAutoPivoting", !1),
            window.ll("tagEvent", "Pivoted", {
                To: "Linear",
                Auto: "Yes"
            }),
            this.localytics.setLocalyticsWatchable(null)),
            this.flashCompatible() ? void i.then(function() {
                this.skipUiChange ? this.set("skipUiChange", !1) : (this.set("uiState", "idle"),
                this.set("displayMode", "full"),
                this.set("playerState", "loading")),
                this.set("restartVideo", n.restartVideo),
                this.watchable && this.localytics.closeVideoEvent(this.playerPosition, this.isCCActive, this.isSAPActive),
                this.set("watchable", this.mixin({
                    ts: (new Date).getTime()
                }, e)),
                this.localytics.setLocalyticsWatchable(this.watchable)
            }
            .bind(this), function() {
                this.closePlayer()
            }
            .bind(this)) : void this.set("error", {
                category: "FlashIncompatible",
                fatal: !0
            })
        },
        _launchVideo: function(e, t) {
            return e && t ? void this.debounce("setAssetOnPlatform", this.setAsset.bind(this), 1e3) : void this.cancelDebouncer("setAssetOnPlatform")
        },
        getExternalTveLinearStream: function(e) {
            this.async(function() {
                this.$.externalTveLinearStream.params = {
                    streamId: e
                },
                this.sendApiRequests(["externalTveLinearStream"])
            })
        },
        _getRefocusElement: function(e, t, i) {
            for (; (e = e.parentElement) && e.localName !== i; )
                ;
            return e.querySelector(t)
        },
        setLaunchElement: function(e, t, i) {
            e && t && i ? r = this._getRefocusElement(e, t, i) : (r = document.activeElement,
            r && (n = r.nextElementSibling))
        },
        _handleExternalTokenResponse: function(e) {
            this.set("externalPlayerResource", e.detail.resource)
        },
        setAsset: function(e) {
            if (this.isListing(this.watchable) && "playing" === this.api.getPlayerStatus() && this.resolvedStreamUrl === (this.api.asset || {})._url)
                return this.set("playerState", "playing"),
                this.setCCAvailable(),
                void this.setupLinearAssetRefreshTimer();
            var t = XTV.resumePointsBehavior.getResumePointPosition(this.get("watchable.mediaId")) || 0
              , n = this.restartVideo || !this.isSignedIn() ? 0 : t
              , r = {
                drmKey: XTV.User.authToken || "",
                adInfo: this.watchable.adInfo || {},
                assetEngine: "",
                resumePosition: e || parseInt(n, 10),
                adConfig: {
                    type: "none"
                }
            }
              , s = this.watchable.stream.streamProvider || "";
            this.mixin(r, this.resolveAnalyticIds(this.watchable, this.partner)),
            this.set("isHulu", this.isStreamProvider("hulu", this.watchable)),
            this.set("isCbs", this.isStreamProvider("cbs", this.watchable)),
            this.isAuditude = !1,
            this.isC3Ad = !1,
            this.isDAI = !1,
            this.isC3(r.adInfo) ? (this.isC3Ad = !0,
            r.adConfig = {
                type: "c3",
                ads: this.configureC3(r.adInfo)
            }) : r.auditudeId ? (this.isAuditude = !0,
            r.adConfig = {
                type: "auditude"
            },
            this.mixin(r.adConfig, this.buildAuditude(r))) : this.isVod(this.watchable) && this.partner.daiEnabled && (this.isDAI = !0,
            r.adConfig = {
                type: "manifest"
            },
            this.mixin(r.adConfig, this.buildDAI(r))),
            this.externalAds = !(this.isAuditude || this.isC3Ad || this.isVod(this.watchable) || this.isRecording(this.watchable)),
            r.assetEngine = s.toLowerCase(),
            this.vsid = this.generateUUID(),
            this.resetAdData(),
            this.vpaidExit(),
            this.set("debugPanel", {}),
            this.setDebugAdData(),
            this.set("debugPanel.streamProvider", s || "Viper"),
            this.set("debugPanel.resumePosition", t),
            this.partner.skipBadAds && ("none" != r.adConfig || this.externalAds) && this.addMonitorListeners(),
            this.adLessSession && this.partner.skipBadAds && (r.adConfig = {
                type: "none"
            },
            this.adLessSession = !1),
            this.api.setAsset(new window.pp.Asset(this.resolvedStreamUrl,r)),
            this.logVideoEvent(this, "ATTEMPT"),
            this.user.authenticated && (i ? this.api.eas.start() : (this.api.configureEmergencyAlerts(XTV.User.authToken),
            i = !0))
        },
        fetchAndSetUpcomingLisitng: function() {
            var e, t = this.grid.byStationId[this.watchable.channel.id];
            t && (e = this.getUpcomingListing(t.listings),
            e.details.fetch({
                force: !0
            }).then(function(e) {
                return this.$.listingsParser._parseListing(e.data, t.resource).then(function(e) {
                    this.set("upcomingListing", e)
                }
                .bind(this))
            }
            .bind(this), this.logError.bind(this)))
        },
        setupLinearAssetRefreshTimer: function() {
            var e = moment(this.watchable.endTime) - moment()
              , t = Math.floor(Math.random() * (e - 1e4))
              , i = e + 2e3;
            this.clearLinearAssetRefreshTimer(),
            this.linearRefreshTimer = this.async(this.fetchAndSetUpcomingLisitng, t),
            this.setNextListingTimer = this.async(this.setNextListing, i)
        },
        clearLinearAssetRefreshTimer: function() {
            this.set("upcomingListing", void 0),
            this.cancelAsync(this.linearRefreshTimer),
            this.cancelAsync(this.setNextListingTimer)
        },
        setNextListing: function() {
            var e = this.upcomingListing;
            this.isListing(this.watchable) && "closed" !== this.displayMode && ["error", "stopped"].indexOf(this.playerState) === -1 && (this.set("skipUiChange", !0),
            this.saveVolume(),
            e && moment().isBetween(moment(e.startTime), moment(e.endTime)) ? this.fire("player:watch", {
                watchable: e
            }) : this.fire("app:player:watchChannel", {
                channel: this.watchable.channel
            }))
        },
        _onExternalResourceChanged: function() {
            var e = this.watchable.stream.streamId
              , t = this.watchable.stream.streamProvider
              , i = this.externalPlayerResource.getProp("authToken")
              , n = {
                assetEngine: t,
                streamId: this.watchable.channel.streamId,
                authType: this.externalPlayerResource.getProp("authType"),
                resumePoint: 0
            };
            this.mixin(n, this.resolveAnalyticIds(this.watchable, this.partner)),
            n.authToken = i.match("<authToken>(.*\n*)*</authToken>")[0],
            n.drmKey = n.authToken,
            "disney" === t ? (n.channel = e,
            e = "") : "espn" === t && (n.resumePoint = -1,
            n.streamId = e),
            this.vpaidExit(),
            this.api.setAsset(new window.pp.Asset(e,n))
        },
        setDebugAdData: function() {
            this.set("debugPanel.adSupported", !1),
            (this.api.adManager || {}).type ? (this.set("debugPanel.adSupported", !0),
            this.set("debugPanel.adType", this.api.adManager.type)) : (this.isDAI || this.isAuditude || this.isC3Ad) && (this.set("debugPanel.adSupported", !0),
            this.set("debugPanel.adType", this.isAuditude ? "auditude ad" : this.isC3Ad ? "C3 ad" : this.isDAI ? "DAI ad - manifest" : "unknown - external")),
            this.externalAds && (this.set("debugPanel.adSupported", !0),
            this.set("debugPanel.adType", "externalAd (3rd party player): "))
        },
        isTrickModesRestricted: function(e) {
            var t = this.seekableAds(this.get("timelineAdBreaks"));
            return !this.adLessSession && (!t && e && "FF" === e.trickModesRestricted)
        },
        showTveDataUsageMessage: function() {
            this.$.tveDataUsageMessage.hidden = !this.isTveDataUsageApplicable(this.watchable)
        },
        isTveDataUsageApplicable: function(e) {
            return this.isAnyTve(e) && !this.isPartner("shaw")
        },
        setPinText: function() {
            this.$.playerScrubber.set("pinText", this.formatTime(this.$.playerScrubber.immediateValue))
        },
        togglePlayPause: function() {
            this.isListing(this.watchable) || ("playing" === this.playerState ? this.pause() : this.play())
        },
        onCoverTap: function(e) {
            return this.set("userCoverTap", !0),
            this.async(function() {
                this.set("userCoverTap", !1)
            }, 1e3),
            ["stopped", "error"].indexOf(this.playerState) > -1 ? (e.preventDefault(),
            !1) : this.hasOpenPopup() ? (this.closePopups(),
            !1) : this.hasOpenPanel() ? (this.set("uiState", "controls"),
            !1) : (this.set("uiState", "controls"),
            this.$.playerNav.resetState(),
            !this.isListing(this.watchable) && (this._onVideoClickThrough(),
            void this.togglePlayPause()))
        },
        onEasComplete: function() {
            this.isEasActive && (this.set("isEasActive", !1),
            this.set("disable-controls", !1, this.$.playerScrubber),
            this.set("disabled", !1, this.$.playerScrubber),
            this._updateControls())
        },
        onPanelTap: function(e) {
            "mini" === this.displayMode && this.set("displayMode", "full")
        },
        onPanelOpen: function(e, t) {
            this.set("uiState", t.panel)
        },
        onPanelClose: function() {
            this.set("uiState", "controls")
        },
        onMouseEnter: function() {
            this.set("userMouseMove", !0),
            "idle" === this.uiState && this.set("uiState", "controls")
        },
        onMouseLeave: function() {
            this.set("userMouseMove", !1),
            "controls" !== this.uiState || this.settingsPopupVisible || this.supportPopupVisible || this.autoHideControls()
        },
        onMouseOver: function() {
            "idle" === this.uiState && this.userMouseMove && this.set("uiState", "controls"),
            this.set("userMouseMove", !0),
            this.autoHideControls()
        },
        autoHideControls: function() {
            return "loading" === this.playerState || "stopped" === this.playerState || "" === this.playerState ? void this.set("userMouseMove", !1) : (this.cancelAutoHideControls(),
            void (this.$.playerScrubber.isScrubbing || "controls" !== this.uiState || this.settingsPopupVisible || this.supportPopupVisible || this.debounce("controlsAutoHide", function() {
                this.$.playerScrubber.isScrubbing || (this.set("uiState", "idle"),
                this.$.tveDataUsageMessage.hidden = !0),
                this.set("userMouseMove", !1)
            }, this.autoHideDelay)))
        },
        cancelAutoHideControls: function() {
            this.cancelDebouncer("controlsAutoHide")
        },
        resetAdData: function() {
            this.adData = {},
            this.adData.isC3 = this.isC3Ad,
            this.adData.isAuditude = this.isAuditude
        },
        setUiFromTap: function(e) {
            e.currentTarget.dataset && e.currentTarget.dataset.state && !this.isEasActive && this.set("uiState", e.currentTarget.dataset.state)
        },
        scrollToChannel: function() {
            this.isListing(this.watchable) && this.$.miniGuide.scrollToChannel(this.watchable.channel.number)
        },
        setClosedCaptionsEnabled: function(e) {
            this.api.setClosedCaptionsEnabled(e && "mini" !== this.get("displayMode"))
        },
        setPreferredAudioLanguage: function(e) {
            this.api.setPreferredAudioLanguage(this.normalizedAudioProgram(e))
        },
        updateSettingsNotification: function(e, t) {
            this.set("icon", e, this.$.notificationSettings),
            this.set("showText", t ? this.localize("ON") : this.localize("OFF"), this.$.notificationSettings),
            this.set("isActive", t, this.$.notificationSettings)
        },
        _canWatchAsset: function(e) {
            if (this.watchable)
                return !(!e && "stopped" !== this.playerState && "error" !== this.playerState && "closed" !== this.playerState && this.isWatchingAssetDisabled(this.watchable, e)) || ((this.watchable.channel || {}).tveVariant ? (this.isListing(this.watchable) && this.api.stop(),
                this.oohAutoPivot ? (this.set("isAutoPivoting", !0),
                this.fire("app:player:watchChannel", {
                    channel: {
                        id: this.watchable.channel.tveVariant,
                        _type: "TelevisionStation/Channel"
                    }
                })) : this.set("error", {
                    category: "ooh",
                    fatal: !0
                })) : (this.fire("app:check:ooh", {
                    inHomeAsset: this.watchable
                }),
                this.closePlayer()),
                !1)
        },
        _onHeartbeatFailed: function(e, t) {
            return this.stopAsset(),
            "403-102" === t.subCode ? void this._canWatchAsset(!1) : void this.set("error", {
                category: "Heartbeat",
                code: t.code,
                subCode: t.subCode,
                fatal: !0
            })
        },
        _onErrorChanged: function(e) {
            e && this.set("playerState", "error")
        },
        _displayModeChanged: function() {
            switch (document.body.classList.remove("is-player-full"),
            this.set("hideCursor", !1),
            this.updateStyles(),
            this._onSettingCCChanged(this.isCCActive),
            this.displayMode) {
            case "mini":
                this.$$(".xa-player-container").focus();
                break;
            case "full":
                document.body.classList.add("is-player-full"),
                this.$$(".xa-player-container").focus()
            }
        },
        _playerStateChanged: function(e, t) {
            switch (this.$.endPanel.active = !1,
            this.$.errorPanel.active = !1,
            this.$.loadingPanel.reset(),
            this.$.stoppedPanel.active = !1,
            this.checkForPendingStop(),
            this.stopResumePointInterval(),
            this.stopHeartbeat(),
            e) {
            case "ended":
                this.setEnded();
                break;
            case "error":
                this.$.errorPanel.active = !0;
                break;
            case "loading":
                "playing" === this.api.getPlayerStatus() && (this.set("lastVolume", this.volume),
                this.muteVolume()),
                this.set("active", !0, this.$.loadingPanel),
                this.announceState(this.localize("Video_loading_d_During_playback_press_tab_to_skip_"));
                break;
            case "playing":
                "loading" !== t ? (this.userCoverTap && (this.set("icon", "video-play", this.$.notificationPlayPause),
                this.set("isActive", !0, this.$.notificationPlayPause)),
                this.announceState(this.localize("Video_playing"))) : this.autoHideControls(),
                this._adModeStateCheck(),
                this.startHeartbeat(this),
                this.startResumePointInterval();
                break;
            case "paused":
                this.userCoverTap && (this.set("icon", "video-pause", this.$.notificationPlayPause),
                this.set("isActive", !1, this.$.notificationPlayPause)),
                this._adModeStateCheck(),
                this.announceState(this.localize("Video_paused"));
                break;
            case "stopped":
                this.$.stoppedPanel.active = !0
            }
        },
        checkForPendingStop: function() {
            this.pendingPlayerStop && (this.api.stop(),
            this.set("pendingPlayerStop", "preparing" === this.api.getPlayerStatus()))
        },
        setEnded: function() {
            var e = this.watchable;
            this.finishWatching(e),
            this.isAnyVod(e) ? this.closePlayer({
                resumePointRefreshTimeout: 5e3
            }) : this.isRecording(e) && (this.stopAsset(),
            this.$.endPanel.active = !0,
            this.set("watchable", e, this.$.endPanel),
            this.isFullscreen() && this.exitFullscreen()),
            this.fire("app:player:notify:ended", {
                watchable: e
            }),
            this.fire("user:resume-points:remove", XTV.resumePointsBehavior.getById(e.mediaId))
        },
        _uiStateChanged: function(e, t) {
            switch (this.set("hideCursor", !1),
            e) {
            case "last-watched":
                this.cancelAutoHideControls(),
                setTimeout(function() {
                    this.$.lastWatchedStorage.refresh(),
                    this.$$("#lastWatchedCarousel").open(),
                    this.$$("#lastWatchedClose").focus()
                }
                .bind(this), 500);
                break;
            case "mini-guide":
                this.cancelAutoHideControls(),
                this.$.miniGuide.open(),
                this.$.miniGuide.takeFocus();
                break;
            case "idle":
                this.isFullscreen() && this.set("hideCursor", !0),
                this.closePopups();
                break;
            case "info":
                this.cancelAutoHideControls(),
                this.announceState(this.localize("Please_wait_d")),
                this.async(function() {
                    this.$$("#playerInfoPanel .info-content").focus()
                }, 500);
                break;
            default:
                this.$.playerNav.resetState(),
                this.autoHideControls()
            }
            switch (t) {
            case "last-watched":
                this.$$("#lastWatchedCarousel").close(),
                "controls" === e && this.$.playerNav.focusLastWatchedButton();
                break;
            case "mini-guide":
                this.$.miniGuide.close(),
                "controls" === e && this.$.playerNav.focusMiniGuideButton();
                break;
            case "info":
                "controls" === e && this.$.metadataSummary.focusInfoButton()
            }
        },
        hideFeatureButtons: function(e, t) {
            return !this.hasPlayingState(e) || !t
        },
        _inState: function(e, t) {
            return e === t
        },
        _onWatchableChanged: function(e, t) {
            if (e && (t && this.stopWatching(t),
            this.set("resolvedStreamUrl", null),
            this._setPlayerA11yLabel(e),
            this._canWatchAsset(this.user.inhome))) {
                if (this.isListing(e) && "ExternalStream" === (e.stream || {})._type)
                    this.getExternalTveLinearStream(e.channel.streamId);
                else if ("ExternalStream" === (e.stream || {})._type)
                    this.set("resolvedStreamUrl", e.stream.streamId);
                else if ((e.stream || {}).url)
                    this.setResolvedStreamUrl(e.stream.url);
                else if ("playing" !== this.api.getPlayerStatus())
                    return void this.set("error", {
                        category: "Player",
                        code: "100",
                        fatal: !0
                    });
                this._updateControls()
            }
        },
        _setPlayerA11yLabel: function(e) {
            var t = "";
            t = e.creativeWork && e.creativeWork.series && e.creativeWork.series.name ? e.creativeWork.series.name + ". " + e.derivedTitle : e.derivedTitle,
            this.set("playerA11yLabel", t)
        },
        _updateNavButtons: function(e) {
            return ["loading", "error"].indexOf(e) > -1
        },
        _updateControls: function() {
            this.isListing(this.watchable) ? (this.$.miniControls.setAttribute("video-type", "linear"),
            this.$.playerScrubber.setAttribute("video-type", "linear"),
            this.set("disabled", !0, this.$.playerScrubber)) : (this.$.miniControls.setAttribute("video-type", "normal"),
            this.$.playerScrubber.setAttribute("video-type", "normal"),
            this.set("disabled", this.isTrickModesRestricted(this.watchable), this.$.playerScrubber)),
            this.updateStyles()
        },
        updateTimeline: function() {
            var e = this.api.getTimeline()
              , t = e.filter(function(e) {
                return e.startTime > 0 && e.startTime < this.playerDuration
            }, this);
            this.set("timelineAdBreaks", t)
        },
        _onPlayerDurationChanged: function() {
            var e, t = "";
            this.watchable && (e = this.isRecordingInProgress(this.watchable),
            this.$.playerScrubber.toggleClass("in-progress", e),
            this.$.playerScrubber.set("limit", e ? this.playerDuration : null),
            e ? (t = this.formatTime(this.watchable.duration),
            this.set("scrubberMax", this.watchable.duration)) : this.isListing(this.watchable) ? (t = moment(this.watchable.endTime).format("h:mma"),
            this.set("scrubberMax", moment(this.watchable.endTime).diff(moment(this.watchable.startTime)))) : (t = this.formatTime(this.playerDuration),
            this.set("scrubberMax", this.playerDuration)),
            this.adMode || this.$.playerScrubber.set("labelRight", t))
        },
        updateLocalResumePoint: function() {
            var e, t;
            this.adMode || this.isListing(this.watchable) || !this.isSignedIn() || (e = XTV.resumePointsBehavior.getById(this.watchable.mediaId),
            t = Math.floor(this.api.getContentPosition()),
            e ? e && Math.abs(e.position - t) > 1e3 && (e.position = t,
            this.fire("user:resume-points:update", e),
            this.set("debugPanel.lastSavedResumePoint", t)) : this.fire("user:resume-points:create", {
                mediaId: this.watchable.mediaId,
                position: t
            }))
        },
        _onPlayerPositionChanged: function() {
            var e = "";
            this.watchable && (this.isListing(this.watchable) ? (this.set("scrubberPosition", moment().diff(this.watchable.startTime)),
            e = moment(this.watchable.startTime).format("h:mma")) : (this.set("scrubberPosition", this.playerPosition),
            e = this.formatTime(this.playerPosition),
            this.updateLocalResumePoint()),
            this.$.playerScrubber.set("labelLeft", "0:00" === e ? "" : e))
        },
        _onSettingCCChanged: function(e) {
            if (this.api && this.ccAvailable && "closed" !== this.displayMode) {
                var t = ["initialized", "preparing", "seeking", "paused", "playing"].indexOf(this.api.getPlayerStatus()) > -1;
                t && (this.setClosedCaptionsEnabled(e),
                this.updateSettingsNotification("badge-cc", e),
                ["loading", "error"].indexOf(this.playerState) === -1 && this.announceState(e ? this.localize("Closed_captions_on") : this.localize("Closed_captions_off")))
            }
        },
        _onSettingCCStyleChanged: function(e) {
            this.api && this.api.setClosedCaptionsStyle(e)
        },
        _onSettingDVSChanged: function(e) {
            var t;
            this.api && this.watchable && this.watchable.hasDVS && (t = this.api.getAvailableAudioLanguages(),
            this.setPreferredAudioLanguage(t[this.isDVSActive ? 1 : 0]),
            this.updateSettingsNotification("badge-dvs", e),
            ["loading", "error"].indexOf(this.playerState) === -1 && this.announceState(e ? this.localize("Video_description_on") : this.localize("Video_description_off")))
        },
        _onSettingSAPChanged: function() {
            var e = this.sapLanguages
              , t = "en";
            this.api && this.sapAvailable && e.length > 1 && (t = this.isSAPActive ? e.indexOf(this.audioProgram) > 0 ? this.audioProgram : e[1] : e[0],
            this.updateSettingsNotification("badge-sap", this.isSAPActive),
            ["loading", "error"].indexOf(this.playerState) === -1 && this.announceState(this.isSAPActive ? this.localize("SAP_on") : this.localize("SAP_off"))),
            this.api && this.sapAvailable && (this.setPreferredAudioLanguage(t),
            this.skipAudioProgramUpdate || this.set("audioProgram", t)),
            this.playerPlatformApi && this.set("debugPanel.currentLanguage", this.playerPlatformApi.getCurrentAudioLanguage())
        },
        _onSettingAudioProgramChanged: function() {
            this.api && this.sapAvailable && (this.skipAudioProgramUpdate = !0,
            this.set("isSAPActive", this.sapLanguages.indexOf(this.audioProgram) > 0),
            this.skipAudioProgramUpdate = !1)
        },
        _onSettingVolumeChanged: function(e) {
            this.api && this.api.setVolume(e / 100)
        },
        _onSettingQualityChanged: function(e) {
            this.setPlayerQuality(e)
        },
        _onSettingAutoHideChanged: function() {
            this.cancelAutoHideControls(),
            this.autoHideControls()
        },
        _toggleSettingsPopup: function() {
            this._closeSupportPopup(!1),
            this.settingsPopupVisible ? this._closeSettingsPopup(!0) : this._openSettingsPopup()
        },
        _openSettingsPopup: function() {
            this.set("settingsPopupVisible", !0),
            this.$$("tv-player-settings-popup").takeFocus(),
            this.cancelAutoHideControls()
        },
        _closeSettingsPopup: function(e) {
            this.set("settingsPopupVisible", !1),
            e && this.$.playerSettingsMenu.querySelector("button").focus(),
            this.autoHideControls()
        },
        _toggleSupportPopup: function() {
            this._closeSettingsPopup(!1),
            this.supportPopupVisible ? this._closeSupportPopup(!0) : this._openSupportPopup()
        },
        _openSupportPopup: function() {
            this.set("supportPopupVisible", !0),
            this.$.supportPopup.takeFocus(),
            this.cancelAutoHideControls()
        },
        _closeSupportPopup: function(e) {
            this.set("supportPopupVisible", !1),
            e && this.$.playerSupportMenu.querySelector("button").focus(),
            this.autoHideControls()
        },
        _adModeStateCheck: function(e) {
            this.externalAds && this.adMode && !this.adBreakIsVpaid && ("paused" === this.playerState ? (this.$.playerCover.hidden = !1,
            this.set("icon", "video-play", this.$.notificationPlayPause),
            this.set("isActive", !0, this.$.notificationPlayPause)) : this.$.playerCover.hidden = !0),
            "undefined" != typeof e && (this.$.playerCover.hidden = !!e)
        },
        _onDisplayOohInfoOverlay: function() {
            this.$.overlayPlayerOohInfo.open()
        },
        _onVideoClickThrough: function() {
            this.adMode && "playing" === this.playerState && this.adData.clickThrough && window.open(this.adData.clickThrough, "_blank")
        },
        setDebugPanelProps: function() {
            this.set("debugPanel.assetType", this.watchable._type),
            this.set("debugPanel.trickModesRestricted", this.isTrickModesRestricted(this.watchable)),
            this.set("debugPanel.isC3", this.isC3Ad.toString()),
            this.set("debugPanel.isAuditude", this.isAuditude.toString()),
            this.set("debugPanel.isDAI", this.isDAI.toString()),
            this.set("debugPanel.availableBitrates", this.bitrateProfiles),
            this.set("debugPanel.validBitrates", this.validBitrates),
            this.set("debugPanel.filteredBitrates", this.filteredBitrates),
            this.set("debugPanel.maximumBitrate", this.get("maximumBitrate")),
            this.set("debugPanel.languages", this.sapLanguages),
            this.set("debugPanel.videoQuality", this.videoQuality || "auto")
        },
        _resumeAfterAdBreak: function() {
            this.set("adEndPosition", 0),
            this.set("disabled", !1, this.$.playerScrubber),
            this.set("active", !0, this.$.rating),
            this._updateControls()
        },
        vpaidExit: function() {
            this.adBreakIsVpaid && (this.set("adBreakIsVpaid", !1),
            this.set("isVpaid", !1),
            this.$.playerCover.hidden = !1)
        },
        DURATION_CHANGED: function(e) {
            var t = this.isHulu && this.adMode && e.duration < 1e3 ? 1e3 * e.duration : e.duration;
            this.set("playerDuration", t)
        },
        MEDIA_OPENED: function(e) {
            return "closed" === this.displayMode ? void this.api.stop() : void (this.watchable && (this.isRecordingInProgress(this.watchable) && this.restartVideo && 0 !== this.api.getCurrentPosition() && this.async(function() {
                this.api.setPosition(0)
            }, 500),
            this.addPlayerResizing(),
            this.lastVolume > 0 && this.unmuteVolume(),
            this.configureSAP(),
            this.configureBitrates(),
            this.setPreferredAudioLanguage(this.audioProgram),
            this.setCCAvailable((e || {}).hasCC),
            this.setClosedCaptionsEnabled(this.isCCActive),
            this.set("dvsAvailable", !this.isEasActive && this.watchable.hasDVS),
            this.set("sapAvailable", !this.isEasActive && this.watchable.hasSAP),
            this.set("playerContainer", this.$.playerDiv, this.$.rating),
            this.set("active", !0, this.$.rating),
            this._onSettingDVSChanged(this.isDVSActive),
            this._onSettingCCStyleChanged(this.ccStyleSettings),
            this._onSettingAudioProgramChanged(),
            this.addToLastWatched(),
            this.startResumePointInterval(),
            this.showTveDataUsageMessage(),
            this.isListing(this.watchable) && this.setupLinearAssetRefreshTimer(),
            this.set("playerVersion", this.api.getVersion()),
            this.set("playerDuration", this.api.getDuration()),
            "disney" === (this.watchable.stream || {}).streamProvider && this.set("playerState", "playing"),
            this.set("uiState", "controls"),
            this.set("adMode", !1),
            this.set("adEndPosition", 0),
            this.vpaidExit(),
            this.updateTimeline(),
            this.setDebugPanelProps(),
            this.$.metadataSummary.setHuluNetworkLogo(this.isHulu),
            this.$.playerScrubber.updateStyles(),
            this._updateControls(),
            this.fire("app:player:notify:opened", {
                watchable: this.watchable
            }),
            this.logVideoEvent(this, "START"),
            this.fire("user:resume-points:refresh")))
        },
        MEDIA_ENDED: function() {
            this.set("playerState", "ended")
        },
        _onPlayerError: function(e) {
            e.category = "Player",
            e.description = (e.description || "").replace(/\'|\./g, ""),
            e.watchable = this.watchable || {},
            e.fatal = !0,
            this.isAutoPivoting = !1,
            this.set("error", e),
            this.set("debugPanel.error", e),
            this.set("restartVideo", !1),
            this.logVideoEvent(this, "ERROR", e)
        },
        MEDIA_FAILED: function(e) {
            this._onPlayerError(e.error)
        },
        MEDIA_RETRY: function(e) {
            e.isRetry = !0,
            this.set("error", e),
            this.logVideoEvent(this, "RETRY", e),
            this.set("debugPanel.retryMessage", JSON.stringify(e))
        },
        MEDIA_PROGRESS: function(e) {
            var t;
            return this.adMode && this.adBreakIsVpaid ? void (this.api.adManager.isAdPlaying() || this.AD_BREAK_COMPLETE({
                type: "AdBreakComplete"
            })) : (this.isDAI && this.adMode && this.adEndPosition > 0 && e.position > this.adEndPosition && this.async(function() {
                this.adMode && (this.AD_COMPLETE(),
                this.AD_BREAK_COMPLETE())
            }, 1e3),
            t = this.isHulu && this.adMode && e.position < 1e3 ? 1e3 * e.position : e.position,
            t = Math.floor(t || 0),
            this.set("playerPosition", t),
            void (this.isStreamProvider("disney", this.watchable) && 0 === t && this._onPlayerPositionChanged()))
        },
        NUMBER_OF_ALTERNATIVE_AUDIO_STREAMS_CHANGED: function() {
            this.configureSAP()
        },
        PLAY_STATE_CHANGED: function(e) {
            var t = ["ended", "playing", "paused"];
            t.indexOf(e.playState) > -1 && this.set("playerState", e.playState)
        },
        AD_BREAK_START: function(e) {
            this.$.tveDataUsageMessage.hidden && this.set("uiState", "idle"),
            this.set("adEndPosition", (e.videoAdBreak || {}).endTime || 0),
            this.set("adMode", !0);
            var t = this.breakContainsVpaid(e.videoAdBreak);
            this.set("adBreakIsVpaid", t),
            (this.externalAds || t) && (this.resetAdData(),
            this.adData.adBreakStart = e,
            this.adData.vpaid = t,
            this.adData.type = e.type,
            this.set("adEvent", this.adData),
            this._adModeStateCheck(!0)),
            t && this.set("playerDuration", e.videoAdBreak.duration || 0),
            this.set("disabled", !0, this.$.playerScrubber),
            this.set("active", !1, this.$.rating)
        },
        AD_BREAK_COMPLETE: function(e) {
            this.set("adMode", !1),
            (this.externalAds || this.adBreakIsVpaid) && (this.resetAdData(),
            this.adData.adBreakComplete = e,
            this.adData.type = e.type,
            this.set("adEvent", this.adData.adBreakComplete),
            this._adModeStateCheck(!1)),
            this.playerDuration !== this.api.getDuration() && this.set("playerDuration", this.api.getDuration()),
            this.$.playerScrubber.duration !== this.playerDuration && this.$.playerScrubber._onDurationStatusChange(this.playerDuration),
            this.updateTimeline(),
            this.vpaidExit(),
            this._resumeAfterAdBreak()
        },
        AD_BREAK_EXITED: function(e) {
            this.set("adMode", !1),
            this.vpaidExit(),
            (this.externalAds || this.adBreakIsVpaid) && (this.resetAdData(),
            this.adData.adBreakExited = e,
            this.adData.type = e.type,
            this.set("adEvent", this.adData.adBreakExited)),
            this._resumeAfterAdBreak()
        },
        AD_START: function(e) {
            return this.set("adMode", !0),
            this.set("adIsVpaid", (e.videoAd || {}).vpaid),
            (this.externalAds || this.adBreakIsVpaid) && (this.adData.adStart = e,
            this.adData.type = e.type,
            this.set("adEvent", this.adData.adStart)),
            this.adData.clickThrough = (e.videoAd || {}).clickThrough || "",
            this.adIsVpaid && !this.adData.clickThrough ? void (this.$.playerCover.hidden = !0) : (this.$.playerCover.hidden = !1,
            void this.set("disabled", !this.isAdSeekable(e), this.$.playerScrubber))
        },
        AD_COMPLETE: function(e) {
            this.set("adMode", !1),
            (this.externalAds || this.adIsVpaid) && (this.adData.adStart = null,
            this.adData.adComplete = e,
            this.adData.type = e.type,
            this.set("adEvent", this.adData.adComplete)),
            this.set("adIsVpaid", !1),
            this.adData.clickThrough = "",
            this.isDAI && this.set("disabled", this.isTrickModesRestricted(this.watchable), this.$.playerScrubber)
        },
        AD_EXITED: function(e) {
            this.set("adMode", !1),
            this.vpaidExit(),
            (this.externalAds || this.adIsVpaid) && (this.adData.adStart = null,
            this.adData.adExit = e,
            this.adData.type = e.type,
            this.set("adEvent", this.adData.adExit))
        },
        AD_PROGRESS: function(e) {
            (this.externalAds || this.adBreakIsVpaid) && (this.adData.adProgress = e,
            this.adData.type = e.type,
            this.set("adEvent", this.adData.adProgress))
        },
        AD_SEEK: function(e) {},
        EMERGENCY_ALERT_STARTED: function() {
            "closed" !== this.displayMode && (this.set("isEasActive", !0),
            this.set("disabled", !0, this.$.playerScrubber),
            this.set("disableControls", !0, this.$.playerScrubber),
            "mini" === this.displayMode && this.set("displayMode", "full")),
            this.logVideoEvent(this, "EMERGENCY_ALERT_STARTED")
        },
        EMERGENCY_ALERT_COMPLETE: function() {
            this.onEasComplete(),
            this.logVideoEvent(this, "EMERGENCY_ALERT_COMPLETE")
        },
        EMERGENCY_ALERT_FAILURE: function() {
            this.onEasComplete(),
            this.logVideoEvent(this, "EMERGENCY_ALERT_FAILURE")
        }
    })
}(window),
Polymer({
    is: "tv-recommendations",
    properties: {
        creativeWork: Object,
        recommendationsParams: {
            type: Object,
            value: void 0,
            notify: !0
        },
        entityId: {
            notify: !0,
            observer: "_entityIdChanged",
            type: String,
            value: void 0
        },
        hasNoRecommendations: {
            type: Boolean,
            computed: "_hasNoRecommendations(recommendations)",
            notify: !0
        },
        recommendations: Array,
        selectedTab: String
    },
    behaviors: [XTV.TvLocalizeBehavior, XTV.TvUrlBehavior],
    observers: ["_setTeams(creativeWork.eventTeams)"],
    _setTeams: function() {
        var e, t;
        this.creativeWork && this.creativeWork.eventTeams && (t = this.creativeWork.eventTeams.map(function(t) {
            return e = {
                creativeWork: t,
                fallbackSrc: this.creativeWork.fallbackImage,
                src: this.creativeWork.image,
                title: this.creativeWork.name
            },
            e.creativeWork.teamLogo = t.teamLogo,
            e.creativeWork.type = t._type,
            e.url = this.urlFor("entity/sports/team", t.merlinId),
            e
        }
        .bind(this)),
        this.set("recommendations", t))
    },
    _tap: function(e) {
        this.set("entityId", e.model.item.merlinId)
    },
    handleRecommendationsResponse: function(e) {
        var t, i = {}, n = e.detail.resource.getEmbedded("results");
        return t = n.map(function(e) {
            return i = e.getEmbedded("entity"),
            {
                merlinId: i.getProp("merlinId"),
                title: e.getProp("name"),
                src: i.getFirstAction("image", {
                    width: 240,
                    height: 320
                }).getActionUrl(),
                fallbackSrc: i.getFirstAction("fallbackImage", {
                    width: 240,
                    height: 320
                }).getActionUrl(),
                url: this.urlFor("entity", i.getProp("merlinId"))
            }
        }, this),
        0 === t.length && this.creativeWork && this.creativeWork.eventTeams ? void this.notifyPath("creativeWork.eventTeams") : void this.set("recommendations", t)
    },
    _entityIdChanged: function() {
        this.set("recommendations", []),
        this.set("recommendationsParams", {
            entityId: this.entityId,
            limit: 10
        })
    },
    _hasNoRecommendations: function() {
        return !this.recommendations || !this.recommendations.length
    },
    _setA11yLabel: function(e, t) {
        return 0 === e ? t + "-heading " + t + "-item-" + e : t + "-item-" + e
    },
    _setA11yInstructions: function(e, t) {
        return 0 === e ? t + "-instructions" : ""
    }
}),
function(e) {
    e.XTV = e.XTV || {},
    Polymer({
        is: "tv-resume-points",
        hostAttributes: {
            hidden: !0
        },
        properties: {
            autoFetch: {
                type: Boolean,
                value: !1
            },
            endpointParams: {
                type: Object,
                value: {
                    maxDaysOld: 30
                }
            },
            resource: Object,
            resumePoints: {
                type: Object,
                notify: !0,
                readOnly: !0,
                value: function() {
                    return {}
                }
            },
            resumePointInterval: Number
        },
        observers: ["_resourceChanged(resource)", "_intervalChanged(resumePointInterval)"],
        setResumePoints: function() {
            var t = {};
            Object.keys(this.resumePoints).forEach(function(e) {
                t[e] = this.resumePoints[e]
            }, this),
            this._setResumePoints(t),
            e.XTV.resumePoints = this.resumePoints
        },
        update: function(e) {
            this.resumePoints && e && (this.resumePoints[e.mediaId] = e,
            this.setResumePoints())
        },
        remove: function(e) {
            this.resumePoints && e && (delete this.resumePoints[e.mediaId],
            this.setResumePoints())
        },
        sendApiRequest: function() {
            this.fetching || (this.fetching = !0,
            this.$.api.sendRequest())
        },
        _createMap: function(t) {
            var i = {}
              , n = !1;
            t.forEach(function(e) {
                (this.resumePoints[e.mediaId] || {}).dateUpdated !== e.dateUpdated && (n = !0),
                i[e.mediaId] = e
            }, this),
            n && (this._setResumePoints(i),
            e.XTV.resumePoints = this.resumePoints)
        },
        _intervalChanged: function(e) {
            this.set("endpointParams.maxDaysOld", e)
        },
        _resourceChanged: function() {
            if (this.resource && this.resource.getEmbedded("resumePointGroups")) {
                var e = this.resource.getEmbedded("resumePointGroups").map(function(e) {
                    return e.getEmbedded("lastUpdatedResumePoint").getProps()
                });
                this._createMap(e)
            }
        },
        onApiResponse: function(e) {
            this.fetching = !1,
            this.set("resource", e.detail.resource)
        },
        onApiError: function() {
            this.fetching = !1
        }
    })
}(window),
Polymer({
    is: "tv-online-poller",
    properties: {
        permittedOfflineErrors: {
            readonly: !0,
            value: 3
        },
        offlineErrors: {
            type: Number,
            value: 0
        },
        isOnline: {
            type: Boolean,
            value: !0
        }
    },
    start: function() {
        this._checkConnection(),
        clearInterval(this.pollTimer),
        this.pollTimer = setInterval(this._checkConnection.bind(this), 15e3)
    },
    stop: function() {
        this.pollTimer = clearInterval(this.pollTimer)
    },
    _checkConnection: function() {
        fetch("/favicon.ico", {
            method: "HEAD"
        }).then(this._onSuccess.bind(this))["catch"](this._onError.bind(this))
    },
    _onSuccess: function() {
        this.isOnline || (this.offlineErrors = 0,
        this.isOnline = !0,
        this.fire("is-online"))
    },
    _onError: function() {
        this.offlineErrors++,
        this.isOnline && this.offlineErrors >= this.permittedOfflineErrors && (this.isOnline = !1,
        this.fire("is-offline"))
    }
}),
function(e) {
    function t(e) {
        console && console.log && console.log(e)
    }
    function i(e) {
        console && console.warn && console.warn(e)
    }
    function n(e) {
        Object.keys(e).forEach(function(i) {
            var n;
            if ("function" == typeof (e[i] || {}).join)
                n = "[" + e[i].join(", ") + "]";
            else if ("object" == typeof e[i])
                try {
                    n = JSON.stringify(e[i])
                } catch (r) {
                    n = ""
                }
            else
                n = e[i];
            t(i + ": " + n)
        })
    }
    var r = {
        events: {}
    };
    e.XTV = e.XTV || {},
    e.XTV.TvXacsaDebug = {
        enabled: !1,
        debug: function(e, i) {
            this.isConsoleDebug && (t(e),
            "object" == typeof i && n(i),
            "string" == typeof i && t(i),
            t("------"))
        },
        perfStart: function() {
            var e = Date.now();
            r.last = e,
            r.start = e,
            r.running = !0
        },
        perf: function(e) {
            var t = Date.now()
              , n = t - (r.last || t);
            r.running && (r.events[e] = n,
            this.isConsolePerf && i(e + " " + n),
            r.last = t)
        },
        perfEnd: function(e) {
            var t = Date.now() - r.start;
            this.isConsolePerf && i(e + " " + t),
            r.events[e] = t,
            this.fire("log", Object.assign({
                module: "AUTH",
                type: "PERF"
            }, r.events)),
            ["authorized", "error"].indexOf(e) > -1 && window.ll("tagEvent", "Provision Completed", {
                Succeeded: "error" === e ? "No" : "Yes",
                Duration: parseInt(t / 1e3, 10)
            }),
            r.events = {},
            r.running = !1
        }
    }
}(window),
function(e) {
    e.XTV = e.XTV || {};
    var t = e.XTV.TvXacsaDrmHelper;
    e.XTV.TvXacsaDhHelper = {
        sessionBasedKey: function(e, t) {
            return e.computeSecret(t)
        },
        otherInfo: function(e, i) {
            return t.concatU8(t.utf8("hmacSha256"), t.utf8(e), t.utf8(t.base64toHex(i)), t.utf8("default"))
        },
        hash: function(e, t) {
            return cryptoB.createHash("sha256").update(e).digest(t)
        },
        sessionMacingKey: function(e, t, i) {
            return cryptoB.createHash("sha256").update(new Uint8Array([0, 0, 0, 1])).update(e, i).update(t, i).digest(i)
        },
        jwtParts: function(e) {
            var t = e.split(".");
            return {
                claims: JSON.parse(atob(t[1])),
                unsigned: t[0] + "." + t[1],
                signed: t[2]
            }
        },
        messageAuthCode: function(e, t, i) {
            var n;
            return n = e instanceof Uint8Array ? e.copy ? e : new Buffer(e) : e,
            window.cryptoB.createHmac("sha256", n).update(t).digest(i)
        }
    }
}(window),
function(e) {
    var t, i = [], n = !1, r = null, s = function() {
        try {
            var e = (new UAParser).getResult().browser.name
        } catch (t) {}
        return "Chrome" === e
    };
    e.XTV = e.XTV || {},
    e.XTV.tvFlashCallQueue = {
        setErrorCallback: function(e) {
            t = e
        },
        addCall: function(e, t) {
            i.push({
                funcName: e,
                args: t
            }),
            n && this.flush(r)
        },
        flush: function(e) {
            var o;
            for (n = !0,
            r = e; i.length > 0; )
                if (o = i.shift(),
                "function" == typeof e[o.funcName])
                    try {
                        o.args ? 0 === o.args.length ? e[o.funcName]() : 1 === o.args.length ? e[o.funcName](o.args[0]) : 2 === o.args.length ? e[o.funcName](o.args[0], o.args[1]) : 3 === o.args.length ? e[o.funcName](o.args[0], o.args[1], o.args[2]) : o.args.length >= 4 && e[o.funcName](o.args[0], o.args[1], o.args[2], o.args[3]) : e[o.funcName]()
                    } catch (a) {
                        t && t({
                            code: o.funcName + ".exists" + (s() ? ".chrome" : ""),
                            description: "Exception calling flash method (" + o.funcName + ") (" + a + ")"
                        })
                    }
                else
                    t && t({
                        code: o.funcName + ".not.exists",
                        description: "Attempting to call non-existent method on Flash object: " + o.funcName
                    })
        }
    }
}(window),
function(e) {
    e.XTV = e.XTV || {};
    var t = e.XTV.tvFlashCallQueue;
    Polymer({
        is: "tv-xacsa-swf",
        behaviors: [XTV.TvXacsaDebug],
        properties: {
            flashVersion: {
                notify: !0
            },
            license: {
                notify: !0
            },
            error: {
                notify: !0
            }
        },
        ready: function() {
            XTV.TvXacsaSwfToJs = this,
            this.flashTimeout = setTimeout(function() {
                this.isFlashTimeoutError = !0,
                this.isDrmRequest && this._onFlashTimeoutError()
            }
            .bind(this), 45e3),
            this.swfUrl = "/flash/DrmXacsMain.swf"
        },
        _onFlashTimeoutError: function() {
            this.set("error", {
                code: "flashTimeout"
            })
        },
        SwfReady: function(e) {
            this.debug("SwfReady"),
            this.set("flashVersion", e)
        },
        DrmLibReady: function() {
            this.debug("DrmLibReady"),
            t.setErrorCallback(function(e) {
                this.set("error", e)
            }
            .bind(this)),
            clearTimeout(this.flashTimeout),
            t.flush(this.$.flashDrm)
        },
        makeDrmRequest: function(e, i) {
            this.isDrmRequest = !0,
            this.isFlashTimeoutError ? this._onFlashTimeoutError() : t.addCall("DrmRequest", [e, JSON.stringify(i)])
        },
        XactTokenSuccess: function(e) {
            this.set("license", e)
        },
        XactTokenError: function(e) {
            this.set("error", e)
        }
    })
}(window),
function() {
    function e(e) {
        this.dhWorker = new window.Worker("/js/xacsa/dh-worker.js"),
        this.dhWorker.addEventListener("message", function(t) {
            var i = t.data;
            "clientPublicKey" === i.type && (this.perf("createKeyPair"),
            this.publicKey = this.u8toBase64(i.clientPublicKey),
            this.debug("Public key in client key-pair", {
                publicKeyU8: i.clientPublicKey,
                publicKeyBase64: this.publicKey,
                length: i.clientPublicKey.length,
                generatePublicKeyTime: i.generateTime,
                createDhTime: i.createTime
            }),
            e.call(this, i.clientPublicKey.length))
        }
        .bind(this)),
        this.dhWorker.postMessage({
            method: "getClientPublicKey",
            cryptoBUrl: "/js/xacsa/crypto-b.js"
        })
    }
    function t(t) {
        var i = function(n) {
            384 === n || this.publicKeyRetry > 0 ? (this.publicKeyRetry = 0,
            t.call(this)) : (this.publicKeyRetry++,
            e.call(this, i))
        };
        e.call(this, i)
    }
    function i(e) {
        var t;
        return this.nonce = this.generateNonce(),
        t = {
            aud: "XACSA",
            iss: "CIM",
            jti: "",
            iat: Date.now(),
            exp: Date.now() + 3e4,
            nbf: Date.now(),
            sub: "clientAuthentication",
            "client:nonce": this.nonce,
            "client:challenge": this.challengeResponse.authnToken,
            "client:sessionKeyAgreementPublicKey": this.publicKey,
            "client:product": "cdvr"
        },
        e && (t["client:sessionToken"] = e),
        t
    }
    function n(e) {
        var t, n, r, s, o, a = e || {};
        if (n = this.base64url(JSON.stringify(i.call(this, a.xsct))),
        a.smk) {
            t = this.signedHeader,
            s = [t, n].join(".");
            try {
                o = this.urlSafeToU8(a.smk)
            } catch (c) {
                throw new Error("invalidDeviceSmk")
            }
            r = this.u8toBase64url(this.messageAuthCode(o, this.utf8asU8(s)))
        } else
            t = this.header,
            r = "";
        return [t, n, r].join(".")
    }
    function r(e) {
        return {
            "message:id": this.id(),
            "message:type": "clientAuthentication",
            "client:cat": n.call(this, e)
        }
    }
    function s(e) {
        return this.extend(r.call(this), {
            "client:userAuthnToken": e
        })
    }
    function o(e, t) {
        var i = this.extend(r.call(this, {
            smk: e.smk
        }), {
            "client:amt": e.amt
        });
        return t && (i["client:userAuthnToken"] = t),
        i
    }
    function a(e) {
        this.set("securityKeys", {
            nonce: this.nonce,
            dhWorker: this.dhWorker
        }),
        this.perf("formatLicenseRequest"),
        this.$.drmSwf.makeDrmRequest(this.challengeResponse.authnMeta, e),
        this.debug("RequestMessage", e)
    }
    Polymer({
        is: "tv-xacsa-drm-request",
        properties: {
            flashVersion: {
                notify: !0
            },
            securityKeys: {
                notify: !0
            },
            license: {
                notify: !0
            },
            error: {
                notify: !0
            }
        },
        behaviors: [XTV.TvLocalizeBehavior, XTV.TvXacsaDebug, XTV.TvXacsaDrmHelper, XTV.TvXacsaDhHelper],
        created: function() {
            this.header = this.base64url('{"typ":"JWT","alg":"none"}'),
            this.signedHeader = this.base64url('{"typ":"JWT","kid":"SMK","alg":"HS256"}'),
            this.publicKeyRetry = 0
        },
        generate: function(e) {
            t.call(this, function() {
                e ? a.call(this, s.call(this, e)) : a.call(this, r.call(this))
            }
            .bind(this))
        },
        renew: function(e, i) {
            t.call(this, function() {
                var t;
                try {
                    t = o.call(this, e, i)
                } catch (n) {
                    this.set("error", {
                        code: n.message,
                        description: this.localize("Invalid_device_token_smk_detected_by_the_client")
                    })
                }
                t && a.call(this, t)
            }
            .bind(this))
        }
    })
}(),
function() {
    function e(e, t, i) {
        e.addEventListener("message", function(e) {
            var t = e.data;
            this.perf("computeSharedSecret"),
            "sessionBasedKey" === t.type && i(t.sessionBasedKey)
        }
        .bind(this)),
        e.postMessage({
            method: "getSessionBasedKey",
            publicKey: t
        })
    }
    function t(t, i, n) {
        var r = this.base64toU8(this.license.clientSessionKeyAgreementPublicKey);
        e.call(this, this.securityKeys.dhWorker, r, function(e) {
            var t, r, s, o;
            t = this.otherInfo(this.license.clientProviderDeviceId, this.license.clientNonce),
            r = this.sessionMacingKey(e, t),
            s = this.messageAuthCode(r, this.utf8asU8(i.unsigned)),
            o = this.u8toBase64url(s),
            n(o, i.signed, r)
        }
        .bind(this))
    }
    function i(e, t) {
        var i;
        return e.clientNonce !== this.securityKeys.nonce ? (this.set("parsedError", {
            code: "responseParsingError.nonMatchingNonce"
        }),
        !1) : e.clientAuthnResponseToken ? (i = t.claims["client:accessMacToken"],
        i ? i : (this.set("parsedError", {
            code: "responseParsingError.missingAccessMacingToken"
        }),
        !1)) : (this.set("parsedError", {
            code: "responseParsingError.missingXactToken"
        }),
        !1)
    }
    Polymer({
        is: "tv-xacsa-drm-response",
        behaviors: [XTV.TvLocalizeBehavior, XTV.TvXacsaDebug, XTV.TvXacsaDhHelper, XTV.TvXacsaDrmHelper],
        properties: {
            securityKeys: {
                type: Object
            },
            license: {
                type: Object,
                observer: "_parseLicense"
            },
            licenseError: {
                type: Object,
                observer: "_parseLicenseError"
            },
            parsedResponse: {
                notify: !0
            },
            parsedError: {
                notify: !0
            }
        },
        _parseLicense: function(e) {
            var n, r;
            this.perf("licenseRequest");
            try {
                r = this.jwtParts(e.clientAuthnResponseToken)
            } catch (s) {
                return void this.set("parsedError", {
                    code: "responseParsingError.unableToParseAccessMacingToken"
                })
            }
            t.call(this, e, r, function(t, s, o) {
                this.perf("verifyMac"),
                t === s ? (this.debug("ResponseVerificationSuccess", {
                    clientSign: t,
                    serverSign: s
                }),
                n = i.call(this, e, r),
                n && this.set("parsedResponse", {
                    smk: o,
                    amt: n,
                    nonce: e.clientNonce,
                    xact: r.claims["client:authnToken"],
                    xactExp: r.claims["client:authnTokenNotOnOrAfter"]
                })) : this.set("parsedError", {
                    code: "responseVerificationError",
                    description: "responseVerificationError",
                    clientSign: t,
                    serverSign: s
                })
            }
            .bind(this))
        },
        _parseLicenseError: function(e) {
            this.perf("licenseError");
            var t = e.description;
            3329 === e.code ? (e.type = "SERVER_SECURITY_ERROR",
            e.description = this.localize("Server_Security_Error")) : (e.type = "INTERNAL_DRM_ERROR",
            e.description = this.localize("Internal_DRM_Error")),
            t && (e.description += ": " + t),
            this.set("parsedError", e)
        }
    })
}(),
function() {
    function e(e, t, i, n) {
        var r, s = [10];
        return r = this.concatU8(this.utf8(String(i)), s, this.utf8(t), s, this.utf8("POST"), s, this.utf8(this.provisionPath), s, this.utf8(this.domain), s, this.utf8("443"), s, this.utf8(n), s),
        this.messageAuthCode(e, r, "base64")
    }
    function t(t, i, n) {
        var r, s = Date.now(), o = this.generateNonce();
        return r = this.hash(this.utf8(i), "base64"),
        "MAC " + this.rdn({
            id: n,
            ts: s,
            nonce: o,
            ext: r,
            mac: e.call(this, t.smk, o, s, r),
            token: t.amt
        }, !0)
    }
    function i(e, t, i) {
        return JSON.stringify({
            id: "trace-id=" + i + ";parent-id=1;span-id=1",
            deviceToken: e,
            accountToken: t
        })
    }
    function n(e) {
        var t, i = {
            400: "BadRequest",
            401: "Authentication error",
            402: "Input malformed",
            403: "Authorization error",
            404: "Service for product or client not found",
            500: "General server fault",
            502: "BadGateway, upstream service rendered an invalid response",
            503: "ServiceUnavailable",
            504: "Upstream service is unavailable"
        };
        return t = i[e] ? i[e] : "4" === e.charAt(0) ? "Client error" : "5" === e.charAt(0) ? "Server error" : "Error"
    }
    Polymer({
        is: "tv-xacsa-provision",
        behaviors: [XTV.TvXacsaDhHelper, XTV.TvXacsaDrmHelper],
        properties: {
            domain: {
                type: String
            },
            timeout: {
                type: Number
            },
            response: {
                type: Object,
                notify: !0
            },
            provisionPath: {
                readOnly: !0,
                value: "/idp/provision/v3"
            },
            error: {
                notify: !0
            }
        },
        request: function(e, n) {
            var r, s = this.generateUUID(), o = this.$.ajax;
            r = i.call(this, e.xact, n, s),
            o.headers = {
                Accept: "application/json",
                Authorization: t.call(this, e, r, s),
                "Content-Type": "application/json"
            },
            o.body = r,
            o.generateRequest()
        },
        _onAjaxResponse: function(e, t) {
            var i = t.response;
            "0" !== i.status ? this.set("error", {
                name: "provision",
                code: i.status,
                description: n(i.status),
                id: i.id
            }) : this.set("response", t.response)
        },
        _onError: function(e, t) {
            this.set("error", {
                code: t.request.status,
                name: "provision"
            })
        }
    })
}(),
function() {
    window.XTV = window.XTV || {};
    var e = "access_token="
      , t = ["https://login.comcast.net/oauth/authorize?client_id=xfinity-tv-web", "response_type=token", "redirect_uri=%%redirect%%", "prompt=none"].join("&")
      , i = ["https://login.comcast.net/oauth/authorize?client_id=xtv-account-selector", "response_type=code", "redirect_uri=https://xtv-pil.xfinity.com/xtv-authn/xfinity-cb", "scope=openid%20https://login.comcast.net/api/login", "state=%%redirect%%", "prompt=none"].join("&");
    Polymer({
        is: "tv-sso",
        behaviors: [window.XTV.TvPageVisibilityHelper, window.XTV.TvUrlBehavior, window.XTV.TvXacsaDebug],
        properties: {
            accessToken: {
                type: String,
                observer: "_fetchAccountInfo"
            },
            accountInfo: {
                notify: !0,
                type: Object
            },
            error: {
                notify: !0,
                type: Object
            },
            isLoggedIn: {
                notify: !0,
                type: Boolean
            }
        },
        observers: ["_onIsPageHidden(isPageHidden)"],
        ready: function() {
            window.XTV.onAccessTokenRedir = this.onAccessTokenRedir.bind(this),
            window.XTV.onActivationCodeRedir = this.onActivationCodeRedir.bind(this)
        },
        _getCimaUrl: function(e, t) {
            return e.replace("%%redirect%%", window.location.protocol + "//" + window.location.host + t + "?" + Date.now())
        },
        _onIsPageHidden: function() {
            if ("comcast" === this.$.partner.pidForAuth)
                return this.defaultPageHiddenFlag || this.isPageHidden ? void (this.isPageHidden || this.getAccessToken(!0)) : void (this.defaultPageHiddenFlag = !0)
        },
        getAccessToken: function(e) {
            this.onPageVisible = e,
            this.accessTokenTimeout = setTimeout(function() {
                this.isAccessTokenTimeout = !0,
                e || this.fire("access-token-timeout"),
                this.fire("log", {
                    code: "access-token-timeout",
                    module: "AUTH",
                    type: "ERROR"
                })
            }
            .bind(this), this.accessTokenTimeout),
            this.accessTokenEndpoint = this._getCimaUrl(t, "/access-token.html")
        },
        onAccessTokenRedir: function(t) {
            var i;
            return this.onPageVisible || this.perf("accessToken"),
            this.isAccessTokenTimeout ? void (this.isAccessTokenTimeout = !1) : (clearTimeout(this.accessTokenTimeout),
            void (new RegExp(e).test((t || {}).hash) ? (i = this.parseUrlQuery(t.hash.substr(1)),
            this.set("accessToken", i.access_token),
            this.set("isLoggedIn", !0)) : this.set("isLoggedIn", !1)))
        },
        getActivationCode: function() {
            return this.activationCodeTimeout = setInterval(function() {
                this.isActivationCodeTimeout = !0,
                this.activationCodeDone.reject()
            }
            .bind(this), 45e3),
            this.set("activationCodeEndpoint", this._getCimaUrl(i, "/activation-code.html")),
            new Promise(function(e, t) {
                this.activationCodeDone = {
                    resolve: e,
                    reject: t
                }
            }
            .bind(this))
        },
        onActivationCodeRedir: function(e) {
            this.perf("activationCode");
            var t;
            return this.isActivationCodeTimeout ? void (this.isActivationCodeTimeout = !1) : (clearTimeout(this.activationCodeTimeout),
            void (/activationCode=/.test(e.search) ? (t = this.parseUrlQuery(e.search),
            this.activationCode = t.activationCode,
            this.activationCodeDone.resolve(this.activationCode)) : this.activationCodeDone.reject()))
        },
        _fetchAccountInfo: function() {
            var e = this.$.accountInfo;
            e.headers = {
                authorization: "Bearer " + this.accessToken,
                accept: "application/comcast+hal+json, application/json, */*; q=0.01"
            },
            e.generateRequest()
        },
        _onAccountInfo: function(e, t) {
            this.set("accountInfo", (t || {}).response || {})
        },
        _onAccountInfoError: function() {
            this.perf("accountInfoError"),
            this.set("accountInfo", {})
        }
    })
}(),
function() {
    function e() {
        return this.$.partner.partner
    }
    function t() {
        return this.$.partner.pidForAuth
    }
    function i() {
        return window.location.protocol + "//" + window.location.host + (this.loginContinuePath || "/partner-success.html")
    }
    function n() {
        return window.location.protocol + "//" + window.location.host + (this.logoutContinuePath || "/")
    }
    function r() {
        var e = this.$.challenge;
        e.headers = {
            Authorization: "XACS " + this.rdn({
                id: this.id(),
                type: "xacsBrowserAuthn"
            })
        },
        e.generateRequest()
    }
    function s(e) {
        var i = this.$.provisionApi;
        i.params = {
            xact: e.xact,
            saml: this.saml,
            partnerId: t.call(this)
        },
        i.sendRequest()
    }
    function o(e) {
        var i = this.$.createSessionApi;
        i.params = {
            xact: e,
            partnerId: t.call(this)
        },
        i.sendRequest()
    }
    function a(e, t) {
        var i, n, r = ["xacsa", e];
        this.perfEnd("error"),
        this._resetRefreshingFlags(),
        (t.code || 0 === t.code) && r.push(t.code),
        (t.subCode || 0 === t.subCode) && r.push(t.subCode),
        i = r.join("."),
        n = c.call(this, i),
        "function" == typeof n ? n.call(this) : this.set("error", {
            code: i,
            description: t.description || n,
            category: n
        }),
        this.fire("log", Object.assign({}, {
            code: t.code || "",
            prefix: e,
            module: "AUTH",
            msg: t.description || "",
            category: n,
            subCode: t.subCode || "",
            type: "ERROR",
            fatal: "function" != typeof n
        }))
    }
    function c(e) {
        var t = {
            "xacsa.provision.500.3329.11700": "DeviceLimit",
            "xacsa.provision.11700": "DeviceLimit",
            "xacsa.provision.403.403-201": "not-customer",
            "xacsa.provision.403.403-202": "market-ineligible",
            "xacsa.provision.403.403-108": this.refreshToken,
            "xacsa.provision.403.403-111": "not-customer",
            "xacsa.provision.403.403-112": this.logout,
            "xacsa.provision.403.403-203": this.onInvalidPartnerError,
            "xacsa.xact.3365.0": "Incognito",
            "xacsa.xact.DrmRequest.exists.chrome": "ChromebookGuest",
            "xacsa.xact.invalidDeviceSmk": "RemoveDevice",
            "xacsa.xact.deviceTokenParseError": "RemoveDevice",
            "xacsa.xact.flashTimeout": "FlashTimeout"
        }
          , i = {
            RemoveDevice: [/^xacsa\.xact\.3323/, /^xacsa\.xact\.3329/]
        }
          , n = t[e];
        return n ? n : (Object.keys(i).forEach(function(t) {
            i[t].forEach(function(i) {
                i.test(e) && (n = t)
            })
        }),
        n || "FatalDrmError")
    }
    Polymer({
        is: "tv-xacsa",
        behaviors: [XTV.TvLocalizeBehavior, XTV.TvXacsaDebug, XTV.TvXacsaDrmHelper, XTV.TvXacsaStore, XTV.behaviors.splunk],
        properties: {
            accountInfo: {
                notify: !0,
                type: Object,
                observer: "_onAccountInfo"
            },
            isLoggedIn: {
                type: Boolean,
                observer: "_onComcastUserLoggedInStatus"
            },
            flashVersion: {
                notify: !0
            },
            authStatus: {
                notify: !0
            },
            parsedLicenseResponse: {
                type: Object,
                observer: "_onParsedLicenseResponse"
            },
            provisionXacsaResponse: {
                type: Object,
                observer: "_onProvisionXacsaResponse"
            },
            error: {
                notify: !0,
                observer: "_onError"
            },
            challengeError: {
                observer: "_onChallengeError"
            },
            drmRequestError: {
                observer: "_onDrmRequestError"
            },
            parsedLicenseResponseError: {
                observer: "_onParsedLicenseResponseError"
            },
            provisionError: {
                observer: "_onXacsaProvisionError"
            },
            ssoError: {
                observer: "_onSSOError"
            },
            isConsoleDebug: {
                type: Boolean,
                value: !1
            },
            isConsolePerf: {
                type: Boolean,
                value: !1
            },
            loginContinuePath: String,
            logoutContinuePath: String,
            partnerId: String,
            pidForAuth: String,
            loginUrl: {
                type: String,
                notify: !0
            }
        },
        createSessionSuccess: function(e, t) {
            var i = t.resource.getProps();
            this.perf("createSession"),
            this.storeSessionResponse(i),
            this.xsct = i.xsct,
            this.tokenSummary = i.tokenSummary,
            this.checkingAccountsMatch ? (this.checkingAccountsMatch = !1,
            this._accountsMatch((i.tokenSummary || {}).xboAccountId) ? this._authorizeUser(i) : (this.switchUser = !0,
            this.deleteDevice(i))) : (this._authorizeUser(i),
            this.isLoggingInComcast && this.$.sso.getAccessToken())
        },
        onAccessTokenTimeout: function() {
            this.perf("accessTokenTimeout"),
            this.isLoggingInComcast ? this.isLoggingInComcast = !1 : this.refreshToken()
        },
        _authorizeUser: function(e) {
            this._resetRefreshingFlags(),
            this.set("authStatus", "authorized"),
            this.fire("create-session-success", {
                sessionResponse: e,
                isLoggingIn: this.isLoggingIn
            }),
            this.perfEnd("authorized"),
            this.isLoggingIn = !1
        },
        _deleteDeviceSuccess: function() {
            if (this.xact = null,
            this.removeStoredTokens(),
            this.switchUser) {
                if (this.switchUser = !1,
                !this.isRefreshingUserState)
                    return void location.reload();
                this.getSaml()
            } else
                this.fire("device-delete-success");
            "comcast" !== t.call(this) && this.login()
        },
        _onError: function(e) {
            this.set("authStatus", "error")
        },
        _onChallengeError: function(e, t) {
            this.debug("challenge error", {
                statusCode: t.request.status
            }),
            a.call(this, "challenge", {
                code: String(t.request.status),
                description: this.localize("Http_error_on_Challenge_Request_c") + " " + t.request.statusText
            })
        },
        _onDrmRequestError: function(e) {
            a.call(this, "xact", e)
        },
        _onParsedLicenseResponseError: function(e) {
            a.call(this, "parseLicense", e)
        },
        _onXacsaProvisionError: function(e) {
            this.removeXactToken(),
            ll("tagEvent", "Provision Completed", {
                Succeeded: "No"
            }),
            a.call(this, "provision", e)
        },
        _onApiProvisionOrSessionError: function(e, t) {
            this.removeXactToken(),
            a.call(this, "provision", {
                code: t.details.xhr.status,
                subCode: t.details.xhr.headers.get("X-CDVR-STATUS-SUBCODE")
            })
        },
        _onSSOError: function(e) {
            a.call(this, e.type, e)
        },
        login: function(t) {
            return this._isCoxCampus() ? void (window.location = XTV.partner.properties.campusAuthUrl) : void this.$.xtvapi.fetchHomepage().then(function(n) {
                window.location = n.data.getFirstAction("redirectToPartnerAuth", {
                    partnerId: e.call(this),
                    continueUrl: i.call(this),
                    ui_locales: t
                }).getActionUrl()
            }
            .bind(this), this.logError.bind(this))
        },
        logout: function() {
            "comcast" === t.call(this) ? (this._removeSessionToken(),
            this.fire("logout"),
            this.$.xtvapi.fetchHomepage().then(function(t) {
                window.location = t.data.getFirstAction("redirectToPartnerLogout", {
                    partnerId: e.call(this),
                    continueUrl: n.call(this)
                }).getActionUrl()
            }
            .bind(this), this.logError.bind(this))) : this.deleteDevice()
        },
        signOutOnError: function() {
            this.removeDevice(),
            this.logout()
        },
        onInvalidPartnerError: function() {
            this.removeXactToken(),
            this.getSaml(this.activationCode)
        },
        getSaml: function(e) {
            e = e || this.getStoredActivationCode(),
            e ? (this.isLoggingIn = !0,
            this._createSessionWithAuthCode(e),
            this.activationCode = e) : this.$.sso.getActivationCode().then(this._createSessionWithAuthCode.bind(this), function() {
                this._onSSOError({
                    type: "cima-pil",
                    code: "activation-code-timeout"
                })
            }
            .bind(this))
        },
        _accountsMatch: function(e) {
            return !this.accountInfo.xboAccountId || this.accountInfo.xboAccountId === e
        },
        _onAccountInfo: function() {
            this.isValidXact() && (this.isRefreshingUserState ? (this.checkingAccountsMatch = !0,
            o.call(this, this.getStoredXact())) : this._accountsMatch((this.tokenSummary || {}).xboAccountId) || (this.switchUser = !0,
            this.deleteDevice()))
        },
        _onComcastUserLoggedInStatus: function() {
            var e = this.isLoggingInComcast;
            this.isLoggingInComcast && (this.isLoggingInComcast = !1),
            this.isLoggedIn ? this.isValidXact() || this.getSaml() : this.isRefreshingUserState ? (this.perfEnd("unauthorized"),
            this.set("authStatus", "unauthorized")) : e || window.location.reload()
        },
        refreshToken: function() {
            this.drmState = this.getDrmState();
            var e = this.drmState.status;
            this.isRefreshingToken || (this.isRefreshingToken = !0,
            "canMakeSessionRequest" === e ? o.call(this, this.drmState.xact) : "deviceTokenParseError" === e ? a.call(this, "xact", {
                code: e
            }) : "canMakeDrmRequest" === e ? r.call(this) : (this.perf(e),
            this.set("authStatus", e)))
        },
        refreshUserState: function() {
            this.isRefreshingUserState || (this.isRefreshingUserState = !0,
            this.perfStart(),
            "comcast" === t.call(this) ? void 0 === this.isLoggedIn ? this.getStoredActivationCode() ? (this.isLoggingInComcast = !0,
            this.set("authStatus", "unauthorized")) : this.$.sso.getAccessToken() : this._onComcastUserLoggedInStatus() : this.refreshToken())
        },
        _onExpiredTokenError: function() {
            this.debounce("refreshToken", this.refreshToken, 2e3)
        },
        _createSessionWithAuthCode: function(e) {
            var t = this.$.getSamlTokenApi;
            return t.params = {
                tokenId: e
            },
            t.sendRequest()
        },
        deleteDevice: function() {
            var e = this.$.deleteDeviceApi;
            this.perf("deleteDevice"),
            e.params = {
                xact: this.xact || this.getStoredXact(),
                xsct: this.xsct || this.getSessionToken()
            },
            e.sendRequest()
        },
        _logoutError: function(e, t) {
            this.perf("logoutError"),
            a.call(this, "deleteDevice", {
                code: t.details.xhr.status,
                subCode: t.details.xhr.headers.get("X-CDVR-STATUS-SUBCODE")
            })
        },
        _onSamlToken: function(e, t) {
            var i = t.resource.getProps().samlResponse;
            this.saml = i,
            this.perf("saml"),
            this.drmState = this.getDrmState(i),
            r.call(this),
            this.removeStoredActivationCode()
        },
        _onSamlTokenError: function(e, t) {
            this.perf("samlError"),
            a.call(this, "getSamlToken", {
                code: t.details.xhr.status,
                subCode: t.details.xhr.headers.get("X-CDVR-STATUS-SUBCODE")
            })
        },
        _resetRefreshingFlags: function() {
            this.isRefreshingUserState = !1,
            this.isRefreshingToken = !1
        },
        _onParsedLicenseResponse: function(e) {
            var i = t.call(this);
            this._resetRefreshingFlags(),
            this.storeResponse(e, i),
            this.xact = e.xact,
            this.saml ? ("comcast" === i ? this.$.provisionXacsa.request(e, this.saml) : s.call(this, e),
            this.saml = null) : o.call(this, e.xact),
            this.debug("XactTokenSuccess", e)
        },
        _onProvisionXacsaResponse: function(e) {
            this.debug("_onProvisionXacsaResponse", e),
            this.perf("provisionComcast"),
            this.fire("log", Object.assign({}, {
                code: e.status || "",
                module: "AUTH",
                id: e.id || "",
                msg: "Successful Provision",
                type: "Success"
            })),
            o.call(this, this.xact)
        },
        _onChallengeResponse: function(e, t) {
            var i = this.$.drmRequest;
            this.perf("challenge"),
            i.challengeResponse = t.response,
            i[this.drmState.type].apply(i, this.drmState.args)
        },
        setLoginUrl: function() {
            return this._isCoxCampus() ? void this.set("loginUrl", XTV.partner.properties.campusAuthUrl) : void this.$.xtvapi.fetchHomepage().then(function(t) {
                this.set("loginUrl", t.data.getFirstAction("redirectToPartnerAuth", {
                    partnerId: e.call(this),
                    continueUrl: i.call(this)
                }).getActionUrl())
            }
            .bind(this), this.logError.bind(this))
        },
        _isCoxCampus: function() {
            return /campus\.cox/g.test(window.location)
        }
    })
}(),
Polymer({
    is: "tv-user-error-message",
    properties: {
        modal: {
            type: Boolean,
            value: !1,
            reflectToAttribute: !0
        },
        flash: {
            type: Boolean,
            value: !1,
            reflectToAttribute: !0
        },
        offline: {
            type: Boolean,
            value: !1,
            reflectToAttribute: !0
        },
        icon: String,
        reflect: {
            readOnly: !0,
            value: function() {
                return ["flash", "offline"]
            }
        },
        error: {
            type: Object,
            observer: "_onError"
        }
    },
    behaviors: [XTV.TvReflectChildClassToHost, XTV.TvLocalizeBehavior, XTV.TvFlashCompatibility],
    _onError: function(e) {
        var t = this.$$('[default-category="' + e.category + '"]');
        t ? this.errorCategory = t.getCategory(e) : this.errorCategory = e.category
    },
    _onSelectedErrorMessage: function(e, t) {
        var i = t.item;
        this.errorMessage && this.errorMessage !== i && (this.errorMessage.setAttribute("hidden", !0),
        this._unReflectClass(i)),
        this.icon = i.icon,
        i.set("error", this.error),
        i.removeAttribute("hidden"),
        this._reflectClass(i),
        this.errorMessage = i
    }
}),
function(e) {
    e.XTV = e.XTV || {};
    var t, i = /auth|name-device|terms-consent|market-ineligible|adding-device|free-episodes-movies/i, n = "out-of-home", r = {
        "default": "Default",
        university: "University",
        stream: "Stream",
        churned: "Churn"
    };
    Polymer({
        is: "tv-user",
        properties: {
            acceptedTos: Boolean,
            authToken: String,
            controls: {
                type: Object,
                notify: !0
            },
            descriptions: {
                type: Object,
                notify: !0
            },
            device: Object,
            error: Object,
            entitlements: Object,
            deviceListParams: {
                type: Object,
                value: {
                    force: !0
                }
            },
            hasLocalizeInitialized: {
                type: Boolean,
                value: !1
            },
            hasPendingUpdate: {
                type: Boolean,
                value: !1,
                notify: !0
            },
            logData: {
                type: Object,
                value: function() {
                    return {
                        user: {}
                    }
                }
            },
            accountInfo: Object,
            refreshingToken: {
                type: Boolean,
                value: !1
            },
            user: {
                type: Object,
                value: function() {
                    return {
                        device: {},
                        inhome: !1,
                        tokenSummary: {},
                        userAgent: {},
                        authenticated: !1
                    }
                }
            },
            loginUrl: {
                type: String,
                value: ""
            }
        },
        listeners: {
            "player:heartbeat:failed": "_onHeartbeatError",
            "update-device-name": "setDeviceName",
            "user:check-connection": "_checkConnection",
            "user:focus:temp": "_setTempFocus",
            "user:login": "goToLogin",
            "user:logout": "logoutUser",
            "user:resume-points:create": "createResumePoint",
            "user:resume-points:refresh": "refreshResumePoints",
            "user:resume-points:remove": "removeResumePoint",
            "user:resume-points:update": "updateResumePoint",
            "user:show-diagnostics": "_showDiagnosticsModal",
            "user:show-update-modal": "_showUpdateModal"
        },
        behaviors: [XTV.TvFlashCompatibility, XTV.TvLocalizeBehavior, XTV.TvPageVisibilityHelper, XTV.TvSpinnerBehavior, XTV.TvUrlBehavior, XTV.TvUserBehavior, XTV.TvUpdateParentalControlsBehavior, XTV.TvXacsaDrmHelper],
        observers: ["_languageChanged(selectedLanguage)", "_buildInfoReady(buildInfo.fingerprint, localize)", "onAuthStatusAndPageReady(status, pageContext, partner.allowUnauth)", "_deviceReady(device)", "_onPageVisibilityChange(isPageHidden)"],
        created: function() {
            e.XTV.User = this,
            this.setContinueUrl(window.location.pathname + window.location.search),
            t = new Konami(this._showDiagnosticsModal.bind(this))
        },
        ready: function() {
            this.set("user.userAgent", (new UAParser).getResult()),
            this.set("logData.user", {
                ssid: this.generateUUID(),
                flashVersion: this.getFlashVersion(),
                userAgent: this.user.userAgent
            })
        },
        _checkConnection: function() {},
        _languageChanged: function() {
            document.getElementsByTagName("html")[0].setAttribute("lang", this.selectedLanguage.split("-")[0])
        },
        _onIsOffline: function() {
            this.set("error", {
                category: "Offline"
            }),
            this._showError()
        },
        _onParentalControlsFailure: function(e, t) {
            this.set("error", {
                category: "ParentalControls",
                code: t,
                description: "Parental Controls API Failure"
            }),
            this._showError()
        },
        _onIsOnline: function() {
            this.pageContext.welcome ? this._showWelcome() : this._showApp()
        },
        _buildInfoReady: function(e, t) {
            e && t && !this.hasLocalizeInitialized && (this.set("hasLocalizeInitialized", !0),
            this.$.xtvapi.setFingerprint(e),
            this.$.authenticator.removeMigrateToken(),
            this.$.xtvapi.fetchHomepage().then(function() {
                this.$.appRouter.start(),
                this.$.authenticator.refreshUserState()
            }
            .bind(this), function(e) {
                this._handleApiError(e)
            }
            .bind(this)))
        },
        _deviceReady: function() {
            this.device && this.pageContext && (this.set("user.device", this.device),
            this.userHasEntitlements("cdvr") && !this.acceptedTos ? this.redirectTo("terms-consent") : this.pageContext.welcome && !this.$.nameDevicePage.isValidDeviceName(this.device.deviceName) ? this.redirectTo("name-device") : this._onDeviceNamed())
        },
        _handleApiError: function(e) {
            "0021" !== e.error.code && (this.set("error", {
                code: e.error.code,
                description: e.error.msg,
                category: "DefaultApiError"
            }),
            this._showError())
        },
        _setFlashError: function() {
            this.set("error", {
                category: "FlashIncompatible"
            }),
            this._showError()
        },
        _initializeApp: function() {
            return this.flashCompatible() ? (this.$.parentalControls.initialize().then(function() {
                this.set("user.authenticated", !0),
                this._showApp()
            }
            .bind(this)),
            void this._startInhomeCheckInterval()) : void this._setFlashError()
        },
        _onPageVisibilityChange: function(e) {
            e ? (this.$.onlinePoller.stop(),
            this.set("active", !1, this.$.buildChecker),
            this._stopInhomeCheckInterval()) : this.isSignedIn() && (this.set("active", !0, this.$.buildChecker),
            this._startInhomeCheckInterval())
        },
        createResumePoint: function(e, t) {
            var i;
            t && t.mediaId && t.position && (i = {
                _type: "ResumePoint",
                dateUpdated: moment().toString(),
                mediaId: t.mediaId,
                position: t.position
            },
            this.$.resumePoints.update(i))
        },
        invalidAccountCheck: function() {
            if (!(this.userHasTve() || this.userHasCloud() || this.userHasPurchasesOnly()))
                return this.user.tokenSummary.isCloudServiceAvailable === !1 ? (this.redirectTo("market-ineligible"),
                !0) : this.userHasCloud() ? void 0 : (this.redirectTo("not-customer"),
                !0)
        },
        refreshResumePoints: function() {
            return this.isSignedIn() && this.pageContext && this.pageContext.refresh_resume_points ? this.$.resumePoints.sendApiRequest() : Promise.resolve()
        },
        removeResumePoint: function(e, t) {
            this.$.resumePoints.remove(t)
        },
        updateResumePoint: function(e, t) {
            this.$.resumePoints.update(t)
        },
        _onCreateSessionFail: function() {},
        _onCreateSessionSuccess: function(e, t) {
            var i = t.sessionResponse;
            return this.set("user.tokenSummary", i.tokenSummary),
            this.$.settingsEntitlements.setSession(i),
            this.entitlementsRemoved() && !t.isLoggingIn ? (this.storeEntitlements(),
            void this.$.authenticator.logout()) : (this.storeEntitlements(),
            void (this.invalidAccountCheck() || (this.set("logData.user", Object.assign(this.logData.user, {
                deviceId: i.tokenSummary.deviceId,
                xboAccountId: i.tokenSummary.xboAccountId,
                partnerId: i.tokenSummary.partnerId,
                mso: i.tokenSummary.mso,
                userType: i.tokenSummary.userType,
                flashVersion: this.flashVersion,
                analyticsId: i.tokenSummary.analyticsId,
                version: XTV.buildInfo.version || 0
            })),
            this.set("user.inhome", i.tokenSummary.inHomeStatus !== n),
            this.checkUserInHome = this.user.inhome,
            this.set("authToken", i.xsct),
            this.fire("iron-signal", {
                name: "token",
                data: i
            }),
            this.$.getDeviceApi.sendRequest(),
            window.ll("setCustomerId", i.tokenSummary.analyticsId),
            window.ll("setCustomDimension", 0, "Yes"),
            window.ll("setCustomDimension", 8, r[i.tokenSummary.userType] || r["default"]),
            window.ll("setCustomDimension", 2, "in-home" === i.tokenSummary.inHomeStatus ? "In Home" : "Out of Home"),
            window.ll("setCustomDimension", 7, "university" === i.tokenSummary.userType ? i.tokenSummary.partnerId : "None"),
            window.ll("setProfileAttribute", "Service Entitlements", i.tokenSummary.entitlements))))
        },
        _onDeviceApiSuccess: function(e, t) {
            this.$.deviceParser.parseDevice(t.resource).then(this.set.bind(this, "device"))
        },
        _onDeviceNamed: function() {
            this.refreshingToken ? (this.set("refreshingToken", !1),
            this._startInhomeCheckInterval()) : (this._initializeApp(),
            this.userHasPurchasesOnly() ? this.navigateToHash("/purchases") : this.pageContext.entitlements && !this.userHasEntitlements(this.pageContext.entitlements) ? this.navigateToHash("/") : this.navigateToHash(localStorage.getItem("continueUrl") || "/"),
            localStorage.removeItem("continueUrl"))
        },
        _onHeartbeatError: function(e, t) {
            "403-102" === t.subCode && this._checkOOH(!1)
        },
        onAuthStatusAndPageReady: function(e, t, i) {
            if (this.user.authenticated && "error" === e)
                return void this._showError();
            if ("unauthorized" === e)
                if (this.$.authenticator.setLoginUrl(),
                this.setContinueUrl(t.canonicalPath),
                t.welcome) {
                    if (!this.flashCompatible())
                        return void this._setFlashError();
                    this.set("welcomeRoute", t.route),
                    this._showWelcome()
                } else
                    !i || t.authenticate ? this.goToLogin() : (this.set("user.authenticated", !1),
                    this.fire("iron-signal", {
                        name: "unauth"
                    }),
                    this._showApp());
            else
                "authorized" === e && t.welcome ? (this.set("welcomeRoute", t.route),
                this._showWelcome()) : "error" === e && (["not-customer", "market-ineligible", "login"].indexOf(this.error.category) !== -1 ? (this.set("status", "unauthorized"),
                this.redirectTo(this.error.category)) : this._showError())
        },
        onLoadPage: function() {
            this.user.authenticated && this._showApp()
        },
        goToLogin: function() {
            this.setContinueUrl(window.location.pathname + window.location.search),
            this.$.authenticator.login(this.selectedLanguage)
        },
        onSelectedWelcomePage: function(e, t) {
            var i = t.item.id
              , n = localStorage.getItem("activationCode")
              , r = ["authPage", "addingDevicePage", "nameDevicePage", "tosPage"].indexOf(i) !== -1;
            if ("authorized" !== this.status)
                return !n && r ? void this.goToLogin() : this.flashCompatible() ? void ("authPage" === i && (this.navigateToHash("/adding-device"),
                this.$.authenticator.getSaml())) : void this._setFlashError()
        },
        logoutUser: function() {
            this._stopInhomeCheckInterval(),
            this.$.authenticator.logout(),
            this.$.onlinePoller.stop()
        },
        _checkOOH: function(e, t) {
            var i = !1;
            t ? i = !0 : e !== this.checkUserInHome && (this.checkUserInHome = e,
            i = !0),
            i && (this.set("refreshingToken", !0),
            this.$.authenticator.refreshToken())
        },
        _onInHomeResponse: function(e) {
            var t = e.xhr ? e.xhr.headers.get("X-CDVR-STATUS-SUBCODE") : ""
              , i = e.xhr ? e.xhr.status || "" : ""
              , n = !!e.endpoint;
            "5" !== String(i).substr(0, 1) && (this._checkOOH(n, "401-101" === t),
            window.ll("setCustomDimension", 2, n ? "In Home" : "Out of Home"))
        },
        _onDeviceDeleteSuccess: function() {
            this.set("acceptedTos", !1),
            this._onLogout()
        },
        _onLogout: function() {
            this.$.app.onLogout(),
            this.set("authToken", void 0),
            this.set("device", void 0),
            this.set("user.tokenSummary", {}),
            this.set("user.authenticated", !1),
            this.set("user.inhome", !1),
            localStorage.removeItem("pidForAuth"),
            this.fire("iron-signal", {
                name: "token",
                data: {
                    tokenSummary: null,
                    xsct: null
                }
            }),
            window.ll("tagEvent", "Sign Out"),
            window.ll("setCustomerId", null),
            window.ll("setCustomDimension", 0, "No"),
            window.ll("setCustomDimension", 8, "Anonymous"),
            window.ll("setCustomDimension", 2, null),
            window.ll("setCustomDimension", 7, null),
            window.ll("deleteProfileAttribute", "Service Entitlements"),
            window.ll("deleteProfileAttribute", "Storage Utilization")
        },
        _onUserAcceptedTos: function() {
            this.set("acceptedTos", !0),
            this.$.nameDevicePage.isValidDeviceName(this.device.deviceName) ? this._onDeviceNamed() : this.navigateTo("name-device")
        },
        _showApp: function() {
            this._importPolaris(),
            document.body.removeAttribute("loading"),
            Polymer.dom(this.$.welcome).setAttribute("hidden", ""),
            Polymer.dom(this.$.error).setAttribute("hidden", ""),
            Polymer.dom(this.$.app).removeAttribute("hidden"),
            this.isSignedIn() || (window.ll("setCustomDimension", 0, "No"),
            window.ll("setCustomDimension", 8, "Anonymous")),
            this.$.app.openPage()
        },
        _showError: function() {
            document.body.removeAttribute("loading"),
            Polymer.dom(this.$.welcome).setAttribute("hidden", ""),
            Polymer.dom(this.$.app).setAttribute("hidden", ""),
            Polymer.dom(this.$.error).removeAttribute("hidden")
        },
        _showWelcome: function() {
            document.body.removeAttribute("loading"),
            Polymer.dom(this.$.error).setAttribute("hidden", ""),
            Polymer.dom(this.$.app).setAttribute("hidden", ""),
            Polymer.dom(this.$.welcome).removeAttribute("hidden")
        },
        setContinueUrl: function(e) {
            i.test(e) || localStorage.setItem("continueUrl", e)
        },
        setDeviceName: function(e, t) {
            this.set("user.device.deviceName", t.deviceName)
        },
        _showDiagnosticsModal: function(e, t) {
            t = t || {},
            this.set("error", t.error, this.$.diagnosticsOverlay),
            this.set("watchable", t.watchable, this.$.diagnosticsOverlay),
            this.$.diagnosticsOverlay.open()
        },
        _showUpdateModal: function() {
            this.$.buildChecker.showUpdateModal()
        },
        _startInhomeCheckInterval: function() {
            this._stopInhomeCheckInterval(),
            this.userHasTveOrPurchasesOnly() || (this.$.inHomeCheck.sendRequest().then(this._onInHomeResponse.bind(this), this._onInHomeResponse.bind(this)),
            this.inhomeCheckInterval = setInterval(function() {
                this.$.inHomeCheck.sendRequest().then(this._onInHomeResponse.bind(this), this._onInHomeResponse.bind(this))
            }
            .bind(this), 12e4))
        },
        _stopInhomeCheckInterval: function() {
            this.inhomeCheckInterval = clearInterval(this.inhomeCheckInterval)
        },
        _getStoredEntitlements: function(e) {
            if (0 === e.indexOf('"'))
                try {
                    e = JSON.parse(e)
                } catch (t) {}
            return e.split(",")
        },
        _difference: function(e, t) {
            return e.filter(function(e) {
                return e && t.indexOf(e) === -1
            })
        },
        entitlementsRemoved: function() {
            return !!this._difference(this.entitlements, this._getEntitlements()).length
        },
        storeEntitlements: function() {
            this.set("entitlements", this._getEntitlements())
        },
        _importPolaris: function() {
            "comcast" !== e.XTV.partner.name || this.userHasPurchasesOnly() || this.isUniversity() || this.importHref(e.XTV.partner.properties.polarisImportHref, function(e) {
                document.querySelector("xc-header").$$("#polaris-header-main-navigation-tv").classList.add("polaris-is-active")
            })
        },
        _onSignOutClick: function() {
            this.$.authenticator.signOutOnError()
        },
        _setTempFocus: function() {
            this.$.pageFocus.focus()
        }
    })
}(window);
